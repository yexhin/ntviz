/*! For license information please see component---src-pages-demo-tsx-54fd6da10fa870d8d843.js.LICENSE.txt */
(self.webpackChunklida=self.webpackChunklida||[]).push([[514],{81819:function(t,e){"use strict";var n=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events["*"]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],c=a.callback;a.once&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),c.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();e.Z=n},50138:function(t,e,n){"use strict";var r=n(70903),i=n(81819),o=n(55013),a=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=(0,o.CD)(r,e),n}return(0,r.ZT)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(i.Z);e.Z=a},91319:function(t,e,n){"use strict";n.d(e,{Z:function(){return V}});var r,i,o=n(70903),a=n(23537),c=n(25765),l=n(55013),u=n(90326),s=0,f=0,h=0,d=1e3,p=0,v=0,g=0,m="object"==typeof performance&&performance.now?performance:Date,y="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function b(){return v||(y(x),v=m.now()+g)}function x(){v=0}function w(){this._call=this._time=this._next=null}function S(t,e,n){var r=new w;return r.restart(t,e,n),r}function k(){v=(p=m.now())+g,s=f=0;try{!function(){b(),++s;for(var t,e=r;e;)(t=v-e._time)>=0&&e._call.call(null,t),e=e._next;--s}()}finally{s=0,function(){var t,e,n=r,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:r=e);i=t,O(o)}(),v=0}}function C(){var t=m.now(),e=t-p;e>d&&(g-=e,p=t)}function O(t){s||(f&&(f=clearTimeout(f)),t-v>24?(t<1/0&&(f=setTimeout(k,t-m.now()-g)),h&&(h=clearInterval(h))):(h||(p=m.now(),h=setInterval(C,d)),s=1,y(k)))}w.prototype=S.prototype={constructor:w,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?b():+n)+(null==e?0:+e),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=n,O()},stop:function(){this._call&&(this._call=null,this._time=1/0,O())}};var E=n(23713),M=n(79739),A=n(74205),P=n(47696),_=function(t){return["fill","stroke","fillStyle","strokeStyle"].includes(t)},D=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)},T=[1,0,0,0,1,0,0,0,1];function Z(t,e,n){var r,i=e.startTime;if(n<i+e.delay||e._paused)return!1;var o=e.duration,a=e.easing,c=(0,A._)(a);if(n=n-i-e.delay,e.repeat)r=c(r=n%o/o);else{if(!((r=n/o)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=c(r)}if(e.onFrame){var l=e.onFrame(r);t.attr(l)}else!function(t,e,n){var r={},i=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var a;for(var c in o)if(!(0,u.Xy)(i[c],o[c]))if("path"===c){var l=o[c],s=i[c];l.length>s.length?(l=P.parsePathString(o[c]),s=P.parsePathString(i[c]),s=P.fillPathByDiff(s,l),s=P.formatPath(s,l),e.fromAttrs.path=s,e.toAttrs.path=l):e.pathFormatted||(l=P.parsePathString(o[c]),s=P.parsePathString(i[c]),s=P.formatPath(s,l),e.fromAttrs.path=s,e.toAttrs.path=l,e.pathFormatted=!0),r[c]=[];for(var f=0;f<l.length;f++){for(var h=l[f],d=s[f],p=[],v=0;v<h.length;v++)(0,u.hj)(h[v])&&d&&(0,u.hj)(d[v])?(a=(0,E.Z)(d[v],h[v]),p.push(a(n))):p.push(h[v]);r[c].push(p)}}else if("matrix"===c){var g=(0,M.Z)(i[c]||T,o[c]||T)(n);r[c]=g}else _(c)&&D(o[c])?r[c]=o[c]:(0,u.mf)(o[c])||(a=(0,E.Z)(i[c],o[c]),r[c]=a(n));t.attr(r)}}(t,e,r);return!1}var F=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this;this.timer=S((function(i){if(r.current=i,r.animators.length>0){for(var o=r.animators.length-1;o>=0;o--)if((t=r.animators[o]).destroyed)r.removeAnimator(o);else{if(!t.isAnimatePaused())for(var a=(e=t.get("animations")).length-1;a>=0;a--)n=e[a],Z(t,n,i)&&(e.splice(a,1),!1,n.callback&&n.callback());0===e.length&&r.removeAnimator(o)}r.canvas.get("autoDraw")||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),j=F,I=n(43860),R=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function L(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function N(t,e,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===e?(r=n.fromShape,i=!0):"mouseleave"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&(0,l.UY)(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var B=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");(0,l.S6)(R,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");(0,l.S6)(R,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,i,o){var a=new I.Z(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],o=!1;if(i)i.call(this,n,r,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var c=this.canvas;c.get("el").style.cursor=r.attr("cursor")||c.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.mousedownPoint;if(a){var c=this.mousedownShape,l=n.timeStamp-this.mousedownTimeStamp,u=a.clientX-t.clientX,s=a.clientY-t.clientY;l>120||u*u+s*s>40?c&&c.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!c&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,L(r,t,a);for(var c=r.getParent();c;)c.emitDelegation(t,a),a.propagationStopped||N(c,t,a),a.propagationPath.push(c),c=c.getParent()}else{L(this.canvas,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),z=B,U=(0,a.qY)(),H=U&&"firefox"===U.name,W=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return(0,o.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");(0,l.HD)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new z({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new j(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");l.jU&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");l.jU&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(H&&!(0,l.kK)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,l.kK)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,r=e.y;return this.getPointByClient(n,r)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(c.Z),V=W},25765:function(t,e,n){"use strict";var r=n(70903),i=n(86755),o=n(55013),a={},c="_INDEX";function l(t,e){if(t.set("canvas",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){l(t,e)}))}}function u(t,e){if(t.set("timeline",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){u(t,e)}))}}var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return i.length>0?(0,o.S6)(i,(function(i){var o=i.getBBox(),a=o.minX,c=o.maxX,l=o.minY,u=o.maxY;a<t&&(t=a),c>e&&(e=c),l<n&&(n=l),u>r&&(r=u)})):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return i.length>0?(0,o.S6)(i,(function(i){var o=i.getCanvasBBox(),a=o.minX,c=o.maxX,l=o.minY,u=o.maxY;a<t&&(t=a),c>e&&(e=c),l<n&&(n=l),u>r&&(r=u)})):(t=0,e=0,n=0,r=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();(0,o.S6)(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];(0,o.Kn)(n)?r=n:r.type=n;var i=a[r.type];i||(i=(0,o.jC)(r.type),a[r.type]=i);var c=new(this.getShapeBase()[i])(r);return this.add(c),c},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if((0,o.mf)(r))n=new r(i||{parent:this});else{var a=r||{};n=new(this.getGroupBase())(a)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!(0,o.pP)(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var a=[t,e,1];a=this.invertFromMatrix(a),this.isClipped(a[0],a[1])||(r=this._findShape(i,a[0],a[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,a=t.length-1;a>=0;a--){var c=t[a];if((0,o.pP)(c)&&(c.isGroup()?i=c.getShape(e,n,r):c.isHit(e,n)&&(i=c)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),(0,o.As)(t.getChildren(),e)}(i,t,!1),t.set("parent",this),e&&l(t,e),r&&u(t,r),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();(0,o.S6)(e,(function(t,e){return t[c]=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e[c]-n[c]:r})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return(0,o.S6)(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return(0,o.S6)(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(i.Z);e.Z=s},86755:function(t,e,n){"use strict";var r=n(70903),i=n(90326),o=n(12579),a=n(55013),c=n(16225),l=n(50138),u=o.vs,s="matrix",f=["zIndex","capture","visible","type"],h=["repeat"];function d(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}var p=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return(0,i.CD)(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return(0,r.ZT)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],o=e[1];if(!r)return this.attrs;if((0,i.Kn)(r)){for(var a in r)this.setAttr(a,r[a]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,o),this.afterAttrsChange(((t={})[r]=o,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?((0,a.As)(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(s,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(s)},e.prototype.setMatrix=function(t){this.attr(s,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?(0,c.xq)(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?(0,c.xq)(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?(0,c.rG)(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=(0,c.U_)(e);if(n)return(0,c.rG)(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase()[(0,i.jC)(t.type)];r&&(n=new r({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};(0,i.S6)(e,(function(t,r){(0,i.kJ)(e[r])?n[r]=function(t){for(var e=[],n=0;n<t.length;n++)(0,i.kJ)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[r]):n[r]=e[r]}));var r=new(0,this.constructor)({attrs:n});return(0,i.S6)(f,(function(e){r.set(e,t.get(e))})),r},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var o,a,c,l,u,s=t[0],f=t[1],p=t[2],v=void 0===p?"easeLinear":p,g=t[3],m=void 0===g?i.ZT:g,y=t[4],b=void 0===y?0:y;(0,i.mf)(s)?(o=s,s={}):(0,i.Kn)(s)&&s.onFrame&&(o=s.onFrame,a=s.repeat),(0,i.Kn)(f)?(f=(u=f).duration,v=u.easing||"easeLinear",b=u.delay||0,a=u.repeat||a||!1,m=u.callback||i.ZT,c=u.pauseCallback||i.ZT,l=u.resumeCallback||i.ZT):((0,i.hj)(m)&&(b=m,m=null),(0,i.mf)(v)?(m=v,v="easeLinear"):v=v||"easeLinear");var x=function(t,e){var n={},r=e.attr();return(0,i.S6)(t,(function(t,e){-1!==h.indexOf(e)||(0,i.Xy)(r[e],t)||(n[e]=t)})),n}(s,this),w={fromAttrs:d(x,this),toAttrs:x,duration:f,easing:v,repeat:a,callback:m,pauseCallback:c,resumeCallback:l,delay:b,startTime:n.getTime(),id:(0,i.EL)(),onFrame:o,pathFormatted:!1};r.length>0?r=function(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,o=e.duration,a=Object.prototype.hasOwnProperty;return(0,i.S6)(t,(function(t){n+r<t.startTime+t.delay+t.duration&&o>t.delay&&(0,i.S6)(e.toAttrs,(function(e,n){a.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}(r,w):n.addAnimator(this),r.push(w),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");(0,i.S6)(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return(0,i.S6)(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return(0,i.S6)(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,r=this,o=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var c=function(t){var c=o[t],u=c.get("name");if(u){if((c.isGroup()||c.isCanvas&&c.isCanvas())&&n&&(0,a.UY)(c,n))return"break";(0,i.kJ)(u)?(0,i.S6)(u,(function(t){r.emitDelegateEvent(c,t,e)})):l.emitDelegateEvent(c,u,e)}},l=this,u=0;u<o.length;u++){if("break"===c(u))break}},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+":"+n.type;(r[i]||r["*"])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=u(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=u(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=u(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=u(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=u(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(l.Z);e.Z=p},30838:function(t,e,n){"use strict";var r=n(70903),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e},e}(n(25765).Z);e.Z=i},1921:function(t,e,n){"use strict";var r=n(70903),i=n(86755),o=n(16225),a=function(t){function e(e){return t.call(this,e)||this}return(0,r.ZT)(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,a=t.maxY;if(e){var c=(0,o.rG)(e,[t.minX,t.minY]),l=(0,o.rG)(e,[t.maxX,t.minY]),u=(0,o.rG)(e,[t.minX,t.maxY]),s=(0,o.rG)(e,[t.maxX,t.maxY]);n=Math.min(c[0],l[0],u[0],s[0]),i=Math.max(c[0],l[0],u[0],s[0]),r=Math.min(c[1],l[1],u[1],s[1]),a=Math.max(c[1],l[1],u[1],s[1])}var f=this.attrs;if(f.shadowColor){var h=f.shadowBlur,d=void 0===h?0:h,p=f.shadowOffsetX,v=void 0===p?0:p,g=f.shadowOffsetY,m=void 0===g?0:g,y=n-d+v,b=i+d+v,x=r-d+m,w=a+d+m;n=Math.min(n,y),i=Math.max(i,b),r=Math.min(r,x),a=Math.max(a,w)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:a,width:i-n,height:a-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1],o=(i=this.invertFromMatrix(i))[0],a=i[1],c=this._isInBBox(o,a);if(this.isOnlyHitBox())return c;if(c&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},e}(i.Z);e.Z=a},74205:function(t,e,n){"use strict";n.d(e,{_:function(){return q},C:function(){return Y}});var r={};function i(t){return+t}function o(t){return t*t}function a(t){return t*(2-t)}function c(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function l(t){return t*t*t}function u(t){return--t*t*t+1}function s(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}n.r(r),n.d(r,{easeBack:function(){return U},easeBackIn:function(){return B},easeBackInOut:function(){return U},easeBackOut:function(){return z},easeBounce:function(){return R},easeBounceIn:function(){return I},easeBounceInOut:function(){return L},easeBounceOut:function(){return R},easeCircle:function(){return O},easeCircleIn:function(){return k},easeCircleInOut:function(){return O},easeCircleOut:function(){return C},easeCubic:function(){return s},easeCubicIn:function(){return l},easeCubicInOut:function(){return s},easeCubicOut:function(){return u},easeElastic:function(){return V},easeElasticIn:function(){return W},easeElasticInOut:function(){return G},easeElasticOut:function(){return V},easeExp:function(){return S},easeExpIn:function(){return x},easeExpInOut:function(){return S},easeExpOut:function(){return w},easeLinear:function(){return i},easePoly:function(){return d},easePolyIn:function(){return f},easePolyInOut:function(){return d},easePolyOut:function(){return h},easeQuad:function(){return c},easeQuadIn:function(){return o},easeQuadInOut:function(){return c},easeQuadOut:function(){return a},easeSin:function(){return y},easeSinIn:function(){return g},easeSinInOut:function(){return y},easeSinOut:function(){return m}});var f=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),h=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),d=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),p=Math.PI,v=p/2;function g(t){return 1==+t?1:1-Math.cos(t*v)}function m(t){return Math.sin(t*v)}function y(t){return(1-Math.cos(p*t))/2}function b(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function x(t){return b(1-+t)}function w(t){return 1-b(t)}function S(t){return((t*=2)<=1?b(1-t):2-b(t-1))/2}function k(t){return 1-Math.sqrt(1-t*t)}function C(t){return Math.sqrt(1- --t*t)}function O(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var E=4/11,M=6/11,A=8/11,P=3/4,_=9/11,D=10/11,T=15/16,Z=21/22,F=63/64,j=1/E/E;function I(t){return 1-R(1-t)}function R(t){return(t=+t)<E?j*t*t:t<A?j*(t-=M)*t+P:t<D?j*(t-=_)*t+T:j*(t-=Z)*t+F}function L(t){return((t*=2)<=1?1-R(1-t):R(t-1)+1)/2}var N=1.70158,B=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(N),z=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(N),U=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(N),H=2*Math.PI,W=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=H);function i(t){return e*b(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*H)},i.period=function(n){return t(e,n)},i}(1,.3),V=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=H);function i(t){return 1-e*b(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*H)},i.period=function(n){return t(e,n)},i}(1,.3),G=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=H);function i(t){return((t=2*t-1)<0?e*b(-t)*Math.sin((r-t)/n):2-e*b(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*H)},i.period=function(n){return t(e,n)},i}(1,.3),X={};function q(t){return X[t.toLowerCase()]||r[t]}function Y(t,e){X[t.toLowerCase()]=e}},62969:function(t,e,n){"use strict";n.d(e,{b:function(){return o},W:function(){return i}});var r=new Map;function i(t,e){r.set(t,e)}function o(t){return r.get(t)}function a(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}}function c(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}}var l=n(58609);function u(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function s(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape");return n&&(e=u(e,n.getCanvasBBox())),r&&(e=u(e,r.getCanvasBBox())),e}var f=n(88482);var h=n(85687),d=n(90326);function p(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),c=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),l=Math.acos((o+a-c)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!l||0===Math.sin(l)||(0,d.vQ)(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),s=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));return u=u>Math.PI/2?Math.PI-u:u,s=s>Math.PI/2?Math.PI-s:s,{xExtra:Math.cos(l/2-u)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(s-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0}}i("rect",a),i("image",a),i("circle",c),i("marker",c),i("polyline",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}var a=l.Zr.getBBoxByArray(n,r),c=a.x,u=a.y,f={minX:c,minY:u,maxX:c+a.width,maxY:u+a.height};return{x:(f=s(t,f)).minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}})),i("polygon",(function(t){for(var e=t.attr().points,n=[],r=[],i=0;i<e.length;i++){var o=e[i];n.push(o[0]),r.push(o[1])}return l.Zr.getBBoxByArray(n,r)})),i("text",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,o=e.fontSize,a=e.lineHeight,c=e.font;c||(c=(0,f.$O)(e));var l,u=(0,f.mY)(i,c);if(u){var s=e.textAlign,h=e.textBaseline,d=(0,f.FE)(i,o,a),p={x:n,y:r-d};s&&("end"===s||"right"===s?p.x-=u:"center"===s&&(p.x-=u/2)),h&&("top"===h?p.y+=d:"middle"===h&&(p.y+=d/2)),l={x:p.x,y:p.y,width:u,height:d}}else l={x:n,y:r,width:0,height:0};return l})),i("path",(function(t){var e=t.attr(),n=e.path,r=e.stroke?e.lineWidth:0,i=function(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=(y=t[o]).currentPoint,c=y.params,u=y.prePoint,s=void 0;switch(y.command){case"Q":s=l.lD.box(u[0],u[1],c[1],c[2],c[3],c[4]);break;case"C":s=l.Ll.box(u[0],u[1],c[1],c[2],c[3],c[4],c[5],c[6]);break;case"A":var f=y.arcParams;s=l.wN.box(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:n.push(a[0]),r.push(a[1])}s&&(y.box=s,n.push(s.x,s.x+s.width),r.push(s.y,s.y+s.height)),e&&("L"===y.command||"M"===y.command)&&y.prePoint&&y.nextPoint&&i.push(y)}n=n.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0})),r=r.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}));var h=(0,d.VV)(n),v=(0,d.VV)(r),g=(0,d.Fp)(n),m=(0,d.Fp)(r);if(0===i.length)return{x:h,y:v,width:g-h,height:m-v};for(o=0;o<i.length;o++){var y;(a=(y=i[o]).currentPoint)[0]===h?h-=p(y,e).xExtra:a[0]===g&&(g+=p(y,e).xExtra),a[1]===v?v-=p(y,e).yExtra:a[1]===m&&(m+=p(y,e).yExtra)}return{x:h,y:v,width:g-h,height:m-v}}(t.get("segments")||(0,h.zx)(n),r),o=i.x,a=i.y,c={minX:o,minY:a,maxX:o+i.width,maxY:a+i.height};return{x:(c=s(t,c)).minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}})),i("line",(function(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a={minX:Math.min(n,i),maxX:Math.max(n,i),minY:Math.min(r,o),maxY:Math.max(r,o)};return{x:(a=s(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}})),i("ellipse",(function(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}))},43860:function(t,e){"use strict";var n=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.Z=n},82854:function(t,e,n){"use strict";n.r(e),n.d(e,{AbstractCanvas:function(){return s.Z},AbstractGroup:function(){return f.Z},AbstractShape:function(){return h.Z},Base:function(){return u.Z},Event:function(){return l.Z},PathUtil:function(){return r},assembleFont:function(){return p.$O},getBBoxMethod:function(){return d.b},getOffScreenContext:function(){return m.L},getTextHeight:function(){return p.FE},invert:function(){return g.U_},isAllowCapture:function(){return v.pP},multiplyVec2:function(){return g.rG},registerBBox:function(){return d.W},registerEasing:function(){return y.C},version:function(){return b}});var r=n(47696),i=n(87194),o={};for(var a in i)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(a)<0&&(o[a]=function(t){return i[t]}.bind(0,a));n.d(e,o);var c=n(5228);o={};for(var a in c)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(a)<0&&(o[a]=function(t){return c[t]}.bind(0,a));n.d(e,o);var l=n(43860),u=n(50138),s=n(91319),f=n(30838),h=n(1921),d=n(62969),p=n(88482),v=n(55013),g=n(16225),m=n(84822),y=n(74205),b="0.5.11"},5228:function(){},87194:function(){},16225:function(t,e,n){"use strict";function r(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],c=t[4],l=t[5],u=t[6],s=t[7],f=t[8],h=e[0],d=e[1],p=e[2],v=e[3],g=e[4],m=e[5],y=e[6],b=e[7],x=e[8];return n[0]=h*r+d*a+p*u,n[1]=h*i+d*c+p*s,n[2]=h*o+d*l+p*f,n[3]=v*r+g*a+m*u,n[4]=v*i+g*c+m*s,n[5]=v*o+g*l+m*f,n[6]=y*r+b*a+x*u,n[7]=y*i+b*c+x*s,n[8]=y*o+b*l+x*f,n}function i(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}function o(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],c=t[5],l=t[6],u=t[7],s=t[8],f=s*a-c*u,h=-s*o+c*l,d=u*o-a*l,p=n*f+r*h+i*d;return p?(p=1/p,e[0]=f*p,e[1]=(-s*r+i*u)*p,e[2]=(c*r-i*a)*p,e[3]=h*p,e[4]=(s*n-i*l)*p,e[5]=(-c*n+i*o)*p,e[6]=d*p,e[7]=(-u*n+r*l)*p,e[8]=(a*n-r*o)*p,e):null}n.d(e,{U_:function(){return o},rG:function(){return i},xq:function(){return r}})},84822:function(t,e,n){"use strict";n.d(e,{L:function(){return i}});var r=null;function i(){if(!r){var t=document.createElement("canvas");t.width=1,t.height=1,r=t.getContext("2d")}return r}},47696:function(t,e,n){"use strict";n.r(e),n.d(e,{catmullRomToBezier:function(){return l},fillPath:function(){return _},fillPathByDiff:function(){return Z},formatPath:function(){return I},intersection:function(){return M},parsePathArray:function(){return g},parsePathString:function(){return c},pathToAbsolute:function(){return s},pathToCurve:function(){return p},rectPath:function(){return S}});var r=n(90326),i="\t\n\v\f\r   ᠎             　\u2028\u2029",o=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),c=function(t){if(!t)return null;if((0,r.kJ)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(o,(function(r,i,o){var c=[],l=i.toLowerCase();if(o.replace(a,(function(t,e){e&&c.push(+e)})),"m"===l&&c.length>2&&(n.push([i].concat(c.splice(0,2))),l="l",i="m"===i?"l":"L"),"o"===l&&1===c.length&&n.push([i,c[0]]),"r"===l)n.push([i].concat(c));else for(;c.length>=e[l]&&(n.push([i].concat(c.splice(0,e[l]))),e[l]););return t})),n},l=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},u=function(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,c=t+n*Math.cos(-r*a),l=t+n*Math.cos(-i*a);o=[["M",c,e+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,l,e+n*Math.sin(-i*a)]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},s=function(t){if(!(t=c(t))||!t.length)return[["M",0,0]];var e,n,r=[],i=0,o=0,a=0,s=0,f=0;"M"===t[0][0]&&(a=i=+t[0][1],s=o=+t[0][2],f++,r[0]=["M",i,o]);for(var h=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),d=void 0,p=void 0,v=f,g=t.length;v<g;v++){if(r.push(d=[]),(e=(p=t[v])[0])!==e.toUpperCase())switch(d[0]=e.toUpperCase(),d[0]){case"A":d[1]=p[1],d[2]=p[2],d[3]=p[3],d[4]=p[4],d[5]=p[5],d[6]=+p[6]+i,d[7]=+p[7]+o;break;case"V":d[1]=+p[1]+o;break;case"H":d[1]=+p[1]+i;break;case"R":for(var m=2,y=(n=[i,o].concat(p.slice(1))).length;m<y;m++)n[m]=+n[m]+i,n[++m]=+n[m]+o;r.pop(),r=r.concat(l(n,h));break;case"O":r.pop(),(n=u(i,o,p[1],p[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(u(i,o,p[1],p[2],p[3])),d=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+p[1]+i,s=+p[2]+o;break;default:for(m=1,y=p.length;m<y;m++)d[m]=+p[m]+(m%2?i:o)}else if("R"===e)n=[i,o].concat(p.slice(1)),r.pop(),r=r.concat(l(n,h)),d=["R"].concat(p.slice(-2));else if("O"===e)r.pop(),(n=u(i,o,p[1],p[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(u(i,o,p[1],p[2],p[3])),d=["U"].concat(r[r.length-1].slice(-2));else for(var b=0,x=p.length;b<x;b++)d[b]=p[b];if("O"!==(e=e.toUpperCase()))switch(d[0]){case"Z":i=+a,o=+s;break;case"H":i=d[1];break;case"V":o=d[1];break;case"M":a=d[d.length-2],s=d[d.length-1];break;default:i=d[d.length-2],o=d[d.length-1]}}return r},f=function(t,e,n,r){return[t,e,n,r,n,r]},h=function(t,e,n,r,i,o){var a=1/3,c=2/3;return[a*t+c*n,a*e+c*r,a*i+c*n,a*o+c*r,i,o]},d=function t(e,n,r,i,o,a,c,l,u,s){r===i&&(r+=1);var f,h,d,p,v,g=120*Math.PI/180,m=Math.PI/180*(+o||0),y=[],b=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(s)h=s[0],d=s[1],p=s[2],v=s[3];else{e=(f=b(e,n,-m)).x,n=f.y,l=(f=b(l,u,-m)).x,u=f.y,e===l&&n===u&&(l+=1,u+=1);var x=(e-l)/2,w=(n-u)/2,S=x*x/(r*r)+w*w/(i*i);S>1&&(r*=S=Math.sqrt(S),i*=S);var k=r*r,C=i*i,O=(a===c?-1:1)*Math.sqrt(Math.abs((k*C-k*w*w-C*x*x)/(k*w*w+C*x*x)));p=O*r*w/i+(e+l)/2,v=O*-i*x/r+(n+u)/2,h=Math.asin(((n-v)/i).toFixed(9)),d=Math.asin(((u-v)/i).toFixed(9)),h=e<p?Math.PI-h:h,d=l<p?Math.PI-d:d,h<0&&(h=2*Math.PI+h),d<0&&(d=2*Math.PI+d),c&&h>d&&(h-=2*Math.PI),!c&&d>h&&(d-=2*Math.PI)}var E=d-h;if(Math.abs(E)>g){var M=d,A=l,P=u;d=h+g*(c&&d>h?1:-1),y=t(l=p+r*Math.cos(d),u=v+i*Math.sin(d),r,i,o,0,c,A,P,[d,M,p,v])}E=d-h;var _=Math.cos(h),D=Math.sin(h),T=Math.cos(d),Z=Math.sin(d),F=Math.tan(E/4),j=4/3*r*F,I=4/3*i*F,R=[e,n],L=[e+j*D,n-I*_],N=[l+j*Z,u-I*T],B=[l,u];if(L[0]=2*R[0]-L[0],L[1]=2*R[1]-L[1],s)return[L,N,B].concat(y);for(var z=[],U=0,H=(y=[L,N,B].concat(y).join().split(",")).length;U<H;U++)z[U]=U%2?b(y[U-1],y[U],m).y:b(y[U],y[U+1],m).x;return z},p=function(t,e){var n,r=s(t),i=e&&s(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=[],l=[],u="",p="",v=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(d.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(h(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(h(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(f(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(f(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(f(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(f(e.x,e.y,e.X,e.Y))}return t},g=function(t,e){if(t[e].length>7){t[e].shift();for(var o=t[e];o.length;)c[e]="A",i&&(l[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},m=function(t,e,o,a,c){t&&e&&"M"===t[c][0]&&"M"!==e[c][0]&&(e.splice(c,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[c][1],o.y=t[c][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var y=0;y<n;y++){r[y]&&(u=r[y][0]),"C"!==u&&(c[y]=u,y&&(p=c[y-1])),r[y]=v(r[y],o,p),"A"!==c[y]&&"C"===u&&(c[y]="C"),g(r,y),i&&(i[y]&&(u=i[y][0]),"C"!==u&&(l[y]=u,y&&(p=l[y-1])),i[y]=v(i[y],a,p),"A"!==l[y]&&"C"===u&&(l[y]="C"),g(i,y)),m(r,i,o,a,y),m(i,r,a,o,y);var b=r[y],x=i&&i[y],w=b.length,S=i&&x.length;o.x=b[w-2],o.y=b[w-1],o.bx=parseFloat(b[w-4])||o.x,o.by=parseFloat(b[w-3])||o.y,a.bx=i&&(parseFloat(x[S-4])||a.x),a.by=i&&(parseFloat(x[S-3])||a.y),a.x=i&&x[S-2],a.y=i&&x[S-1]}return i?[r,i]:r},v=/,?([a-z]),?/gi,g=function(t){return t.join(",").replace(v,"$1")},m=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},y=function(t,e,n,r,i,o,a,c,l){null===l&&(l=1);for(var u=(l=l>1?1:l<0?0:l)/2,s=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,d=0;d<12;d++){var p=u*s[d]+u,v=m(p,t,n,i,a),g=m(p,e,r,o,c),y=v*v+g*g;h+=f[d]*Math.sqrt(y)}return u*h},b=function(t,e,n,r,i,o,a,c){for(var l,u,s,f,h=[],d=[[],[]],p=0;p<2;++p)if(0===p?(u=6*t-12*n+6*i,l=-3*t+9*n-9*i+3*a,s=3*n-3*t):(u=6*e-12*r+6*o,l=-3*e+9*r-9*o+3*c,s=3*r-3*e),Math.abs(l)<1e-12){if(Math.abs(u)<1e-12)continue;(f=-s/u)>0&&f<1&&h.push(f)}else{var v=u*u-4*s*l,g=Math.sqrt(v);if(!(v<0)){var m=(-u+g)/(2*l);m>0&&m<1&&h.push(m);var y=(-u-g)/(2*l);y>0&&y<1&&h.push(y)}}for(var b,x=h.length,w=x;x--;)b=1-(f=h[x]),d[0][x]=b*b*b*t+3*b*b*f*n+3*b*f*f*i+f*f*f*a,d[1][x]=b*b*b*e+3*b*b*f*r+3*b*f*f*o+f*f*f*c;return d[0][w]=t,d[1][w]=e,d[0][w+1]=a,d[1][w+1]=c,d[0].length=d[1].length=w+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}},x=function(t,e,n,r,i,o,a,c){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,c)||Math.min(e,r)>Math.max(o,c))){var l=(t-n)*(o-c)-(e-r)*(i-a);if(l){var u=((t*r-e*n)*(i-a)-(t-n)*(i*c-o*a))/l,s=((t*r-e*n)*(o-c)-(e-r)*(i*c-o*a))/l,f=+u.toFixed(2),h=+s.toFixed(2);if(!(f<+Math.min(t,n).toFixed(2)||f>+Math.max(t,n).toFixed(2)||f<+Math.min(i,a).toFixed(2)||f>+Math.max(i,a).toFixed(2)||h<+Math.min(e,r).toFixed(2)||h>+Math.max(e,r).toFixed(2)||h<+Math.min(o,c).toFixed(2)||h>+Math.max(o,c).toFixed(2)))return{x:u,y:s}}}},w=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},S=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=g,o},k=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:S(t,e,n,r),vb:[t,e,n,r].join(" ")}},C=function(t,e,n,i,o,a,c,l){(0,r.kJ)(t)||(t=[t,e,n,i,o,a,c,l]);var u=b.apply(null,t);return k(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},O=function(t,e,n,r,i,o,a,c,l){var u=1-l,s=Math.pow(u,3),f=Math.pow(u,2),h=l*l,d=h*l,p=t+2*l*(n-t)+h*(i-2*n+t),v=e+2*l*(r-e)+h*(o-2*r+e),g=n+2*l*(i-n)+h*(a-2*i+n),m=r+2*l*(o-r)+h*(c-2*o+r);return{x:s*t+3*f*l*n+3*u*l*l*i+d*a,y:s*e+3*f*l*r+3*u*l*l*o+d*c,m:{x:p,y:v},n:{x:g,y:m},start:{x:u*t+l*n,y:u*e+l*r},end:{x:u*i+l*a,y:u*o+l*c},alpha:90-180*Math.atan2(p-g,v-m)/Math.PI}},E=function(t,e,n){if(!function(t,e){return t=k(t),e=k(e),w(e,t.x,t.y)||w(e,t.x2,t.y)||w(e,t.x,t.y2)||w(e,t.x2,t.y2)||w(t,e.x,e.y)||w(t,e.x2,e.y)||w(t,e.x,e.y2)||w(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(C(t),C(e)))return n?0:[];for(var r=~~(y.apply(0,t)/8),i=~~(y.apply(0,e)/8),o=[],a=[],c={},l=n?0:[],u=0;u<r+1;u++){var s=O.apply(0,t.concat(u/r));o.push({x:s.x,y:s.y,t:u/r})}for(u=0;u<i+1;u++){s=O.apply(0,e.concat(u/i));a.push({x:s.x,y:s.y,t:u/i})}for(u=0;u<r;u++)for(var f=0;f<i;f++){var h=o[u],d=o[u+1],p=a[f],v=a[f+1],g=Math.abs(d.x-h.x)<.001?"y":"x",m=Math.abs(v.x-p.x)<.001?"y":"x",b=x(h.x,h.y,d.x,d.y,p.x,p.y,v.x,v.y);if(b){if(c[b.x.toFixed(4)]===b.y.toFixed(4))continue;c[b.x.toFixed(4)]=b.y.toFixed(4);var S=h.t+Math.abs((b[g]-h[g])/(d[g]-h[g]))*(d.t-h.t),E=p.t+Math.abs((b[m]-p[m])/(v[m]-p[m]))*(v.t-p.t);S>=0&&S<=1&&E>=0&&E<=1&&(n?l+=1:l.push({x:b.x,y:b.y,t1:S,t2:E}))}}return l},M=function(t,e){return function(t,e,n){var r,i,o,a,c,l,u,s,f,h;t=p(t),e=p(e);for(var d=n?0:[],v=0,g=t.length;v<g;v++){var m=t[v];if("M"===m[0])r=c=m[1],i=l=m[2];else{"C"===m[0]?(f=[r,i].concat(m.slice(1)),r=f[6],i=f[7]):(f=[r,i,r,i,c,l,c,l],r=c,i=l);for(var y=0,b=e.length;y<b;y++){var x=e[y];if("M"===x[0])o=u=x[1],a=s=x[2];else{"C"===x[0]?(h=[o,a].concat(x.slice(1)),o=h[6],a=h[7]):(h=[o,a,o,a,u,s,u,s],o=u,a=s);var w=E(f,h,n);if(n)d+=w;else{for(var S=0,k=w.length;S<k;S++)w[S].segment1=v,w[S].segment2=y,w[S].bez1=f,w[S].bez2=h;d=d.concat(w)}}}}}return d}(t,e)};function A(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&r.push(e[a+1]),o[a]=[(1-i)*e[a][0]+i*e[a+1][0],(1-i)*e[a][1]+i*e[a+1][1]];t(o,i)}}(t,e),{left:n,right:r.reverse()}}var P=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,a=1/n,c=0;c<n-1;c++){var l=A(o,a/(1-a*c));i.push(l.left),o=l.right}return i.push(o),i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e.concat(t[t.length-1])}))}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r},_=function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<r-n;a++)t.push(t[0]);return t}for(a=0;a<r;a++){var c=Math.floor(i*a);o[c]=(o[c]||0)+1}var l=o.reduce((function(e,r,i){return i===n?e.concat(t[n]):e.concat(P(t[i],t[i+1],r))}),[]);return l.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||l.push("Z"),l},D=function(t,e){if(t.length!==e.length)return!1;var n=!0;return(0,r.S6)(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function T(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var Z=function(t,e){var n=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var c=[],l=0;l<=i;l++)c[l]=[],c[l][0]={min:l};for(var u=0;u<=o;u++)c[0][u]={min:u};for(l=1;l<=i;l++)for(n=t[l-1],u=1;u<=o;u++){r=e[u-1],a=D(n,r)?0:1;var s=c[l-1][u].min+1,f=c[l][u-1].min+1,h=c[l-1][u-1].min+a;c[l][u]=T(s,f,h)}return c}(t,e),r=t.length,i=e.length,o=[],a=1,c=1;if(n[r][i].min!==r){for(var l=1;l<=r;l++){var u=n[l][l].min;c=l;for(var s=a;s<=i;s++)n[l][s].min<u&&(u=n[l][s].min,c=s);a=c,n[l][a].type&&o.push({index:l-1,type:n[l][a].type})}for(l=o.length-1;l>=0;l--)a=o[l].index,"add"===o[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var f=i-(r=t.length);if(r<i)for(l=0;l<f;l++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function F(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=j(e)[0],c=1;c<=n;c++)o*=c,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function j(t){var e=[];switch(t[0]){case"M":case"L":case"T":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var I=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=j(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=F(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=F(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=F(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t}},88482:function(t,e,n){"use strict";n.d(e,{$O:function(){return c},FE:function(){return o},mY:function(){return a}});var r=n(55013),i=n(84822);function o(t,e,n){var i=1;if((0,r.HD)(t)&&(i=t.split("\n").length),i>1){var o=function(t,e){return e?e-t:.14*t}(e,n);return e*i+o*(i-1)}return e}function a(t,e){var n=(0,i.L)(),o=0;if((0,r.kK)(t)||""===t)return o;if(n.save(),n.font=e,(0,r.HD)(t)&&t.includes("\n")){var a=t.split("\n");(0,r.S6)(a,(function(t){var e=n.measureText(t).width;o<e&&(o=e)}))}else o=n.measureText(t).width;return n.restore(),o}function c(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight;return[t.fontStyle,t.fontVariant,r,e+"px",n].join(" ").trim()}},55013:function(t,e,n){"use strict";n.d(e,{As:function(){return i},CD:function(){return r.CD},HD:function(){return r.HD},Kn:function(){return r.Kn},S6:function(){return r.S6},UY:function(){return a},jC:function(){return r.jC},jU:function(){return o},kK:function(){return r.UM},mf:function(){return r.mf},pP:function(){return c}});var r=n(90326);function i(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var o="undefined"!=typeof window&&void 0!==window.document;function a(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),r=!1;n;){if(n===t){r=!0;break}n=n.getParent()}return r}function c(t){return t.cfg.visible&&t.cfg.capture}},58609:function(t,e,n){"use strict";n.d(e,{wN:function(){return D},Ll:function(){return C},x1:function(){return f},aH:function(){return R},lD:function(){return y},Zr:function(){return r}});var r={};n.r(r),n.d(r,{distance:function(){return o},getBBoxByArray:function(){return c},getBBoxRange:function(){return l},isNumberEqual:function(){return a},piMod:function(){return u}});var i=n(90326);function o(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function a(t,e){return Math.abs(t-e)<.001}function c(t,e){var n=(0,i.VV)(t),r=(0,i.VV)(e);return{x:n,y:r,width:(0,i.Fp)(t)-n,height:(0,i.Fp)(e)-r}}function l(t,e,n,r){return{minX:(0,i.VV)([t,n]),maxX:(0,i.Fp)([t,n]),minY:(0,i.VV)([e,r]),maxY:(0,i.Fp)([e,r])}}function u(t){return(t+2*Math.PI)%(2*Math.PI)}var s=n(17647),f={box:function(t,e,n,r){return c([t,n],[e,r])},length:function(t,e,n,r){return o(t,e,n,r)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,i,a){var c=(n-t)*(i-t)+(r-e)*(a-e);return c<0?o(t,e,i,a):c>(n-t)*(n-t)+(r-e)*(r-e)?o(n,r,i,a):this.pointToLine(t,e,n,r,i,a)},pointToLine:function(t,e,n,r,i,o){var a=[n-t,r-e];if(s.I6(a,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));var c=[-a[1],a[0]];s.Fv(c,c);var l=[i-t,o-e];return Math.abs(s.AK(l,c))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}};function h(t,e,n,r,i,a){var c,l=1/0,u=[n,r],s=20;a&&a>200&&(s=a/10);for(var f=1/s,h=f/10,d=0;d<=s;d++){var p=d*f,v=[i.apply(null,t.concat([p])),i.apply(null,e.concat([p]))];(b=o(u[0],u[1],v[0],v[1]))<l&&(c=p,l=b)}if(0===c)return{x:t[0],y:e[0]};if(1===c){var g=t.length;return{x:t[g-1],y:e[g-1]}}l=1/0;for(d=0;d<32&&!(h<1e-4);d++){var m=c-h,y=c+h,b=(v=[i.apply(null,t.concat([m])),i.apply(null,e.concat([m]))],o(u[0],u[1],v[0],v[1]));if(m>=0&&b<l)c=m,l=b;else{var x=[i.apply(null,t.concat([y])),i.apply(null,e.concat([y]))],w=o(u[0],u[1],x[0],x[1]);y<=1&&w<l?(c=y,l=w):h*=.5}}return{x:i.apply(null,t.concat([c])),y:i.apply(null,e.concat([c]))}}function d(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function p(t,e,n){var r=t+n-2*e;if(a(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function v(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function g(t,e,n,r,i,o,a){var c=d(t,n,i,a),l=d(e,r,o,a),u=f.pointAt(t,e,n,r,a),s=f.pointAt(n,r,i,o,a);return[[t,e,u.x,u.y,c,l],[c,l,s.x,s.y,i,o]]}function m(t,e,n,r,i,a,c){if(0===c)return(o(t,e,n,r)+o(n,r,i,a)+o(t,e,i,a))/2;var l=g(t,e,n,r,i,a,.5),u=l[0],s=l[1];return u.push(c-1),s.push(c-1),m.apply(null,u)+m.apply(null,s)}var y={box:function(t,e,n,r,i,o){var a=p(t,n,i)[0],l=p(e,r,o)[0],u=[t,i],s=[e,o];return void 0!==a&&u.push(d(t,n,i,a)),void 0!==l&&s.push(d(e,r,o,l)),c(u,s)},length:function(t,e,n,r,i,o){return m(t,e,n,r,i,o,3)},nearestPoint:function(t,e,n,r,i,o,a,c){return h([t,n,i],[e,r,o],a,c,d)},pointDistance:function(t,e,n,r,i,a,c,l){var u=this.nearestPoint(t,e,n,r,i,a,c,l);return o(u.x,u.y,c,l)},interpolationAt:d,pointAt:function(t,e,n,r,i,o,a){return{x:d(t,n,i,a),y:d(e,r,o,a)}},divide:function(t,e,n,r,i,o,a){return g(t,e,n,r,i,o,a)},tangentAngle:function(t,e,n,r,i,o,a){var c=v(t,n,i,a),l=v(e,r,o,a);return u(Math.atan2(l,c))}};function b(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function x(t,e,n,r,i){var o=1-i;return 3*(o*o*(e-t)+2*o*i*(n-e)+i*i*(r-n))}function w(t,e,n,r){var i,o,c,l=-3*t+9*e-9*n+3*r,u=6*t-12*e+6*n,s=3*e-3*t,f=[];if(a(l,0))a(u,0)||(i=-s/u)>=0&&i<=1&&f.push(i);else{var h=u*u-4*l*s;a(h,0)?f.push(-u/(2*l)):h>0&&(o=(-u-(c=Math.sqrt(h)))/(2*l),(i=(-u+c)/(2*l))>=0&&i<=1&&f.push(i),o>=0&&o<=1&&f.push(o))}return f}function S(t,e,n,r,i,o,a,c,l){var u=b(t,n,i,a,l),s=b(e,r,o,c,l),h=f.pointAt(t,e,n,r,l),d=f.pointAt(n,r,i,o,l),p=f.pointAt(i,o,a,c,l),v=f.pointAt(h.x,h.y,d.x,d.y,l),g=f.pointAt(d.x,d.y,p.x,p.y,l);return[[t,e,h.x,h.y,v.x,v.y,u,s],[u,s,g.x,g.y,p.x,p.y,a,c]]}function k(t,e,n,r,i,a,c,l,u){if(0===u)return function(t,e){for(var n=0,r=t.length,i=0;i<r;i++)n+=o(t[i],e[i],t[(i+1)%r],e[(i+1)%r]);return n/2}([t,n,i,c],[e,r,a,l]);var s=S(t,e,n,r,i,a,c,l,.5),f=s[0],h=s[1];return f.push(u-1),h.push(u-1),k.apply(null,f)+k.apply(null,h)}var C={extrema:w,box:function(t,e,n,r,i,o,a,l){for(var u=[t,a],s=[e,l],f=w(t,n,i,a),h=w(e,r,o,l),d=0;d<f.length;d++)u.push(b(t,n,i,a,f[d]));for(d=0;d<h.length;d++)s.push(b(e,r,o,l,h[d]));return c(u,s)},length:function(t,e,n,r,i,o,a,c){return k(t,e,n,r,i,o,a,c,3)},nearestPoint:function(t,e,n,r,i,o,a,c,l,u,s){return h([t,n,i,a],[e,r,o,c],l,u,b,s)},pointDistance:function(t,e,n,r,i,a,c,l,u,s,f){var h=this.nearestPoint(t,e,n,r,i,a,c,l,u,s,f);return o(h.x,h.y,u,s)},interpolationAt:b,pointAt:function(t,e,n,r,i,o,a,c,l){return{x:b(t,n,i,a,l),y:b(e,r,o,c,l)}},divide:function(t,e,n,r,i,o,a,c,l){return S(t,e,n,r,i,o,a,c,l)},tangentAngle:function(t,e,n,r,i,o,a,c,l){var s=x(t,n,i,a,l),f=x(e,r,o,c,l);return u(Math.atan2(f,s))}};n(25438);function O(t,e){var n=Math.abs(t);return e>0?n:-1*n}var E=function(t,e,n,r,i,o){var a=n,c=r;if(0===a||0===c)return{x:t,y:e};for(var l,u,s=i-t,f=o-e,h=Math.abs(s),d=Math.abs(f),p=a*a,v=c*c,g=Math.PI/4,m=0;m<4;m++){l=a*Math.cos(g),u=c*Math.sin(g);var y=(p-v)*Math.pow(Math.cos(g),3)/a,b=(v-p)*Math.pow(Math.sin(g),3)/c,x=l-y,w=u-b,S=h-y,k=d-b,C=Math.hypot(w,x),E=Math.hypot(k,S);g+=C*Math.asin((x*k-w*S)/(C*E))/Math.sqrt(p+v-l*l-u*u),g=Math.min(Math.PI/2,Math.max(0,g))}return{x:t+O(l,s),y:e+O(u,f)}};function M(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function A(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}function P(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function _(t,e,n){var r=Math.cos(n),i=Math.sin(n);return[t*r-e*i,t*i+e*r]}var D={box:function(t,e,n,r,i,o,a){for(var c=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,r,i),l=1/0,u=-1/0,s=[o,a],f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var h=c+f;o<a?o<h&&h<a&&s.push(h):a<h&&h<o&&s.push(h)}for(f=0;f<s.length;f++){var d=M(t,0,n,r,i,s[f]);d<l&&(l=d),d>u&&(u=d)}var p=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,r,i),v=1/0,g=-1/0,m=[o,a];for(f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var y=p+f;o<a?o<y&&y<a&&m.push(y):a<y&&y<o&&m.push(y)}for(f=0;f<m.length;f++){var b=A(0,e,n,r,i,m[f]);b<v&&(v=b),b>g&&(g=b)}return{x:l,y:v,width:u-l,height:g-v}},length:function(t,e,n,r,i,o,a){},nearestPoint:function(t,e,n,r,i,o,a,c,l){var u=_(c-t,l-e,-i),s=u[0],f=u[1],h=E(0,0,n,r,s,f),d=function(t,e,n,r){return(Math.atan2(r*t,n*e)+2*Math.PI)%(2*Math.PI)}(n,r,h.x,h.y);d<o?h=P(n,r,o):d>a&&(h=P(n,r,a));var p=_(h.x,h.y,i);return{x:p[0]+t,y:p[1]+e}},pointDistance:function(t,e,n,r,i,a,c,l,u){var s=this.nearestPoint(t,e,n,r,l,u);return o(s.x,s.y,l,u)},pointAt:function(t,e,n,r,i,o,a,c){var l=(a-o)*c+o;return{x:M(t,0,n,r,i,l),y:A(0,e,n,r,i,l)}},tangentAngle:function(t,e,n,r,i,o,a,c){var l=(a-o)*c+o,s=function(t,e,n,r,i,o,a,c){return-1*n*Math.cos(i)*Math.sin(c)-r*Math.sin(i)*Math.cos(c)}(0,0,n,r,i,0,0,l),f=function(t,e,n,r,i,o,a,c){return-1*n*Math.sin(i)*Math.sin(c)+r*Math.cos(i)*Math.cos(c)}(0,0,n,r,i,0,0,l);return u(Math.atan2(f,s))}};function T(t){for(var e=0,n=[],r=0;r<t.length-1;r++){var i=t[r],a=t[r+1],c=o(i[0],i[1],a[0],a[1]),l={from:i,to:a,length:c};n.push(l),e+=c}return{segments:n,totalLength:e}}function Z(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=o(r[0],r[1],i[0],i[1])}return e}function F(t,e){if(e>1||e<0||t.length<2)return null;var n=T(t),r=n.segments,i=n.totalLength;if(0===i)return{x:t[0][0],y:t[0][1]};for(var o=0,a=null,c=0;c<r.length;c++){var l=r[c],u=l.from,s=l.to,h=l.length/i;if(e>=o&&e<=o+h){var d=(e-o)/h;a=f.pointAt(u[0],u[1],s[0],s[1],d);break}o+=h}return a}function j(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=T(t),r=n.segments,i=n.totalLength,o=0,a=0,c=0;c<r.length;c++){var l=r[c],u=l.from,s=l.to,f=l.length/i;if(e>=o&&e<=o+f){a=Math.atan2(s[1]-u[1],s[0]-u[0]);break}o+=f}return a}function I(t,e,n){for(var r=1/0,i=0;i<t.length-1;i++){var o=t[i],a=t[i+1],c=f.pointDistance(o[0],o[1],a[0],a[1],e,n);c<r&&(r=c)}return r}var R={box:function(t){for(var e=[],n=[],r=0;r<t.length;r++){var i=t[r];e.push(i[0]),n.push(i[1])}return c(e,n)},length:function(t){return Z(t)},pointAt:function(t,e){return F(t,e)},pointDistance:function(t,e,n){return I(t,e,n)},tangentAngle:function(t,e){return j(t,e)}}},12579:function(t,e,n){"use strict";n.d(e,{Dg:function(){return u},lh:function(){return c},m$:function(){return o},vs:function(){return l},zu:function(){return a}});var r=n(20593),i=n(17647);function o(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.vc(i,n),r.Jp(t,i,e)}function a(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.Us(i,n),r.Jp(t,i,e)}function c(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.xJ(i,n),r.Jp(t,i,e)}function l(t,e){for(var n,i,l,u=t?[].concat(t):[1,0,0,0,1,0,0,0,1],s=0,f=e.length;s<f;s++){var h=e[s];switch(h[0]){case"t":o(u,u,[h[1],h[2]]);break;case"s":c(u,u,[h[1],h[2]]);break;case"r":a(u,u,h[1]);break;case"m":n=u,i=u,l=h[1],r.Jp(n,l,i)}}return u}function u(t,e,n){var r=i.EU(t,e),o=function(t,e){return t[0]*e[1]-e[0]*t[1]}(t,e)>=0;return n?o?2*Math.PI-r:r:o?r:2*Math.PI-r}},85687:function(t,e,n){"use strict";n.d(e,{e9:function(){return l},Wq:function(){return D},tr:function(){return h},wb:function(){return v},zx:function(){return S}});var r=n(90326),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi;var a=function(t){var e=t||[];return(0,r.kJ)(e)?e:(0,r.HD)(e)?(e=e.match(i),(0,r.S6)(e,(function(t,n){if((t=t.match(o))[0].length>1){var i=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=i}(0,r.S6)(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0},c=n(17647);var l=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var r=!!e,i=[],o=0,a=t.length;o<a;o+=2)i.push([t[o],t[o+1]]);var l,u,s,f=function(t,e,n,r){var i,o,a,l,u,s,f,h=[],d=!!r;if(d){a=r[0],l=r[1];for(var p=0,v=t.length;p<v;p+=1){var g=t[p];a=c.VV([0,0],a,g),l=c.Fp([0,0],l,g)}}p=0;for(var m=t.length;p<m;p+=1)if(g=t[p],0!==p||n)if(p!==m-1||n){i=t[[p?p-1:m-1,p-1][n?0:1]],o=t[n?(p+1)%m:p+1];var y=[0,0];y=c.lu(y,o,i),y=c.bA(y,y,e);var b=c.TE(g,i),x=c.TE(g,o),w=b+x;0!==w&&(b/=w,x/=w);var S=c.bA([0,0],y,-b),k=c.bA([0,0],y,x);s=c.IH([0,0],g,S),u=c.IH([0,0],g,k),u=c.VV([0,0],u,c.Fp([0,0],o,g)),u=c.Fp([0,0],u,c.VV([0,0],o,g)),S=c.lu([0,0],u,g),S=c.bA([0,0],S,-b/x),s=c.IH([0,0],g,S),s=c.VV([0,0],s,c.Fp([0,0],i,g)),s=c.Fp([0,0],s,c.VV([0,0],i,g)),k=c.lu([0,0],g,s),k=c.bA([0,0],k,x/b),u=c.IH([0,0],g,k),d&&(s=c.Fp([0,0],s,a),s=c.VV([0,0],s,l),u=c.Fp([0,0],u,a),u=c.VV([0,0],u,l)),h.push(f),h.push(s),f=u}else s=g,h.push(f),h.push(s);else f=g;return n&&h.push(h.shift()),h}(i,.4,r,n),h=i.length,d=[];for(o=0;o<h-1;o+=1)l=f[2*o],u=f[2*o+1],s=i[o+1],d.push(["C",l[0],l[1],u[0],u[1],s[0],s[1]]);return r&&(l=f[h],u=f[h+1],s=i[0],d.push(["C",l[0],l[1],u[0],u[1],s[0],s[1]])),d};var u="\t\n\v\f\r   ᠎             　\u2028\u2029",s=new RegExp("([a-z])["+u+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+u+"]*,?["+u+"]*)+)","ig"),f=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+u+"]*,?["+u+"]*","ig");function h(t){if(!t)return null;if((0,r.kJ)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(s,(function(t,r,i){var o=[],a=r.toLowerCase();if(i.replace(f,(function(t,e){e&&o.push(+e)})),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=e[a]&&(n.push([r].concat(o.splice(0,e[a]))),e[a]););return""})),n}var d=/[a-z]/;function p(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function v(t){var e=h(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,r=0;r<e.length;r++){var i=e[r][0];if(d.test(i)||["V","H","T","S"].indexOf(i)>=0){n=!0;break}}if(!n)return e;var o=[],a=0,c=0,l=0,u=0,s=0,f=e[0];"M"!==f[0]&&"m"!==f[0]||(l=a=+f[1],u=c=+f[2],s++,o[0]=["M",a,c]);r=s;for(var v=e.length;r<v;r++){var g=e[r],m=o[r-1],y=[],b=(i=g[0]).toUpperCase();if(i!==b)switch(y[0]=b,b){case"A":y[1]=g[1],y[2]=g[2],y[3]=g[3],y[4]=g[4],y[5]=g[5],y[6]=+g[6]+a,y[7]=+g[7]+c;break;case"V":y[1]=+g[1]+c;break;case"H":y[1]=+g[1]+a;break;case"M":l=+g[1]+a,u=+g[2]+c,y[1]=l,y[2]=u;break;default:for(var x=1,w=g.length;x<w;x++)y[x]=+g[x]+(x%2?a:c)}else y=e[r];switch(b){case"Z":a=+l,c=+u;break;case"H":y=["L",a=y[1],c];break;case"V":y=["L",a,c=y[1]];break;case"T":a=y[1],c=y[2];var S=p([m[1],m[2]],[m[3],m[4]]);y=["Q",S[0],S[1],a,c];break;case"S":a=y[y.length-2],c=y[y.length-1];var k=m.length,C=p([m[k-4],m[k-3]],[m[k-2],m[k-1]]);y=["C",C[0],C[1],y[1],y[2],a,c];break;case"M":l=y[y.length-2],u=y[y.length-1];break;default:a=y[y.length-2],c=y[y.length-1]}o.push(y)}return o}Math.PI;function g(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function m(t,e){return g(t)*g(e)?(t[0]*e[0]+t[1]*e[1])/(g(t)*g(e)):1}function y(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(m(t,e))}function b(t,e){return t[0]===e[0]&&t[1]===e[1]}function x(t,e){var n=e[1],i=e[2],o=(0,r.wQ)((0,r.c$)(e[3]),2*Math.PI),a=e[4],c=e[5],l=t[0],u=t[1],s=e[6],f=e[7],h=Math.cos(o)*(l-s)/2+Math.sin(o)*(u-f)/2,d=-1*Math.sin(o)*(l-s)/2+Math.cos(o)*(u-f)/2,p=h*h/(n*n)+d*d/(i*i);p>1&&(n*=Math.sqrt(p),i*=Math.sqrt(p));var v=n*n*(d*d)+i*i*(h*h),g=v?Math.sqrt((n*n*(i*i)-v)/v):1;a===c&&(g*=-1),isNaN(g)&&(g=0);var x=i?g*n*d/i:0,w=n?g*-i*h/n:0,S=(l+s)/2+Math.cos(o)*x-Math.sin(o)*w,k=(u+f)/2+Math.sin(o)*x+Math.cos(o)*w,C=[(h-x)/n,(d-w)/i],O=[(-1*h-x)/n,(-1*d-w)/i],E=y([1,0],C),M=y(C,O);return m(C,O)<=-1&&(M=Math.PI),m(C,O)>=1&&(M=0),0===c&&M>0&&(M-=2*Math.PI),1===c&&M<0&&(M+=2*Math.PI),{cx:S,cy:k,rx:b(t,[s,f])?0:n,ry:b(t,[s,f])?0:i,startAngle:E,endAngle:E+M,xRotation:o,arcFlag:a,sweepFlag:c}}function w(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function S(t){for(var e=[],n=null,r=null,i=null,o=0,c=(t=a(t)).length,l=0;l<c;l++){var u=t[l];r=t[l+1];var s=u[0],f={command:s,prePoint:n,params:u,startTangent:null,endTangent:null};switch(s){case"M":i=[u[1],u[2]],o=l;break;case"A":var h=x(n,u);f.arcParams=h}if("Z"===s)n=i,r=t[o+1];else{var d=u.length;n=[u[d-2],u[d-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),f.currentPoint=n,e[o]&&b(n,e[o].currentPoint)&&(e[o].prePoint=f.prePoint);var p=r?[r[r.length-2],r[r.length-1]]:null;f.nextPoint=p;var v=f.prePoint;if(["L","H","V"].includes(s))f.startTangent=[v[0]-n[0],v[1]-n[1]],f.endTangent=[n[0]-v[0],n[1]-v[1]];else if("Q"===s){var g=[u[1],u[2]];f.startTangent=[v[0]-g[0],v[1]-g[1]],f.endTangent=[n[0]-g[0],n[1]-g[1]]}else if("T"===s){g=w((S=e[l-1]).currentPoint,v);"Q"===S.command?(f.command="Q",f.startTangent=[v[0]-g[0],v[1]-g[1]],f.endTangent=[n[0]-g[0],n[1]-g[1]]):(f.command="TL",f.startTangent=[v[0]-n[0],v[1]-n[1]],f.endTangent=[n[0]-v[0],n[1]-v[1]])}else if("C"===s){var m=[u[1],u[2]],y=[u[3],u[4]];f.startTangent=[v[0]-m[0],v[1]-m[1]],f.endTangent=[n[0]-y[0],n[1]-y[1]],0===f.startTangent[0]&&0===f.startTangent[1]&&(f.startTangent=[m[0]-y[0],m[1]-y[1]]),0===f.endTangent[0]&&0===f.endTangent[1]&&(f.endTangent=[y[0]-m[0],y[1]-m[1]])}else if("S"===s){var S;m=w((S=e[l-1]).currentPoint,v),y=[u[1],u[2]];"C"===S.command?(f.command="C",f.startTangent=[v[0]-m[0],v[1]-m[1]],f.endTangent=[n[0]-y[0],n[1]-y[1]]):(f.command="SQ",f.startTangent=[v[0]-y[0],v[1]-y[1]],f.endTangent=[n[0]-y[0],n[1]-y[1]])}else if("A"===s){var k=.001,C=f.arcParams||{},O=C.cx,E=void 0===O?0:O,M=C.cy,A=void 0===M?0:M,P=C.rx,_=void 0===P?0:P,D=C.ry,T=void 0===D?0:D,Z=C.sweepFlag,F=void 0===Z?0:Z,j=C.startAngle,I=void 0===j?0:j,R=C.endAngle,L=void 0===R?0:R;0===F&&(k*=-1);var N=_*Math.cos(I-k)+E,B=T*Math.sin(I-k)+A;f.startTangent=[N-i[0],B-i[1]];var z=_*Math.cos(I+L+k)+E,U=T*Math.sin(I+L-k)+A;f.endTangent=[v[0]-z,v[1]-U]}e.push(f)}return e}var k=1e-6;function C(t){return Math.abs(t)<k?0:t<0?-1:1}function O(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function E(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],c=t[(o+1)%i];if(O(a,c,[e,n]))return!0;C(a[1]-n)>0!=C(c[1]-n)>0&&C(e-(n-a[1])*(a[0]-c[0])/(a[1]-c[1])-a[0])<0&&(r=!r)}return r}var M=function(t,e,n){return t>=e&&t<=n};function A(t){for(var e=[],n=t.length,r=0;r<n-1;r++){var i=t[r],o=t[r+1];e.push({from:{x:i[0],y:i[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var a=t[0],c=t[n-1];e.push({from:{x:c[0],y:c[1]},to:{x:a[0],y:a[1]}})}return e}function P(t,e){var n=!1;return(0,r.S6)(t,(function(t){if(function(t,e,n,r){var i=n.x-t.x,o=n.y-t.y,a=e.x-t.x,c=e.y-t.y,l=r.x-n.x,u=r.y-n.y,s=a*u-c*l,f=null;if(s*s>.001*(a*a+c*c)*(l*l+u*u)){var h=(i*u-o*l)/s,d=(i*c-o*a)/s;M(h,0,1)&&M(d,0,1)&&(f={x:t.x+h*a,y:t.y+h*c})}return f}(t.from,t.to,e.from,e.to))return n=!0,!1})),n}function _(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}}function D(t,e){if(t.length<2||e.length<2)return!1;var n,i,o=_(t),a=_(e);if(n=o,(i=a).minX>n.maxX||i.maxX<n.minX||i.minY>n.maxY||i.maxY<n.minY)return!1;var c=!1;if((0,r.S6)(e,(function(e){if(E(t,e[0],e[1]))return c=!0,!1})),c)return!0;if((0,r.S6)(t,(function(t){if(E(e,t[0],t[1]))return c=!0,!1})),c)return!0;var l=A(t),u=A(e),s=!1;return(0,r.S6)(u,(function(t){if(P(l,t))return s=!0,!1})),s}},90326:function(t,e,n){"use strict";n.d(e,{Ct:function(){return Vt},f0:function(){return Pt},uZ:function(){return U},VS:function(){return vt},d9:function(){return gt},FX:function(){return i},Ds:function(){return mt},b$:function(){return xt},e5:function(){return a},S6:function(){return d},yW:function(){return I},hX:function(){return o},sE:function(){return y},cx:function(){return b},Wx:function(){return x},ri:function(){return H},xH:function(){return w},U5:function(){return J},U2:function(){return _t},Lo:function(){return Wt},rx:function(){return C},ru:function(){return z},vM:function(){return N},Ms:function(){return B},wH:function(){return Q},YM:function(){return F},q9:function(){return i},cq:function(){return wt},kJ:function(){return f},jn:function(){return ct},J_:function(){return lt},kK:function(){return dt},xb:function(){return kt},Xy:function(){return Ct},mf:function(){return u},BD:function(){return v},UM:function(){return s},Ft:function(){return ut},hj:function(){return W},vQ:function(){return G},Kn:function(){return h},PO:function(){return m},HD:function(){return _},P9:function(){return l},o8:function(){return ht},XP:function(){return p},Z$:function(){return j},vl:function(){return nt},UI:function(){return Ot},Q8:function(){return Mt},Fp:function(){return S},UT:function(){return X},HP:function(){return yt},VV:function(){return k},F:function(){return q},CD:function(){return Pt},wQ:function(){return Y},ZT:function(){return Nt},CE:function(){return Ft},ei:function(){return Zt},u4:function(){return A},Od:function(){return P},U7:function(){return pt},t8:function(){return Dt},dp:function(){return Bt},G:function(){return R},MR:function(){return D},ng:function(){return rt},P2:function(){return jt},qo:function(){return It},c$:function(){return K},BB:function(){return et},jj:function(){return T},EL:function(){return Lt},jC:function(){return it},VO:function(){return tt},I:function(){return Z}});var r=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},i=function(t,e){return!!r(t)&&t.indexOf(e)>-1},o=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];e(o,i)&&n.push(o)}return n},a=function(t,e){return void 0===e&&(e=[]),o(t,(function(t){return!i(e,t)}))},c={}.toString,l=function(t,e){return c.call(t)==="[object "+e+"]"},u=function(t){return l(t,"Function")},s=function(t){return null==t},f=function(t){return Array.isArray?Array.isArray(t):l(t,"Array")},h=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var d=function(t,e){if(t)if(f(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(h(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break},p=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return d(t,(function(n,r){u(t)&&"prototype"===r||e.push(r)})),e};var v=function(t,e){var n=p(e),r=n.length;if(s(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0},g=function(t){return"object"==typeof t&&null!==t},m=function(t){if(!g(t)||!l(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var y=function(t,e){if(!f(t))return null;var n;if(u(e)&&(n=e),m(e)&&(n=function(t){return v(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null};var b=function(t,e,n){void 0===n&&(n=0);for(var r=n;r<t.length;r++)if(e(t[r],r))return r;return-1},x=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r][e];if(!s(i)){n=f(i)?i[0]:i;break}}return n},w=function(t){if(!f(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},S=function(t){if(f(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},k=function(t){if(f(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},C=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(f(t[0])){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);e=n}var i=S(e);return{min:k(e),max:i}},O=Array.prototype,E=(O.splice,O.indexOf,Array.prototype.splice),M=function(t,e){if(!r(t))return[];for(var n=t?e.length:0,i=n-1;n--;){var o=void 0,a=e[n];n!==i&&a===o||(o=a,E.call(t,a,1))}return t},A=function(t,e,n){if(!f(t)&&!m(t))return t;var r=n;return d(t,(function(t,n){r=e(r,t,n)})),r},P=function(t,e){var n=[];if(!r(t))return n;for(var i=-1,o=[],a=t.length;++i<a;){var c=t[i];e(c,i,t)&&(n.push(c),o.push(i))}return M(t,o),n},_=function(t){return l(t,"String")};var D=function(t,e){var n;if(u(e))n=function(t,n){return e(t)-e(n)};else{var r=[];_(e)?r.push(e):f(e)&&(r=e),n=function(t,e){for(var n=0;n<r.length;n+=1){var i=r[n];if(t[i]>e[i])return 1;if(t[i]<e[i])return-1}return 0}}return t.sort(n),t};function T(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];e.has(o)||(n.push(o),e.set(o,!0))}return n}var Z=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i][e];if(!s(o)){f(o)||(o=[o]);for(var a=0;a<o.length;a++){var c=o[a];r[c]||(n.push(c),r[c]=!0)}}}return n};function F(t){if(r(t))return t[0]}function j(t){if(r(t)){return t[t.length-1]}}var I=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},R=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},L=Object.prototype.hasOwnProperty;var N=function(t,e){if(!e||!f(t))return{};for(var n,r={},i=u(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=i(a),L.call(r,n)?r[n].push(a):r[n]=[a]}return r};function B(t,e){if(!e)return{0:t};if(!u(e)){var n=f(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return N(t,e)}var z=function(t,e){if(!e)return[t];var n=B(t,e),r=[];for(var i in n)r.push(n[i]);return r};var U=function(t,e,n){return t<e?e:t>n?n:t},H=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))},W=function(t){return l(t,"Number")},V=(Number.isInteger&&Number.isInteger,1e-5);function G(t,e,n){return void 0===n&&(n=V),Math.abs(t-e)<n}var X=function(t,e){if(f(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var o=t[i],a=u(e)?e(o):o[e];a>r&&(n=o,r=a)}return n}},q=function(t,e){if(f(t)){for(var n,r=1/0,i=0;i<t.length;i++){var o=t[i],a=u(e)?e(o):o[e];a<r&&(n=o,r=a)}return n}},Y=function(t,e){return(t%e+e)%e},$=(Math.PI,Math.PI/180),K=function(t){return $*t},J=d,Q=function(t,e){return t.hasOwnProperty(e)},tt=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return d(t,(function(n,r){u(t)&&"prototype"===r||e.push(n)})),e},et=function(t){return s(t)?"":t.toString()},nt=function(t){return et(t).toLowerCase()};var rt=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t},it=function(t){var e=et(t);return e.charAt(0).toUpperCase()+e.substring(1)},ot={}.toString,at=function(t){return ot.call(t).replace(/^\[object /,"").replace(/]$/,"")},ct=function(t){return l(t,"Boolean")},lt=function(t){return l(t,"Date")};var ut=function(t){return null===t},st=Object.prototype,ft=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||st)},ht=function(t){return void 0===t},dt=function(t){return t instanceof Element||t instanceof HTMLDocument};function pt(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function vt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}var gt=function t(e){if("object"!=typeof e||null===e)return e;var n;if(f(e)){n=[];for(var r=0,i=e.length;r<i;r++)"object"==typeof e[r]&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var o in n={},e)"object"==typeof e[o]&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o];return n};var mt=function(t,e,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||t.apply(i,o)}),e),a&&t.apply(i,o)}},yt=function(t,e){if(!u(t))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var c=t.apply(this,r);return a.set(o,c),c};return n.cache=new Map,n};function bt(t,e,n,r){for(var i in n=n||0,r=r||5,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&m(o)?(m(t[i])||(t[i]={}),n<r?bt(t[i],o,n+1,r):t[i]=e[i]):f(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var xt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)bt(t,e[r]);return t},wt=function(t,e){if(!r(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,o=0;o<t.length;o++)if(t[o]===e){i=o;break}return i},St=Object.prototype.hasOwnProperty;var kt=function(t){if(s(t))return!0;if(r(t))return!t.length;var e=at(t);if("Map"===e||"Set"===e)return!t.size;if(ft(t))return!Object.keys(t).length;for(var n in t)if(St.call(t,n))return!1;return!0},Ct=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(_(e)||_(n))return!1;if(r(e)||r(n)){if(e.length!==n.length)return!1;for(var i=!0,o=0;o<e.length&&(i=t(e[o],n[o]));o++);return i}if(g(e)||g(n)){var a=Object.keys(e),c=Object.keys(n);if(a.length!==c.length)return!1;for(i=!0,o=0;o<a.length&&(i=t(e[a[o]],n[a[o]]));o++);return i}return!1},Ot=function(t,e){if(!r(t))return t;for(var n=[],i=0;i<t.length;i++){var o=t[i];n.push(e(o,i))}return n},Et=function(t){return t},Mt=function(t,e){void 0===e&&(e=Et);var n={};return h(t)&&!s(t)&&Object.keys(t).forEach((function(r){n[r]=e(t[r],r)})),n};function At(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Pt(t,e,n,r){return e&&At(t,e),n&&At(t,n),r&&At(t,r),t}var _t=function(t,e,n){for(var r=0,i=_(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t},Dt=function(t,e,n){var r=t,i=_(e)?e.split("."):e;return i.forEach((function(t,e){e<i.length-1?(h(r[t])||(r[t]=W(i[e+1])?[]:{}),r=r[t]):r[t]=n})),t},Tt=Object.prototype.hasOwnProperty,Zt=function(t,e){if(null===t||!m(t))return{};var n={};return d(e,(function(e){Tt.call(t,e)&&(n[e]=t[e])})),n},Ft=function(t,e){return A(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})},jt=function(t,e,n){var r,i,o,a,c=0;n||(n={});var l=function(){c=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},u=function(){var u=Date.now();c||!1!==n.leading||(c=u);var s=e-(u-c);return i=this,o=arguments,s<=0||s>e?(r&&(clearTimeout(r),r=null),c=u,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,s)),a};return u.cancel=function(){clearTimeout(r),c=0,r=i=o=null},u},It=function(t){return r(t)?Array.prototype.slice.call(t):[]},Rt={},Lt=function(t){return Rt[t=t||"g"]?Rt[t]+=1:Rt[t]=1,t+Rt[t]},Nt=function(){};function Bt(t){return s(t)?0:r(t)?t.length:Object.keys(t).length}var zt,Ut=n(70903),Ht=yt((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return zt||(zt=document.createElement("canvas").getContext("2d")),zt.font=[o,a,i,n+"px",r].join(" "),zt.measureText(_(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),(0,Ut.pr)([t],tt(e)).join("")})),Wt=function(t,e,n,r){void 0===r&&(r="...");var i,o,a=Ht(r,n),c=_(t)?t:et(t),l=e,u=[];if(Ht(t,n)<=e)return t;for(;i=c.substr(0,16),!((o=Ht(i,n))+a>l&&o>l);)if(u.push(i),l-=o,!(c=c.substr(16)))return u.join("");for(;i=c.substr(0,1),!((o=Ht(i,n))+a>l);)if(u.push(i),l-=o,!(c=c.substr(1)))return u.join("");return""+u.join("")+r},Vt=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}()},53746:function(t){var e=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,n,r;try{e=Map}catch(c){e=function(){}}try{n=Set}catch(c){n=function(){}}try{r=Promise}catch(c){r=function(){}}function i(o,c,l,u,s){"object"==typeof c&&(l=c.depth,u=c.prototype,s=c.includeNonEnumerable,c=c.circular);var f=[],h=[],d="undefined"!=typeof Buffer;return void 0===c&&(c=!0),void 0===l&&(l=1/0),function o(l,p){if(null===l)return null;if(0===p)return l;var v,g;if("object"!=typeof l)return l;if(t(l,e))v=new e;else if(t(l,n))v=new n;else if(t(l,r))v=new r((function(t,e){l.then((function(e){t(o(e,p-1))}),(function(t){e(o(t,p-1))}))}));else if(i.__isArray(l))v=[];else if(i.__isRegExp(l))v=new RegExp(l.source,a(l)),l.lastIndex&&(v.lastIndex=l.lastIndex);else if(i.__isDate(l))v=new Date(l.getTime());else{if(d&&Buffer.isBuffer(l))return v=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(v),v;t(l,Error)?v=Object.create(l):void 0===u?(g=Object.getPrototypeOf(l),v=Object.create(g)):(v=Object.create(u),g=u)}if(c){var m=f.indexOf(l);if(-1!=m)return h[m];f.push(l),h.push(v)}for(var y in t(l,e)&&l.forEach((function(t,e){var n=o(e,p-1),r=o(t,p-1);v.set(n,r)})),t(l,n)&&l.forEach((function(t){var e=o(t,p-1);v.add(e)})),l){var b;g&&(b=Object.getOwnPropertyDescriptor(g,y)),b&&null==b.set||(v[y]=o(l[y],p-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(l);for(y=0;y<x.length;y++){var w=x[y];(!(k=Object.getOwnPropertyDescriptor(l,w))||k.enumerable||s)&&(v[w]=o(l[w],p-1),k.enumerable||Object.defineProperty(v,w,{enumerable:!1}))}}if(s){var S=Object.getOwnPropertyNames(l);for(y=0;y<S.length;y++){var k,C=S[y];(k=Object.getOwnPropertyDescriptor(l,C))&&k.enumerable||(v[C]=o(l[C],p-1),Object.defineProperty(v,C,{enumerable:!1}))}}return v}(o,l)}function o(t){return Object.prototype.toString.call(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return i.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},i.__objToStr=o,i.__isDate=function(t){return"object"==typeof t&&"[object Date]"===o(t)},i.__isArray=function(t){return"object"==typeof t&&"[object Array]"===o(t)},i.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===o(t)},i.__getRegExpFlags=a,i}();t.exports&&(t.exports=e)},34627:function(t,e,n){"use strict";n.d(e,{B8:function(){return C},Il:function(){return i},J5:function(){return a},SU:function(){return k},Ss:function(){return O},Ym:function(){return Z},ZP:function(){return x},xV:function(){return o}});var r=n(2077);function i(){}var o=.7,a=1/o,c="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3,8})$/,f=new RegExp("^rgb\\(".concat(c,",").concat(c,",").concat(c,"\\)$")),h=new RegExp("^rgb\\(".concat(u,",").concat(u,",").concat(u,"\\)$")),d=new RegExp("^rgba\\(".concat(c,",").concat(c,",").concat(c,",").concat(l,"\\)$")),p=new RegExp("^rgba\\(".concat(u,",").concat(u,",").concat(u,",").concat(l,"\\)$")),v=new RegExp("^hsl\\(".concat(l,",").concat(u,",").concat(u,"\\)$")),g=new RegExp("^hsla\\(".concat(l,",").concat(u,",").concat(u,",").concat(l,"\\)$")),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function x(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=s.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?w(e):3===n?new O(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?S(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?S(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=f.exec(t))?new O(e[1],e[2],e[3],1):(e=h.exec(t))?new O(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=d.exec(t))?S(e[1],e[2],e[3],e[4]):(e=p.exec(t))?S(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=v.exec(t))?D(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?D(e[1],e[2]/100,e[3]/100,e[4]):m.hasOwnProperty(t)?w(m[t]):"transparent"===t?new O(NaN,NaN,NaN,0):null}function w(t){return new O(t>>16&255,t>>8&255,255&t,1)}function S(t,e,n,r){return r<=0&&(t=e=n=NaN),new O(t,e,n,r)}function k(t){return t instanceof i||(t=x(t)),t?new O((t=t.rgb()).r,t.g,t.b,t.opacity):new O}function C(t,e,n,r){return 1===arguments.length?k(t):new O(t,e,n,null==r?1:r)}function O(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function E(){return"#".concat(_(this.r)).concat(_(this.g)).concat(_(this.b))}function M(){var t=A(this.opacity);return"".concat(1===t?"rgb(":"rgba(").concat(P(this.r),", ").concat(P(this.g),", ").concat(P(this.b)).concat(1===t?")":", ".concat(t,")"))}function A(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function P(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _(t){return((t=P(t))<16?"0":"")+t.toString(16)}function D(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new F(t,e,n,r)}function T(t){if(t instanceof F)return new F(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=x(t)),!t)return new F;if(t instanceof F)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),a=Math.max(e,n,r),c=NaN,l=a-o,u=(a+o)/2;return l?(c=e===a?(n-r)/l+6*(n<r):n===a?(r-e)/l+2:(e-n)/l+4,l/=u<.5?a+o:2-a-o,c*=60):l=u>0&&u<1?0:c,new F(c,l,u,t.opacity)}function Z(t,e,n,r){return 1===arguments.length?T(t):new F(t,e,n,null==r?1:r)}function F(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function j(t){return(t=(t||0)%360)<0?t+360:t}function I(t){return Math.max(0,Math.min(1,t||0))}function R(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}(0,r.Z)(i,x,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return T(this).formatHsl()},formatRgb:b,toString:b}),(0,r.Z)(O,C,(0,r.l)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new O(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new O(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},clamp:function(){return new O(P(this.r),P(this.g),P(this.b),A(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E,formatHex:E,formatHex8:function(){return"#".concat(_(this.r)).concat(_(this.g)).concat(_(this.b)).concat(_(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:M,toString:M})),(0,r.Z)(F,Z,(0,r.l)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new F(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new F(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new O(R(t>=240?t-240:t+120,i,r),R(t,i,r),R(t<120?t+240:t-120,i,r),this.opacity)},clamp:function(){return new F(j(this.h),I(this.s),I(this.l),A(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=A(this.opacity);return"".concat(1===t?"hsl(":"hsla(").concat(j(this.h),", ").concat(100*I(this.s),"%, ").concat(100*I(this.l),"%").concat(1===t?")":", ".concat(t,")"))}}))},2077:function(t,e,n){"use strict";function r(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function i(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}n.d(e,{Z:function(){return r},l:function(){return i}})},79739:function(t,e,n){"use strict";n.d(e,{M:function(){return a},Z:function(){return o}});var r=n(23713),i=n(3256);function o(t,e){return((0,i.v)(e)?i.Z:a)(t,e)}function a(t,e){var n,i=e?e.length:0,o=t?Math.min(i,t.length):0,a=new Array(o),c=new Array(i);for(n=0;n<o;++n)a[n]=(0,r.Z)(t[n],e[n]);for(;n<i;++n)c[n]=e[n];return function(t){for(n=0;n<o;++n)c[n]=a[n](t);return c}}},49763:function(t,e,n){"use strict";function r(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function i(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],c=i>0?t[i-1]:2*o-a,l=i<e-1?t[i+2]:2*a-o;return r((n-i/e)*e,c,o,a,l)}}n.d(e,{Z:function(){return i},t:function(){return r}})},52283:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(49763);function i(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),o=t[(i+e-1)%e],a=t[i%e],c=t[(i+1)%e],l=t[(i+2)%e];return(0,r.t)((n-i/e)*e,o,a,c,l)}}},4301:function(t,e,n){"use strict";n.d(e,{ZP:function(){return c},wx:function(){return o},yi:function(){return a}});var r=n(80546);function i(t,e){return function(n){return t+n*e}}function o(t,e){var n=e-t;return n?i(t,n>180||n<-180?n-360*Math.round(n/360):n):(0,r.Z)(isNaN(t)?e:t)}function a(t){return 1==(t=+t)?c:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):(0,r.Z)(isNaN(e)?n:e)}}function c(t,e){var n=e-t;return n?i(t,n):(0,r.Z)(isNaN(t)?e:t)}},80546:function(t,e){"use strict";e.Z=function(t){return function(){return t}}},66276:function(t,e,n){"use strict";function r(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}n.d(e,{Z:function(){return r}})},44922:function(t,e,n){"use strict";function r(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}n.d(e,{Z:function(){return r}})},3256:function(t,e,n){"use strict";function r(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function i(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.d(e,{Z:function(){return r},v:function(){return i}})},51861:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(23713);function i(t,e){var n,i={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=(0,r.Z)(t[n],e[n]):o[n]=e[n];return function(t){for(n in i)o[n]=i[n](t);return o}}},65713:function(t,e,n){"use strict";n.d(e,{YD:function(){return u},hD:function(){return l}});var r=n(34627),i=n(49763),o=n(52283),a=n(4301);function c(t){return function(e){var n,i,o=e.length,a=new Array(o),c=new Array(o),l=new Array(o);for(n=0;n<o;++n)i=(0,r.B8)(e[n]),a[n]=i.r||0,c[n]=i.g||0,l[n]=i.b||0;return a=t(a),c=t(c),l=t(l),i.opacity=1,function(t){return i.r=a(t),i.g=c(t),i.b=l(t),i+""}}}e.ZP=function t(e){var n=(0,a.yi)(e);function i(t,e){var i=n((t=(0,r.B8)(t)).r,(e=(0,r.B8)(e)).r),o=n(t.g,e.g),c=n(t.b,e.b),l=(0,a.ZP)(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=c(e),t.opacity=l(e),t+""}}return i.gamma=t,i}(1);var l=c(i.Z),u=c(o.Z)},95147:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(44922),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o=new RegExp(i.source,"g");function a(t,e){var n,a,c,l=i.lastIndex=o.lastIndex=0,u=-1,s=[],f=[];for(t+="",e+="";(n=i.exec(t))&&(a=o.exec(e));)(c=a.index)>l&&(c=e.slice(l,c),s[u]?s[u]+=c:s[++u]=c),(n=n[0])===(a=a[0])?s[u]?s[u]+=a:s[++u]=a:(s[++u]=null,f.push({i:u,x:(0,r.Z)(n,a)})),l=o.lastIndex;return l<e.length&&(c=e.slice(l),s[u]?s[u]+=c:s[++u]=c),s.length<2?f[0]?function(t){return function(e){return t(e)+""}}(f[0].x):function(t){return function(){return t}}(e):(e=f.length,function(t){for(var n,r=0;r<e;++r)s[(n=f[r]).i]=n.x(t);return s.join("")})}},23713:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var r=n(34627),i=n(65713),o=n(79739),a=n(66276),c=n(44922),l=n(51861),u=n(95147),s=n(80546),f=n(3256);function h(t,e){var n,h=typeof e;return null==e||"boolean"===h?(0,s.Z)(e):("number"===h?c.Z:"string"===h?(n=(0,r.ZP)(e))?(e=n,i.ZP):u.Z:e instanceof r.ZP?i.ZP:e instanceof Date?a.Z:(0,f.v)(e)?f.Z:Array.isArray(e)?o.M:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?l.Z:c.Z)(t,e)}},71547:function(t,e){!function(t){"use strict";function e(t,e){return n(t)||r(t,e)||i()}function n(t){if(Array.isArray(t))return t}function r(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(t,e,n,r){t=t.filter((function(t,r){var i=e(t,r),o=n(t,r);return null!=i&&isFinite(i)&&null!=o&&isFinite(o)})),r&&t.sort((function(t,n){return e(t)-e(n)}));for(var i,o,a,c=t.length,l=new Float64Array(c),u=new Float64Array(c),s=0,f=0,h=0;h<c;)a=t[h],l[h]=i=+e(a,h,t),u[h]=o=+n(a,h,t),s+=(i-s)/++h,f+=(o-f)/h;for(var d=0;d<c;++d)l[d]-=s,u[d]-=f;return[l,u,s,f]}function a(t,e,n,r){for(var i=0,o=0,a=t.length;o<a;o++){var c=t[o],l=+e(c,o,t),u=+n(c,o,t);null!=l&&isFinite(l)&&null!=u&&isFinite(u)&&r(l,u,i++)}}function c(t,e,n,r,i){var o=0,c=0;return a(t,e,n,(function(t,e){var n=e-i(t),a=e-r;o+=n*n,c+=a*a})),1-o/c}function l(t){return 180*Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])/Math.PI}function u(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}function s(t,e,n){for(var r=Math.log(e-t)*Math.LOG10E+1|0,i=1*Math.pow(10,-r/2-1),o=1e4,a=[s(t),s(e)],c=0;f(a)&&c<o;);return a;function s(t){return[t,n(t)]}function f(t){c++;for(var e=t.length,n=!1,r=0;r<e-1;r++){var o=t[r],a=u([o,t[r+1]]),f=s(a[0]),h=l([o,a]),d=l([o,f]);Math.abs(h-d)>i&&(t.splice(r+1,0,f),n=!0)}return n}}function f(t,e,n,r){var i=r-t*t,o=Math.abs(i)<1e-24?0:(n-t*e)/i;return[e-o*t,o]}function h(){var t,n=function(t){return t[0]},r=function(t){return t[1]};function i(i){var o=0,l=0,u=0,h=0,d=0,p=0,v=t?+t[0]:1/0,g=t?+t[1]:-1/0;a(i,n,r,(function(e,n){var r=Math.log(n),i=e*n;++o,l+=(n-l)/o,h+=(i-h)/o,p+=(e*i-p)/o,u+=(n*r-u)/o,d+=(i*r-d)/o,t||(e<v&&(v=e),e>g&&(g=e))}));var m=e(f(h/l,u/l,d/l,p/l),2),y=m[0],b=m[1];y=Math.exp(y);var x=function(t){return y*Math.exp(b*t)},w=s(v,g,x);return w.a=y,w.b=b,w.predict=x,w.rSquared=c(i,n,r,l,x),w}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(n=t,i):n},i.y=function(t){return arguments.length?(r=t,i):r},i}function d(){var t,n=function(t){return t[0]},r=function(t){return t[1]};function i(i){var o=0,l=0,u=0,s=0,h=0,d=t?+t[0]:1/0,p=t?+t[1]:-1/0;a(i,n,r,(function(e,n){++o,l+=(e-l)/o,u+=(n-u)/o,s+=(e*n-s)/o,h+=(e*e-h)/o,t||(e<d&&(d=e),e>p&&(p=e))}));var v=e(f(l,u,s,h),2),g=v[0],m=v[1],y=function(t){return m*t+g},b=[[d,y(d)],[p,y(p)]];return b.a=m,b.b=g,b.predict=y,b.rSquared=c(i,n,r,u,y),b}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(n=t,i):n},i.y=function(t){return arguments.length?(r=t,i):r},i}function p(t){t.sort((function(t,e){return t-e}));var e=t.length/2;return e%1==0?(t[e-1]+t[e])/2:t[Math.floor(e)]}var v=2,g=1e-12;function m(){var t=function(t){return t[0]},n=function(t){return t[1]},r=.3;function i(i){for(var a=e(o(i,t,n,!0),4),c=a[0],l=a[1],u=a[2],s=a[3],h=c.length,d=Math.max(2,~~(r*h)),m=new Float64Array(h),w=new Float64Array(h),S=new Float64Array(h).fill(1),k=-1;++k<=v;){for(var C=[0,d-1],O=0;O<h;++O){for(var E=c[O],M=C[0],A=C[1],P=E-c[M]>c[A]-E?M:A,_=0,D=0,T=0,Z=0,F=0,j=1/Math.abs(c[P]-E||1),I=M;I<=A;++I){var R=c[I],L=l[I],N=y(Math.abs(E-R)*j)*S[I],B=R*N;_+=N,D+=B,T+=L*N,Z+=L*B,F+=R*B}var z=e(f(D/_,T/_,Z/_,F/_),2),U=z[0],H=z[1];m[O]=U+H*E,w[O]=Math.abs(l[O]-m[O]),b(c,O+1,C)}if(k===v)break;var W=p(w);if(Math.abs(W)<g)break;for(var V,G,X=0;X<h;++X)V=w[X]/(6*W),S[X]=V>=1?g:(G=1-V*V)*G}return x(c,m,u,s)}return i.bandwidth=function(t){return arguments.length?(r=t,i):r},i.x=function(e){return arguments.length?(t=e,i):t},i.y=function(t){return arguments.length?(n=t,i):n},i}function y(t){return(t=1-t*t*t)*t*t}function b(t,e,n){var r=t[e],i=n[0],o=n[1]+1;if(!(o>=t.length))for(;e>i&&t[o]-r<=r-t[i];)n[0]=++i,n[1]=o,++o}function x(t,e,n,r){for(var i,o=t.length,a=[],c=0,l=0,u=[];c<o;++c)i=t[c]+n,u[0]===i?u[1]+=(e[c]-u[1])/++l:(l=0,u[1]+=r,u=[i,e[c]],a.push(u));return u[1]+=r,a}function w(){var t,n=function(t){return t[0]},r=function(t){return t[1]},i=Math.E;function o(o){var l=0,u=0,h=0,d=0,p=0,v=t?+t[0]:1/0,g=t?+t[1]:-1/0,m=Math.log(i);a(o,n,r,(function(e,n){var r=Math.log(e)/m;++l,u+=(r-u)/l,h+=(n-h)/l,d+=(r*n-d)/l,p+=(r*r-p)/l,t||(e<v&&(v=e),e>g&&(g=e))}));var y=e(f(u,h,d,p),2),b=y[0],x=y[1],w=function(t){return x*Math.log(t)/m+b},S=s(v,g,w);return S.a=x,S.b=b,S.predict=w,S.rSquared=c(o,n,r,h,w),S}return o.domain=function(e){return arguments.length?(t=e,o):t},o.x=function(t){return arguments.length?(n=t,o):n},o.y=function(t){return arguments.length?(r=t,o):r},o.base=function(t){return arguments.length?(i=t,o):i},o}function S(){var t,n=function(t){return t[0]},r=function(t){return t[1]};function i(i){var l,u,f,h,d=e(o(i,n,r),4),p=d[0],v=d[1],g=d[2],m=d[3],y=p.length,b=0,x=0,w=0,S=0,k=0;for(l=0;l<y;)u=p[l],f=v[l++],b+=((h=u*u)-b)/l,x+=(h*u-x)/l,w+=(h*h-w)/l,S+=(u*f-S)/l,k+=(h*f-k)/l;var C=0,O=0,E=t?+t[0]:1/0,M=t?+t[1]:-1/0;a(i,n,r,(function(e,n){O++,C+=(n-C)/O,t||(e<E&&(E=e),e>M&&(M=e))}));var A=w-b*b,P=b*A-x*x,_=(k*b-S*x)/P,D=(S*A-k*x)/P,T=-_*b,Z=function(t){return _*(t-=g)*t+D*t+T+m},F=s(E,M,Z);return F.a=_,F.b=D-2*_*g,F.c=T-D*g+_*g*g+m,F.predict=Z,F.rSquared=c(i,n,r,C,Z),F}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(n=t,i):n},i.y=function(t){return arguments.length?(r=t,i):r},i}function k(){var t,n=function(t){return t[0]},r=function(t){return t[1]},i=3;function l(l){if(1===i){var u=d().x(n).y(r).domain(t)(l);return u.coefficients=[u.b,u.a],delete u.a,delete u.b,u}if(2===i){var f=S().x(n).y(r).domain(t)(l);return f.coefficients=[f.c,f.b,f.a],delete f.a,delete f.b,delete f.c,f}var h,p,v,g,m,y=e(o(l,n,r),4),b=y[0],x=y[1],w=y[2],k=y[3],E=b.length,M=[],A=[],P=i+1,_=0,D=0,T=t?+t[0]:1/0,Z=t?+t[1]:-1/0;for(a(l,n,r,(function(e,n){++D,_+=(n-_)/D,t||(e<T&&(T=e),e>Z&&(Z=e))})),h=0;h<P;++h){for(v=0,g=0;v<E;++v)g+=Math.pow(b[v],h)*x[v];for(M.push(g),m=new Float64Array(P),p=0;p<P;++p){for(v=0,g=0;v<E;++v)g+=Math.pow(b[v],h+p);m[p]=g}A.push(m)}A.push(M);var F=O(A),j=function(t){t-=w;var e=k+F[0]+F[1]*t+F[2]*t*t;for(h=3;h<P;++h)e+=F[h]*Math.pow(t,h);return e},I=s(T,Z,j);return I.coefficients=C(P,F,-w,k),I.predict=j,I.rSquared=c(l,n,r,_,j),I}return l.domain=function(e){return arguments.length?(t=e,l):t},l.x=function(t){return arguments.length?(n=t,l):n},l.y=function(t){return arguments.length?(r=t,l):r},l.order=function(t){return arguments.length?(i=t,l):i},l}function C(t,e,n,r){var i,o,a,c,l=Array(t);for(i=0;i<t;++i)l[i]=0;for(i=t-1;i>=0;--i)for(a=e[i],c=1,l[i]+=a,o=1;o<=i;++o)c*=(i+1-o)/o,l[i-o]+=a*Math.pow(n,o)*c;return l[0]+=r,l}function O(t){var e,n,r,i,o,a=t.length-1,c=[];for(e=0;e<a;++e){for(i=e,n=e+1;n<a;++n)Math.abs(t[e][n])>Math.abs(t[e][i])&&(i=n);for(r=e;r<a+1;++r)o=t[r][e],t[r][e]=t[r][i],t[r][i]=o;for(n=e+1;n<a;++n)for(r=a;r>=e;r--)t[r][n]-=t[r][e]*t[e][n]/t[e][e]}for(n=a-1;n>=0;--n){for(o=0,r=n+1;r<a;++r)o+=t[r][n]*c[r];c[n]=(t[a][n]-o)/t[n][n]}return c}function E(){var t,n=function(t){return t[0]},r=function(t){return t[1]};function i(i){var o=0,l=0,u=0,h=0,d=0,p=0,v=t?+t[0]:1/0,g=t?+t[1]:-1/0;a(i,n,r,(function(e,n){var r=Math.log(e),i=Math.log(n);++o,l+=(r-l)/o,u+=(i-u)/o,h+=(r*i-h)/o,d+=(r*r-d)/o,p+=(n-p)/o,t||(e<v&&(v=e),e>g&&(g=e))}));var m=e(f(l,u,h,d),2),y=m[0],b=m[1];y=Math.exp(y);var x=function(t){return y*Math.pow(t,b)},w=s(v,g,x);return w.a=y,w.b=b,w.predict=x,w.rSquared=c(i,n,r,p,x),w}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(n=t,i):n},i.y=function(t){return arguments.length?(r=t,i):r},i}t.regressionExp=h,t.regressionLinear=d,t.regressionLoess=m,t.regressionLog=w,t.regressionPoly=k,t.regressionPow=E,t.regressionQuad=S,Object.defineProperty(t,"__esModule",{value:!0})}(e)},23537:function(t,e,n){"use strict";n.d(e,{qY:function(){return d}});var r=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},i=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"},o=function(t){this.version=t,this.type="node",this.name="node",this.os=process.platform},a=function(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"},c=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},l=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},u=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,s=3,f=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],h=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function d(t){return t?v(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new l:"undefined"!=typeof navigator?v(navigator.userAgent):"undefined"!=typeof process&&process.version?new o(process.version.slice(1)):null}function p(t){return""!==t&&f.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]}),!1)}function v(t){var e=p(t);if(!e)return null;var n=e[0],o=e[1];if("searchbot"===n)return new c;var l=o[1]&&o[1].split(".").join("_").split("_").slice(0,3);l?l.length<s&&(l=r(r([],l,!0),function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(s-l.length),!0)):l=[];var f=l.join("."),d=function(t){for(var e=0,n=h.length;e<n;e++){var r=h[e],i=r[0];if(r[1].exec(t))return i}return null}(t),v=u.exec(t);return v&&v[1]?new a(n,f,d,v[1]):new i(n,f,d)}},2412:function(t){"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!=i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!=e&&n!=n}},16726:function(t){"use strict";t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var n,r="boolean"==typeof e.cycles&&e.cycles,i=e.cmp&&(n=e.cmp,function(t){return function(e,r){var i={key:e,value:t[e]},o={key:r,value:t[r]};return n(i,o)}}),o=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var n,a;if(Array.isArray(e)){for(a="[",n=0;n<e.length;n++)n&&(a+=","),a+=t(e[n])||"null";return a+"]"}if(null===e)return"null";if(-1!==o.indexOf(e)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=o.push(e)-1,l=Object.keys(e).sort(i&&i(e));for(a="",n=0;n<l.length;n++){var u=l[n],s=t(e[u]);s&&(a&&(a+=","),a+=JSON.stringify(u)+":"+s)}return o.splice(c,1),"{"+a+"}"}}(t)}},13125:function(t,e){!function(t){"use strict";function e(t,e,n,r){var i=(r=r||{}).maxIterations||100,o=r.tolerance||1e-10,a=t(e),c=t(n),l=n-e;if(a*c>0)throw"Initial bisect points must have opposite signs";if(0===a)return e;if(0===c)return n;for(var u=0;u<i;++u){var s=e+(l/=2),f=t(s);if(f*a>=0&&(e=s),Math.abs(l)<o||0===f)return s}return e+l}function n(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function r(t,e){return n(t).map((function(){return n(e)}))}function i(t,e){for(var n=0,r=0;r<t.length;++r)n+=t[r]*e[r];return n}function o(t){return Math.sqrt(i(t,t))}function a(t,e,n){for(var r=0;r<e.length;++r)t[r]=e[r]*n}function c(t,e,n,r,i){for(var o=0;o<t.length;++o)t[o]=e*n[o]+r*i[o]}function l(t,e,n){var r,i=(n=n||{}).maxIterations||200*e.length,o=n.nonZeroDelta||1.05,a=n.zeroDelta||.001,l=n.minErrorDelta||1e-6,u=n.minErrorDelta||1e-5,s=void 0!==n.rho?n.rho:1,f=void 0!==n.chi?n.chi:2,h=void 0!==n.psi?n.psi:-.5,d=void 0!==n.sigma?n.sigma:.5,p=e.length,v=new Array(p+1);v[0]=e,v[0].fx=t(e),v[0].id=0;for(var g=0;g<p;++g){var m=e.slice();m[g]=m[g]?m[g]*o:a,v[g+1]=m,v[g+1].fx=t(m),v[g+1].id=g+1}function y(t){for(var e=0;e<t.length;e++)v[p][e]=t[e];v[p].fx=t.fx}for(var b=function(t,e){return t.fx-e.fx},x=e.slice(),w=e.slice(),S=e.slice(),k=e.slice(),C=0;C<i;++C){if(v.sort(b),n.history){var O=v.map((function(t){var e=t.slice();return e.fx=t.fx,e.id=t.id,e}));O.sort((function(t,e){return t.id-e.id})),n.history.push({x:v[0].slice(),fx:v[0].fx,simplex:O})}for(r=0,g=0;g<p;++g)r=Math.max(r,Math.abs(v[0][g]-v[1][g]));if(Math.abs(v[0].fx-v[p].fx)<l&&r<u)break;for(g=0;g<p;++g){x[g]=0;for(var E=0;E<p;++E)x[g]+=v[E][g];x[g]/=p}var M=v[p];if(c(w,1+s,x,-s,M),w.fx=t(w),w.fx<v[0].fx)c(k,1+f,x,-f,M),k.fx=t(k),k.fx<w.fx?y(k):y(w);else if(w.fx>=v[p-1].fx){var A=!1;if(w.fx>M.fx?(c(S,1+h,x,-h,M),S.fx=t(S),S.fx<M.fx?y(S):A=!0):(c(S,1-h*s,x,h*s,M),S.fx=t(S),S.fx<w.fx?y(S):A=!0),A){if(d>=1)break;for(g=1;g<v.length;++g)c(v[g],1-d,v[0],d,v[g]),v[g].fx=t(v[g])}}else y(w)}return v.sort(b),{fx:v[0].fx,x:v[0]}}function u(t,e,n,r,o,a,l){var u=n.fx,s=i(n.fxprime,e),f=u,h=u,d=s,p=0;function v(h,p,v){for(var g=0;g<16;++g)if(o=(h+p)/2,c(r.x,1,n.x,o,e),f=r.fx=t(r.x,r.fxprime),d=i(r.fxprime,e),f>u+a*o*s||f>=v)p=o;else{if(Math.abs(d)<=-l*s)return o;d*(p-h)>=0&&(p=h),h=o,v=f}return 0}o=o||1,a=a||1e-6,l=l||.1;for(var g=0;g<10;++g){if(c(r.x,1,n.x,o,e),f=r.fx=t(r.x,r.fxprime),d=i(r.fxprime,e),f>u+a*o*s||g&&f>=h)return v(p,o,h);if(Math.abs(d)<=-l*s)return o;if(d>=0)return v(o,p,f);h=f,p=o,o*=2}return o}function s(t,e,n){var r,l,s,f={x:e.slice(),fx:0,fxprime:e.slice()},h={x:e.slice(),fx:0,fxprime:e.slice()},d=e.slice(),p=1;s=(n=n||{}).maxIterations||20*e.length,f.fx=t(f.x,f.fxprime),a(r=f.fxprime.slice(),f.fxprime,-1);for(var v=0;v<s;++v){if(p=u(t,r,f,h,p),n.history&&n.history.push({x:f.x.slice(),fx:f.fx,fxprime:f.fxprime.slice(),alpha:p}),p){c(d,1,h.fxprime,-1,f.fxprime);var g=i(f.fxprime,f.fxprime);c(r,Math.max(0,i(d,h.fxprime)/g),r,-1,h.fxprime),l=f,f=h,h=l}else a(r,f.fxprime,-1);if(o(f.fxprime)<=1e-5)break}return n.history&&n.history.push({x:f.x.slice(),fx:f.fx,fxprime:f.fxprime.slice(),alpha:p}),f}function f(t,e,n){for(var r=(n=n||{}).maxIterations||100*e.length,i=n.learnRate||.001,a={x:e.slice(),fx:0,fxprime:e.slice()},l=0;l<r&&(a.fx=t(a.x,a.fxprime),n.history&&n.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice()}),c(a.x,1,a.x,-i,a.fxprime),!(o(a.fxprime)<=1e-5));++l);return a}function h(t,e,n){n=n||{};var r,i={x:e.slice(),fx:0,fxprime:e.slice()},c={x:e.slice(),fx:0,fxprime:e.slice()},l=n.maxIterations||100*e.length,s=n.learnRate||1,f=e.slice(),h=n.c1||.001,d=n.c2||.1,p=[];if(n.history){var v=t;t=function(t,e){return p.push(t.slice()),v(t,e)}}i.fx=t(i.x,i.fxprime);for(var g=0;g<l&&(a(f,i.fxprime,-1),s=u(t,f,i,c,s,h,d),n.history&&(n.history.push({x:i.x.slice(),fx:i.fx,fxprime:i.fxprime.slice(),functionCalls:p,learnRate:s,alpha:s}),p=[]),r=i,i=c,c=r,!(0===s||o(i.fxprime)<1e-5));++g);return i}t.bisect=e,t.nelderMead=l,t.conjugateGradient=s,t.gradientDescent=f,t.gradientDescentLineSearch=h,t.zeros=n,t.zerosM=r,t.norm2=o,t.weightedSum=c,t.scale=a}(e)},30739:function(t,e,n){"use strict";n.d(e,{WT:function(){return r}});n(25438);var r="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},20593:function(t,e,n){"use strict";n.d(e,{Jp:function(){return i},U_:function(){return r},Us:function(){return a},vc:function(){return o},xJ:function(){return c}});n(25438);function r(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],c=e[5],l=e[6],u=e[7],s=e[8],f=s*a-c*u,h=-s*o+c*l,d=u*o-a*l,p=n*f+r*h+i*d;return p?(p=1/p,t[0]=f*p,t[1]=(-s*r+i*u)*p,t[2]=(c*r-i*a)*p,t[3]=h*p,t[4]=(s*n-i*l)*p,t[5]=(-c*n+i*o)*p,t[6]=d*p,t[7]=(-u*n+r*l)*p,t[8]=(a*n-r*o)*p,t):null}function i(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],c=e[4],l=e[5],u=e[6],s=e[7],f=e[8],h=n[0],d=n[1],p=n[2],v=n[3],g=n[4],m=n[5],y=n[6],b=n[7],x=n[8];return t[0]=h*r+d*a+p*u,t[1]=h*i+d*c+p*s,t[2]=h*o+d*l+p*f,t[3]=v*r+g*a+m*u,t[4]=v*i+g*c+m*s,t[5]=v*o+g*l+m*f,t[6]=y*r+b*a+x*u,t[7]=y*i+b*c+x*s,t[8]=y*o+b*l+x*f,t}function o(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function a(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function c(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}},17647:function(t,e,n){"use strict";n.d(e,{$X:function(){return o},AK:function(){return h},EU:function(){return p},Fp:function(){return c},Fv:function(){return f},I6:function(){return v},IH:function(){return i},TE:function(){return u},VV:function(){return a},bA:function(){return l},kE:function(){return s},kK:function(){return d},lu:function(){return y}});n(25438);var r=n(30739);function i(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function a(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function c(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function l(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function u(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function s(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function f(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function h(t,e){return t[0]*e[0]+t[1]*e[1]}function d(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function p(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),c=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(c,-1),1))}function v(t,e){return t[0]===e[0]&&t[1]===e[1]}var g,m,y=o;g=new r.WT(2),r.WT!=Float32Array&&(g[0]=0,g[1]=0),m=g},70080:function(t){"use strict";var e=/("(?:[^\\"]|\\.)*")|[:,]/g;t.exports=function(t,n){var r,i,o;return n=n||{},r=JSON.stringify([1],void 0,void 0===n.indent?2:n.indent).slice(2,-3),i=""===r?1/0:void 0===n.maxLength?80:n.maxLength,o=n.replacer,function t(n,a,c){var l,u,s,f,h,d,p,v,g,m,y,b;if(n&&"function"==typeof n.toJSON&&(n=n.toJSON()),void 0===(y=JSON.stringify(n,o)))return y;if(p=i-a.length-c,y.length<=p&&(g=y.replace(e,(function(t,e){return e||t+" "}))).length<=p)return g;if(null!=o&&(n=JSON.parse(y),o=void 0),"object"==typeof n&&null!==n){if(v=a+r,s=[],u=0,Array.isArray(n))for(m="[",l="]",p=n.length;u<p;u++)s.push(t(n[u],v,u===p-1?0:1)||"null");else for(m="{",l="}",p=(d=Object.keys(n)).length;u<p;u++)f=d[u],h=JSON.stringify(f)+": ",void 0!==(b=t(n[f],v,h.length+(u===p-1?0:1)))&&s.push(h+b);if(s.length>0)return[m,r+s.join(",\n"+v),l].join("\n"+a)}return y}(t,"",0)}},62598:function(t){"use strict";var e=t.exports;t.exports.isNumber=function(t){return"number"==typeof t},t.exports.findMin=function(t){if(0===t.length)return 1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.min(e,t[n]);return e},t.exports.findMax=function(t){if(0===t.length)return-1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.max(e,t[n]);return e},t.exports.findMinMulti=function(t){for(var n=e.findMin(t[0]),r=1;r<t.length;r++)n=Math.min(n,e.findMin(t[r]));return n},t.exports.findMaxMulti=function(t){for(var n=e.findMax(t[0]),r=1;r<t.length;r++)n=Math.max(n,e.findMax(t[r]));return n},t.exports.inside=function(t,e,n){return t<=n&&n<=e}},18698:function(t,e,n){"use strict";var r=Math.log(2),i=t.exports,o=n(62598);function a(t){return 1-Math.abs(t)}t.exports.getUnifiedMinMax=function(t,e){return i.getUnifiedMinMaxMulti([t],e)},t.exports.getUnifiedMinMaxMulti=function(t,e){e=e||{};var n=!1,r=!1,i=o.isNumber(e.width)?e.width:2,a=o.isNumber(e.size)?e.size:50,c=o.isNumber(e.min)?e.min:(n=!0,o.findMinMulti(t)),l=o.isNumber(e.max)?e.max:(r=!0,o.findMaxMulti(t)),u=(l-c)/(a-1);return n&&(c-=2*i*u),r&&(l+=2*i*u),{min:c,max:l}},t.exports.create=function(t,e){if(e=e||{},!t||0===t.length)return[];var n=o.isNumber(e.size)?e.size:50,r=o.isNumber(e.width)?e.width:2,c=i.getUnifiedMinMax(t,{size:n,width:r,min:e.min,max:e.max}),l=c.min,u=c.max-l,s=u/(n-1);if(0===u)return[{x:l,y:1}];for(var f=[],h=0;h<n;h++)f.push({x:l+h*s,y:0});var d=function(t,e){for(var n={},r=0,i=-e;i<=e;i++)r+=t(i/e),n[i]=r;return n}(a,r),p=d[r],v=d[r-1]-d[r-2],g=0;t.forEach((function(t){var e=function(t){return Math.floor((t-l)/s)}(t);if(!(e+r<0||e-r>=f.length)){var n=Math.max(e-r,0),i=e,a=Math.min(e+r,f.length-1),c=n-(e-r),u=e+r-a,h=d[-r-1+c]||0,m=d[-r-1+u]||0,y=p/(p-h-m);c>0&&(g+=y*(c-1)*v);var b=Math.max(0,e-r+1);o.inside(0,f.length-1,b)&&(f[b].y+=1*y*v),o.inside(0,f.length-1,i+1)&&(f[i+1].y-=2*y*v),o.inside(0,f.length-1,a+1)&&(f[a+1].y+=1*y*v)}}));var m=g,y=0,b=0;return f.forEach((function(t){y+=t.y,m+=y,t.y=m,b+=m})),b>0&&f.forEach((function(t){t.y/=b})),f},t.exports.getExpectedValueFromPdf=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){e+=t.x*t.y})),e}},t.exports.getXWithLeftTailArea=function(t,e){if(t&&0!==t.length){for(var n=0,r=0,i=0;i<t.length&&(r=i,!((n+=t[i].y)>=e));i++);return t[r].x}},t.exports.getPerplexity=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){var n=Math.log(t.y);isFinite(n)&&(e+=t.y*n)})),e=-e/r,Math.pow(2,e)}}},45816:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SensorTabIndex=e.SensorClassName=e.SizeSensorId=void 0;e.SizeSensorId="size-sensor-id";e.SensorClassName="size-sensor-object";e.SensorTabIndex="-1"},17636:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=null;return function(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];clearTimeout(n),n=setTimeout((function(){t.apply(r,o)}),e)}}},4088:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=1;e.default=function(){return"".concat(n++)}},11760:function(t,e,n){"use strict";e.ak=void 0;var r=n(88435);e.ak=function(t,e){var n=(0,r.getSensor)(t);return n.bind(e),function(){n.unbind(e)}}},88435:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeSensor=e.getSensor=void 0;var r,i=(r=n(4088))&&r.__esModule?r:{default:r},o=n(6338),a=n(45816);var c={};e.getSensor=function(t){var e=t.getAttribute(a.SizeSensorId);if(e&&c[e])return c[e];var n=(0,i.default)();t.setAttribute(a.SizeSensorId,n);var r=(0,o.createSensor)(t);return c[n]=r,r};e.removeSensor=function(t){var e=t.element.getAttribute(a.SizeSensorId);t.element.removeAttribute(a.SizeSensorId),t.destroy(),e&&c[e]&&delete c[e]}},6338:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var r=n(27902),i=n(52367),o="undefined"!=typeof ResizeObserver?i.createSensor:r.createSensor;e.createSensor=o},27902:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var r,i=(r=n(17636))&&r.__esModule?r:{default:r},o=n(45816);e.createSensor=function(t){var e=void 0,n=[],r=(0,i.default)((function(){n.forEach((function(e){e(t)}))})),a=function(){e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",r),e.parentNode.removeChild(e),e=void 0,n=[])};return{element:t,bind:function(i){e||(e=function(){"static"===getComputedStyle(t).position&&(t.style.position="relative");var e=document.createElement("object");return e.onload=function(){e.contentDocument.defaultView.addEventListener("resize",r),r()},e.style.display="block",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.height="100%",e.style.width="100%",e.style.overflow="hidden",e.style.pointerEvents="none",e.style.zIndex="-1",e.style.opacity="0",e.setAttribute("class",o.SensorClassName),e.setAttribute("tabindex",o.SensorTabIndex),e.type="text/html",t.appendChild(e),e.data="about:blank",e}()),-1===n.indexOf(i)&&n.push(i)},destroy:a,unbind:function(t){var r=n.indexOf(t);-1!==r&&n.splice(r,1),0===n.length&&e&&a()}}}},52367:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSensor=void 0;var r,i=(r=n(17636))&&r.__esModule?r:{default:r};e.createSensor=function(t){var e=void 0,n=[],r=(0,i.default)((function(){n.forEach((function(e){e(t)}))})),o=function(){e.disconnect(),n=[],e=void 0};return{element:t,bind:function(i){var o;e||((o=new ResizeObserver(r)).observe(t),r(),e=o),-1===n.indexOf(i)&&n.push(i)},destroy:o,unbind:function(t){var r=n.indexOf(t);-1!==r&&n.splice(r,1),0===n.length&&e&&o()}}}},70903:function(t,e,n){"use strict";n.d(e,{CR:function(){return s},Jh:function(){return l},XA:function(){return u},ZT:function(){return i},_T:function(){return a},ev:function(){return h},mG:function(){return c},pi:function(){return o},pr:function(){return f}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function c(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}l((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(6===c[0]&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(l){c=[6,l],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}Object.create;function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(c){i={error:c}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function f(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,c=o.length;a<c;a++,i++)r[i]=o[a];return r}function h(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"==typeof SuppressedError&&SuppressedError},10647:function(t,e,n){"use strict";var r=n(1702),i=n(47908),o=Math.floor,a=r("".charAt),c=r("".replace),l=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,f,h){var d=n+t.length,p=r.length,v=s;return void 0!==f&&(f=i(f),v=u),c(h,v,(function(i,c){var u;switch(a(c,0)){case"$":return"$";case"&":return t;case"`":return l(e,0,n);case"'":return l(e,d);case"<":u=f[l(c,1,-1)];break;default:var s=+c;if(0===s)return i;if(s>p){var h=o(s/10);return 0===h?i:h<=p?void 0===r[h-1]?a(c,1):r[h-1]+a(c,1):i}u=r[s-1]}return void 0===u?"":u}))}},47850:function(t,e,n){"use strict";var r=n(70111),i=n(84326),o=n(5112)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},67066:function(t,e,n){"use strict";var r=n(19670);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},34706:function(t,e,n){"use strict";var r=n(46916),i=n(92597),o=n(47976),a=n(67066),c=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in c||i(t,"flags")||!o(c,t)?e:r(a,t)}},41340:function(t,e,n){"use strict";var r=n(70648),i=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},84944:function(t,e,n){"use strict";var r=n(82109),i=n(6790),o=n(47908),a=n(26244),c=n(19303),l=n(65417);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),n=a(e),r=l(e,0);return r.length=i(r,e,e,n,0,void 0===t?1:c(t)),r}})},33792:function(t,e,n){"use strict";n(51223)("flat")},25438:function(t,e,n){"use strict";var r=n(82109),i=Math.hypot,o=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,i=0,c=0,l=arguments.length,u=0;c<l;)u<(n=o(arguments[c++]))?(i=i*(r=u/n)*r+1,u=n):i+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*a(i)}})},68757:function(t,e,n){"use strict";var r=n(82109),i=n(46916),o=n(1702),a=n(84488),c=n(60614),l=n(68554),u=n(47850),s=n(41340),f=n(58173),h=n(34706),d=n(10647),p=n(5112),v=n(31913),g=p("replace"),m=TypeError,y=o("".indexOf),b=o("".replace),x=o("".slice),w=Math.max,S=function(t,e,n){return n>t.length?-1:""===e?n:y(t,e,n)};r({target:"String",proto:!0},{replaceAll:function(t,e){var n,r,o,p,k,C,O,E,M,A=a(this),P=0,_=0,D="";if(!l(t)){if((n=u(t))&&(r=s(a(h(t))),!~y(r,"g")))throw m("`.replaceAll` does not allow non-global regexes");if(o=f(t,g))return i(o,t,A,e);if(v&&n)return b(s(A),t,e)}for(p=s(A),k=s(t),(C=c(e))||(e=s(e)),O=k.length,E=w(1,O),P=S(p,k,0);-1!==P;)M=C?s(e(k,P,p)):d(k,p,P,[],void 0,e),D+=x(p,_,P)+M,_=P+O,P=S(p,k,P+E);return _<p.length&&(D+=x(p,_)),D}})},27207:function(t,e,n){"use strict";n(68757)},37128:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return Z2t}});var r={};n.r(r),n.d(r,{JsonPatchError:function(){return oy},_areEquals:function(){return vy},applyOperation:function(){return sy},applyPatch:function(){return fy},applyReducer:function(){return hy},deepClone:function(){return ay},getValueByPointer:function(){return uy},validate:function(){return py},validator:function(){return dy}});var i={};n.r(i),n.d(i,{compare:function(){return ky},generate:function(){return wy},observe:function(){return xy},unobserve:function(){return by}});var o={};n.r(o),n.d(o,{aggregate:function(){return QM},bin:function(){return tA},collect:function(){return nA},compare:function(){return rA},countpattern:function(){return oA},cross:function(){return aA},density:function(){return sA},dotbin:function(){return vA},expression:function(){return gA},extent:function(){return yA},facet:function(){return xA},field:function(){return wA},filter:function(){return kA},flatten:function(){return CA},fold:function(){return OA},formula:function(){return EA},generate:function(){return MA},impute:function(){return _A},joinaggregate:function(){return DA},kde:function(){return TA},key:function(){return ZA},load:function(){return jA},lookup:function(){return RA},multiextent:function(){return LA},multivalues:function(){return BA},params:function(){return UA},pivot:function(){return HA},prefacet:function(){return WA},project:function(){return VA},proxy:function(){return GA},quantile:function(){return XA},relay:function(){return qA},sample:function(){return YA},sequence:function(){return $A},sieve:function(){return KA},subflow:function(){return bA},timeunit:function(){return JA},tupleindex:function(){return tP},values:function(){return eP},window:function(){return aP}});var a={};n.r(a),n.d(a,{interpolate:function(){return fD.Z},interpolateArray:function(){return fF.Z},interpolateBasis:function(){return hF.Z},interpolateBasisClosed:function(){return dF.Z},interpolateCubehelix:function(){return bj},interpolateCubehelixLong:function(){return xj},interpolateDate:function(){return pF.Z},interpolateDiscrete:function(){return vF},interpolateHcl:function(){return ij},interpolateHclLong:function(){return oj},interpolateHsl:function(){return ZF},interpolateHslLong:function(){return FF},interpolateHue:function(){return mF},interpolateLab:function(){return nj},interpolateNumber:function(){return hD.Z},interpolateNumberArray:function(){return bF.Z},interpolateObject:function(){return xF.Z},interpolateRgb:function(){return _F.ZP},interpolateRgbBasis:function(){return _F.hD},interpolateRgbBasisClosed:function(){return _F.YD},interpolateRound:function(){return dD},interpolateString:function(){return wF.Z},interpolateTransformCss:function(){return EF},interpolateTransformSvg:function(){return MF},interpolateZoom:function(){return PF},piecewise:function(){return HZ},quantize:function(){return wj}});var c={};n.r(c),n.d(c,{bound:function(){return sU},identifier:function(){return dU},mark:function(){return pU},overlap:function(){return vU},render:function(){return SU},viewlayout:function(){return WU}});var l={};n.r(l),n.d(l,{axisticks:function(){return qU},datajoin:function(){return YU},encode:function(){return KU},legendentries:function(){return JU},linkpath:function(){return rH},pie:function(){return lH},scale:function(){return hH},sortitems:function(){return gH},stack:function(){return wH}});var u={};n.r(u),n.d(u,{contour:function(){return pX},geojson:function(){return mX},geopath:function(){return yX},geopoint:function(){return bX},geoshape:function(){return xX},graticule:function(){return wX},heatmap:function(){return SX},isocontour:function(){return iX},kde2d:function(){return fX},projection:function(){return CX}});var s={};n.r(s),n.d(s,{force:function(){return kq}});var f={};n.r(f),n.d(f,{nest:function(){return LY},pack:function(){return WY},partition:function(){return GY},stratify:function(){return XY},tree:function(){return $Y},treelinks:function(){return KY},treemap:function(){return t$}});var h={};n.r(h),n.d(h,{label:function(){return E$}});var d={};n.r(d),n.d(d,{loess:function(){return A$},regression:function(){return _$}});var p={};n.r(p),n.d(p,{voronoi:function(){return vK}});var v={};n.r(v),n.d(v,{wordcloud:function(){return DK}});var g={};n.r(g),n.d(g,{crossfilter:function(){return LK},resolvefilter:function(){return NK}});var m={};n.r(m),n.d(m,{Bounds:function(){return zR},CanvasHandler:function(){return yB},CanvasRenderer:function(){return kB},DATE:function(){return Xw},DAY:function(){return qw},DAYOFYEAR:function(){return Yw},Dataflow:function(){return aE},Debug:function(){return Gy},Error:function(){return Hy},EventStream:function(){return BO},Gradient:function(){return VI},GroupItem:function(){return HR},HOURS:function(){return $w},Handler:function(){return tB},Info:function(){return Vy},Item:function(){return UR},MILLISECONDS:function(){return Qw},MINUTES:function(){return Kw},MONTH:function(){return Vw},Marks:function(){return LN},MultiPulse:function(){return QO},None:function(){return Uy},Operator:function(){return RO},Parameters:function(){return FO},Pulse:function(){return YO},QUARTER:function(){return Ww},RenderType:function(){return pz},Renderer:function(){return nB},ResourceLoader:function(){return WR},SECONDS:function(){return Jw},SVGHandler:function(){return OB},SVGRenderer:function(){return KB},SVGStringRenderer:function(){return fz},Scenegraph:function(){return GN},TIME_UNITS:function(){return tS},Transform:function(){return lE},View:function(){return I5},WEEK:function(){return Gw},Warn:function(){return Wy},YEAR:function(){return Hw},accessor:function(){return Ey},accessorFields:function(){return Ay},accessorName:function(){return My},array:function(){return bb},ascending:function(){return Cb},bandwidthNRD:function(){return NE},bin:function(){return BE},bootstrapCI:function(){return HE},boundClip:function(){return Sz},boundContext:function(){return fL},boundItem:function(){return NN},boundMark:function(){return zN},boundStroke:function(){return XR},changeset:function(){return TO},clampRange:function(){return xb},codegenExpression:function(){return a0},compare:function(){return kb},constant:function(){return Ab},cumulativeLogNormal:function(){return iM},cumulativeNormal:function(){return JE},cumulativeUniform:function(){return sM},dayofyear:function(){return cS},debounce:function(){return Pb},defaultLocale:function(){return LC},definition:function(){return sE},densityLogNormal:function(){return rM},densityNormal:function(){return KE},densityUniform:function(){return uM},domChild:function(){return $N},domClear:function(){return KN},domCreate:function(){return qN},domFind:function(){return YN},dotbin:function(){return WE},error:function(){return Ty},expressionFunction:function(){return E2},extend:function(){return _b},extent:function(){return Db},extentIndex:function(){return Tb},falsy:function(){return By},fastmap:function(){return Ib},field:function(){return Fy},flush:function(){return Rb},font:function(){return _N},fontFamily:function(){return PN},fontSize:function(){return CN},format:function(){return hJ},formatLocale:function(){return _C},formats:function(){return dJ},hasOwnProperty:function(){return Fb},id:function(){return jy},identity:function(){return Iy},inferType:function(){return oJ},inferTypes:function(){return aJ},ingest:function(){return EO},inherits:function(){return Lb},inrange:function(){return Nb},interpolate:function(){return fI},interpolateColors:function(){return lI},interpolateRange:function(){return cI},intersect:function(){return mz},intersectBoxLine:function(){return SL},intersectPath:function(){return yL},intersectPoint:function(){return bL},intersectRule:function(){return wL},isArray:function(){return qy},isBoolean:function(){return Bb},isDate:function(){return zb},isFunction:function(){return wb},isIterable:function(){return Ub},isNumber:function(){return Hb},isObject:function(){return Yy},isRegExp:function(){return Wb},isString:function(){return Vb},isTuple:function(){return kO},key:function(){return Gb},lerp:function(){return Xb},lineHeight:function(){return ON},loader:function(){return wJ},locale:function(){return RC},logger:function(){return Xy},lruCache:function(){return Yb},markup:function(){return HB},merge:function(){return $b},mergeConfig:function(){return Ky},multiLineOffset:function(){return MN},one:function(){return Ly},pad:function(){return Jb},panLinear:function(){return lb},panLog:function(){return ub},panPow:function(){return sb},panSymlog:function(){return fb},parse:function(){return S7},parseExpression:function(){return r0},parseSelector:function(){return t3},path:function(){return C_},pathCurves:function(){return XI},pathEqual:function(){return Oz},pathParse:function(){return QI},pathRectangle:function(){return kR},pathRender:function(){return sR},pathSymbols:function(){return pR},pathTrail:function(){return CR},peek:function(){return tb},point:function(){return QN},projection:function(){return WG},quantileLogNormal:function(){return oM},quantileNormal:function(){return QE},quantileUniform:function(){return fM},quantiles:function(){return RE},quantizeInterpolator:function(){return uI},quarter:function(){return mb},quartiles:function(){return LE},random:function(){return zE},randomInteger:function(){return GE},randomKDE:function(){return eM},randomLCG:function(){return VE},randomLogNormal:function(){return aM},randomMixture:function(){return cM},randomNormal:function(){return tM},randomUniform:function(){return hM},read:function(){return vJ},regressionConstant:function(){return dM},regressionExp:function(){return xM},regressionLinear:function(){return yM},regressionLoess:function(){return MM},regressionLog:function(){return bM},regressionPoly:function(){return kM},regressionPow:function(){return wM},regressionQuad:function(){return SM},renderModule:function(){return gz},repeat:function(){return Kb},resetDefaultLocale:function(){return NC},resetSVGClipId:function(){return NR},resetSVGDefIds:function(){return Ez},responseType:function(){return pJ},runtimeContext:function(){return I2},sampleCurve:function(){return DM},sampleLogNormal:function(){return nM},sampleNormal:function(){return $E},sampleUniform:function(){return lM},scale:function(){return Kj},sceneEqual:function(){return Cz},sceneFromJSON:function(){return WN},scenePickVisit:function(){return ZL},sceneToJSON:function(){return HN},sceneVisit:function(){return TL},sceneZOrder:function(){return DL},scheme:function(){return vI},serializeXML:function(){return WB},setRandom:function(){return UE},span:function(){return Qb},splitAccessPath:function(){return Zy},stringValue:function(){return tx},textMetrics:function(){return yN},timeBin:function(){return KS},timeFloor:function(){return kS},timeFormatLocale:function(){return jC},timeInterval:function(){return PS},timeOffset:function(){return TS},timeSequence:function(){return jS},timeUnitSpecifier:function(){return iS},timeUnits:function(){return nS},toBoolean:function(){return ex},toDate:function(){return rx},toNumber:function(){return eb},toSet:function(){return ox},toString:function(){return ix},transform:function(){return fE},transforms:function(){return uE},truncate:function(){return ax},truthy:function(){return Ny},tupleid:function(){return CO},typeParsers:function(){return nJ},utcFloor:function(){return ES},utcInterval:function(){return _S},utcOffset:function(){return ZS},utcSequence:function(){return IS},utcdayofyear:function(){return dS},utcquarter:function(){return yb},utcweek:function(){return pS},version:function(){return k7},visitArray:function(){return cx},week:function(){return lS},writeConfig:function(){return Jy},zero:function(){return Ry},zoomLinear:function(){return db},zoomLog:function(){return pb},zoomPow:function(){return vb},zoomSymlog:function(){return gb}});var y={};n.r(y),n.d(y,{accessPathDepth:function(){return D9},accessPathWithDatum:function(){return O9},compile:function(){return ewt},contains:function(){return o9},deepEqual:function(){return K7},deleteNestedProperty:function(){return k9},duplicate:function(){return J7},entries:function(){return b9},every:function(){return c9},fieldIntersection:function(){return v9},flatAccessWithDatum:function(){return E9},getFirstDefined:function(){return T9},hasIntersection:function(){return d9},hash:function(){return r9},internalField:function(){return I9},isBoolean:function(){return x9},isEmpty:function(){return g9},isEqual:function(){return f9},isInternalField:function(){return R9},isNullOrFalse:function(){return i9},isNumeric:function(){return N9},keys:function(){return m9},logicalExpr:function(){return S9},mergeDeep:function(){return l9},never:function(){return Q7},normalize:function(){return mst},normalizeAngle:function(){return L9},omit:function(){return e9},pick:function(){return t9},prefixGenerator:function(){return p9},removePathFromField:function(){return _9},replaceAll:function(){return P9},replacePathInField:function(){return A9},resetIdCounter:function(){return j9},setEqual:function(){return h9},some:function(){return a9},stringify:function(){return n9},titleCase:function(){return C9},unique:function(){return s9},uniqueId:function(){return F9},vals:function(){return y9},varName:function(){return w9},version:function(){return nwt}});var b={};n.r(b),n.d(b,{carbong10:function(){return nSt},carbong100:function(){return iSt},carbong90:function(){return rSt},carbonwhite:function(){return eSt},dark:function(){return cwt},excel:function(){return uwt},fivethirtyeight:function(){return pwt},ggplot2:function(){return gwt},googlecharts:function(){return Rwt},latimes:function(){return Swt},powerbi:function(){return $wt},quartz:function(){return Owt},urbaninstitute:function(){return Zwt},version:function(){return oSt},vox:function(){return Mwt}});var x={};n.r(x),n.d(x,{assign:function(){return CEt},default:function(){return WEt},defaultI18n:function(){return AEt},format:function(){return UEt},parse:function(){return HEt},setGlobalDateI18n:function(){return _Et},setGlobalDateMasks:function(){return zEt}});var w={};n.r(w),n.d(w,{Arc:function(){return tPt},DataMarker:function(){return aPt},DataRegion:function(){return lPt},Html:function(){return bPt},Image:function(){return iPt},Line:function(){return $At},Region:function(){return nPt},RegionFilter:function(){return sPt},Shape:function(){return hPt},Text:function(){return JAt}});var S={};n.r(S),n.d(S,{ellipsisHead:function(){return OPt},ellipsisMiddle:function(){return MPt},ellipsisTail:function(){return EPt},getDefault:function(){return CPt}});var k={};n.r(k),n.d(k,{equidistance:function(){return IPt},equidistanceWithReverseBoth:function(){return RPt},getDefault:function(){return TPt},reserveBoth:function(){return jPt},reserveFirst:function(){return ZPt},reserveLast:function(){return FPt}});var C={};n.r(C),n.d(C,{fixedAngle:function(){return BPt},getDefault:function(){return NPt},unfixedAngle:function(){return zPt}});var O={};n.r(O),n.d(O,{autoEllipsis:function(){return S},autoHide:function(){return k},autoRotate:function(){return C}});var E={};n.r(E),n.d(E,{Base:function(){return qPt},Circle:function(){return JPt},Html:function(){return i_t},Line:function(){return $Pt}});var M={};n.r(M),n.d(M,{CONTAINER_CLASS:function(){return k_t},CROSSHAIR_X:function(){return __t},CROSSHAIR_Y:function(){return D_t},LIST_CLASS:function(){return O_t},LIST_ITEM_CLASS:function(){return E_t},MARKER_CLASS:function(){return M_t},NAME_CLASS:function(){return P_t},TITLE_CLASS:function(){return C_t},VALUE_CLASS:function(){return A_t}});var A={};n.r(A),n.d(A,{Base:function(){return Zjt},Circle:function(){return jjt},Ellipse:function(){return Ljt},Image:function(){return zjt},Line:function(){return Vjt},Marker:function(){return qjt},Path:function(){return oIt},Polygon:function(){return lIt},Polyline:function(){return sIt},Rect:function(){return hIt},Text:function(){return pIt}});var P={};n.r(P),n.d(P,{Canvas:function(){return bIt},Group:function(){return Djt},Shape:function(){return A},getArcParams:function(){return ujt},version:function(){return xIt}});var _={};n.r(_),n.d(_,{Base:function(){return ZIt},Circle:function(){return jIt},Dom:function(){return RIt},Ellipse:function(){return NIt},Image:function(){return zIt},Line:function(){return HIt},Marker:function(){return XIt},Path:function(){return YIt},Polygon:function(){return KIt},Polyline:function(){return QIt},Rect:function(){return eRt},Text:function(){return cRt}});var D={};n.r(D),n.d(D,{Canvas:function(){return MRt},Group:function(){return DIt},Shape:function(){return _},version:function(){return ARt}});var T={};n.r(T),n.d(T,{cluster:function(){return eJt},hierarchy:function(){return pYt},pack:function(){return rYt},packEnclose:function(){return Nqt},packSiblings:function(){return Jqt},partition:function(){return YKt},stratify:function(){return aJt},tree:function(){return dJt},treemap:function(){return yJt},treemapBinary:function(){return bJt},treemapDice:function(){return qKt},treemapResquarify:function(){return wJt},treemapSlice:function(){return pJt},treemapSliceDice:function(){return xJt},treemapSquarify:function(){return mJt}});var Z=n(67294),F=n.t(Z,2),j=n(99286),I=n(39784),R=["title","titleId"];var L=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,R);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"}))})),N=n(15596),B=n(86552),z=["title","titleId"];var U=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,z);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H15m0-3l-3-3m0 0l-3 3m3-3V15"}))})),H=["title","titleId"];var W=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,H);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 00-2.15-1.588H6.911a2.25 2.25 0 00-2.15 1.588L2.35 13.177a2.25 2.25 0 00-.1.661z"}))})),V=n(35774),G=n(64055),X=n(59371),q=n.n(X),Y=n(53168),$=n(75900),K=n.n($),J=n(54038),Q=n(68156),tt=n(6838),et=n(9721),nt=n(41764),rt=n(262),it=n(1449);function ot(){ot=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(A){l=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),c=new O(i||[]);return r(a,"_invoke",{value:w(t,n,c)}),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(A){return{type:"throw",arg:A}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var v={};l(v,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(E([])));m&&m!==e&&n.call(m,o)&&(v=m);var y=p.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function i(r,o,a,c){var l=s(t[r],t,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==(0,it.Z)(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,c)}),(function(t){i("throw",t,a,c)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return i("throw",t,a,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=S(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function S(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=s(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function E(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:M}}function M(){return{value:void 0,done:!0}}return d.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=l(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,c,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new x(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),l(y,c,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function at(t,e,n,r,i,o,a){try{var c=t[o](a),l=c.value}catch(u){return void n(u)}c.done?e(l):Promise.resolve(l).then(r,i)}function ct(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){at(o,r,i,a,c,"next",t)}function c(t){at(o,r,i,a,c,"throw",t)}a(void 0)}))}}var lt=n(32663),ut="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),st="aria-",ft="data-";function ht(t,e){return 0===t.indexOf(e)}function dt(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:(0,lt.Z)({},n);var r={};return Object.keys(t).forEach((function(n){(e.aria&&("role"===n||ht(n,st))||e.data&&ht(n,ft)||e.attr&&ut.includes(n))&&(r[n]=t[n])})),r}function pt(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(n){return e}}function vt(t){var e=new XMLHttpRequest;t.onProgress&&e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var n=new FormData;t.data&&Object.keys(t.data).forEach((function(e){var r=t.data[e];Array.isArray(r)?r.forEach((function(t){n.append("".concat(e,"[]"),t)})):n.append(e,r)})),t.file instanceof Blob?n.append(t.filename,t.file,t.file.name):n.append(t.filename,t.file),e.onerror=function(e){t.onError(e)},e.onload=function(){return e.status<200||e.status>=300?t.onError(function(t,e){var n="cannot ".concat(t.method," ").concat(t.action," ").concat(e.status,"'"),r=new Error(n);return r.status=e.status,r.method=t.method,r.url=t.action,r}(t,e),pt(e)):t.onSuccess(pt(e),e)},e.open(t.method,t.action,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=t.headers||{};return null!==r["X-Requested-With"]&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach((function(t){null!==r[t]&&e.setRequestHeader(t,r[t])})),e.send(n),{abort:function(){e.abort()}}}var gt=+new Date,mt=0;function yt(){return"rc-upload-".concat(gt,"-").concat(++mt)}var bt=n(27840),xt=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=t.type||"",o=i.replace(/\/.*$/,"");return n.some((function(t){var e=t.trim();if(/^\*(\/\*)?$/.test(t))return!0;if("."===e.charAt(0)){var n=r.toLowerCase(),a=e.toLowerCase(),c=[a];return".jpg"!==a&&".jpeg"!==a||(c=[".jpg",".jpeg"]),c.some((function(t){return n.endsWith(t)}))}return/\/\*$/.test(e)?o===e.replace(/\/.*$/,""):i===e||!!/^\w+$/.test(e)&&((0,bt.ZP)(!1,"Upload takes an invalidate 'accept' type '".concat(e,"'.Skip for check.")),!0)}))}return!0};var wt=function(t,e,n){var r=function t(r,i){r.path=i||"",r.isFile?r.file((function(t){n(t)&&(r.fullPath&&!t.webkitRelativePath&&(Object.defineProperties(t,{webkitRelativePath:{writable:!0}}),t.webkitRelativePath=r.fullPath.replace(/^\//,""),Object.defineProperties(t,{webkitRelativePath:{writable:!1}})),e([t]))})):r.isDirectory&&function(t,e){var n=t.createReader(),r=[];!function t(){n.readEntries((function(n){var i=Array.prototype.slice.apply(n);r=r.concat(i),i.length?t():e(r)}))}()}(r,(function(e){e.forEach((function(e){t(e,"".concat(i).concat(r.name,"/"))}))}))};t.forEach((function(t){r(t.webkitGetAsEntry())}))},St=["component","prefixCls","className","disabled","id","style","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave"],kt=function(t){(0,et.Z)(n,t);var e=(0,nt.Z)(n);function n(){var t;(0,Q.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={uid:yt()},t.reqs={},t.fileInput=void 0,t._isMounted=void 0,t.onChange=function(e){var n=t.props,r=n.accept,i=n.directory,o=e.target.files,a=(0,Y.Z)(o).filter((function(t){return!i||xt(t,r)}));t.uploadFiles(a),t.reset()},t.onClick=function(e){var n=t.fileInput;if(n){var r=t.props,i=r.children,o=r.onClick;if(i&&"button"===i.type){var a=n.parentNode;a.focus(),a.querySelector("button").blur()}n.click(),o&&o(e)}},t.onKeyDown=function(e){"Enter"===e.key&&t.onClick(e)},t.onFileDrop=function(e){var n=t.props.multiple;if(e.preventDefault(),"dragover"!==e.type)if(t.props.directory)wt(Array.prototype.slice.call(e.dataTransfer.items),t.uploadFiles,(function(e){return xt(e,t.props.accept)}));else{var r=(0,Y.Z)(e.dataTransfer.files).filter((function(e){return xt(e,t.props.accept)}));!1===n&&(r=r.slice(0,1)),t.uploadFiles(r)}},t.uploadFiles=function(e){var n=(0,Y.Z)(e),r=n.map((function(e){return e.uid=yt(),t.processFile(e,n)}));Promise.all(r).then((function(e){var n=t.props.onBatchStart;null==n||n(e.map((function(t){return{file:t.origin,parsedFile:t.parsedFile}}))),e.filter((function(t){return null!==t.parsedFile})).forEach((function(e){t.post(e)}))}))},t.processFile=function(){var e=ct(ot().mark((function e(n,r){var i,o,a,c,l,u,s,f,h;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.props.beforeUpload,o=n,!i){e.next=14;break}return e.prev=3,e.next=6,i(n,r);case 6:o=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),o=!1;case 12:if(!1!==o){e.next=14;break}return e.abrupt("return",{origin:n,parsedFile:null,action:null,data:null});case 14:if("function"!=typeof(a=t.props.action)){e.next=21;break}return e.next=18,a(n);case 18:c=e.sent,e.next=22;break;case 21:c=a;case 22:if("function"!=typeof(l=t.props.data)){e.next=29;break}return e.next=26,l(n);case 26:u=e.sent,e.next=30;break;case 29:u=l;case 30:return s="object"!==(0,it.Z)(o)&&"string"!=typeof o||!o?n:o,f=s instanceof File?s:new File([s],n.name,{type:n.type}),(h=f).uid=n.uid,e.abrupt("return",{origin:n,data:u,parsedFile:h,action:c});case 35:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n){return e.apply(this,arguments)}}(),t.saveFileInput=function(e){t.fileInput=e},t}return(0,tt.Z)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(t){var e=this,n=t.data,r=t.origin,i=t.action,o=t.parsedFile;if(this._isMounted){var a=this.props,c=a.onStart,l=a.customRequest,u=a.name,s=a.headers,f=a.withCredentials,h=a.method,d=r.uid,p=l||vt,v={action:i,filename:u,data:n,file:o,headers:s,withCredentials:f,method:h||"post",onProgress:function(t){var n=e.props.onProgress;null==n||n(t,o)},onSuccess:function(t,n){var r=e.props.onSuccess;null==r||r(t,o,n),delete e.reqs[d]},onError:function(t,n){var r=e.props.onError;null==r||r(t,n,o),delete e.reqs[d]}};c(r),this.reqs[d]=p(v)}}},{key:"reset",value:function(){this.setState({uid:yt()})}},{key:"abort",value:function(t){var e=this.reqs;if(t){var n=t.uid?t.uid:t;e[n]&&e[n].abort&&e[n].abort(),delete e[n]}else Object.keys(e).forEach((function(t){e[t]&&e[t].abort&&e[t].abort(),delete e[t]}))}},{key:"render",value:function(){var t,e=this.props,n=e.component,r=e.prefixCls,i=e.className,o=e.disabled,a=e.id,c=e.style,l=e.multiple,u=e.accept,s=e.capture,f=e.children,h=e.directory,d=e.openFileDialogOnClick,p=e.onMouseEnter,v=e.onMouseLeave,g=(0,rt.Z)(e,St),m=K()((t={},(0,B.Z)(t,r,!0),(0,B.Z)(t,"".concat(r,"-disabled"),o),(0,B.Z)(t,i,i),t)),y=h?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},b=o?{}:{onClick:d?this.onClick:function(){},onKeyDown:d?this.onKeyDown:function(){},onMouseEnter:p,onMouseLeave:v,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return Z.createElement(n,(0,J.Z)({},b,{className:m,role:"button",style:c}),Z.createElement("input",(0,J.Z)({},dt(g,{aria:!0,data:!0}),{id:a,type:"file",ref:this.saveFileInput,onClick:function(t){return t.stopPropagation()},key:this.state.uid,style:{display:"none"},accept:u},y,{multiple:l,onChange:this.onChange},null!=s?{capture:s}:{})),f)}}]),n}(Z.Component),Ct=kt;function Ot(){}var Et=function(t){(0,et.Z)(n,t);var e=(0,nt.Z)(n);function n(){var t;(0,Q.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).uploader=void 0,t.saveUploader=function(e){t.uploader=e},t}return(0,tt.Z)(n,[{key:"abort",value:function(t){this.uploader.abort(t)}},{key:"render",value:function(){return Z.createElement(Ct,(0,J.Z)({},this.props,{ref:this.saveUploader}))}}]),n}(Z.Component);Et.defaultProps={component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:Ot,onError:Ot,onSuccess:Ot,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0};var Mt=Et,At=n(61637),Pt=n(73935),_t=n.t(Pt,2),Dt=n(67170),Tt=Z.createContext(!1),Zt=function(t){var e=t.children,n=t.disabled,r=Z.useContext(Tt);return Z.createElement(Tt.Provider,{value:null!=n?n:r},e)},Ft=Tt,jt=(0,Z.createContext)(void 0),It={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},Rt={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},Lt={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Nt={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Rt),timePickerLocale:Object.assign({},Lt)},Bt="${label} is not a valid ${type}",zt={locale:"en",Pagination:It,DatePicker:Nt,TimePicker:Lt,Calendar:Nt,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Bt,method:Bt,array:Bt,object:Bt,number:Bt,date:Bt,boolean:Bt,integer:Bt,float:Bt,regexp:Bt,email:Bt,url:Bt,hex:Bt},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"},ColorPicker:{presetEmpty:"Empty"}},Ut=function(t,e){var n=Z.useContext(jt),r=Z.useMemo((function(){var r,i=e||zt[t],o=null!==(r=null==n?void 0:n[t])&&void 0!==r?r:{};return Object.assign(Object.assign({},"function"==typeof i?i():i),o||{})}),[t,e,n]);return[r,Z.useMemo((function(){var t=null==n?void 0:n.locale;return(null==n?void 0:n.exist)&&!t?zt.locale:t}),[n])]},Ht={icon:function(t,e){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:e}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},Wt=n(37041),Vt=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:Ht}))};var Gt=Z.forwardRef(Vt),Xt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},qt=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:Xt}))};var Yt=Z.forwardRef(qt),$t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},Kt=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:$t}))};var Jt=Z.forwardRef(Kt),Qt={icon:function(t,e){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:e}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:e}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:e}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},te=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:Qt}))};var ee=Z.forwardRef(te),ne=n(62168);function re(){var t=Z.useReducer((function(t){return t+1}),0);return(0,G.Z)(t,2)[1]}var ie,oe=n(51880),ae=n(94221),ce=n(8613),le=n(52275),ue=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),o=i.width,a=i.height;if(o||a)return!0}}return!1},se=n(51540),fe=function(t){var e=t.componentCls,n=t.colorPrimary;return(0,V.Z)({},e,{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:"var(--wave-color, ".concat(n,")"),boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:["box-shadow 0.4s ".concat(t.motionEaseOutCirc),"opacity 2s ".concat(t.motionEaseOutCirc)].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:["box-shadow 0.3s ".concat(t.motionEaseInOut),"opacity 0.35s ".concat(t.motionEaseInOut)].join(",")}}})},he=(0,se.Z)("Wave",(function(t){return[fe(t)]})),de=n(10123),pe=n(10518),ve=(0,lt.Z)({},_t),ge=ve.version,me=ve.render,ye=ve.unmountComponentAtNode;try{Number((ge||"").split(".")[0])>=18&&(ie=ve.createRoot)}catch(F2t){}function be(t){var e=ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&"object"===(0,it.Z)(e)&&(e.usingClientEntryPoint=t)}var xe="__rc_react_root__";function we(t,e){ie?function(t,e){be(!0);var n=e[xe]||ie(e);be(!1),n.render(t),e[xe]=n}(t,e):function(t,e){me(t,e)}(t,e)}function Se(t){return ke.apply(this,arguments)}function ke(){return ke=ct(ot().mark((function t(e){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){var t;null===(t=e[xe])||void 0===t||t.unmount(),delete e[xe]})));case 1:case"end":return t.stop()}}),t)}))),ke.apply(this,arguments)}function Ce(t){ye(t)}function Oe(t){return Ee.apply(this,arguments)}function Ee(){return(Ee=ct(ot().mark((function t(e){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===ie){t.next=2;break}return t.abrupt("return",Se(e));case 2:Ce(e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Me(t){return t&&"#fff"!==t&&"#ffffff"!==t&&"rgb(255, 255, 255)"!==t&&"rgba(255, 255, 255, 1)"!==t&&function(t){var e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(e&&e[1]&&e[2]&&e[3]&&e[1]===e[2]&&e[2]===e[3])}(t)&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&"transparent"!==t}var Ae="ant-wave-target";function Pe(t){return Number.isNaN(t)?0:t}var _e=function(t){var e=t.className,n=t.target,r=t.component,i=Z.useRef(null),o=Z.useState(null),a=(0,G.Z)(o,2),c=a[0],l=a[1],u=Z.useState([]),s=(0,G.Z)(u,2),f=s[0],h=s[1],d=Z.useState(0),p=(0,G.Z)(d,2),v=p[0],g=p[1],m=Z.useState(0),y=(0,G.Z)(m,2),b=y[0],x=y[1],w=Z.useState(0),S=(0,G.Z)(w,2),k=S[0],C=S[1],O=Z.useState(0),E=(0,G.Z)(O,2),M=E[0],A=E[1],P=Z.useState(!1),_=(0,G.Z)(P,2),D=_[0],T=_[1],F={left:v,top:b,width:k,height:M,borderRadius:f.map((function(t){return"".concat(t,"px")})).join(" ")};function j(){var t=getComputedStyle(n);l(function(t){var e=getComputedStyle(t),n=e.borderTopColor,r=e.borderColor,i=e.backgroundColor;return Me(n)?n:Me(r)?r:Me(i)?i:null}(n));var e="static"===t.position,r=t.borderLeftWidth,i=t.borderTopWidth;g(e?n.offsetLeft:Pe(-parseFloat(r))),x(e?n.offsetTop:Pe(-parseFloat(i))),C(n.offsetWidth),A(n.offsetHeight);var o=t.borderTopLeftRadius,a=t.borderTopRightRadius,c=t.borderBottomLeftRadius,u=t.borderBottomRightRadius;h([o,a,u,c].map((function(t){return Pe(parseFloat(t))})))}if(c&&(F["--wave-color"]=c),Z.useEffect((function(){if(n){var t,e=(0,pe.Z)((function(){j(),T(!0)}));return"undefined"!=typeof ResizeObserver&&(t=new ResizeObserver(j)).observe(n),function(){pe.Z.cancel(e),null==t||t.disconnect()}}}),[]),!D)return null;var I=("Checkbox"===r||"Radio"===r)&&(null==n?void 0:n.classList.contains(Ae));return Z.createElement(ne.ZP,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:function(t,e){var n;if(e.deadline||"opacity"===e.propertyName){var r=null===(n=i.current)||void 0===n?void 0:n.parentElement;Oe(r).then((function(){null==r||r.remove()}))}return!1}},(function(t){var n=t.className;return Z.createElement("div",{ref:i,className:K()(e,{"wave-quick":I},n),style:F})}))},De=function(t,e){var n;if("Checkbox"!==e.component||(null===(n=t.querySelector("input"))||void 0===n?void 0:n.checked)){var r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",null==t||t.insertBefore(r,null==t?void 0:t.firstChild),we(Z.createElement(_e,Object.assign({},e,{target:t})),r)}},Te=n(27824);var Ze=function(t){var e=t.children,n=t.disabled,r=t.component,i=(0,Z.useContext)(Dt.E_).getPrefixCls,o=(0,Z.useRef)(null),a=i("wave"),c=he(a),l=(0,G.Z)(c,2)[1],u=function(t,e,n){var r=Z.useContext(Dt.E_).wave,i=(0,Te.Z)(),o=(0,G.Z)(i,3),a=o[1],c=o[2],l=(0,de.Z)((function(i){var o=t.current;if(!(null==r?void 0:r.disabled)&&o){var l=o.querySelector(".".concat(Ae))||o;((r||{}).showEffect||De)(l,{className:e,token:a,component:n,event:i,hashId:c})}})),u=Z.useRef();return function(t){pe.Z.cancel(u.current),u.current=(0,pe.Z)((function(){l(t)}))}}(o,K()(a,l),r);if(Z.useEffect((function(){var t=o.current;if(t&&1===t.nodeType&&!n){var e=function(e){!ue(e.target)||!t.getAttribute||t.getAttribute("disabled")||t.disabled||t.className.includes("disabled")||t.className.includes("-leave")||u(e)};return t.addEventListener("click",e,!0),function(){t.removeEventListener("click",e,!0)}}}),[n]),!Z.isValidElement(e))return null!=e?e:null;var s=(0,le.Yr)(e)?(0,le.sQ)(e.ref,o):o;return(0,ae.Tm)(e,{ref:s})},Fe=n(4363),je=n(11786),Ie=Z.createContext(null),Re=function(t,e){var n=Z.useContext(Ie),r=Z.useMemo((function(){var r;if(!n)return"";var i=n.compactDirection,o=n.isFirstItem,a=n.isLastItem,c="vertical"===i?"-vertical-":"-";return K()("".concat(t,"-compact").concat(c,"item"),(r={},(0,V.Z)(r,"".concat(t,"-compact").concat(c,"first-item"),o),(0,V.Z)(r,"".concat(t,"-compact").concat(c,"last-item"),a),(0,V.Z)(r,"".concat(t,"-compact").concat(c,"item-rtl"),"rtl"===e),r))}),[t,e,n]);return{compactSize:null==n?void 0:n.compactSize,compactDirection:null==n?void 0:n.compactDirection,compactItemClassnames:r}},Le=function(t){var e=t.children;return Z.createElement(Ie.Provider,{value:null},e)},Ne=(0,Z.forwardRef)((function(t,e){var n=t.className,r=t.style,i=t.children,o=t.prefixCls,a=K()("".concat(o,"-icon"),n);return Z.createElement("span",{ref:e,className:a,style:r},i)})),Be=Ne,ze=(0,Z.forwardRef)((function(t,e){var n=t.prefixCls,r=t.className,i=t.style,o=t.iconClassName,a=K()("".concat(n,"-loading-icon"),r);return Z.createElement(Be,{prefixCls:n,className:a,style:i,ref:e},Z.createElement(Yt,{className:o}))})),Ue=function(){return{width:0,opacity:0,transform:"scale(0)"}},He=function(t){return{width:t.scrollWidth,opacity:1,transform:"scale(1)"}},We=function(t){var e=t.prefixCls,n=t.loading,r=t.existIcon,i=t.className,o=t.style,a=!!n;return r?Z.createElement(ze,{prefixCls:e,className:i,style:o}):Z.createElement(ne.ZP,{visible:a,motionName:"".concat(e,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:Ue,onAppearActive:He,onEnterStart:Ue,onEnterActive:He,onLeaveStart:He,onLeaveActive:Ue},(function(t,n){var r=t.className,a=t.style;return Z.createElement(ze,{prefixCls:e,className:i,style:Object.assign(Object.assign({},o),a),ref:n,iconClassName:r})}))},Ve=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Ge=Z.createContext(void 0),Xe=function(t){var e,n=Z.useContext(Dt.E_),r=n.getPrefixCls,i=n.direction,o=t.prefixCls,a=t.size,c=t.className,l=Ve(t,["prefixCls","size","className"]),u=r("btn-group",o),s=(0,Te.Z)(),f=(0,G.Z)(s,3)[2],h="";switch(a){case"large":h="lg";break;case"small":h="sm"}var d=K()(u,(e={},(0,V.Z)(e,"".concat(u,"-").concat(h),h),(0,V.Z)(e,"".concat(u,"-rtl"),"rtl"===i),e),c,f);return Z.createElement(Ge.Provider,{value:a},Z.createElement("div",Object.assign({},l,{className:d})))},qe=/^[\u4e00-\u9fa5]{2}$/,Ye=qe.test.bind(qe);function $e(t){return"string"==typeof t}function Ke(t){return"text"===t||"link"===t}function Je(t,e){var n=!1,r=[];return Z.Children.forEach(t,(function(t){var e=typeof t,i="string"===e||"number"===e;if(n&&i){var o=r.length-1,a=r[o];r[o]="".concat(a).concat(t)}else r.push(t);n=i})),Z.Children.map(r,(function(t){return function(t,e){if(null!=t){var n=e?" ":"";return"string"!=typeof t&&"number"!=typeof t&&$e(t.type)&&Ye(t.props.children)?(0,ae.Tm)(t,{children:t.props.children.split("").join(n)}):$e(t)?Ye(t)?Z.createElement("span",null,t.split("").join(n)):Z.createElement("span",null,t):(0,ae.M2)(t)?Z.createElement("span",null,t):t}}(t,e)}))}var Qe=n(57416);function tn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0},n=t.componentCls,r="".concat(n,"-compact");return(0,V.Z)({},r,Object.assign(Object.assign({},function(t,e,n){var r,i=n.focusElCls,o=n.focus,a=n.borderElCls?"> *":"",c=["hover",o?"focus":null,"active"].filter(Boolean).map((function(t){return"&:".concat(t," ").concat(a)})).join(",");return r={},(0,V.Z)(r,"&-item:not(".concat(e,"-last-item)"),{marginInlineEnd:-t.lineWidth}),(0,V.Z)(r,"&-item",Object.assign(Object.assign((0,V.Z)({},c,{zIndex:2}),i?(0,V.Z)({},"&".concat(i),{zIndex:2}):{}),(0,V.Z)({},"&[disabled] ".concat(a),{zIndex:0}))),r}(t,r,e)),function(t,e,n){var r,i=n.borderElCls,o=i?"> ".concat(i):"";return r={},(0,V.Z)(r,"&-item:not(".concat(e,"-first-item):not(").concat(e,"-last-item) ").concat(o),{borderRadius:0}),(0,V.Z)(r,"&-item:not(".concat(e,"-last-item)").concat(e,"-first-item"),(0,V.Z)({},"& ".concat(o,", &").concat(t,"-sm ").concat(o,", &").concat(t,"-lg ").concat(o),{borderStartEndRadius:0,borderEndEndRadius:0})),(0,V.Z)(r,"&-item:not(".concat(e,"-first-item)").concat(e,"-last-item"),(0,V.Z)({},"& ".concat(o,", &").concat(t,"-sm ").concat(o,", &").concat(t,"-lg ").concat(o),{borderStartStartRadius:0,borderEndStartRadius:0})),r}(n,r,e)))}function en(t){var e,n,r,i="".concat(t.componentCls,"-compact-vertical");return(0,V.Z)({},i,Object.assign(Object.assign({},function(t,e){var n;return n={},(0,V.Z)(n,"&-item:not(".concat(e,"-last-item)"),{marginBottom:-t.lineWidth}),(0,V.Z)(n,"&-item",{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}),n}(t,i)),(e=t.componentCls,n=i,r={},(0,V.Z)(r,"&-item:not(".concat(n,"-first-item):not(").concat(n,"-last-item)"),{borderRadius:0}),(0,V.Z)(r,"&-item".concat(n,"-first-item:not(").concat(n,"-last-item)"),(0,V.Z)({},"&, &".concat(e,"-sm, &").concat(e,"-lg"),{borderEndEndRadius:0,borderEndStartRadius:0})),(0,V.Z)(r,"&-item".concat(n,"-last-item:not(").concat(n,"-first-item)"),(0,V.Z)({},"&, &".concat(e,"-sm, &").concat(e,"-lg"),{borderStartStartRadius:0,borderStartEndRadius:0})),r)))}var nn=n(85146),rn=function(t,e){return(0,V.Z)({},"> span, > ".concat(t),{"&:not(:last-child)":(0,V.Z)({},"&, & > ".concat(t),{"&:not(:disabled)":{borderInlineEndColor:e}}),"&:not(:first-child)":(0,V.Z)({},"&, & > ".concat(t),{"&:not(:disabled)":{borderInlineStartColor:e}})})},on=function(t){var e,n,r=t.componentCls,i=t.fontSize,o=t.lineWidth,a=t.colorPrimaryHover,c=t.colorErrorHover;return(0,V.Z)({},"".concat(r,"-group"),[(n={position:"relative",display:"inline-flex"},(0,V.Z)(n,"> span, > ".concat(r),{"&:not(:last-child)":(0,V.Z)({},"&, & > ".concat(r),{borderStartEndRadius:0,borderEndEndRadius:0}),"&:not(:first-child)":(0,V.Z)({marginInlineStart:-o},"&, & > ".concat(r),{borderStartStartRadius:0,borderEndStartRadius:0})}),(0,V.Z)(n,r,(e={position:"relative",zIndex:1},(0,V.Z)(e,"&:hover,\n          &:focus,\n          &:active",{zIndex:2}),(0,V.Z)(e,"&[disabled]",{zIndex:0}),e)),(0,V.Z)(n,"".concat(r,"-icon-only"),{fontSize:i}),n),rn("".concat(r,"-primary"),a),rn("".concat(r,"-danger"),c)])},an=function(t){var e,n=t.componentCls,r=t.iconCls,i=t.buttonFontWeight;return(0,V.Z)({},n,(e={outline:"none",position:"relative",display:"inline-block",fontWeight:i,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:"".concat(t.lineWidth,"px ").concat(t.lineType," transparent"),cursor:"pointer",transition:"all ".concat(t.motionDurationMid," ").concat(t.motionEaseInOut),userSelect:"none",touchAction:"manipulation",lineHeight:t.lineHeight,color:t.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"}},(0,V.Z)(e,"".concat(n,"-icon"),{lineHeight:0}),(0,V.Z)(e,"> ".concat(r," + span, > span + ").concat(r),{marginInlineStart:t.marginXS}),(0,V.Z)(e,"&:not(".concat(n,"-icon-only) > ").concat(n,"-icon"),(0,V.Z)({},"&".concat(n,"-loading-icon, &:not(:last-child)"),{marginInlineEnd:t.marginXS})),(0,V.Z)(e,"> a",{color:"currentColor"}),(0,V.Z)(e,"&:not(:disabled)",Object.assign({},(0,Qe.Qy)(t))),(0,V.Z)(e,"&-icon-only".concat(n,"-compact-item"),{flex:"none"}),(0,V.Z)(e,"&-compact-item".concat(n,"-primary"),(0,V.Z)({},"&:not([disabled]) + ".concat(n,"-compact-item").concat(n,"-primary:not([disabled])"),{position:"relative","&:before":{position:"absolute",top:-t.lineWidth,insetInlineStart:-t.lineWidth,display:"inline-block",width:t.lineWidth,height:"calc(100% + ".concat(2*t.lineWidth,"px)"),backgroundColor:t.colorPrimaryHover,content:'""'}})),(0,V.Z)(e,"&-compact-vertical-item",(0,V.Z)({},"&".concat(n,"-primary"),(0,V.Z)({},"&:not([disabled]) + ".concat(n,"-compact-vertical-item").concat(n,"-primary:not([disabled])"),{position:"relative","&:before":{position:"absolute",top:-t.lineWidth,insetInlineStart:-t.lineWidth,display:"inline-block",width:"calc(100% + ".concat(2*t.lineWidth,"px)"),height:t.lineWidth,backgroundColor:t.colorPrimaryHover,content:'""'}}))),e))},cn=function(t,e,n){return(0,V.Z)({},"&:not(:disabled):not(".concat(t,"-disabled)"),{"&:hover":e,"&:active":n})},ln=function(t){return{minWidth:t.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}},un=function(t){return{borderRadius:t.controlHeight,paddingInlineStart:t.controlHeight/2,paddingInlineEnd:t.controlHeight/2}},sn=function(t,e,n,r,i,o,a){return(0,V.Z)({},"&".concat(t,"-background-ghost"),Object.assign(Object.assign({color:e||void 0,backgroundColor:"transparent",borderColor:n||void 0,boxShadow:"none"},cn(t,Object.assign({backgroundColor:"transparent"},o),Object.assign({backgroundColor:"transparent"},a))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:i||void 0}}))},fn=function(t){return(0,V.Z)({},"&:disabled, &".concat(t.componentCls,"-disabled"),Object.assign({},function(t){return{cursor:"not-allowed",borderColor:t.colorBorder,color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,boxShadow:"none"}}(t)))},hn=function(t){return Object.assign({},fn(t))},dn=function(t){return(0,V.Z)({},"&:disabled, &".concat(t.componentCls,"-disabled"),{cursor:"not-allowed",color:t.colorTextDisabled})},pn=function(t){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hn(t)),{backgroundColor:t.colorBgContainer,borderColor:t.colorBorder,boxShadow:"0 ".concat(t.controlOutlineWidth,"px 0 ").concat(t.controlTmpOutline)}),cn(t.componentCls,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),sn(t.componentCls,t.colorBgContainer,t.colorBgContainer,t.colorTextDisabled,t.colorBorder)),(0,V.Z)({},"&".concat(t.componentCls,"-dangerous"),Object.assign(Object.assign(Object.assign({color:t.colorError,borderColor:t.colorError},cn(t.componentCls,{color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),sn(t.componentCls,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder)),fn(t))))},vn=function(t){var e,n=t.componentCls;return e={},(0,V.Z)(e,"".concat(n,"-default"),pn(t)),(0,V.Z)(e,"".concat(n,"-primary"),function(t){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hn(t)),{color:t.colorTextLightSolid,backgroundColor:t.colorPrimary,boxShadow:"0 ".concat(t.controlOutlineWidth,"px 0 ").concat(t.controlOutline)}),cn(t.componentCls,{color:t.colorTextLightSolid,backgroundColor:t.colorPrimaryHover},{color:t.colorTextLightSolid,backgroundColor:t.colorPrimaryActive})),sn(t.componentCls,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),(0,V.Z)({},"&".concat(t.componentCls,"-dangerous"),Object.assign(Object.assign(Object.assign({backgroundColor:t.colorError,boxShadow:"0 ".concat(t.controlOutlineWidth,"px 0 ").concat(t.colorErrorOutline)},cn(t.componentCls,{backgroundColor:t.colorErrorHover},{backgroundColor:t.colorErrorActive})),sn(t.componentCls,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),fn(t))))}(t)),(0,V.Z)(e,"".concat(n,"-dashed"),function(t){return Object.assign(Object.assign({},pn(t)),{borderStyle:"dashed"})}(t)),(0,V.Z)(e,"".concat(n,"-link"),function(t){return Object.assign(Object.assign(Object.assign({color:t.colorLink},cn(t.componentCls,{color:t.colorLinkHover},{color:t.colorLinkActive})),dn(t)),(0,V.Z)({},"&".concat(t.componentCls,"-dangerous"),Object.assign(Object.assign({color:t.colorError},cn(t.componentCls,{color:t.colorErrorHover},{color:t.colorErrorActive})),dn(t))))}(t)),(0,V.Z)(e,"".concat(n,"-text"),function(t){return Object.assign(Object.assign(Object.assign({},cn(t.componentCls,{color:t.colorText,backgroundColor:t.colorBgTextHover},{color:t.colorText,backgroundColor:t.colorBgTextActive})),dn(t)),(0,V.Z)({},"&".concat(t.componentCls,"-dangerous"),Object.assign(Object.assign({color:t.colorError},dn(t)),cn(t.componentCls,{color:t.colorErrorHover,backgroundColor:t.colorErrorBg},{color:t.colorErrorHover,backgroundColor:t.colorErrorBg}))))}(t)),(0,V.Z)(e,"".concat(n,"-ghost"),sn(t.componentCls,t.colorBgContainer,t.colorBgContainer,t.colorTextDisabled,t.colorBorder)),e},gn=function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=t.componentCls,o=t.controlHeight,a=t.fontSize,c=t.lineHeight,l=t.lineWidth,u=t.borderRadius,s=t.buttonPaddingHorizontal,f=t.iconCls,h=Math.max(0,(o-a*c)/2-l),d=s-l,p="".concat(i,"-icon-only");return[(0,V.Z)({},"".concat(i).concat(r),(n={fontSize:a,height:o,padding:"".concat(h,"px ").concat(d,"px"),borderRadius:u},(0,V.Z)(n,"&".concat(p),(e={width:o,paddingInlineStart:0,paddingInlineEnd:0},(0,V.Z)(e,"&".concat(i,"-round"),{width:"auto"}),(0,V.Z)(e,f,{fontSize:t.buttonIconOnlyFontSize}),e)),(0,V.Z)(n,"&".concat(i,"-loading"),{opacity:t.opacityLoading,cursor:"default"}),(0,V.Z)(n,"".concat(i,"-loading-icon"),{transition:"width ".concat(t.motionDurationSlow," ").concat(t.motionEaseInOut,", opacity ").concat(t.motionDurationSlow," ").concat(t.motionEaseInOut)}),n)),(0,V.Z)({},"".concat(i).concat(i,"-circle").concat(r),ln(t)),(0,V.Z)({},"".concat(i).concat(i,"-round").concat(r),un(t))]},mn=function(t){return gn(t)},yn=function(t){var e=(0,nn.TS)(t,{controlHeight:t.controlHeightSM,padding:t.paddingXS,buttonPaddingHorizontal:8,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.fontSizeLG-2});return gn(e,"".concat(t.componentCls,"-sm"))},bn=function(t){var e=(0,nn.TS)(t,{controlHeight:t.controlHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.fontSizeLG+2});return gn(e,"".concat(t.componentCls,"-lg"))},xn=function(t){var e=t.componentCls;return(0,V.Z)({},e,(0,V.Z)({},"&".concat(e,"-block"),{width:"100%"}))},wn=(0,se.Z)("Button",(function(t){var e=t.controlTmpOutline,n=t.paddingContentHorizontal,r=(0,nn.TS)(t,{colorOutlineDefault:e,buttonPaddingHorizontal:n,buttonIconOnlyFontSize:t.fontSizeLG,buttonFontWeight:400});return[an(r),yn(r),mn(r),bn(r),xn(r),vn(r),on(r),tn(t),en(t)]})),Sn=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function kn(t){return"danger"===t?{danger:!0}:{type:t}}var Cn=function(t,e){var n,r,i,o=t.loading,a=void 0!==o&&o,c=t.prefixCls,l=t.type,u=void 0===l?"default":l,s=t.danger,f=t.shape,h=void 0===f?"default":f,d=t.size,p=t.styles,v=t.disabled,g=t.className,m=t.rootClassName,y=t.children,b=t.icon,x=t.ghost,w=void 0!==x&&x,S=t.block,k=void 0!==S&&S,C=t.htmlType,O=void 0===C?"button":C,E=t.classNames,M=t.style,A=void 0===M?{}:M,P=Sn(t,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),_=(0,Z.useContext)(Dt.E_),D=_.getPrefixCls,T=_.autoInsertSpaceInButton,F=_.direction,j=_.button,I=D("btn",c),R=wn(I),L=(0,G.Z)(R,2),N=L[0],B=L[1],z=(0,Z.useContext)(Ft),U=null!=v?v:z,H=(0,Z.useContext)(Ge),W=(0,Z.useMemo)((function(){return function(t){if("object"==typeof t&&t){var e=null==t?void 0:t.delay;return{loading:!1,delay:Number.isNaN(e)||"number"!=typeof e?0:e}}return{loading:!!t,delay:0}}(a)}),[a]),X=(0,Z.useState)(W.loading),q=(0,G.Z)(X,2),Y=q[0],$=q[1],J=(0,Z.useState)(!1),Q=(0,G.Z)(J,2),tt=Q[0],et=Q[1],nt=(0,Z.createRef)(),rt=(0,le.sQ)(e,nt),it=1===Z.Children.count(y)&&!b&&!Ke(u);(0,Z.useEffect)((function(){var t=null;return W.delay>0?t=setTimeout((function(){t=null,$(!0)}),W.delay):$(W.loading),function(){t&&(clearTimeout(t),t=null)}}),[W]),(0,Z.useEffect)((function(){if(rt&&rt.current&&!1!==T){var t=rt.current.textContent;it&&Ye(t)?tt||et(!0):tt&&et(!1)}}),[rt]);var ot=function(e){var n=t.onClick;Y||U?e.preventDefault():null==n||n(e)},at=!1!==T,ct=Re(I,F),lt=ct.compactSize,ut=ct.compactItemClassnames,st={large:"lg",small:"sm",middle:void 0},ft=(0,Fe.Z)((function(t){var e,n;return null!==(n=null!==(e=null!=d?d:lt)&&void 0!==e?e:H)&&void 0!==n?n:t})),ht=ft&&st[ft]||"",dt=Y?"loading":b,pt=(0,ce.Z)(P,["navigate"]),vt=K()(I,B,(n={},(0,V.Z)(n,"".concat(I,"-").concat(h),"default"!==h&&h),(0,V.Z)(n,"".concat(I,"-").concat(u),u),(0,V.Z)(n,"".concat(I,"-").concat(ht),ht),(0,V.Z)(n,"".concat(I,"-icon-only"),!y&&0!==y&&!!dt),(0,V.Z)(n,"".concat(I,"-background-ghost"),w&&!Ke(u)),(0,V.Z)(n,"".concat(I,"-loading"),Y),(0,V.Z)(n,"".concat(I,"-two-chinese-chars"),tt&&at&&!Y),(0,V.Z)(n,"".concat(I,"-block"),k),(0,V.Z)(n,"".concat(I,"-dangerous"),!!s),(0,V.Z)(n,"".concat(I,"-rtl"),"rtl"===F),n),ut,g,m,null==j?void 0:j.className),gt=Object.assign(Object.assign({},null==j?void 0:j.style),A),mt=K()(null==E?void 0:E.icon,null===(r=null==j?void 0:j.classNames)||void 0===r?void 0:r.icon),yt=Object.assign(Object.assign({},(null==p?void 0:p.icon)||{}),(null===(i=null==j?void 0:j.styles)||void 0===i?void 0:i.icon)||{}),bt=b&&!Y?Z.createElement(Be,{prefixCls:I,className:mt,style:yt},b):Z.createElement(We,{existIcon:!!b,prefixCls:I,loading:!!Y}),xt=y||0===y?Je(y,it&&at):null;if(void 0!==pt.href)return N(Z.createElement("a",Object.assign({},pt,{className:K()(vt,(0,V.Z)({},"".concat(I,"-disabled"),U)),style:gt,onClick:ot,ref:rt}),bt,xt));var wt=Z.createElement("button",Object.assign({},P,{type:O,className:vt,style:gt,onClick:ot,disabled:U,ref:rt}),bt,xt);return Ke(u)||(wt=Z.createElement(Ze,{component:"Button",disabled:!!Y},wt)),N(wt)},On=(0,Z.forwardRef)(Cn);On.Group=Xe,On.__ANT_BUTTON=!0;var En=On;function Mn(t){return Object.assign(Object.assign({},t),{lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,name:t.name,size:t.size,type:t.type,uid:t.uid,percent:0,originFileObj:t})}function An(t,e){var n=(0,Y.Z)(e),r=n.findIndex((function(e){return e.uid===t.uid}));return-1===r?n.push(t):n[r]=t,n}function Pn(t,e){var n=void 0!==t.uid?"uid":"name";return e.filter((function(e){return e[n]===t[n]}))[0]}var _n=function(t){return 0===t.indexOf("image/")},Dn=function(t){if(t.type&&!t.thumbUrl)return _n(t.type);var e=t.thumbUrl||t.url||"",n=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/"),e=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(e)||[""])[0]}(e);return!(!/^data:image\//.test(e)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n))||!/^data:/.test(e)&&!n},Tn=200;function Zn(t){return new Promise((function(e){if(t.type&&_n(t.type)){var n=document.createElement("canvas");n.width=Tn,n.height=Tn,n.style.cssText="position: fixed; left: 0; top: 0; width: ".concat(Tn,"px; height: ").concat(Tn,"px; z-index: 9999; display: none;"),document.body.appendChild(n);var r=n.getContext("2d"),i=new Image;if(i.onload=function(){var t=i.width,o=i.height,a=Tn,c=Tn,l=0,u=0;t>o?u=-((c=o*(Tn/t))-a)/2:l=-((a=t*(Tn/o))-c)/2,r.drawImage(i,l,u,a,c);var s=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(i.src),e(s)},i.crossOrigin="anonymous",t.type.startsWith("image/svg+xml")){var o=new FileReader;o.onload=function(){o.result&&(i.src=o.result)},o.readAsDataURL(t)}else if(t.type.startsWith("image/gif")){var a=new FileReader;a.onload=function(){a.result&&e(a.result)},a.readAsDataURL(t)}else i.src=window.URL.createObjectURL(t)}else e("")}))}var Fn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},jn=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:Fn}))};var In=Z.forwardRef(jn),Rn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},Ln=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:Rn}))};var Nn=Z.forwardRef(Ln),Bn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},zn=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:Bn}))};var Un=Z.forwardRef(zn),Hn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},Wn=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:Hn}))};var Vn=Z.forwardRef(Wn),Gn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},Xn=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:Gn}))};var qn=Z.forwardRef(Xn),Yn={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},$n=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:Yn}))};var Kn=Z.forwardRef($n),Jn={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},Qn=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:Jn}))};var tr=Z.forwardRef(Qn),er={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},nr=function(){var t=(0,Z.useRef)([]),e=(0,Z.useRef)(null);return(0,Z.useEffect)((function(){var n=Date.now(),r=!1;t.current.forEach((function(t){if(t){r=!0;var i=t.style;i.transitionDuration=".3s, .3s, .3s, .06s",e.current&&n-e.current<100&&(i.transitionDuration="0s, 0s")}})),r&&(e.current=Date.now())})),t.current};var rr=n(82277),ir=n(32034),or=0,ar=(0,ir.Z)();var cr=function(t){var e=Z.useState(),n=(0,rr.Z)(e,2),r=n[0],i=n[1];return Z.useEffect((function(){var t;i("rc_progress_".concat((ar?(t=or,or+=1):t="TEST_OR_SSR",t)))}),[]),t||r},lr=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function ur(t){return+t.replace("%","")}function sr(t){var e=null!=t?t:[];return Array.isArray(e)?e:[e]}var fr=100,hr=function(t,e,n,r,i,o,a,c,l,u){var s=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,f=n/100*360*((360-o)/360),h=0===o?0:{bottom:0,top:180,left:90,right:-90}[a],d=(100-r)/100*e;return"round"===l&&100!==r&&(d+=u/2)>=e&&(d=e-.01),{stroke:"string"==typeof c?c:void 0,strokeDasharray:"".concat(e,"px ").concat(t),strokeDashoffset:d+s,transform:"rotate(".concat(i+f+h,"deg)"),transformOrigin:"0 0",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}};var dr=function(t){var e,n=(0,lt.Z)((0,lt.Z)({},er),t),r=n.id,i=n.prefixCls,o=n.steps,a=n.strokeWidth,c=n.trailWidth,l=n.gapDegree,u=void 0===l?0:l,s=n.gapPosition,f=n.trailColor,h=n.strokeLinecap,d=n.style,p=n.className,v=n.strokeColor,g=n.percent,m=(0,rt.Z)(n,lr),y=cr(r),b="".concat(y,"-gradient"),x=50-a/2,w=2*Math.PI*x,S=u>0?90+u/2:-90,k=w*((360-u)/360),C="object"===(0,it.Z)(o)?o:{count:o,space:2},O=C.count,E=C.space,M=hr(w,k,0,100,S,u,s,f,h,a),A=sr(g),P=sr(v),_=P.find((function(t){return t&&"object"===(0,it.Z)(t)})),D=nr();return Z.createElement("svg",(0,J.Z)({className:K()("".concat(i,"-circle"),p),viewBox:"".concat(-50," ").concat(-50," ").concat(fr," ").concat(fr),style:d,id:r,role:"presentation"},m),_&&Z.createElement("defs",null,Z.createElement("linearGradient",{id:b,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(_).sort((function(t,e){return ur(t)-ur(e)})).map((function(t,e){return Z.createElement("stop",{key:e,offset:t,stopColor:_[t]})})))),!O&&Z.createElement("circle",{className:"".concat(i,"-circle-trail"),r:x,cx:0,cy:0,stroke:f,strokeLinecap:h,strokeWidth:c||a,style:M}),O?function(){var t=Math.round(O*(A[0]/100)),e=100/O,n=0;return new Array(O).fill(null).map((function(r,o){var c=o<=t-1?P[0]:f,l=c&&"object"===(0,it.Z)(c)?"url(#".concat(b,")"):void 0,h=hr(w,k,n,e,S,u,s,c,"butt",a,E);return n+=100*(k-h.strokeDashoffset+E)/k,Z.createElement("circle",{key:o,className:"".concat(i,"-circle-path"),r:x,cx:0,cy:0,stroke:l,strokeWidth:a,opacity:1,style:h,ref:function(t){D[o]=t}})}))}():(e=0,A.map((function(t,n){var r=P[n]||P[P.length-1],o=r&&"object"===(0,it.Z)(r)?"url(#".concat(b,")"):void 0,c=hr(w,k,e,t,S,u,s,r,h,a);return e+=t,Z.createElement("circle",{key:n,className:"".concat(i,"-circle-path"),r:x,cx:0,cy:0,stroke:o,strokeLinecap:h,strokeWidth:a,opacity:0===t?0:1,style:c,ref:function(t){D[n]=t}})})).reverse()))},pr=Z.createContext(null),vr=n(22517),gr=[];var mr,yr=n(37759);function br(t){var e=t.match(/^(.*)px$/),n=Number(null==e?void 0:e[1]);return Number.isNaN(n)?function(t){if("undefined"==typeof document)return 0;if(t||void 0===mr){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var i=e.offsetWidth;n.style.overflow="scroll";var o=e.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),mr=i-o}return mr}():n}var xr="rc-util-locker-".concat(Date.now()),wr=0;function Sr(t){var e=!!t,n=Z.useState((function(){return wr+=1,"".concat(xr,"_").concat(wr)})),r=(0,rr.Z)(n,1)[0];(0,vr.Z)((function(){if(e){var t=function(t){if(!("undefined"!=typeof document&&t&&t instanceof Element))return{width:0,height:0};var e=getComputedStyle(t,"::-webkit-scrollbar"),n=e.width,r=e.height;return{width:br(n),height:br(r)}}(document.body).width,n=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;(0,yr.hq)("\nhtml body {\n  overflow-y: hidden;\n  ".concat(n?"width: calc(100% - ".concat(t,"px);"):"","\n}"),r)}else(0,yr.jL)(r);return function(){(0,yr.jL)(r)}}),[e,r])}var kr=!1;var Cr=function(t){return!1!==t&&((0,ir.Z)()&&t?"string"==typeof t?document.querySelector(t):"function"==typeof t?t():t:null)},Or=Z.forwardRef((function(t,e){var n=t.open,r=t.autoLock,i=t.getContainer,o=(t.debug,t.autoDestroy),a=void 0===o||o,c=t.children,l=Z.useState(n),u=(0,rr.Z)(l,2),s=u[0],f=u[1],h=s||n;Z.useEffect((function(){(a||n)&&f(n)}),[n,a]);var d=Z.useState((function(){return Cr(i)})),p=(0,rr.Z)(d,2),v=p[0],g=p[1];Z.useEffect((function(){var t=Cr(i);g(null!=t?t:null)}));var m=function(t,e){var n=Z.useState((function(){return(0,ir.Z)()?document.createElement("div"):null})),r=(0,rr.Z)(n,1)[0],i=Z.useRef(!1),o=Z.useContext(pr),a=Z.useState(gr),c=(0,rr.Z)(a,2),l=c[0],u=c[1],s=o||(i.current?void 0:function(t){u((function(e){return[t].concat((0,Y.Z)(e))}))});function f(){r.parentElement||document.body.appendChild(r),i.current=!0}function h(){var t;null===(t=r.parentElement)||void 0===t||t.removeChild(r),i.current=!1}return(0,vr.Z)((function(){return t?o?o(f):f():h(),h}),[t]),(0,vr.Z)((function(){l.length&&(l.forEach((function(t){return t()})),u(gr))}),[l]),[r,s]}(h&&!v),y=(0,rr.Z)(m,2),b=y[0],x=y[1],w=null!=v?v:b;Sr(r&&n&&(0,ir.Z)()&&(w===b||w===document.body));var S=null;c&&(0,le.Yr)(c)&&e&&(S=c.ref);var k=(0,le.x1)(S,e);if(!h||!(0,ir.Z)()||void 0===v)return null;var C,O=!1===w||("boolean"==typeof C&&(kr=C),kr),E=c;return e&&(E=Z.cloneElement(c,{ref:k})),Z.createElement(pr.Provider,{value:x},O?E:(0,Pt.createPortal)(E,w))}));var Er=Or,Mr=n(67714),Ar=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),Pr="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,_r=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Dr="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(_r):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var Tr=["top","right","bottom","left","width","height","size","weight"],Zr="undefined"!=typeof MutationObserver,Fr=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&c()}function a(){Dr(o)}function c(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=t}return c}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){Pr&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Zr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){Pr&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e,r=Tr.some((function(t){return!!~n.indexOf(t)}));r&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),jr=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Ir=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||_r},Rr=Hr(0,0,0,0);function Lr(t){return parseFloat(t)||0}function Nr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+Lr(t["border-"+n+"-width"])}),0)}function Br(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Rr;var r=Ir(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=Lr(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,c=Lr(r.width),l=Lr(r.height);if("border-box"===r.boxSizing&&(Math.round(c+o)!==e&&(c-=Nr(r,"left","right")+o),Math.round(l+a)!==n&&(l-=Nr(r,"top","bottom")+a)),!function(t){return t===Ir(t).document.documentElement}(t)){var u=Math.round(c+o)-e,s=Math.round(l+a)-n;1!==Math.abs(u)&&(c-=u),1!==Math.abs(s)&&(l-=s)}return Hr(i.left,i.top,c,l)}var zr="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof Ir(t).SVGGraphicsElement}:function(t){return t instanceof Ir(t).SVGElement&&"function"==typeof t.getBBox};function Ur(t){return Pr?zr(t)?function(t){var e=t.getBBox();return Hr(0,0,e.width,e.height)}(t):Br(t):Rr}function Hr(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Wr=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Hr(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=Ur(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),Vr=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return jr(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}(e);jr(this,{target:t,contentRect:n})},Gr=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new Ar,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Ir(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new Wr(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Ir(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new Vr(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Xr="undefined"!=typeof WeakMap?new WeakMap:new Ar,qr=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Fr.getInstance(),r=new Gr(e,n,this);Xr.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){qr.prototype[t]=function(){var e;return(e=Xr.get(this))[t].apply(e,arguments)}}));var Yr=void 0!==_r.ResizeObserver?_r.ResizeObserver:qr,$r=new Map;var Kr=new Yr((function(t){t.forEach((function(t){var e,n=t.target;null===(e=$r.get(n))||void 0===e||e.forEach((function(t){return t(n)}))}))}));var Jr=function(t){(0,et.Z)(n,t);var e=(0,nt.Z)(n);function n(){return(0,Q.Z)(this,n),e.apply(this,arguments)}return(0,tt.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(Z.Component),Qr=Z.createContext(null);function ti(t,e){var n=t.children,r=t.disabled,i=Z.useRef(null),o=Z.useRef(null),a=Z.useContext(Qr),c="function"==typeof n,l=c?n(i):n,u=Z.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),s=!c&&Z.isValidElement(l)&&(0,le.Yr)(l),f=s?l.ref:null,h=Z.useMemo((function(){return(0,le.sQ)(f,i)}),[f,i]),d=function(){return(0,Mr.Z)(i.current)||(0,Mr.Z)(o.current)};Z.useImperativeHandle(e,(function(){return d()}));var p=Z.useRef(t);p.current=t;var v=Z.useCallback((function(t){var e=p.current,n=e.onResize,r=e.data,i=t.getBoundingClientRect(),o=i.width,c=i.height,l=t.offsetWidth,s=t.offsetHeight,f=Math.floor(o),h=Math.floor(c);if(u.current.width!==f||u.current.height!==h||u.current.offsetWidth!==l||u.current.offsetHeight!==s){var d={width:f,height:h,offsetWidth:l,offsetHeight:s};u.current=d;var v=l===Math.round(o)?o:l,g=s===Math.round(c)?c:s,m=(0,lt.Z)((0,lt.Z)({},d),{},{offsetWidth:v,offsetHeight:g});null==a||a(m,t,r),n&&Promise.resolve().then((function(){n(m,t)}))}}),[]);return Z.useEffect((function(){var t,e,n=d();return n&&!r&&(t=n,e=v,$r.has(t)||($r.set(t,new Set),Kr.observe(t)),$r.get(t).add(e)),function(){return function(t,e){$r.has(t)&&($r.get(t).delete(e),$r.get(t).size||(Kr.unobserve(t),$r.delete(t)))}(n,v)}}),[i.current,r]),Z.createElement(Jr,{ref:o},s?Z.cloneElement(l,{ref:h}):l)}var ei=Z.forwardRef(ti);function ni(t,e){var n=t.children;return("function"==typeof n?[n]:(0,je.Z)(n)).map((function(n,r){var i=(null==n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return Z.createElement(ei,(0,J.Z)({},t,{key:i,ref:0===r?e:void 0}),n)}))}var ri=Z.forwardRef(ni);ri.Collection=function(t){var e=t.children,n=t.onBatchResize,r=Z.useRef(0),i=Z.useRef([]),o=Z.useContext(Qr),a=Z.useCallback((function(t,e,a){r.current+=1;var c=r.current;i.current.push({size:t,element:e,data:a}),Promise.resolve().then((function(){c===r.current&&(null==n||n(i.current),i.current=[])})),null==o||o(t,e,a)}),[n,o]);return Z.createElement(Qr.Provider,{value:a},e)};var ii=ri,oi=n(66155);var ai=0;function ci(t){var e=Z.useState("ssr-id"),n=(0,rr.Z)(e,2),r=n[0],i=n[1],o=(0,lt.Z)({},F).useId,a=null==o?void 0:o();return Z.useEffect((function(){if(!o){var t=ai;ai+=1,i("rc_unique_".concat(t))}}),[]),t||(a||r)}var li=function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==t?void 0:t.substr(0,4))},ui=Z.createContext(null);function si(t){return t?Array.isArray(t)?t:[t]:[]}function fi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function hi(t,e,n,r){return e||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function di(t){return t.ownerDocument.defaultView}function pi(t){for(var e=[],n=null==t?void 0:t.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=di(n).getComputedStyle(n);[i.overflowX,i.overflowY,i.overflow].some((function(t){return r.includes(t)}))&&e.push(n),n=n.parentElement}return e}function vi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(t)?e:t}function gi(t){return vi(parseFloat(t),0)}function mi(t,e){var n=(0,lt.Z)({},t);return(e||[]).forEach((function(t){if(!(t instanceof HTMLBodyElement)){var e=di(t).getComputedStyle(t),r=e.overflow,i=e.overflowClipMargin,o=e.borderTopWidth,a=e.borderBottomWidth,c=e.borderLeftWidth,l=e.borderRightWidth,u=t.getBoundingClientRect(),s=t.offsetHeight,f=t.clientHeight,h=t.offsetWidth,d=t.clientWidth,p=gi(o),v=gi(a),g=gi(c),m=gi(l),y=vi(Math.round(u.width/h*1e3)/1e3),b=vi(Math.round(u.height/s*1e3)/1e3),x=(h-d-g-m)*y,w=(s-f-p-v)*b,S=p*b,k=v*b,C=g*y,O=m*y,E=0,M=0;if("clip"===r){var A=gi(i);E=A*y,M=A*b}var P=u.x+C-E,_=u.y+S-M,D=P+u.width+2*E-C-O-x,T=_+u.height+2*M-S-k-w;n.left=Math.max(n.left,P),n.top=Math.max(n.top,_),n.right=Math.min(n.right,D),n.bottom=Math.min(n.bottom,T)}})),n}function yi(t){var e="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=e.match(/^(.*)\%$/);return n?t*(parseFloat(n[1])/100):parseFloat(e)}function bi(t,e){var n=e||[],r=(0,rr.Z)(n,2),i=r[0],o=r[1];return[yi(t.width,i),yi(t.height,o)]}function xi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[t[0],t[1]]}function wi(t,e){var n,r=e[0],i=e[1];return n="t"===r?t.y:"b"===r?t.y+t.height:t.y+t.height/2,{x:"l"===i?t.x:"r"===i?t.x+t.width:t.x+t.width/2,y:n}}function Si(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map((function(t,r){return r===e?n[t]||"c":t})).join("")}n(67739);function ki(t){var e=t.prefixCls,n=t.align,r=t.arrow,i=t.arrowPos,o=r||{},a=o.className,c=o.content,l=i.x,u=void 0===l?0:l,s=i.y,f=void 0===s?0:s,h=Z.useRef();if(!n||!n.points)return null;var d={position:"absolute"};if(!1!==n.autoArrow){var p=n.points[0],v=n.points[1],g=p[0],m=p[1],y=v[0],b=v[1];g!==y&&["t","b"].includes(g)?"t"===g?d.top=0:d.bottom=0:d.top=f,m!==b&&["l","r"].includes(m)?"l"===m?d.left=0:d.right=0:d.left=u}return Z.createElement("div",{ref:h,className:K()("".concat(e,"-arrow"),a),style:d},c)}function Ci(t){var e=t.prefixCls,n=t.open,r=t.zIndex,i=t.mask,o=t.motion;return i?Z.createElement(ne.ZP,(0,J.Z)({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(t){var n=t.className;return Z.createElement("div",{style:{zIndex:r},className:K()("".concat(e,"-mask"),n)})})):null}var Oi=Z.memo((function(t){return t.children}),(function(t,e){return e.cache})),Ei=Z.forwardRef((function(t,e){var n=t.popup,r=t.className,i=t.prefixCls,o=t.style,a=t.target,c=t.onVisibleChanged,l=t.open,u=t.keepDom,s=t.onClick,f=t.mask,h=t.arrow,d=t.arrowPos,p=t.align,v=t.motion,g=t.maskMotion,m=t.forceRender,y=t.getPopupContainer,b=t.autoDestroy,x=t.portal,w=t.zIndex,S=t.onMouseEnter,k=t.onMouseLeave,C=t.onPointerEnter,O=t.ready,E=t.offsetX,M=t.offsetY,A=t.offsetR,P=t.offsetB,_=t.onAlign,D=t.onPrepare,T=t.stretch,F=t.targetWidth,j=t.targetHeight,I="function"==typeof n?n():n,R=l||u,L=(null==y?void 0:y.length)>0,N=Z.useState(!y||!L),B=(0,rr.Z)(N,2),z=B[0],U=B[1];if((0,vr.Z)((function(){!z&&L&&a&&U(!0)}),[z,L,a]),!z)return null;var H="auto",W={left:"-1000vw",top:"-1000vh",right:H,bottom:H};if(O||!l){var V=p.points,G=p._experimental,X=null==G?void 0:G.dynamicInset,q=X&&"r"===V[0][1],Y=X&&"b"===V[0][0];q?(W.right=A,W.left=H):(W.left=E,W.right=H),Y?(W.bottom=P,W.top=H):(W.top=M,W.bottom=H)}var $={};return T&&(T.includes("height")&&j?$.height=j:T.includes("minHeight")&&j&&($.minHeight=j),T.includes("width")&&F?$.width=F:T.includes("minWidth")&&F&&($.minWidth=F)),l||($.pointerEvents="none"),Z.createElement(x,{open:m||R,getContainer:y&&function(){return y(a)},autoDestroy:b},Z.createElement(Ci,{prefixCls:i,open:l,zIndex:w,mask:f,motion:g}),Z.createElement(ii,{onResize:_,disabled:!l},(function(t){return Z.createElement(ne.ZP,(0,J.Z)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:m,leavedClassName:"".concat(i,"-hidden")},v,{onAppearPrepare:D,onEnterPrepare:D,visible:l,onVisibleChanged:function(t){var e;null==v||null===(e=v.onVisibleChanged)||void 0===e||e.call(v,t),c(t)}}),(function(n,a){var c=n.className,u=n.style,f=K()(i,c,r);return Z.createElement("div",{ref:(0,le.sQ)(t,e,a),className:f,style:(0,lt.Z)((0,lt.Z)((0,lt.Z)((0,lt.Z)({"--arrow-x":"".concat(d.x||0,"px"),"--arrow-y":"".concat(d.y||0,"px")},W),$),u),{},{boxSizing:"border-box",zIndex:w},o),onMouseEnter:S,onMouseLeave:k,onPointerEnter:C,onClick:s},h&&Z.createElement(ki,{prefixCls:i,arrow:h,arrowPos:d,align:p}),Z.createElement(Oi,{cache:!l},I))}))})))}));var Mi=Ei,Ai=Z.forwardRef((function(t,e){var n=t.children,r=t.getTriggerDOMNode,i=(0,le.Yr)(n),o=Z.useCallback((function(t){(0,le.mH)(e,r?r(t):t)}),[r]),a=(0,le.x1)(o,n.ref);return i?Z.cloneElement(n,{ref:a}):n}));var Pi=Ai,_i=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];var Di=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er,e=Z.forwardRef((function(e,n){var r=e.prefixCls,i=void 0===r?"rc-trigger-popup":r,o=e.children,a=e.action,c=void 0===a?"hover":a,l=e.showAction,u=e.hideAction,s=e.popupVisible,f=e.defaultPopupVisible,h=e.onPopupVisibleChange,d=e.afterPopupVisibleChange,p=e.mouseEnterDelay,v=e.mouseLeaveDelay,g=void 0===v?.1:v,m=e.focusDelay,y=e.blurDelay,b=e.mask,x=e.maskClosable,w=void 0===x||x,S=e.getPopupContainer,k=e.forceRender,C=e.autoDestroy,O=e.destroyPopupOnHide,E=e.popup,M=e.popupClassName,A=e.popupStyle,P=e.popupPlacement,_=e.builtinPlacements,D=void 0===_?{}:_,T=e.popupAlign,F=e.zIndex,j=e.stretch,I=e.getPopupClassNameFromAlign,R=e.alignPoint,L=e.onPopupClick,N=e.onPopupAlign,B=e.arrow,z=e.popupMotion,U=e.maskMotion,H=e.popupTransitionName,W=e.popupAnimation,V=e.maskTransitionName,G=e.maskAnimation,X=e.className,q=e.getTriggerDOMNode,$=(0,rt.Z)(e,_i),J=C||O||!1,Q=Z.useState(!1),tt=(0,rr.Z)(Q,2),et=tt[0],nt=tt[1];(0,vr.Z)((function(){nt(li())}),[]);var it=Z.useRef({}),ot=Z.useContext(ui),at=Z.useMemo((function(){return{registerSubPopup:function(t,e){it.current[t]=e,null==ot||ot.registerSubPopup(t,e)}}}),[ot]),ct=ci(),ut=Z.useState(null),st=(0,rr.Z)(ut,2),ft=st[0],ht=st[1],dt=(0,de.Z)((function(t){(0,Mr.S)(t)&&ft!==t&&ht(t),null==ot||ot.registerSubPopup(ct,t)})),pt=Z.useState(null),vt=(0,rr.Z)(pt,2),gt=vt[0],mt=vt[1],yt=(0,de.Z)((function(t){(0,Mr.S)(t)&&gt!==t&&mt(t)})),bt=Z.Children.only(o),xt=(null==bt?void 0:bt.props)||{},wt={},St=(0,de.Z)((function(t){var e,n,r=gt;return(null==r?void 0:r.contains(t))||(null===(e=(0,oi.A)(r))||void 0===e?void 0:e.host)===t||t===r||(null==ft?void 0:ft.contains(t))||(null===(n=(0,oi.A)(ft))||void 0===n?void 0:n.host)===t||t===ft||Object.values(it.current).some((function(e){return(null==e?void 0:e.contains(t))||t===e}))})),kt=hi(i,z,W,H),Ct=hi(i,U,G,V),Ot=Z.useState(f||!1),Et=(0,rr.Z)(Ot,2),Mt=Et[0],At=Et[1],_t=null!=s?s:Mt,Dt=(0,de.Z)((function(t){void 0===s&&At(t)}));(0,vr.Z)((function(){At(s||!1)}),[s]);var Tt=Z.useRef(_t);Tt.current=_t;var Zt=(0,de.Z)((function(t){(0,Pt.flushSync)((function(){_t!==t&&(Dt(t),null==h||h(t))}))})),Ft=Z.useRef(),jt=function(){clearTimeout(Ft.current)},It=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;jt(),0===e?Zt(t):Ft.current=setTimeout((function(){Zt(t)}),1e3*e)};Z.useEffect((function(){return jt}),[]);var Rt=Z.useState(!1),Lt=(0,rr.Z)(Rt,2),Nt=Lt[0],Bt=Lt[1];(0,vr.Z)((function(t){t&&!_t||Bt(!0)}),[_t]);var zt=Z.useState(null),Ut=(0,rr.Z)(zt,2),Ht=Ut[0],Wt=Ut[1],Vt=Z.useState([0,0]),Gt=(0,rr.Z)(Vt,2),Xt=Gt[0],qt=Gt[1],Yt=function(t){qt([t.clientX,t.clientY])},$t=function(t,e,n,r,i,o,a){var c=Z.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),l=(0,rr.Z)(c,2),u=l[0],s=l[1],f=Z.useRef(0),h=Z.useMemo((function(){return e?pi(e):[]}),[e]),d=Z.useRef({});t||(d.current={});var p=(0,de.Z)((function(){if(e&&n&&t){var c,l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V,r=S.x+t,i=S.y+e,o=r+F,a=i+Z,c=Math.max(r,n.left),l=Math.max(i,n.top),u=Math.min(o,n.right),s=Math.min(a,n.bottom);return Math.max(0,(u-c)*(s-l))},u=function(){at=S.y+xt,ct=at+Z,ut=S.x+bt,st=ut+F},f=e,p=f.style.left,v=f.style.top,g=f.style.right,m=f.style.bottom,y=f.ownerDocument,b=di(f),x=(0,lt.Z)((0,lt.Z)({},i[r]),o);if(f.style.left="0",f.style.top="0",f.style.right="auto",f.style.bottom="auto",Array.isArray(n))c={x:n[0],y:n[1],width:0,height:0};else{var w=n.getBoundingClientRect();c={x:w.x,y:w.y,width:w.width,height:w.height}}var S=f.getBoundingClientRect(),k=b.getComputedStyle(f),C=k.width,O=k.height,E=y.documentElement,M=E.clientWidth,A=E.clientHeight,P=E.scrollWidth,_=E.scrollHeight,D=E.scrollTop,T=E.scrollLeft,Z=S.height,F=S.width,j=c.height,I=c.width,R={left:0,top:0,right:M,bottom:A},L={left:-T,top:-D,right:P-T,bottom:_-D},N=x.htmlRegion,B="visible",z="visibleFirst";"scroll"!==N&&N!==z&&(N=B);var U=N===z,H=mi(L,h),W=mi(R,h),V=N===B?W:H,G=U?W:V;f.style.left="auto",f.style.top="auto",f.style.right="0",f.style.bottom="0";var X=f.getBoundingClientRect();f.style.left=p,f.style.top=v,f.style.right=g,f.style.bottom=m;var q=vi(Math.round(F/parseFloat(C)*1e3)/1e3),Y=vi(Math.round(Z/parseFloat(O)*1e3)/1e3);if(0===q||0===Y||(0,Mr.S)(n)&&!ue(n))return;var $=x.offset,K=x.targetOffset,J=bi(S,$),Q=(0,rr.Z)(J,2),tt=Q[0],et=Q[1],nt=bi(c,K),rt=(0,rr.Z)(nt,2),it=rt[0],ot=rt[1];c.x-=it,c.y-=ot;var at,ct,ut,st,ft=x.points||[],ht=(0,rr.Z)(ft,2),dt=ht[0],pt=xi(ht[1]),vt=xi(dt),gt=wi(c,pt),mt=wi(S,vt),yt=(0,lt.Z)({},x),bt=gt.x-mt.x+tt,xt=gt.y-mt.y+et,wt=l(bt,xt),St=l(bt,xt,W),kt=wi(c,["t","l"]),Ct=wi(S,["t","l"]),Ot=wi(c,["b","r"]),Et=wi(S,["b","r"]),Mt=x.overflow||{},At=Mt.adjustX,Pt=Mt.adjustY,_t=Mt.shiftX,Dt=Mt.shiftY,Tt=function(t){return"boolean"==typeof t?t:t>=0};u();var Zt=Tt(Pt),Ft=vt[0]===pt[0];if(Zt&&"t"===vt[0]&&(ct>G.bottom||d.current.bt)){var jt=xt;Ft?jt-=Z-j:jt=kt.y-Et.y-et;var It=l(bt,jt),Rt=l(bt,jt,W);It>wt||It===wt&&(!U||Rt>=St)?(d.current.bt=!0,xt=jt,et=-et,yt.points=[Si(vt,0),Si(pt,0)]):d.current.bt=!1}if(Zt&&"b"===vt[0]&&(at<G.top||d.current.tb)){var Lt=xt;Ft?Lt+=Z-j:Lt=Ot.y-Ct.y-et;var Nt=l(bt,Lt),Bt=l(bt,Lt,W);Nt>wt||Nt===wt&&(!U||Bt>=St)?(d.current.tb=!0,xt=Lt,et=-et,yt.points=[Si(vt,0),Si(pt,0)]):d.current.tb=!1}var zt=Tt(At),Ut=vt[1]===pt[1];if(zt&&"l"===vt[1]&&(st>G.right||d.current.rl)){var Ht=bt;Ut?Ht-=F-I:Ht=kt.x-Et.x-tt;var Wt=l(Ht,xt),Vt=l(Ht,xt,W);Wt>wt||Wt===wt&&(!U||Vt>=St)?(d.current.rl=!0,bt=Ht,tt=-tt,yt.points=[Si(vt,1),Si(pt,1)]):d.current.rl=!1}if(zt&&"r"===vt[1]&&(ut<G.left||d.current.lr)){var Gt=bt;Ut?Gt+=F-I:Gt=Ot.x-Ct.x-tt;var Xt=l(Gt,xt),qt=l(Gt,xt,W);Xt>wt||Xt===wt&&(!U||qt>=St)?(d.current.lr=!0,bt=Gt,tt=-tt,yt.points=[Si(vt,1),Si(pt,1)]):d.current.lr=!1}u();var Yt=!0===_t?0:_t;"number"==typeof Yt&&(ut<W.left&&(bt-=ut-W.left-tt,c.x+I<W.left+Yt&&(bt+=c.x-W.left+I-Yt)),st>W.right&&(bt-=st-W.right-tt,c.x>W.right-Yt&&(bt+=c.x-W.right+Yt)));var $t=!0===Dt?0:Dt;"number"==typeof $t&&(at<W.top&&(xt-=at-W.top-et,c.y+j<W.top+$t&&(xt+=c.y-W.top+j-$t)),ct>W.bottom&&(xt-=ct-W.bottom-et,c.y>W.bottom-$t&&(xt+=c.y-W.bottom+$t)));var Kt=S.x+bt,Jt=Kt+F,Qt=S.y+xt,te=Qt+Z,ee=c.x,ne=ee+I,re=c.y,ie=re+j,oe=(Math.max(Kt,ee)+Math.min(Jt,ne))/2-Kt,ae=(Math.max(Qt,re)+Math.min(te,ie))/2-Qt;null==a||a(e,yt);var ce=X.right-S.x-(bt+S.width),le=X.bottom-S.y-(xt+S.height);s({ready:!0,offsetX:bt/q,offsetY:xt/Y,offsetR:ce/q,offsetB:le/Y,arrowX:oe/q,arrowY:ae/Y,scaleX:q,scaleY:Y,align:yt})}})),v=function(){s((function(t){return(0,lt.Z)((0,lt.Z)({},t),{},{ready:!1})}))};return(0,vr.Z)(v,[r]),(0,vr.Z)((function(){t||v()}),[t]),[u.ready,u.offsetX,u.offsetY,u.offsetR,u.offsetB,u.arrowX,u.arrowY,u.scaleX,u.scaleY,u.align,function(){f.current+=1;var t=f.current;Promise.resolve().then((function(){f.current===t&&p()}))}]}(_t,ft,R?Xt:gt,P,D,T,N),Kt=(0,rr.Z)($t,11),Jt=Kt[0],Qt=Kt[1],te=Kt[2],ee=Kt[3],ne=Kt[4],re=Kt[5],ie=Kt[6],oe=Kt[7],ae=Kt[8],ce=Kt[9],le=Kt[10],se=function(t,e,n,r){return Z.useMemo((function(){var i=si(null!=n?n:e),o=si(null!=r?r:e),a=new Set(i),c=new Set(o);return t&&(a.has("hover")&&(a.delete("hover"),a.add("click")),c.has("hover")&&(c.delete("hover"),c.add("click"))),[a,c]}),[t,e,n,r])}(et,c,l,u),fe=(0,rr.Z)(se,2),he=fe[0],ve=fe[1],ge=he.has("click"),me=ve.has("click")||ve.has("contextMenu"),ye=(0,de.Z)((function(){Nt||le()}));!function(t,e,n,r,i){(0,vr.Z)((function(){if(t&&e&&n){var o=function(){r(),i()},a=n,c=pi(e),l=pi(a),u=di(a),s=new Set([u].concat((0,Y.Z)(c),(0,Y.Z)(l)));return s.forEach((function(t){t.addEventListener("scroll",o,{passive:!0})})),u.addEventListener("resize",o,{passive:!0}),r(),function(){s.forEach((function(t){t.removeEventListener("scroll",o),u.removeEventListener("resize",o)}))}}}),[t,e,n])}(_t,gt,ft,ye,(function(){Tt.current&&R&&me&&It(!1)})),(0,vr.Z)((function(){ye()}),[Xt,P]),(0,vr.Z)((function(){!_t||null!=D&&D[P]||ye()}),[JSON.stringify(T)]);var be=Z.useMemo((function(){var t=function(t,e,n,r){for(var i=n.points,o=Object.keys(t),a=0;a<o.length;a+=1){var c,l=o[a];if(fi(null===(c=t[l])||void 0===c?void 0:c.points,i,r))return"".concat(e,"-placement-").concat(l)}return""}(D,i,ce,R);return K()(t,null==I?void 0:I(ce))}),[ce,I,D,i,R]);Z.useImperativeHandle(n,(function(){return{forceAlign:ye}}));(0,vr.Z)((function(){Ht&&(le(),Ht(),Wt(null))}),[Ht]);var xe=Z.useState(0),we=(0,rr.Z)(xe,2),Se=we[0],ke=we[1],Ce=Z.useState(0),Oe=(0,rr.Z)(Ce,2),Ee=Oe[0],Me=Oe[1];function Ae(t,e,n,r){wt[t]=function(i){var o;null==r||r(i),It(e,n);for(var a=arguments.length,c=new Array(a>1?a-1:0),l=1;l<a;l++)c[l-1]=arguments[l];null===(o=xt[t])||void 0===o||o.call.apply(o,[xt,i].concat(c))}}(ge||me)&&(wt.onClick=function(t){var e;Tt.current&&me?It(!1):!Tt.current&&ge&&(Yt(t),It(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(e=xt.onClick)||void 0===e||e.call.apply(e,[xt,t].concat(r))}),function(t,e,n,r,i,o,a,c){var l=Z.useRef(t),u=Z.useRef(!1);l.current!==t&&(u.current=!0,l.current=t),Z.useEffect((function(){var t=(0,pe.Z)((function(){u.current=!1}));return function(){pe.Z.cancel(t)}}),[t]),Z.useEffect((function(){if(e&&r&&(!i||o)){var t=function(){var t=!1;return[function(e){var n=e.target;t=a(n)},function(e){var n=e.target;u.current||!l.current||t||a(n)||c(!1)}]},s=t(),f=(0,rr.Z)(s,2),h=f[0],d=f[1],p=t(),v=(0,rr.Z)(p,2),g=v[0],m=v[1],y=di(r);y.addEventListener("mousedown",h,!0),y.addEventListener("click",d,!0),y.addEventListener("contextmenu",d,!0);var b=(0,oi.A)(n);return b&&(b.addEventListener("mousedown",g,!0),b.addEventListener("click",m,!0),b.addEventListener("contextmenu",m,!0)),function(){y.removeEventListener("mousedown",h,!0),y.removeEventListener("click",d,!0),y.removeEventListener("contextmenu",d,!0),b&&(b.removeEventListener("mousedown",g,!0),b.removeEventListener("click",m,!0),b.removeEventListener("contextmenu",m,!0))}}}),[e,n,r,i,o])}(_t,me,gt,ft,b,w,St,It);var Pe,_e,De=he.has("hover"),Te=ve.has("hover");De&&(Ae("onMouseEnter",!0,p,(function(t){Yt(t)})),Ae("onPointerEnter",!0,p,(function(t){Yt(t)})),Pe=function(){(_t||Nt)&&It(!0,p)},R&&(wt.onMouseMove=function(t){var e;null===(e=xt.onMouseMove)||void 0===e||e.call(xt,t)})),Te&&(Ae("onMouseLeave",!1,g),Ae("onPointerLeave",!1,g),_e=function(){It(!1,g)}),he.has("focus")&&Ae("onFocus",!0,m),ve.has("focus")&&Ae("onBlur",!1,y),he.has("contextMenu")&&(wt.onContextMenu=function(t){var e;Tt.current&&ve.has("contextMenu")?It(!1):(Yt(t),It(!0)),t.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(e=xt.onContextMenu)||void 0===e||e.call.apply(e,[xt,t].concat(r))}),X&&(wt.className=K()(xt.className,X));var Ze=(0,lt.Z)((0,lt.Z)({},xt),wt),Fe={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(t){$[t]&&(Fe[t]=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===(e=Ze[t])||void 0===e||e.call.apply(e,[Ze].concat(r)),$[t].apply($,r)})}));var je=Z.cloneElement(bt,(0,lt.Z)((0,lt.Z)({},Ze),Fe)),Ie={x:re,y:ie},Re=B?(0,lt.Z)({},!0!==B?B:{}):null;return Z.createElement(Z.Fragment,null,Z.createElement(ii,{disabled:!_t,ref:yt,onResize:function(t,e){if(ye(),j){var n=e.getBoundingClientRect();ke(n.width),Me(n.height)}}},Z.createElement(Pi,{getTriggerDOMNode:q},je)),Z.createElement(ui.Provider,{value:at},Z.createElement(Mi,{portal:t,ref:dt,prefixCls:i,popup:E,className:K()(M,be),style:A,target:gt,onMouseEnter:Pe,onMouseLeave:_e,onPointerEnter:Pe,zIndex:F,open:_t,keepDom:Nt,onClick:L,mask:b,motion:kt,maskMotion:Ct,onVisibleChanged:function(t){Bt(!1),le(),null==d||d(t)},onPrepare:function(){return new Promise((function(t){Wt((function(){return t}))}))},forceRender:k,autoDestroy:J,getPopupContainer:S,align:ce,arrow:Re,arrowPos:Ie,ready:Jt,offsetX:Qt,offsetY:te,offsetR:ee,offsetB:ne,onAlign:ye,stretch:j,targetWidth:Se/oe,targetHeight:Ee/ae})))}));return e}(Er),Ti={shiftX:64,adjustY:1},Zi={adjustX:1,shiftY:!0},Fi=[0,0],ji={left:{points:["cr","cl"],overflow:Zi,offset:[-4,0],targetOffset:Fi},right:{points:["cl","cr"],overflow:Zi,offset:[4,0],targetOffset:Fi},top:{points:["bc","tc"],overflow:Ti,offset:[0,-4],targetOffset:Fi},bottom:{points:["tc","bc"],overflow:Ti,offset:[0,4],targetOffset:Fi},topLeft:{points:["bl","tl"],overflow:Ti,offset:[0,-4],targetOffset:Fi},leftTop:{points:["tr","tl"],overflow:Zi,offset:[-4,0],targetOffset:Fi},topRight:{points:["br","tr"],overflow:Ti,offset:[0,-4],targetOffset:Fi},rightTop:{points:["tl","tr"],overflow:Zi,offset:[4,0],targetOffset:Fi},bottomRight:{points:["tr","br"],overflow:Ti,offset:[0,4],targetOffset:Fi},rightBottom:{points:["bl","br"],overflow:Zi,offset:[4,0],targetOffset:Fi},bottomLeft:{points:["tl","bl"],overflow:Ti,offset:[0,4],targetOffset:Fi},leftBottom:{points:["br","bl"],overflow:Zi,offset:[-4,0],targetOffset:Fi}};function Ii(t){var e=t.children,n=t.prefixCls,r=t.id,i=t.overlayInnerStyle,o=t.className,a=t.style;return Z.createElement("div",{className:K()("".concat(n,"-content"),o),style:a},Z.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:i},"function"==typeof e?e():e))}var Ri=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Li=function(t,e){var n=t.overlayClassName,r=t.trigger,i=void 0===r?["hover"]:r,o=t.mouseEnterDelay,a=void 0===o?0:o,c=t.mouseLeaveDelay,l=void 0===c?.1:c,u=t.overlayStyle,s=t.prefixCls,f=void 0===s?"rc-tooltip":s,h=t.children,d=t.onVisibleChange,p=t.afterVisibleChange,v=t.transitionName,g=t.animation,m=t.motion,y=t.placement,b=void 0===y?"right":y,x=t.align,w=void 0===x?{}:x,S=t.destroyTooltipOnHide,k=void 0!==S&&S,C=t.defaultVisible,O=t.getTooltipContainer,E=t.overlayInnerStyle,M=(t.arrowContent,t.overlay),A=t.id,P=t.showArrow,_=void 0===P||P,D=(0,rt.Z)(t,Ri),T=(0,Z.useRef)(null);(0,Z.useImperativeHandle)(e,(function(){return T.current}));var F=(0,lt.Z)({},D);"visible"in t&&(F.popupVisible=t.visible);return Z.createElement(Di,(0,J.Z)({popupClassName:n,prefixCls:f,popup:function(){return Z.createElement(Ii,{key:"content",prefixCls:f,id:A,overlayInnerStyle:E},M)},action:i,builtinPlacements:ji,popupPlacement:b,ref:T,popupAlign:w,getPopupContainer:O,onPopupVisibleChange:d,afterPopupVisibleChange:p,popupTransitionName:v,popupAnimation:g,popupMotion:m,defaultPopupVisible:C,autoDestroy:k,mouseLeaveDelay:l,popupStyle:u,mouseEnterDelay:a,arrow:_},F),h)},Ni=(0,Z.forwardRef)(Li),Bi=function(t,e,n,r,i){var o=t/2,a=o,c=1*n/Math.sqrt(2),l=o-n*(1-1/Math.sqrt(2)),u=o-e*(1/Math.sqrt(2)),s=n*(Math.sqrt(2)-1)+e*(1/Math.sqrt(2)),f=2*o-u,h=s,d=2*o-c,p=l,v=2*o-0,g=a,m=o*Math.sqrt(2)+n*(Math.sqrt(2)-2),y=n*(Math.sqrt(2)-1);return{pointerEvents:"none",width:t,height:t,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:t,height:t/2,background:r,clipPath:{_multi_value_:!0,value:["polygon(".concat(y,"px 100%, 50% ").concat(y,"px, ").concat(2*o-y,"px 100%, ").concat(y,"px 100%)"),"path('M ".concat(0," ").concat(a," A ").concat(n," ").concat(n," 0 0 0 ").concat(c," ").concat(l," L ").concat(u," ").concat(s," A ").concat(e," ").concat(e," 0 0 1 ").concat(f," ").concat(h," L ").concat(d," ").concat(p," A ").concat(n," ").concat(n," 0 0 0 ").concat(v," ").concat(g," Z')")]},content:'""'},"&::after":{content:'""',position:"absolute",width:m,height:m,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:"0 0 ".concat(e,"px 0")},transform:"translateY(50%) rotate(-135deg)",boxShadow:i,zIndex:0,background:"transparent"}}},zi=8;function Ui(t){var e=zi,n=t.contentRadius,r=n>12?n+2:12;return{dropdownArrowOffset:r,dropdownArrowOffsetVertical:t.limitVerticalRadius?e:r}}function Hi(t,e){return t?e:{}}function Wi(t,e){var n,r,i,o,a=t.componentCls,c=t.sizePopupArrow,l=t.borderRadiusXS,u=t.borderRadiusOuter,s=t.boxShadowPopoverArrow,f=e.colorBg,h=e.contentRadius,d=void 0===h?t.borderRadiusLG:h,p=e.limitVerticalRadius,v=e.arrowDistance,g=void 0===v?0:v,m=e.arrowPlacement,y=void 0===m?{left:!0,right:!0,top:!0,bottom:!0}:m,b=Ui({contentRadius:d,limitVerticalRadius:p}),x=b.dropdownArrowOffsetVertical,w=b.dropdownArrowOffset;return(0,V.Z)({},a,Object.assign(Object.assign(Object.assign(Object.assign((0,V.Z)({},"".concat(a,"-arrow"),[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},Bi(c,l,u,f,s)),{"&:before":{background:f}})]),Hi(!!y.top,(n={},(0,V.Z)(n,["&-placement-top ".concat(a,"-arrow"),"&-placement-topLeft ".concat(a,"-arrow"),"&-placement-topRight ".concat(a,"-arrow")].join(","),{bottom:g,transform:"translateY(100%) rotate(180deg)"}),(0,V.Z)(n,"&-placement-top ".concat(a,"-arrow"),{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"}),(0,V.Z)(n,"&-placement-topLeft ".concat(a,"-arrow"),{left:{_skip_check_:!0,value:w}}),(0,V.Z)(n,"&-placement-topRight ".concat(a,"-arrow"),{right:{_skip_check_:!0,value:w}}),n))),Hi(!!y.bottom,(r={},(0,V.Z)(r,["&-placement-bottom ".concat(a,"-arrow"),"&-placement-bottomLeft ".concat(a,"-arrow"),"&-placement-bottomRight ".concat(a,"-arrow")].join(","),{top:g,transform:"translateY(-100%)"}),(0,V.Z)(r,"&-placement-bottom ".concat(a,"-arrow"),{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"}),(0,V.Z)(r,"&-placement-bottomLeft ".concat(a,"-arrow"),{left:{_skip_check_:!0,value:w}}),(0,V.Z)(r,"&-placement-bottomRight ".concat(a,"-arrow"),{right:{_skip_check_:!0,value:w}}),r))),Hi(!!y.left,(i={},(0,V.Z)(i,["&-placement-left ".concat(a,"-arrow"),"&-placement-leftTop ".concat(a,"-arrow"),"&-placement-leftBottom ".concat(a,"-arrow")].join(","),{right:{_skip_check_:!0,value:g},transform:"translateX(100%) rotate(90deg)"}),(0,V.Z)(i,"&-placement-left ".concat(a,"-arrow"),{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"}),(0,V.Z)(i,"&-placement-leftTop ".concat(a,"-arrow"),{top:x}),(0,V.Z)(i,"&-placement-leftBottom ".concat(a,"-arrow"),{bottom:x}),i))),Hi(!!y.right,(o={},(0,V.Z)(o,["&-placement-right ".concat(a,"-arrow"),"&-placement-rightTop ".concat(a,"-arrow"),"&-placement-rightBottom ".concat(a,"-arrow")].join(","),{left:{_skip_check_:!0,value:g},transform:"translateX(-100%) rotate(-90deg)"}),(0,V.Z)(o,"&-placement-right ".concat(a,"-arrow"),{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"}),(0,V.Z)(o,"&-placement-rightTop ".concat(a,"-arrow"),{top:x}),(0,V.Z)(o,"&-placement-rightBottom ".concat(a,"-arrow"),{bottom:x}),o))))}var Vi={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Gi={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Xi=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function qi(t){var e=t.arrowWidth,n=t.autoAdjustOverflow,r=t.arrowPointAtCenter,i=t.offset,o=t.borderRadius,a=t.visibleFirst,c=e/2,l={};return Object.keys(Vi).forEach((function(t){var u=r&&Gi[t]||Vi[t],s=Object.assign(Object.assign({},u),{offset:[0,0]});switch(l[t]=s,Xi.has(t)&&(s.autoArrow=!1),t){case"top":case"topLeft":case"topRight":s.offset[1]=-c-i;break;case"bottom":case"bottomLeft":case"bottomRight":s.offset[1]=c+i;break;case"left":case"leftTop":case"leftBottom":s.offset[0]=-c-i;break;case"right":case"rightTop":case"rightBottom":s.offset[0]=c+i}var f=Ui({contentRadius:o,limitVerticalRadius:!0});if(r)switch(t){case"topLeft":case"bottomLeft":s.offset[0]=-f.dropdownArrowOffset-c;break;case"topRight":case"bottomRight":s.offset[0]=f.dropdownArrowOffset+c;break;case"leftTop":case"rightTop":s.offset[1]=-f.dropdownArrowOffset-c;break;case"leftBottom":case"rightBottom":s.offset[1]=f.dropdownArrowOffset+c}s.overflow=function(t,e,n,r){if(!1===r)return{adjustX:!1,adjustY:!1};var i=r&&"object"==typeof r?r:{},o={};switch(t){case"top":case"bottom":o.shiftX=2*e.dropdownArrowOffset+n;break;case"left":case"right":o.shiftY=2*e.dropdownArrowOffsetVertical+n}var a=Object.assign(Object.assign({},o),i);return a.shiftX||(a.adjustX=!0),a.shiftY||(a.adjustY=!0),a}(t,f,e,n),a&&(s.htmlRegion="visibleFirst")})),l}var Yi=n(23941),$i=n(77098),Ki=n(60114),Ji=(n(96697),n(65346));n(93148);n(99831);var Qi=n(38202),to=(n(89759),n(56748));Ji.u_,Ji.u_.token;var eo=function(){var t=(0,Te.Z)(),e=(0,G.Z)(t,3);return{theme:e[0],token:e[1],hashId:e[2]}},no=($i.Z,function(t,e,n,r){var i,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return i={},(0,V.Z)(i,"\n      ".concat(o).concat(t,"-enter,\n      ").concat(o).concat(t,"-appear\n    "),Object.assign(Object.assign({},function(t){return{animationDuration:t,animationFillMode:"both"}}(r)),{animationPlayState:"paused"})),(0,V.Z)(i,"".concat(o).concat(t,"-leave"),Object.assign(Object.assign({},function(t){return{animationDuration:t,animationFillMode:"both"}}(r)),{animationPlayState:"paused"})),(0,V.Z)(i,"\n      ".concat(o).concat(t,"-enter").concat(t,"-enter-active,\n      ").concat(o).concat(t,"-appear").concat(t,"-appear-active\n    "),{animationName:e,animationPlayState:"running"}),(0,V.Z)(i,"".concat(o).concat(t,"-leave").concat(t,"-leave-active"),{animationName:n,animationPlayState:"running",pointerEvents:"none"}),i}),ro=new Yi.E4("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),io=new Yi.E4("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),oo=new Yi.E4("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),ao=new Yi.E4("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),co=new Yi.E4("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),lo=new Yi.E4("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),uo={zoom:{inKeyframes:ro,outKeyframes:io},"zoom-big":{inKeyframes:oo,outKeyframes:ao},"zoom-big-fast":{inKeyframes:oo,outKeyframes:ao},"zoom-left":{inKeyframes:new Yi.E4("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),outKeyframes:new Yi.E4("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}})},"zoom-right":{inKeyframes:new Yi.E4("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),outKeyframes:new Yi.E4("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}})},"zoom-up":{inKeyframes:co,outKeyframes:lo},"zoom-down":{inKeyframes:new Yi.E4("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),outKeyframes:new Yi.E4("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}})}},so=function(t,e){var n,r=t.antCls,i="".concat(r,"-").concat(e),o=uo[e],a=o.inKeyframes,c=o.outKeyframes;return[no(i,a,c,"zoom-big-fast"===e?t.motionDurationFast:t.motionDurationMid),(n={},(0,V.Z)(n,"\n        ".concat(i,"-enter,\n        ").concat(i,"-appear\n      "),{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}}),(0,V.Z)(n,"".concat(i,"-leave"),{animationTimingFunction:t.motionEaseInOutCirc}),n)]},fo=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function ho(t,e){return fo.reduce((function(n,r){var i=t["".concat(r,"1")],o=t["".concat(r,"3")],a=t["".concat(r,"6")],c=t["".concat(r,"7")];return Object.assign(Object.assign({},n),e(r,{lightColor:i,lightBorderColor:o,darkColor:a,textColor:c}))}),{})}var po=function(t){var e,n=t.componentCls,r=t.tooltipMaxWidth,i=t.tooltipColor,o=t.tooltipBg,a=t.tooltipBorderRadius,c=t.zIndexPopup,l=t.controlHeight,u=t.boxShadowSecondary,s=t.paddingSM,f=t.paddingXS,h=t.tooltipRadiusOuter;return[(0,V.Z)({},n,Object.assign(Object.assign(Object.assign(Object.assign({},(0,Qe.Wf)(t)),(e={position:"absolute",zIndex:c,display:"block",width:"max-content",maxWidth:r,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":o},(0,V.Z)(e,"".concat(n,"-inner"),{minWidth:l,minHeight:l,padding:"".concat(s/2,"px ").concat(f,"px"),color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:a,boxShadow:u,boxSizing:"border-box"}),(0,V.Z)(e,["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(","),(0,V.Z)({},"".concat(n,"-inner"),{borderRadius:Math.min(a,zi)})),(0,V.Z)(e,"".concat(n,"-content"),{position:"relative"}),e)),ho(t,(function(t,e){var r,i=e.darkColor;return(0,V.Z)({},"&".concat(n,"-").concat(t),(r={},(0,V.Z)(r,"".concat(n,"-inner"),{backgroundColor:i}),(0,V.Z)(r,"".concat(n,"-arrow"),{"--antd-arrow-background-color":i}),r))}))),{"&-rtl":{direction:"rtl"}})),Wi((0,nn.TS)(t,{borderRadiusOuter:h}),{colorBg:"var(--antd-arrow-background-color)",contentRadius:a,limitVerticalRadius:!0}),(0,V.Z)({},"".concat(n,"-pure"),{position:"relative",maxWidth:"none",margin:t.sizePopupArrow})]},vo=function(t,e){var n=(0,se.Z)("Tooltip",(function(t){if(!1===e)return[];var n=t.borderRadius,r=t.colorTextLightSolid,i=t.colorBgDefault,o=t.borderRadiusOuter,a=(0,nn.TS)(t,{tooltipMaxWidth:250,tooltipColor:r,tooltipBorderRadius:n,tooltipBg:i,tooltipRadiusOuter:o>4?4:o});return[po(a),so(t,"zoom-big-fast")]}),(function(t){return{zIndexPopup:t.zIndexPopupBase+70,colorBgDefault:t.colorBgSpotlight}}),{resetStyle:!1});return n(t)},go=fo.map((function(t){return"".concat(t,"-inverse")}));function mo(t,e){var n=function(t){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?fo.includes(t):[].concat((0,Y.Z)(go),(0,Y.Z)(fo)).includes(t)}(e),r=K()((0,V.Z)({},"".concat(t,"-").concat(e),e&&n)),i={},o={};return e&&!n&&(i.background=e,o["--antd-arrow-background-color"]=e),{className:r,overlayStyle:i,arrowStyle:o}}var yo=function(t){var e=t.prefixCls,n=t.className,r=t.placement,i=void 0===r?"top":r,o=t.title,a=t.color,c=t.overlayInnerStyle,l=(0,Z.useContext(Dt.E_).getPrefixCls)("tooltip",e),u=vo(l,!0),s=(0,G.Z)(u,2),f=s[0],h=s[1],d=mo(l,a),p=d.arrowStyle,v=Object.assign(Object.assign({},c),d.overlayStyle),g=K()(h,l,"".concat(l,"-pure"),"".concat(l,"-placement-").concat(i),n,d.className);return f(Z.createElement("div",{className:g,style:p},Z.createElement("div",{className:"".concat(l,"-arrow")}),Z.createElement(Ii,Object.assign({},t,{className:h,prefixCls:l,overlayInnerStyle:v}),o)))},bo=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},xo=eo;function wo(t,e){var n=t.type;if((!0===n.__ANT_BUTTON||"button"===t.type)&&t.props.disabled||!0===n.__ANT_SWITCH&&(t.props.disabled||t.props.loading)||!0===n.__ANT_RADIO&&t.props.disabled){var r=function(t,e){var n={},r=Object.assign({},t);return e.forEach((function(e){t&&e in t&&(n[e]=t[e],delete r[e])})),{picked:n,omitted:r}}(t.props.style,["position","left","right","top","bottom","float","display","zIndex"]),i=r.picked,o=r.omitted,a=Object.assign(Object.assign({display:"inline-block"},i),{cursor:"not-allowed",width:t.props.block?"100%":void 0}),c=Object.assign(Object.assign({},o),{pointerEvents:"none"}),l=(0,ae.Tm)(t,{style:c,className:null});return Z.createElement("span",{style:a,className:K()(t.props.className,"".concat(e,"-disabled-compatible-wrapper"))},l)}return t}var So=Z.forwardRef((function(t,e){var n,r,i=t.prefixCls,o=t.openClassName,a=t.getTooltipContainer,c=t.overlayClassName,l=t.color,u=t.overlayInnerStyle,s=t.children,f=t.afterOpenChange,h=t.afterVisibleChange,d=t.destroyTooltipOnHide,p=t.arrow,v=void 0===p||p,g=t.title,m=t.overlay,y=t.builtinPlacements,b=t.arrowPointAtCenter,x=void 0!==b&&b,w=t.autoAdjustOverflow,S=void 0===w||w,k=!!v,C=xo().token,O=Z.useContext(Dt.E_),E=O.getPopupContainer,M=O.getPrefixCls,A=O.direction,P=Z.useRef(null),_=function(){var t;null===(t=P.current)||void 0===t||t.forceAlign()};Z.useImperativeHandle(e,(function(){return{forceAlign:_,forcePopupAlign:function(){_()}}}));var D=(0,At.Z)(!1,{value:null!==(n=t.open)&&void 0!==n?n:t.visible,defaultValue:null!==(r=t.defaultOpen)&&void 0!==r?r:t.defaultVisible}),T=(0,G.Z)(D,2),F=T[0],j=T[1],I=!g&&!m&&0!==g,R=Z.useMemo((function(){var t,e,n=x;return"object"==typeof v&&(n=null!==(e=null!==(t=v.pointAtCenter)&&void 0!==t?t:v.arrowPointAtCenter)&&void 0!==e?e:x),y||qi({arrowPointAtCenter:n,autoAdjustOverflow:S,arrowWidth:k?C.sizePopupArrow:0,borderRadius:C.borderRadius,offset:C.marginXXS,visibleFirst:!0})}),[x,v,y,C]),L=Z.useMemo((function(){return 0===g?g:m||g||""}),[m,g]),N=Z.createElement(Le,null,"function"==typeof L?L():L),B=t.getPopupContainer,z=t.placement,U=void 0===z?"top":z,H=t.mouseEnterDelay,W=void 0===H?.1:H,X=t.mouseLeaveDelay,q=void 0===X?.1:X,Y=t.overlayStyle,$=t.rootClassName,J=bo(t,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),Q=M("tooltip",i),tt=M(),et=t["data-popover-inject"],nt=F;"open"in t||"visible"in t||!I||(nt=!1);var rt=wo((0,ae.l$)(s)&&!(0,ae.M2)(s)?s:Z.createElement("span",null,s),Q),it=rt.props,ot=it.className&&"string"!=typeof it.className?it.className:K()(it.className,o||"".concat(Q,"-open")),at=vo(Q,!et),ct=(0,G.Z)(at,2),lt=ct[0],ut=ct[1],st=mo(Q,l),ft=st.arrowStyle,ht=Object.assign(Object.assign({},u),st.overlayStyle),dt=K()(c,(0,V.Z)({},"".concat(Q,"-rtl"),"rtl"===A),st.className,$,ut);return lt(Z.createElement(Ni,Object.assign({},J,{showArrow:k,placement:U,mouseEnterDelay:W,mouseLeaveDelay:q,prefixCls:Q,overlayClassName:dt,overlayStyle:Object.assign(Object.assign({},ft),Y),getTooltipContainer:B||a||E,ref:P,builtinPlacements:R,overlay:N,visible:nt,onVisibleChange:function(e){var n,r;j(!I&&e),I||(null===(n=t.onOpenChange)||void 0===n||n.call(t,e),null===(r=t.onVisibleChange)||void 0===r||r.call(t,e))},afterVisibleChange:null!=f?f:h,overlayInnerStyle:ht,arrowContent:Z.createElement("span",{className:"".concat(Q,"-arrow-content")}),motion:{motionName:(0,oe.m)(tt,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!d}),nt?(0,ae.Tm)(rt,{className:ot}):rt))}));So._InternalPanelDoNotUseOrYouWillBeFired=yo;var ko=So;function Co(t){return!t||t<0?0:t>100?100:t}function Oo(t){var e=t.success,n=t.successPercent;return e&&"progress"in e&&(n=e.progress),e&&"percent"in e&&(n=e.percent),n}var Eo=function(t){var e=t.percent,n=Co(Oo({success:t.success,successPercent:t.successPercent}));return[n,Co(Co(e)-n)]},Mo=function(t,e,n){var r,i,o,a,c=-1,l=-1;if("step"===e){var u=n.steps,s=n.strokeWidth;if("string"==typeof t||void 0===t)c="small"===t?2:14,l=null!=s?s:8;else if("number"==typeof t)c=t,l=t;else{var f=(0,G.Z)(t,2),h=f[0];c=void 0===h?14:h;var d=f[1];l=void 0===d?8:d}c*=u}else if("line"===e){var p=null==n?void 0:n.strokeWidth;if("string"==typeof t||void 0===t)l=p||("small"===t?6:8);else if("number"==typeof t)c=t,l=t;else{var v=(0,G.Z)(t,2),g=v[0];c=void 0===g?-1:g;var m=v[1];l=void 0===m?8:m}}else if("circle"===e||"dashboard"===e)if("string"==typeof t||void 0===t){var y="small"===t?[60,60]:[120,120],b=(0,G.Z)(y,2);c=b[0],l=b[1]}else"number"==typeof t?(c=t,l=t):(c=null!==(i=null!==(r=t[0])&&void 0!==r?r:t[1])&&void 0!==i?i:120,l=null!==(a=null!==(o=t[0])&&void 0!==o?o:t[1])&&void 0!==a?a:120);return[c,l]},Ao=function(t){var e=t.prefixCls,n=t.trailColor,r=void 0===n?null:n,i=t.strokeLinecap,o=void 0===i?"round":i,a=t.gapPosition,c=t.gapDegree,l=t.width,u=void 0===l?120:l,s=t.type,f=t.children,h=t.success,d=t.size,p=Mo(void 0===d?u:d,"circle"),v=(0,G.Z)(p,2),g=v[0],m=v[1],y=t.strokeWidth;void 0===y&&(y=Math.max(function(t){return 3/t*100}(g),6));var b={width:g,height:m,fontSize:.15*g+6},x=Z.useMemo((function(){return c||0===c?c:"dashboard"===s?75:void 0}),[c,s]),w=a||"dashboard"===s&&"bottom"||void 0,S="[object Object]"===Object.prototype.toString.call(t.strokeColor),k=function(t){var e=t.success,n=void 0===e?{}:e,r=t.strokeColor;return[n.strokeColor||Qi.ez.green,r||null]}({success:h,strokeColor:t.strokeColor}),C=K()("".concat(e,"-inner"),(0,V.Z)({},"".concat(e,"-circle-gradient"),S)),O=Z.createElement(dr,{percent:Eo(t),strokeWidth:y,trailWidth:y,strokeColor:k,strokeLinecap:o,trailColor:r,prefixCls:e,gapDegree:x,gapPosition:w});return Z.createElement("div",{className:C,style:b},g<=20?Z.createElement(ko,{title:f},Z.createElement("span",null,O)):Z.createElement(Z.Fragment,null,O,f))},Po=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},_o=function(t,e){var n,r,i=t.from,o=void 0===i?Qi.ez.blue:i,a=t.to,c=void 0===a?Qi.ez.blue:a,l=t.direction,u=void 0===l?"rtl"===e?"to left":"to right":l,s=Po(t,["from","to","direction"]);if(0!==Object.keys(s).length){var f=(n=s,r=[],Object.keys(n).forEach((function(t){var e=parseFloat(t.replace(/%/g,""));isNaN(e)||r.push({key:e,value:n[t]})})),r=r.sort((function(t,e){return t.key-e.key})),r.map((function(t){var e=t.key,n=t.value;return"".concat(n," ").concat(e,"%")})).join(", "));return{backgroundImage:"linear-gradient(".concat(u,", ").concat(f,")")}}return{backgroundImage:"linear-gradient(".concat(u,", ").concat(o,", ").concat(c,")")}},Do=function(t){var e=t.prefixCls,n=t.direction,r=t.percent,i=t.size,o=t.strokeWidth,a=t.strokeColor,c=t.strokeLinecap,l=void 0===c?"round":c,u=t.children,s=t.trailColor,f=void 0===s?null:s,h=t.success,d=a&&"string"!=typeof a?_o(a,n):{backgroundColor:a},p="square"===l||"butt"===l?0:void 0,v={backgroundColor:f||void 0,borderRadius:p},g=Mo(null!=i?i:[-1,o||("small"===i?6:8)],"line",{strokeWidth:o}),m=(0,G.Z)(g,2),y=m[0],b=m[1];var x=Object.assign({width:"".concat(Co(r),"%"),height:b,borderRadius:p},d),w=Oo(t),S={width:"".concat(Co(w),"%"),height:b,borderRadius:p,backgroundColor:null==h?void 0:h.strokeColor},k={width:y<0?"100%":y,height:b};return Z.createElement(Z.Fragment,null,Z.createElement("div",{className:"".concat(e,"-outer"),style:k},Z.createElement("div",{className:"".concat(e,"-inner"),style:v},Z.createElement("div",{className:"".concat(e,"-bg"),style:x}),void 0!==w?Z.createElement("div",{className:"".concat(e,"-success-bg"),style:S}):null)),u)},To=function(t){for(var e=t.size,n=t.steps,r=t.percent,i=void 0===r?0:r,o=t.strokeWidth,a=void 0===o?8:o,c=t.strokeColor,l=t.trailColor,u=void 0===l?null:l,s=t.prefixCls,f=t.children,h=Math.round(n*(i/100)),d=Mo(null!=e?e:["small"===e?2:14,a],"step",{steps:n,strokeWidth:a}),p=(0,G.Z)(d,2),v=p[0],g=p[1],m=v/n,y=new Array(n),b=0;b<n;b++){var x=Array.isArray(c)?c[b]:c;y[b]=Z.createElement("div",{key:b,className:K()("".concat(s,"-steps-item"),(0,V.Z)({},"".concat(s,"-steps-item-active"),b<=h-1)),style:{backgroundColor:b<=h-1?x:u,width:m,height:g}})}return Z.createElement("div",{className:"".concat(s,"-steps-outer")},y,f)},Zo=function(t){var e=t?"100%":"-100%";return new Yi.E4("antProgress".concat(t?"RTL":"LTR","Active"),{"0%":{transform:"translateX(".concat(e,") scaleX(0)"),opacity:.1},"20%":{transform:"translateX(".concat(e,") scaleX(0)"),opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Fo=function(t){var e,n,r,i=t.componentCls,o=t.iconCls;return(0,V.Z)({},i,Object.assign(Object.assign({},(0,Qe.Wf)(t)),(r={display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:t.fontSize,marginInlineEnd:t.marginXS,marginBottom:t.marginXS}},(0,V.Z)(r,"".concat(i,"-outer"),{display:"inline-block",width:"100%"}),(0,V.Z)(r,"&".concat(i,"-show-info"),(0,V.Z)({},"".concat(i,"-outer"),{marginInlineEnd:"calc(-2em - ".concat(t.marginXS,"px)"),paddingInlineEnd:"calc(2em + ".concat(t.paddingXS,"px)")})),(0,V.Z)(r,"".concat(i,"-inner"),{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:t.progressRemainingColor,borderRadius:t.progressLineRadius}),(0,V.Z)(r,"".concat(i,"-inner:not(").concat(i,"-circle-gradient)"),(0,V.Z)({},"".concat(i,"-circle-path"),{stroke:t.colorInfo})),(0,V.Z)(r,"".concat(i,"-success-bg, ").concat(i,"-bg"),{position:"relative",backgroundColor:t.colorInfo,borderRadius:t.progressLineRadius,transition:"all ".concat(t.motionDurationSlow," ").concat(t.motionEaseInOutCirc)}),(0,V.Z)(r,"".concat(i,"-success-bg"),{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:t.colorSuccess}),(0,V.Z)(r,"".concat(i,"-text"),(0,V.Z)({display:"inline-block",width:"2em",marginInlineStart:t.marginXS,color:t.progressInfoTextColor,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal"},o,{fontSize:t.fontSize})),(0,V.Z)(r,"&".concat(i,"-status-active"),(0,V.Z)({},"".concat(i,"-bg::before"),{position:"absolute",inset:0,backgroundColor:t.colorBgContainer,borderRadius:t.progressLineRadius,opacity:0,animationName:Zo(),animationDuration:t.progressActiveMotionDuration,animationTimingFunction:t.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'})),(0,V.Z)(r,"&".concat(i,"-rtl").concat(i,"-status-active"),(0,V.Z)({},"".concat(i,"-bg::before"),{animationName:Zo(!0)})),(0,V.Z)(r,"&".concat(i,"-status-exception"),(e={},(0,V.Z)(e,"".concat(i,"-bg"),{backgroundColor:t.colorError}),(0,V.Z)(e,"".concat(i,"-text"),{color:t.colorError}),e)),(0,V.Z)(r,"&".concat(i,"-status-exception ").concat(i,"-inner:not(").concat(i,"-circle-gradient)"),(0,V.Z)({},"".concat(i,"-circle-path"),{stroke:t.colorError})),(0,V.Z)(r,"&".concat(i,"-status-success"),(n={},(0,V.Z)(n,"".concat(i,"-bg"),{backgroundColor:t.colorSuccess}),(0,V.Z)(n,"".concat(i,"-text"),{color:t.colorSuccess}),n)),(0,V.Z)(r,"&".concat(i,"-status-success ").concat(i,"-inner:not(").concat(i,"-circle-gradient)"),(0,V.Z)({},"".concat(i,"-circle-path"),{stroke:t.colorSuccess})),r)))},jo=function(t){var e,n,r=t.componentCls,i=t.iconCls;return n={},(0,V.Z)(n,r,(e={},(0,V.Z)(e,"".concat(r,"-circle-trail"),{stroke:t.progressRemainingColor}),(0,V.Z)(e,"&".concat(r,"-circle ").concat(r,"-inner"),{position:"relative",lineHeight:1,backgroundColor:"transparent"}),(0,V.Z)(e,"&".concat(r,"-circle ").concat(r,"-text"),(0,V.Z)({position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:t.colorText,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)"},i,{fontSize:"".concat(t.fontSize/t.fontSizeSM,"em")})),(0,V.Z)(e,"".concat(r,"-circle&-status-exception"),(0,V.Z)({},"".concat(r,"-text"),{color:t.colorError})),(0,V.Z)(e,"".concat(r,"-circle&-status-success"),(0,V.Z)({},"".concat(r,"-text"),{color:t.colorSuccess})),e)),(0,V.Z)(n,"".concat(r,"-inline-circle"),(0,V.Z)({lineHeight:1},"".concat(r,"-inner"),{verticalAlign:"bottom"})),n},Io=function(t){var e=t.componentCls;return(0,V.Z)({},e,(0,V.Z)({},"".concat(e,"-steps"),{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:t.progressStepMinWidth,marginInlineEnd:t.progressStepMarginInlineEnd,backgroundColor:t.progressRemainingColor,transition:"all ".concat(t.motionDurationSlow),"&-active":{backgroundColor:t.colorInfo}}}))},Ro=function(t){var e=t.componentCls,n=t.iconCls;return(0,V.Z)({},e,(0,V.Z)({},"".concat(e,"-small&-line, ").concat(e,"-small&-line ").concat(e,"-text ").concat(n),{fontSize:t.fontSizeSM}))},Lo=(0,se.Z)("Progress",(function(t){var e=t.marginXXS/2,n=(0,nn.TS)(t,{progressLineRadius:100,progressInfoTextColor:t.colorText,progressDefaultColor:t.colorInfo,progressRemainingColor:t.colorFillSecondary,progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[Fo(n),jo(n),Io(n),Ro(n)]})),No=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Bo=["normal","exception","active","success"],zo=Z.forwardRef((function(t,e){var n,r=t.prefixCls,i=t.className,o=t.rootClassName,a=t.steps,c=t.strokeColor,l=t.percent,u=void 0===l?0:l,s=t.size,f=void 0===s?"default":s,h=t.showInfo,d=void 0===h||h,p=t.type,v=void 0===p?"line":p,g=t.status,m=t.format,y=t.style,b=No(t,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style"]),x=Z.useMemo((function(){var e,n,r=Oo(t);return parseInt(void 0!==r?null===(e=null!=r?r:0)||void 0===e?void 0:e.toString():null===(n=null!=u?u:0)||void 0===n?void 0:n.toString(),10)}),[u,t.success,t.successPercent]),w=Z.useMemo((function(){return!Bo.includes(g)&&x>=100?"success":g||"normal"}),[g,x]),S=Z.useContext(Dt.E_),k=S.getPrefixCls,C=S.direction,O=S.progress,E=k("progress",r),M=Lo(E),A=(0,G.Z)(M,2),P=A[0],_=A[1],D=Z.useMemo((function(){if(!d)return null;var e,n=Oo(t),r="line"===v;return m||"exception"!==w&&"success"!==w?e=(m||function(t){return"".concat(t,"%")})(Co(u),Co(n)):"exception"===w?e=r?Z.createElement(Kn,null):Z.createElement(tr,null):"success"===w&&(e=r?Z.createElement(Vn,null):Z.createElement(qn,null)),Z.createElement("span",{className:"".concat(E,"-text"),title:"string"==typeof e?e:void 0},e)}),[d,u,x,w,v,E,m]);var T,F=Array.isArray(c)?c[0]:c,j="string"==typeof c||Array.isArray(c)?c:void 0;"line"===v?T=a?Z.createElement(To,Object.assign({},t,{strokeColor:j,prefixCls:E,steps:a}),D):Z.createElement(Do,Object.assign({},t,{strokeColor:F,prefixCls:E,direction:C}),D):"circle"!==v&&"dashboard"!==v||(T=Z.createElement(Ao,Object.assign({},t,{strokeColor:F,prefixCls:E,progressStatus:w}),D));var I=K()(E,"".concat(E,"-status-").concat(w),"".concat(E,"-").concat(("dashboard"===v?"circle":a&&"steps")||v),(n={},(0,V.Z)(n,"".concat(E,"-inline-circle"),"circle"===v&&Mo(f,"circle")[0]<=20),(0,V.Z)(n,"".concat(E,"-show-info"),d),(0,V.Z)(n,"".concat(E,"-").concat(f),"string"==typeof f),(0,V.Z)(n,"".concat(E,"-rtl"),"rtl"===C),n),null==O?void 0:O.className,i,o,_);return P(Z.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},null==O?void 0:O.style),y),className:I,role:"progressbar","aria-valuenow":x},(0,ce.Z)(b,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),T))}));var Uo=zo,Ho=Z.forwardRef((function(t,e){var n,r,i=t.prefixCls,o=t.className,a=t.style,c=t.locale,l=t.listType,u=t.file,s=t.items,f=t.progress,h=t.iconRender,d=t.actionIconRender,p=t.itemRender,v=t.isImgUrl,g=t.showPreviewIcon,m=t.showRemoveIcon,y=t.showDownloadIcon,b=t.previewIcon,x=t.removeIcon,w=t.downloadIcon,S=t.onPreview,k=t.onDownload,C=t.onClose,O=u.status,E=Z.useState(O),M=(0,G.Z)(E,2),A=M[0],P=M[1];Z.useEffect((function(){"removed"!==O&&P(O)}),[O]);var _=Z.useState(!1),D=(0,G.Z)(_,2),T=D[0],F=D[1];Z.useEffect((function(){var t=setTimeout((function(){F(!0)}),300);return function(){clearTimeout(t)}}),[]);var j=h(u),I=Z.createElement("div",{className:"".concat(i,"-icon")},j);if("picture"===l||"picture-card"===l||"picture-circle"===l)if("uploading"===A||!u.thumbUrl&&!u.url){var R=K()("".concat(i,"-list-item-thumbnail"),(0,V.Z)({},"".concat(i,"-list-item-file"),"uploading"!==A));I=Z.createElement("div",{className:R},j)}else{var L=(null==v?void 0:v(u))?Z.createElement("img",{src:u.thumbUrl||u.url,alt:u.name,className:"".concat(i,"-list-item-image"),crossOrigin:u.crossOrigin}):j,N=K()("".concat(i,"-list-item-thumbnail"),(0,V.Z)({},"".concat(i,"-list-item-file"),v&&!v(u)));I=Z.createElement("a",{className:N,onClick:function(t){return S(u,t)},href:u.url||u.thumbUrl,target:"_blank",rel:"noopener noreferrer"},L)}var B=K()("".concat(i,"-list-item"),"".concat(i,"-list-item-").concat(A)),z="string"==typeof u.linkProps?JSON.parse(u.linkProps):u.linkProps,U=m?d(("function"==typeof x?x(u):x)||Z.createElement(In,null),(function(){return C(u)}),i,c.removeFile):null,H=y&&"done"===A?d(("function"==typeof w?w(u):w)||Z.createElement(Nn,null),(function(){return k(u)}),i,c.downloadFile):null,W="picture-card"!==l&&"picture-circle"!==l&&Z.createElement("span",{key:"download-delete",className:K()("".concat(i,"-list-item-actions"),{picture:"picture"===l})},H,U),X=K()("".concat(i,"-list-item-name")),q=u.url?[Z.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:X,title:u.name},z,{href:u.url,onClick:function(t){return S(u,t)}}),u.name),W]:[Z.createElement("span",{key:"view",className:X,onClick:function(t){return S(u,t)},title:u.name},u.name),W],Y=g?Z.createElement("a",{href:u.url||u.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:u.url||u.thumbUrl?void 0:{pointerEvents:"none",opacity:.5},onClick:function(t){return S(u,t)},title:c.previewFile},"function"==typeof b?b(u):b||Z.createElement(Un,null)):null,$=("picture-card"===l||"picture-circle"===l)&&"uploading"!==A&&Z.createElement("span",{className:"".concat(i,"-list-item-actions")},Y,"done"===A&&H,U),J=(0,Z.useContext(Dt.E_).getPrefixCls)(),Q=Z.createElement("div",{className:B},I,q,$,T&&Z.createElement(ne.ZP,{motionName:"".concat(J,"-fade"),visible:"uploading"===A,motionDeadline:2e3},(function(t){var e=t.className,n="percent"in u?Z.createElement(Uo,Object.assign({},f,{type:"line",percent:u.percent,"aria-label":u["aria-label"],"aria-labelledby":u["aria-labelledby"]})):null;return Z.createElement("div",{className:K()("".concat(i,"-list-item-progress"),e)},n)}))),tt=u.response&&"string"==typeof u.response?u.response:(null===(n=u.error)||void 0===n?void 0:n.statusText)||(null===(r=u.error)||void 0===r?void 0:r.message)||c.uploadError,et="error"===A?Z.createElement(ko,{title:tt,getPopupContainer:function(t){return t.parentNode}},Q):Q;return Z.createElement("div",{className:K()("".concat(i,"-list-item-container"),o),style:a,ref:e},p?p(et,u,s,{download:k.bind(null,u),preview:S.bind(null,u),remove:C.bind(null,u)}):et)})),Wo=Ho,Vo=function(t,e){var n=t.listType,r=void 0===n?"text":n,i=t.previewFile,o=void 0===i?Zn:i,a=t.onPreview,c=t.onDownload,l=t.onRemove,u=t.locale,s=t.iconRender,f=t.isImageUrl,h=void 0===f?Dn:f,d=t.prefixCls,p=t.items,v=void 0===p?[]:p,g=t.showPreviewIcon,m=void 0===g||g,y=t.showRemoveIcon,b=void 0===y||y,x=t.showDownloadIcon,w=void 0!==x&&x,S=t.removeIcon,k=t.previewIcon,C=t.downloadIcon,O=t.progress,E=void 0===O?{size:[-1,2],showInfo:!1}:O,M=t.appendAction,A=t.appendActionVisible,P=void 0===A||A,_=t.itemRender,D=t.disabled,T=re(),F=Z.useState(!1),j=(0,G.Z)(F,2),I=j[0],R=j[1];Z.useEffect((function(){"picture"!==r&&"picture-card"!==r&&"picture-circle"!==r||(v||[]).forEach((function(t){"undefined"!=typeof document&&"undefined"!=typeof window&&window.FileReader&&window.File&&(t.originFileObj instanceof File||t.originFileObj instanceof Blob)&&void 0===t.thumbUrl&&(t.thumbUrl="",o&&o(t.originFileObj).then((function(e){t.thumbUrl=e||"",T()})))}))}),[r,v,o]),Z.useEffect((function(){R(!0)}),[]);var L=function(t,e){if(a)return null==e||e.preventDefault(),a(t)},N=function(t){"function"==typeof c?c(t):t.url&&window.open(t.url)},B=function(t){null==l||l(t)},z=function(t){if(s)return s(t,r);var e="uploading"===t.status,n=h&&h(t)?Z.createElement(ee,null):Z.createElement(Gt,null),i=e?Z.createElement(Yt,null):Z.createElement(Jt,null);return"picture"===r?i=e?Z.createElement(Yt,null):n:"picture-card"!==r&&"picture-circle"!==r||(i=e?u.uploading:n),i},U=function(t,e,n,r){var i={type:"text",size:"small",title:r,onClick:function(n){e(),(0,ae.l$)(t)&&t.props.onClick&&t.props.onClick(n)},className:"".concat(n,"-list-item-action"),disabled:D};if((0,ae.l$)(t)){var o=(0,ae.Tm)(t,Object.assign(Object.assign({},t.props),{onClick:function(){}}));return Z.createElement(En,Object.assign({},i,{icon:o}))}return Z.createElement(En,Object.assign({},i),Z.createElement("span",null,t))};Z.useImperativeHandle(e,(function(){return{handlePreview:L,handleDownload:N}}));var H=Z.useContext(Dt.E_).getPrefixCls,W=H("upload",d),V=H(),X=K()("".concat(W,"-list"),"".concat(W,"-list-").concat(r)),q=(0,Y.Z)(v.map((function(t){return{key:t.uid,file:t}}))),$="picture-card"===r||"picture-circle"===r?"animate-inline":"animate",J={motionDeadline:2e3,motionName:"".concat(W,"-").concat($),keys:q,motionAppear:I},Q=Z.useMemo((function(){var t=Object.assign({},(0,oe.Z)(V));return delete t.onAppearEnd,delete t.onEnterEnd,delete t.onLeaveEnd,t}),[V]);return"picture-card"!==r&&"picture-circle"!==r&&(J=Object.assign(Object.assign({},Q),J)),Z.createElement("div",{className:X},Z.createElement(ne.V4,Object.assign({},J,{component:!1}),(function(t){var e=t.key,n=t.file,i=t.className,o=t.style;return Z.createElement(Wo,{key:e,locale:u,prefixCls:W,className:i,style:o,file:n,items:v,progress:E,listType:r,isImgUrl:h,showPreviewIcon:m,showRemoveIcon:b,showDownloadIcon:w,removeIcon:S,previewIcon:k,downloadIcon:C,iconRender:z,actionIconRender:U,itemRender:_,onPreview:L,onDownload:N,onClose:B})})),M&&Z.createElement(ne.ZP,Object.assign({},J,{visible:P,forceRender:!0}),(function(t){var e=t.className,n=t.style;return(0,ae.Tm)(M,(function(t){return{className:K()(t.className,e),style:Object.assign(Object.assign(Object.assign({},n),{pointerEvents:e?"none":void 0}),t.style)}}))})))};var Go=Z.forwardRef(Vo),Xo=n(16235),qo=function(t){var e,n=t.componentCls,r=t.iconCls;return(0,V.Z)({},"".concat(n,"-wrapper"),(0,V.Z)({},"".concat(n,"-drag"),(e={position:"relative",width:"100%",height:"100%",textAlign:"center",background:t.colorFillAlter,border:"".concat(t.lineWidth,"px dashed ").concat(t.colorBorder),borderRadius:t.borderRadiusLG,cursor:"pointer",transition:"border-color ".concat(t.motionDurationSlow)},(0,V.Z)(e,n,{padding:"".concat(t.padding,"px 0")}),(0,V.Z)(e,"".concat(n,"-btn"),{display:"table",width:"100%",height:"100%",outline:"none"}),(0,V.Z)(e,"".concat(n,"-drag-container"),{display:"table-cell",verticalAlign:"middle"}),(0,V.Z)(e,"&:not(".concat(n,"-disabled):hover"),{borderColor:t.colorPrimaryHover}),(0,V.Z)(e,"p".concat(n,"-drag-icon"),(0,V.Z)({marginBottom:t.margin},r,{color:t.colorPrimary,fontSize:t.uploadThumbnailSize})),(0,V.Z)(e,"p".concat(n,"-text"),{margin:"0 0 ".concat(t.marginXXS,"px"),color:t.colorTextHeading,fontSize:t.fontSizeLG}),(0,V.Z)(e,"p".concat(n,"-hint"),{color:t.colorTextDescription,fontSize:t.fontSize}),(0,V.Z)(e,"&".concat(n,"-disabled"),(0,V.Z)({cursor:"not-allowed"},"p".concat(n,"-drag-icon ").concat(r,",\n            p").concat(n,"-text,\n            p").concat(n,"-hint\n          "),{color:t.colorTextDisabled})),e)))},Yo=function(t){var e,n,r,i,o,a=t.componentCls,c=t.antCls,l=t.iconCls,u=t.fontSize,s=t.lineHeight,f="".concat(a,"-list-item"),h="".concat(f,"-actions"),d="".concat(f,"-action"),p=Math.round(u*s);return(0,V.Z)({},"".concat(a,"-wrapper"),(0,V.Z)({},"".concat(a,"-list"),Object.assign(Object.assign({},(0,Qe.dF)()),(o={lineHeight:t.lineHeight},(0,V.Z)(o,f,(n={position:"relative",height:t.lineHeight*u,marginTop:t.marginXS,fontSize:u,display:"flex",alignItems:"center",transition:"background-color ".concat(t.motionDurationSlow),"&:hover":{backgroundColor:t.controlItemBgHover}},(0,V.Z)(n,"".concat(f,"-name"),Object.assign(Object.assign({},Qe.vS),{padding:"0 ".concat(t.paddingXS,"px"),lineHeight:s,flex:"auto",transition:"all ".concat(t.motionDurationSlow)})),(0,V.Z)(n,h,(e={},(0,V.Z)(e,d,{opacity:0}),(0,V.Z)(e,"".concat(d).concat(c,"-btn-sm"),{height:p,border:0,lineHeight:1,"> span":{transform:"scale(1)"}}),(0,V.Z)(e,"\n              ".concat(d,":focus,\n              &.picture ").concat(d,"\n            "),{opacity:1}),(0,V.Z)(e,l,{color:t.actionsColor,transition:"all ".concat(t.motionDurationSlow)}),(0,V.Z)(e,"&:hover ".concat(l),{color:t.colorText}),e)),(0,V.Z)(n,"".concat(a,"-icon ").concat(l),{color:t.colorTextDescription,fontSize:u}),(0,V.Z)(n,"".concat(f,"-progress"),{position:"absolute",bottom:-t.uploadProgressOffset,width:"100%",paddingInlineStart:u+t.paddingXS,fontSize:u,lineHeight:0,pointerEvents:"none","> div":{margin:0}}),n)),(0,V.Z)(o,"".concat(f,":hover ").concat(d),{opacity:1,color:t.colorText}),(0,V.Z)(o,"".concat(f,"-error"),(i={color:t.colorError},(0,V.Z)(i,"".concat(f,"-name, ").concat(a,"-icon ").concat(l),{color:t.colorError}),(0,V.Z)(i,h,(r={},(0,V.Z)(r,"".concat(l,", ").concat(l,":hover"),{color:t.colorError}),(0,V.Z)(r,d,{opacity:1}),r)),i)),(0,V.Z)(o,"".concat(a,"-list-item-container"),{transition:"opacity ".concat(t.motionDurationSlow,", height ").concat(t.motionDurationSlow),"&::before":{display:"table",width:0,height:0,content:'""'}}),o))))},$o=new Yi.E4("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Ko=new Yi.E4("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),Jo=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.antCls,i="".concat(r,"-fade"),o=n?"&":"";return[no(i,$o,Ko,t.motionDurationMid,n),(e={},(0,V.Z)(e,"\n        ".concat(o).concat(i,"-enter,\n        ").concat(o).concat(i,"-appear\n      "),{opacity:0,animationTimingFunction:"linear"}),(0,V.Z)(e,"".concat(o).concat(i,"-leave"),{animationTimingFunction:"linear"}),e)]},Qo=new Yi.E4("uploadAnimateInlineIn",{from:{width:0,height:0,margin:0,padding:0,opacity:0}}),ta=new Yi.E4("uploadAnimateInlineOut",{to:{width:0,height:0,margin:0,padding:0,opacity:0}}),ea=function(t){var e,n=t.componentCls,r="".concat(n,"-animate-inline");return[(0,V.Z)({},"".concat(n,"-wrapper"),(e={},(0,V.Z)(e,"".concat(r,"-appear, ").concat(r,"-enter, ").concat(r,"-leave"),{animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseInOutCirc,animationFillMode:"forwards"}),(0,V.Z)(e,"".concat(r,"-appear, ").concat(r,"-enter"),{animationName:Qo}),(0,V.Z)(e,"".concat(r,"-leave"),{animationName:ta}),e)),(0,V.Z)({},"".concat(n,"-wrapper"),Jo(t)),Qo,ta]},na=function(t){var e,n,r,i,o,a=t.componentCls,c=t.iconCls,l=t.uploadThumbnailSize,u=t.uploadProgressOffset,s="".concat(a,"-list"),f="".concat(s,"-item");return(0,V.Z)({},"".concat(a,"-wrapper"),(o={},(0,V.Z)(o,"\n        ".concat(s).concat(s,"-picture,\n        ").concat(s).concat(s,"-picture-card,\n        ").concat(s).concat(s,"-picture-circle\n      "),(i={},(0,V.Z)(i,f,(n={position:"relative",height:l+2*t.lineWidth+2*t.paddingXS,padding:t.paddingXS,border:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(t.colorBorder),borderRadius:t.borderRadiusLG,"&:hover":{background:"transparent"}},(0,V.Z)(n,"".concat(f,"-thumbnail"),Object.assign(Object.assign({},Qe.vS),(e={width:l,height:l,lineHeight:"".concat(l+t.paddingSM,"px"),textAlign:"center",flex:"none"},(0,V.Z)(e,c,{fontSize:t.fontSizeHeading2,color:t.colorPrimary}),(0,V.Z)(e,"img",{display:"block",width:"100%",height:"100%",overflow:"hidden"}),e))),(0,V.Z)(n,"".concat(f,"-progress"),{bottom:u,width:"calc(100% - ".concat(2*t.paddingSM,"px)"),marginTop:0,paddingInlineStart:l+t.paddingXS}),n)),(0,V.Z)(i,"".concat(f,"-error"),(0,V.Z)({borderColor:t.colorError},"".concat(f,"-thumbnail ").concat(c),(r={},(0,V.Z)(r,"svg path[fill='".concat(Qi.iN[0],"']"),{fill:t.colorErrorBg}),(0,V.Z)(r,"svg path[fill='".concat(Qi.iN.primary,"']"),{fill:t.colorError}),r))),(0,V.Z)(i,"".concat(f,"-uploading"),(0,V.Z)({borderStyle:"dashed"},"".concat(f,"-name"),{marginBottom:u})),i)),(0,V.Z)(o,"".concat(s).concat(s,"-picture-circle ").concat(f),(0,V.Z)({},"&, &::before, ".concat(f,"-thumbnail"),{borderRadius:"50%"})),o))},ra=function(t){var e,n,r,i,o,a=t.componentCls,c=t.iconCls,l=t.fontSizeLG,u=t.colorTextLightSolid,s="".concat(a,"-list"),f="".concat(s,"-item"),h=t.uploadPicCardSize;return o={},(0,V.Z)(o,"\n      ".concat(a,"-wrapper").concat(a,"-picture-card-wrapper,\n      ").concat(a,"-wrapper").concat(a,"-picture-circle-wrapper\n    "),Object.assign(Object.assign({},(0,Qe.dF)()),(i={display:"inline-block",width:"100%"},(0,V.Z)(i,"".concat(a).concat(a,"-select"),(e={width:h,height:h,marginInlineEnd:t.marginXS,marginBottom:t.marginXS,textAlign:"center",verticalAlign:"top",backgroundColor:t.colorFillAlter,border:"".concat(t.lineWidth,"px dashed ").concat(t.colorBorder),borderRadius:t.borderRadiusLG,cursor:"pointer",transition:"border-color ".concat(t.motionDurationSlow)},(0,V.Z)(e,"> ".concat(a),{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"}),(0,V.Z)(e,"&:not(".concat(a,"-disabled):hover"),{borderColor:t.colorPrimary}),e)),(0,V.Z)(i,"".concat(s).concat(s,"-picture-card, ").concat(s).concat(s,"-picture-circle"),(r={},(0,V.Z)(r,"".concat(s,"-item-container"),{display:"inline-block",width:h,height:h,marginBlock:"0 ".concat(t.marginXS,"px"),marginInline:"0 ".concat(t.marginXS,"px"),verticalAlign:"top"}),(0,V.Z)(r,"&::after",{display:"none"}),(0,V.Z)(r,f,{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:"calc(100% - ".concat(2*t.paddingXS,"px)"),height:"calc(100% - ".concat(2*t.paddingXS,"px)"),backgroundColor:t.colorBgMask,opacity:0,transition:"all ".concat(t.motionDurationSlow),content:'" "'}}),(0,V.Z)(r,"".concat(f,":hover"),(0,V.Z)({},"&::before, ".concat(f,"-actions"),{opacity:1})),(0,V.Z)(r,"".concat(f,"-actions"),(0,V.Z)({position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:"all ".concat(t.motionDurationSlow)},"".concat(c,"-eye, ").concat(c,"-download, ").concat(c,"-delete"),{zIndex:10,width:l,margin:"0 ".concat(t.marginXXS,"px"),fontSize:l,cursor:"pointer",transition:"all ".concat(t.motionDurationSlow),svg:{verticalAlign:"baseline"}})),(0,V.Z)(r,"".concat(f,"-actions, ").concat(f,"-actions:hover"),(0,V.Z)({},"".concat(c,"-eye, ").concat(c,"-download, ").concat(c,"-delete"),{color:new to.C(u).setAlpha(.65).toRgbString(),"&:hover":{color:u}})),(0,V.Z)(r,"".concat(f,"-thumbnail, ").concat(f,"-thumbnail img"),{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"}),(0,V.Z)(r,"".concat(f,"-name"),{display:"none",textAlign:"center"}),(0,V.Z)(r,"".concat(f,"-file + ").concat(f,"-name"),{position:"absolute",bottom:t.margin,display:"block",width:"calc(100% - ".concat(2*t.paddingXS,"px)")}),(0,V.Z)(r,"".concat(f,"-uploading"),(n={},(0,V.Z)(n,"&".concat(f),{backgroundColor:t.colorFillAlter}),(0,V.Z)(n,"&::before, ".concat(c,"-eye, ").concat(c,"-download, ").concat(c,"-delete"),{display:"none"}),n)),(0,V.Z)(r,"".concat(f,"-progress"),{bottom:t.marginXL,width:"calc(100% - ".concat(2*t.paddingXS,"px)"),paddingInlineStart:0}),r)),i))),(0,V.Z)(o,"".concat(a,"-wrapper").concat(a,"-picture-circle-wrapper"),(0,V.Z)({},"".concat(a).concat(a,"-select"),{borderRadius:"50%"})),o},ia=function(t){var e=t.componentCls;return(0,V.Z)({},"".concat(e,"-rtl"),{direction:"rtl"})},oa=function(t){var e,n=t.componentCls,r=t.colorTextDisabled;return(0,V.Z)({},"".concat(n,"-wrapper"),Object.assign(Object.assign({},(0,Qe.Wf)(t)),(e={},(0,V.Z)(e,n,{outline:0,"input[type='file']":{cursor:"pointer"}}),(0,V.Z)(e,"".concat(n,"-select"),{display:"inline-block"}),(0,V.Z)(e,"".concat(n,"-disabled"),{color:r,cursor:"not-allowed"}),e)))},aa=(0,se.Z)("Upload",(function(t){var e=t.fontSizeHeading3,n=t.fontSize,r=t.lineHeight,i=t.lineWidth,o=t.controlHeightLG,a=Math.round(n*r),c=(0,nn.TS)(t,{uploadThumbnailSize:2*e,uploadProgressOffset:a/2+i,uploadPicCardSize:2.55*o});return[oa(c),qo(c),na(c),ra(c),Yo(c),ea(c),ia(c),(0,Xo.Z)(c)]}),(function(t){return{actionsColor:t.colorTextDescription}})),ca=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(F2t){o(F2t)}}function c(t){try{l(r.throw(t))}catch(F2t){o(F2t)}}function l(t){t.done?i(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((r=r.apply(t,e||[])).next())}))},la="__LIST_IGNORE_".concat(Date.now(),"__"),ua=function(t,e){var n,r=t.fileList,i=t.defaultFileList,o=t.onRemove,a=t.showUploadList,c=void 0===a||a,l=t.listType,u=void 0===l?"text":l,s=t.onPreview,f=t.onDownload,h=t.onChange,d=t.onDrop,p=t.previewFile,v=t.disabled,g=t.locale,m=t.iconRender,y=t.isImageUrl,b=t.progress,x=t.prefixCls,w=t.className,S=t.type,k=void 0===S?"select":S,C=t.children,O=t.style,E=t.itemRender,M=t.maxCount,A=t.data,P=void 0===A?{}:A,_=t.multiple,D=void 0!==_&&_,T=t.action,F=void 0===T?"":T,j=t.accept,I=void 0===j?"":j,R=t.supportServerRender,L=void 0===R||R,N=Z.useContext(Ft),B=null!=v?v:N,z=(0,At.Z)(i||[],{value:r,postState:function(t){return null!=t?t:[]}}),U=(0,G.Z)(z,2),H=U[0],W=U[1],X=Z.useState("drop"),$=(0,G.Z)(X,2),J=$[0],Q=$[1],tt=Z.useRef(null);Z.useMemo((function(){var t=Date.now();(r||[]).forEach((function(e,n){e.uid||Object.isFrozen(e)||(e.uid="__AUTO__".concat(t,"_").concat(n,"__"))}))}),[r]);var et=function(t,e,n){var r=(0,Y.Z)(e),i=!1;1===M?r=r.slice(-1):M&&(i=r.length>M,r=r.slice(0,M)),(0,Pt.flushSync)((function(){W(r)}));var o={file:t,fileList:r};n&&(o.event=n),i&&!r.some((function(e){return e.uid===t.uid}))||(0,Pt.flushSync)((function(){null==h||h(o)}))},nt=function(t){var e=t.filter((function(t){return!t.file[la]}));if(e.length){var n=e.map((function(t){return Mn(t.file)})),r=(0,Y.Z)(H);n.forEach((function(t){r=An(t,r)})),n.forEach((function(t,n){var i=t;if(e[n].parsedFile)t.status="uploading";else{var o,a=t.originFileObj;try{o=new File([a],a.name,{type:a.type})}catch(F2t){(o=new Blob([a],{type:a.type})).name=a.name,o.lastModifiedDate=new Date,o.lastModified=(new Date).getTime()}o.uid=t.uid,i=o}et(i,r)}))}},rt=function(t,e,n){try{"string"==typeof t&&(t=JSON.parse(t))}catch(F2t){}if(Pn(e,H)){var r=Mn(e);r.status="done",r.percent=100,r.response=t,r.xhr=n;var i=An(r,H);et(r,i)}},it=function(t,e){if(Pn(e,H)){var n=Mn(e);n.status="uploading",n.percent=t.percent;var r=An(n,H);et(n,r,t)}},ot=function(t,e,n){if(Pn(n,H)){var r=Mn(n);r.error=t,r.response=e,r.status="error";var i=An(r,H);et(r,i)}},at=function(t){var e;Promise.resolve("function"==typeof o?o(t):o).then((function(n){var r;if(!1!==n){var i=function(t,e){var n=void 0!==t.uid?"uid":"name",r=e.filter((function(e){return e[n]!==t[n]}));return r.length===e.length?null:r}(t,H);i&&(e=Object.assign(Object.assign({},t),{status:"removed"}),null==H||H.forEach((function(t){var n=void 0!==e.uid?"uid":"name";t[n]!==e[n]||Object.isFrozen(t)||(t.status="removed")})),null===(r=tt.current)||void 0===r||r.abort(e),et(e,i))}}))},ct=function(t){Q(t.type),"drop"===t.type&&(null==d||d(t))};Z.useImperativeHandle(e,(function(){return{onBatchStart:nt,onSuccess:rt,onProgress:it,onError:ot,fileList:H,upload:tt.current}}));var lt=Z.useContext(Dt.E_),ut=lt.getPrefixCls,st=lt.direction,ft=lt.upload,ht=ut("upload",x),dt=Object.assign(Object.assign({onBatchStart:nt,onError:ot,onProgress:it,onSuccess:rt},t),{data:P,multiple:D,action:F,accept:I,supportServerRender:L,prefixCls:ht,disabled:B,beforeUpload:function(e,n){return ca(void 0,void 0,void 0,q().mark((function r(){var i,o,a,c;return q().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t.beforeUpload,o=t.transformFile,a=e,!i){r.next=13;break}return r.next=5,i(e,n);case 5:if(!1!==(c=r.sent)){r.next=8;break}return r.abrupt("return",!1);case 8:if(delete e[la],c!==la){r.next=12;break}return Object.defineProperty(e,la,{value:!0,configurable:!0}),r.abrupt("return",!1);case 12:"object"==typeof c&&c&&(a=c);case 13:if(!o){r.next=17;break}return r.next=16,o(a);case 16:a=r.sent;case 17:return r.abrupt("return",a);case 18:case"end":return r.stop()}}),r)})))},onChange:void 0});delete dt.className,delete dt.style,C&&!B||delete dt.id;var pt=aa(ht),vt=(0,G.Z)(pt,2),gt=vt[0],mt=vt[1],yt=Ut("Upload",zt.Upload),bt=(0,G.Z)(yt,1)[0],xt="boolean"==typeof c?{}:c,wt=xt.showRemoveIcon,St=xt.showPreviewIcon,kt=xt.showDownloadIcon,Ct=xt.removeIcon,Ot=xt.previewIcon,Et=xt.downloadIcon,_t=function(t,e){return c?Z.createElement(Go,{prefixCls:ht,listType:u,items:H,previewFile:p,onPreview:s,onDownload:f,onRemove:at,showRemoveIcon:!B&&wt,showPreviewIcon:St,showDownloadIcon:kt,removeIcon:Ct,previewIcon:Ot,downloadIcon:Et,iconRender:m,locale:Object.assign(Object.assign({},bt),g),isImageUrl:y,progress:b,appendAction:t,appendActionVisible:e,itemRender:E,disabled:B}):t},Tt=K()("".concat(ht,"-wrapper"),w,mt,null==ft?void 0:ft.className,(n={},(0,V.Z)(n,"".concat(ht,"-rtl"),"rtl"===st),(0,V.Z)(n,"".concat(ht,"-picture-card-wrapper"),"picture-card"===u),(0,V.Z)(n,"".concat(ht,"-picture-circle-wrapper"),"picture-circle"===u),n)),Zt=Object.assign(Object.assign({},null==ft?void 0:ft.style),O);if("drag"===k){var jt,It=K()(mt,ht,"".concat(ht,"-drag"),(jt={},(0,V.Z)(jt,"".concat(ht,"-drag-uploading"),H.some((function(t){return"uploading"===t.status}))),(0,V.Z)(jt,"".concat(ht,"-drag-hover"),"dragover"===J),(0,V.Z)(jt,"".concat(ht,"-disabled"),B),(0,V.Z)(jt,"".concat(ht,"-rtl"),"rtl"===st),jt));return gt(Z.createElement("span",{className:Tt},Z.createElement("div",{className:It,style:Zt,onDrop:ct,onDragOver:ct,onDragLeave:ct},Z.createElement(Mt,Object.assign({},dt,{ref:tt,className:"".concat(ht,"-btn")}),Z.createElement("div",{className:"".concat(ht,"-drag-container")},C))),_t()))}var Rt,Lt=K()(ht,"".concat(ht,"-select"),(0,V.Z)({},"".concat(ht,"-disabled"),B)),Nt=(Rt=C?void 0:{display:"none"},Z.createElement("div",{className:Lt,style:Rt},Z.createElement(Mt,Object.assign({},dt,{ref:tt}))));return gt("picture-card"===u||"picture-circle"===u?Z.createElement("span",{className:Tt},_t(Nt,!!C)):Z.createElement("span",{className:Tt},Nt,_t()))};var sa=Z.forwardRef(ua),fa=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},ha=Z.forwardRef((function(t,e){var n=t.style,r=t.height,i=fa(t,["style","height"]);return Z.createElement(sa,Object.assign({ref:e},i,{type:"drag",style:Object.assign(Object.assign({},n),{height:r})}))}));var da=ha,pa=sa;pa.Dragger=da,pa.LIST_IGNORE=la;var va=pa,ga=n(50119),ma=n(81884),ya=n(33101),ba=(0,Z.createContext)(void 0),xa=Object.assign({},zt.Modal),wa=[],Sa=function(){return wa.reduce((function(t,e){return Object.assign(Object.assign({},t),e)}),zt.Modal)};function ka(){return xa}var Ca=function(t){var e=t.locale,n=void 0===e?{}:e,r=t.children;t._ANT_MARK__;Z.useEffect((function(){var t=function(t){if(t){var e=Object.assign({},t);return wa.push(e),xa=Sa(),function(){wa=wa.filter((function(t){return t!==e})),xa=Sa()}}xa=Object.assign({},zt.Modal)}(n&&n.Modal);return t}),[n]);var i=Z.useMemo((function(){return Object.assign(Object.assign({},n),{exist:!0})}),[n]);return Z.createElement(jt.Provider,{value:i},r)},Oa="-ant-".concat(Date.now(),"-").concat(Math.random());function Ea(t,e){var n=function(t,e){var n={},r=function(t,e){var n=t.clone();return(n=(null==e?void 0:e(n))||n).toRgbString()},i=function(t,e){var i=new to.C(t),o=(0,Qi.R_)(i.toRgbString());n["".concat(e,"-color")]=r(i),n["".concat(e,"-color-disabled")]=o[1],n["".concat(e,"-color-hover")]=o[4],n["".concat(e,"-color-active")]=o[6],n["".concat(e,"-color-outline")]=i.clone().setAlpha(.2).toRgbString(),n["".concat(e,"-color-deprecated-bg")]=o[0],n["".concat(e,"-color-deprecated-border")]=o[2]};if(e.primaryColor){i(e.primaryColor,"primary");var o=new to.C(e.primaryColor),a=(0,Qi.R_)(o.toRgbString());a.forEach((function(t,e){n["primary-".concat(e+1)]=t})),n["primary-color-deprecated-l-35"]=r(o,(function(t){return t.lighten(35)})),n["primary-color-deprecated-l-20"]=r(o,(function(t){return t.lighten(20)})),n["primary-color-deprecated-t-20"]=r(o,(function(t){return t.tint(20)})),n["primary-color-deprecated-t-50"]=r(o,(function(t){return t.tint(50)})),n["primary-color-deprecated-f-12"]=r(o,(function(t){return t.setAlpha(.12*t.getAlpha())}));var c=new to.C(a[0]);n["primary-color-active-deprecated-f-30"]=r(c,(function(t){return t.setAlpha(.3*t.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(c,(function(t){return t.darken(2)}))}e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info");var l=Object.keys(n).map((function(e){return"--".concat(t,"-").concat(e,": ").concat(n[e],";")}));return"\n  :root {\n    ".concat(l.join("\n"),"\n  }\n  ").trim()}(t,e);(0,ir.Z)()&&(0,yr.hq)(n,"".concat(Oa,"-dynamic-theme"))}var Ma=n(82226);var Aa=function(){return{componentDisabled:(0,Z.useContext)(Ft),componentSize:(0,Z.useContext)(Ma.Z)}},Pa=n(24440);function _a(t){var e=t.children,n=(0,Te.Z)(),r=(0,G.Z)(n,2)[1].motion,i=Z.useRef(!1);return i.current=i.current||!1===r,i.current?Z.createElement(ne.zt,{motion:r},e):e}var Da,Ta,Za,Fa=function(t,e){var n=(0,Te.Z)(),r=(0,G.Z)(n,2),i=r[0],o=r[1];return(0,Yi.xy)({theme:i,token:o,hashId:"",path:["ant-design-icons",t],nonce:function(){return null==e?void 0:e.nonce}},(function(){return[(0,V.Z)({},".".concat(t),Object.assign(Object.assign({},(0,Qe.Ro)()),(0,V.Z)({},".".concat(t," .").concat(t,"-icon"),{display:"block"})))]}))},ja=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Ia=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select","button"];function Ra(){return Da||"ant"}function La(){return Ta||Dt.oR}var Na=function(){return{getPrefixCls:function(t,e){return e||(t?"".concat(Ra(),"-").concat(t):Ra())},getIconPrefixCls:La,getRootPrefixCls:function(){return Da||Ra()},getTheme:function(){return Za}}},Ba=function(t){var e=t.children,n=t.csp,r=t.autoInsertSpaceInButton,i=t.alert,o=t.anchor,a=t.form,c=t.locale,l=t.componentSize,u=t.direction,s=t.space,f=t.virtual,h=t.dropdownMatchSelectWidth,d=t.popupMatchSelectWidth,p=t.popupOverflow,v=t.legacyLocale,g=t.parentContext,m=t.iconPrefixCls,y=t.theme,b=t.componentDisabled,x=t.segmented,w=t.statistic,S=t.spin,k=t.calendar,C=t.carousel,O=t.cascader,E=t.collapse,M=t.typography,A=t.checkbox,P=t.descriptions,_=t.divider,D=t.drawer,T=t.skeleton,F=t.steps,j=t.image,I=t.layout,R=t.list,L=t.mentions,N=t.modal,B=t.progress,z=t.result,U=t.slider,H=t.breadcrumb,W=t.menu,V=t.pagination,X=t.input,q=t.empty,Y=t.badge,$=t.radio,K=t.rate,J=t.switch,Q=t.transfer,tt=t.avatar,et=t.message,nt=t.tag,rt=t.table,it=t.card,ot=t.tabs,at=t.timeline,ct=t.timePicker,lt=t.upload,ut=t.notification,st=t.tree,ft=t.colorPicker,ht=t.datePicker,dt=t.wave;var pt=Z.useCallback((function(e,n){var r=t.prefixCls;if(n)return n;var i=r||g.getPrefixCls("");return e?"".concat(i,"-").concat(e):i}),[g.getPrefixCls,t.prefixCls]),vt=m||g.iconPrefixCls||Dt.oR,gt=vt!==g.iconPrefixCls,mt=n||g.csp,yt=Fa(vt,mt),bt=function(t,e){var n=t||{},r=!1!==n.inherit&&e?e:Ji.u_;return(0,ma.Z)((function(){if(!t)return e;var i=Object.assign({},r.components);return Object.keys(t.components||{}).forEach((function(e){i[e]=Object.assign(Object.assign({},i[e]),t.components[e])})),Object.assign(Object.assign(Object.assign({},r),n),{token:Object.assign(Object.assign({},r.token),n.token),components:i})}),[n,r],(function(t,e){return t.some((function(t,n){var r=e[n];return!(0,Pa.Z)(t,r,!0)}))}))}(y,g.theme);var xt={csp:mt,autoInsertSpaceInButton:r,alert:i,anchor:o,locale:c||v,direction:u,space:s,virtual:f,popupMatchSelectWidth:null!=d?d:h,popupOverflow:p,getPrefixCls:pt,iconPrefixCls:vt,theme:bt,segmented:x,statistic:w,spin:S,calendar:k,carousel:C,cascader:O,collapse:E,typography:M,checkbox:A,descriptions:P,divider:_,drawer:D,skeleton:T,steps:F,image:j,input:X,layout:I,list:R,mentions:L,modal:N,progress:B,result:z,slider:U,breadcrumb:H,menu:W,pagination:V,empty:q,badge:Y,radio:$,rate:K,switch:J,transfer:Q,avatar:tt,message:et,tag:nt,table:rt,card:it,tabs:ot,timeline:at,timePicker:ct,upload:lt,notification:ut,tree:st,colorPicker:ft,datePicker:ht,wave:dt},wt=Object.assign({},g);Object.keys(xt).forEach((function(t){void 0!==xt[t]&&(wt[t]=xt[t])})),Ia.forEach((function(e){var n=t[e];n&&(wt[e]=n)}));var St=(0,ma.Z)((function(){return wt}),wt,(function(t,e){var n=Object.keys(t),r=Object.keys(e);return n.length!==r.length||n.some((function(n){return t[n]!==e[n]}))})),kt=Z.useMemo((function(){return{prefixCls:vt,csp:mt}}),[vt,mt]),Ct=gt?yt(e):e,Ot=Z.useMemo((function(){var t,e,n,r;return(0,ya.T)((null===(t=zt.Form)||void 0===t?void 0:t.defaultValidateMessages)||{},(null===(n=null===(e=St.locale)||void 0===e?void 0:e.Form)||void 0===n?void 0:n.defaultValidateMessages)||{},(null===(r=St.form)||void 0===r?void 0:r.validateMessages)||{},(null==a?void 0:a.validateMessages)||{})}),[St,null==a?void 0:a.validateMessages]);Object.keys(Ot).length>0&&(Ct=Z.createElement(ba.Provider,{value:Ot},e)),c&&(Ct=Z.createElement(Ca,{locale:c,_ANT_MARK__:"internalMark"},Ct)),(vt||mt)&&(Ct=Z.createElement(ga.Z.Provider,{value:kt},Ct)),l&&(Ct=Z.createElement(Ma.q,{size:l},Ct)),Ct=Z.createElement(_a,null,Ct);var Et=Z.useMemo((function(){var t=bt||{},e=t.algorithm,n=t.token,r=t.components,i=ja(t,["algorithm","token","components"]),o=e&&(!Array.isArray(e)||e.length>0)?(0,Yi.jG)(e):Ji.uH,a={};return Object.entries(r||{}).forEach((function(t){var e=(0,G.Z)(t,2),n=e[0],r=e[1],i=Object.assign({},r);"algorithm"in i&&(!0===i.algorithm?i.theme=o:(Array.isArray(i.algorithm)||"function"==typeof i.algorithm)&&(i.theme=(0,Yi.jG)(i.algorithm)),delete i.algorithm),a[n]=i})),Object.assign(Object.assign({},i),{theme:o,token:Object.assign(Object.assign({},Ki.Z),n),components:a})}),[bt]);return y&&(Ct=Z.createElement(Ji.Mj.Provider,{value:Et},Ct)),void 0!==b&&(Ct=Z.createElement(Zt,{disabled:b},Ct)),Z.createElement(Dt.E_.Provider,{value:St},Ct)},za=function(t){var e=Z.useContext(Dt.E_),n=Z.useContext(jt);return Z.createElement(Ba,Object.assign({parentContext:e,legacyLocale:n},t))};za.ConfigContext=Dt.E_,za.SizeContext=Ma.Z,za.config=function(t){var e=t.prefixCls,n=t.iconPrefixCls,r=t.theme;void 0!==e&&(Da=e),void 0!==n&&(Ta=n),r&&(!function(t){return Object.keys(t).some((function(t){return t.endsWith("Color")}))}(r)?Za=r:Ea(Ra(),r))},za.useConfig=Aa,Object.defineProperty(za,"SizeContext",{get:function(){return Ma.Z}});var Ua=za,Ha={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},Wa=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:Ha}))};var Va=Z.forwardRef(Wa),Ga={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},Xa=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:Ga}))};var qa=Z.forwardRef(Xa),Ya=n(45934),$a=Z.forwardRef((function(t,e){var n=t.prefixCls,r=t.style,i=t.className,o=t.duration,a=void 0===o?4.5:o,c=t.eventKey,l=t.content,u=t.closable,s=t.closeIcon,f=void 0===s?"x":s,h=t.props,d=t.onClick,p=t.onNoticeClose,v=t.times,g=Z.useState(!1),m=(0,rr.Z)(g,2),y=m[0],b=m[1],x=function(){p(c)};Z.useEffect((function(){if(!y&&a>0){var t=setTimeout((function(){x()}),1e3*a);return function(){clearTimeout(t)}}}),[a,y,v]);var w="".concat(n,"-notice");return Z.createElement("div",(0,J.Z)({},h,{ref:e,className:K()(w,i,(0,B.Z)({},"".concat(w,"-closable"),u)),style:r,onMouseEnter:function(){b(!0)},onMouseLeave:function(){b(!1)},onClick:d}),Z.createElement("div",{className:"".concat(w,"-content")},l),u&&Z.createElement("a",{tabIndex:0,className:"".concat(w,"-close"),onKeyDown:function(t){"Enter"!==t.key&&"Enter"!==t.code&&t.keyCode!==Ya.Z.ENTER||x()},onClick:function(t){t.preventDefault(),t.stopPropagation(),x()}},f))})),Ka=$a,Ja=Z.forwardRef((function(t,e){var n=t.prefixCls,r=void 0===n?"rc-notification":n,i=t.container,o=t.motion,a=t.maxCount,c=t.className,l=t.style,u=t.onAllRemoved,s=Z.useState([]),f=(0,rr.Z)(s,2),h=f[0],d=f[1],p=function(t){var e,n=h.find((function(e){return e.key===t}));null==n||null===(e=n.onClose)||void 0===e||e.call(n),d((function(e){return e.filter((function(e){return e.key!==t}))}))};Z.useImperativeHandle(e,(function(){return{open:function(t){d((function(e){var n,r=(0,Y.Z)(e),i=r.findIndex((function(e){return e.key===t.key})),o=(0,lt.Z)({},t);i>=0?(o.times=((null===(n=e[i])||void 0===n?void 0:n.times)||0)+1,r[i]=o):(o.times=0,r.push(o));return a>0&&r.length>a&&(r=r.slice(-a)),r}))},close:function(t){p(t)},destroy:function(){d([])}}}));var v=Z.useState({}),g=(0,rr.Z)(v,2),m=g[0],y=g[1];Z.useEffect((function(){var t={};h.forEach((function(e){var n=e.placement,r=void 0===n?"topRight":n;r&&(t[r]=t[r]||[],t[r].push(e))})),Object.keys(m).forEach((function(e){t[e]=t[e]||[]})),y(t)}),[h]);var b=Z.useRef(!1);if(Z.useEffect((function(){Object.keys(m).length>0?b.current=!0:b.current&&(null==u||u(),b.current=!1)}),[m]),!i)return null;var x=Object.keys(m);return(0,Pt.createPortal)(Z.createElement(Z.Fragment,null,x.map((function(t){var e=m[t].map((function(t){return{config:t,key:t.key}})),n="function"==typeof o?o(t):o;return Z.createElement(ne.V4,(0,J.Z)({key:t,className:K()(r,"".concat(r,"-").concat(t),null==c?void 0:c(t)),style:null==l?void 0:l(t),keys:e,motionAppear:!0},n,{onAllRemoved:function(){!function(t){y((function(e){var n=(0,lt.Z)({},e);return(n[t]||[]).length||delete n[t],n}))}(t)}}),(function(t,e){var n=t.config,i=t.className,o=t.style,a=n.key,c=n.times,l=n.className,u=n.style;return Z.createElement(Ka,(0,J.Z)({},n,{ref:e,prefixCls:r,className:K()(i,l),style:(0,lt.Z)((0,lt.Z)({},o),u),times:c,key:a,eventKey:a,onNoticeClose:p}))}))}))),i)}));var Qa=Ja,tc=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved"],ec=function(){return document.body},nc=0;function rc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getContainer,n=void 0===e?ec:e,r=t.motion,i=t.prefixCls,o=t.maxCount,a=t.className,c=t.style,l=t.onAllRemoved,u=(0,rt.Z)(t,tc),s=Z.useState(),f=(0,rr.Z)(s,2),h=f[0],d=f[1],p=Z.useRef(),v=Z.createElement(Qa,{container:h,ref:p,prefixCls:i,motion:r,maxCount:o,className:a,style:c,onAllRemoved:l}),g=Z.useState([]),m=(0,rr.Z)(g,2),y=m[0],b=m[1],x=Z.useMemo((function(){return{open:function(t){var e=function(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){e&&Object.keys(e).forEach((function(n){var r=e[n];void 0!==r&&(t[n]=r)}))})),t}(u,t);null!==e.key&&void 0!==e.key||(e.key="rc-notification-".concat(nc),nc+=1),b((function(t){return[].concat((0,Y.Z)(t),[{type:"open",config:e}])}))},close:function(t){b((function(e){return[].concat((0,Y.Z)(e),[{type:"close",key:t}])}))},destroy:function(){b((function(t){return[].concat((0,Y.Z)(t),[{type:"destroy"}])}))}}}),[]);return Z.useEffect((function(){d(n())})),Z.useEffect((function(){p.current&&y.length&&(y.forEach((function(t){switch(t.type){case"open":p.current.open(t.config);break;case"close":p.current.close(t.key);break;case"destroy":p.current.destroy()}})),b((function(t){return t.filter((function(t){return!y.includes(t)}))})))}),[y]),[x,v]}var ic=function(t){var e,n,r=t.componentCls,i=t.iconCls,o=t.boxShadow,a=t.colorText,c=t.colorSuccess,l=t.colorError,u=t.colorWarning,s=t.colorInfo,f=t.fontSizeLG,h=t.motionEaseInOutCirc,d=t.motionDurationSlow,p=t.marginXS,v=t.paddingXS,g=t.borderRadiusLG,m=t.zIndexPopup,y=t.contentPadding,b=t.contentBg,x="".concat(r,"-notice"),w=new Yi.E4("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:v,transform:"translateY(0)",opacity:1}}),S=new Yi.E4("MessageMoveOut",{"0%":{maxHeight:t.height,padding:v,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),k=(e={padding:v,textAlign:"center"},(0,V.Z)(e,"".concat(r,"-custom-content > ").concat(i),{verticalAlign:"text-bottom",marginInlineEnd:p,fontSize:f}),(0,V.Z)(e,"".concat(x,"-content"),{display:"inline-block",padding:y,background:b,borderRadius:g,boxShadow:o,pointerEvents:"all"}),(0,V.Z)(e,"".concat(r,"-success > ").concat(i),{color:c}),(0,V.Z)(e,"".concat(r,"-error > ").concat(i),{color:l}),(0,V.Z)(e,"".concat(r,"-warning > ").concat(i),{color:u}),(0,V.Z)(e,"".concat(r,"-info > ").concat(i,",\n      ").concat(r,"-loading > ").concat(i),{color:s}),e);return[(0,V.Z)({},r,Object.assign(Object.assign({},(0,Qe.Wf)(t)),(n={color:a,position:"fixed",top:p,width:"100%",pointerEvents:"none",zIndex:m},(0,V.Z)(n,"".concat(r,"-move-up"),{animationFillMode:"forwards"}),(0,V.Z)(n,"\n        ".concat(r,"-move-up-appear,\n        ").concat(r,"-move-up-enter\n      "),{animationName:w,animationDuration:d,animationPlayState:"paused",animationTimingFunction:h}),(0,V.Z)(n,"\n        ".concat(r,"-move-up-appear").concat(r,"-move-up-appear-active,\n        ").concat(r,"-move-up-enter").concat(r,"-move-up-enter-active\n      "),{animationPlayState:"running"}),(0,V.Z)(n,"".concat(r,"-move-up-leave"),{animationName:S,animationDuration:d,animationPlayState:"paused",animationTimingFunction:h}),(0,V.Z)(n,"".concat(r,"-move-up-leave").concat(r,"-move-up-leave-active"),{animationPlayState:"running"}),(0,V.Z)(n,"&-rtl",{direction:"rtl",span:{direction:"rtl"}}),n))),(0,V.Z)({},r,(0,V.Z)({},x,Object.assign({},k))),(0,V.Z)({},"".concat(r,"-notice-pure-panel"),Object.assign(Object.assign({},k),{padding:0,textAlign:"start"}))]},oc=(0,se.Z)("Message",(function(t){var e=(0,nn.TS)(t,{height:150});return[ic(e)]}),(function(t){return{zIndexPopup:t.zIndexPopupBase+10,contentBg:t.colorBgElevated,contentPadding:"".concat((t.controlHeightLG-t.fontSize*t.lineHeight)/2,"px ").concat(t.paddingSM,"px")}}),{clientOnly:!0}),ac=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},cc={info:Z.createElement(qa,null),success:Z.createElement(Vn,null),error:Z.createElement(Kn,null),warning:Z.createElement(Va,null),loading:Z.createElement(Yt,null)},lc=function(t){var e=t.prefixCls,n=t.type,r=t.icon,i=t.children;return Z.createElement("div",{className:K()("".concat(e,"-custom-content"),"".concat(e,"-").concat(n))},r||cc[n],Z.createElement("span",null,i))},uc=function(t){var e=t.prefixCls,n=t.className,r=t.type,i=t.icon,o=t.content,a=ac(t,["prefixCls","className","type","icon","content"]),c=Z.useContext(Dt.E_).getPrefixCls,l=e||c("message"),u=oc(l),s=(0,G.Z)(u,2)[1];return Z.createElement(Ka,Object.assign({},a,{prefixCls:l,className:K()(n,s,"".concat(l,"-notice-pure-panel")),eventKey:"pure",duration:null,content:Z.createElement(lc,{prefixCls:l,type:r,icon:i},o)}))};function sc(t){var e,n=new Promise((function(n){e=t((function(){n(!0)}))})),r=function(){null==e||e()};return r.then=function(t,e){return n.then(t,e)},r.promise=n,r}var fc=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},hc=Z.forwardRef((function(t,e){var n=t.top,r=t.prefixCls,i=t.getContainer,o=t.maxCount,a=t.duration,c=void 0===a?3:a,l=t.rtl,u=t.transitionName,s=t.onAllRemoved,f=Z.useContext(Dt.E_),h=f.getPrefixCls,d=f.getPopupContainer,p=f.message,v=r||h("message"),g=oc(v),m=(0,G.Z)(g,2)[1],y=Z.createElement("span",{className:"".concat(v,"-close-x")},Z.createElement(tr,{className:"".concat(v,"-close-icon")})),b=rc({prefixCls:v,style:function(){return{left:"50%",transform:"translateX(-50%)",top:null!=n?n:8}},className:function(){return K()(m,(0,V.Z)({},"".concat(v,"-rtl"),l))},motion:function(){return function(t,e){return{motionName:null!=e?e:"".concat(t,"-move-up")}}(v,u)},closable:!1,closeIcon:y,duration:c,getContainer:function(){return(null==i?void 0:i())||(null==d?void 0:d())||document.body},maxCount:o,onAllRemoved:s}),x=(0,G.Z)(b,2),w=x[0],S=x[1];return Z.useImperativeHandle(e,(function(){return Object.assign(Object.assign({},w),{prefixCls:v,hashId:m,message:p})})),S})),dc=0;function pc(t){var e=Z.useRef(null),n=Z.useMemo((function(){var t=function(t){var n;null===(n=e.current)||void 0===n||n.close(t)},n=function(n){if(!e.current){var r=function(){};return r.then=function(){},r}var i=e.current,o=i.open,a=i.prefixCls,c=i.hashId,l=i.message,u="".concat(a,"-notice"),s=n.content,f=n.icon,h=n.type,d=n.key,p=n.className,v=n.style,g=n.onClose,m=fc(n,["content","icon","type","key","className","style","onClose"]),y=d;return null==y&&(y="antd-message-".concat(dc+=1)),sc((function(e){return o(Object.assign(Object.assign({},m),{key:y,content:Z.createElement(lc,{prefixCls:a,type:h,icon:f},s),placement:"top",className:K()(h&&"".concat(u,"-").concat(h),c,p,null==l?void 0:l.className),style:Object.assign(Object.assign({},null==l?void 0:l.style),v),onClose:function(){null==g||g(),e()}})),function(){t(y)}}))},r={open:n,destroy:function(n){var r;void 0!==n?t(n):null===(r=e.current)||void 0===r||r.destroy()}};return["info","success","warning","error","loading"].forEach((function(t){r[t]=function(e,r,i){var o,a,c;o=e&&"object"==typeof e&&"content"in e?e:{content:e},"function"==typeof r?c=r:(a=r,c=i);var l=Object.assign(Object.assign({onClose:c,duration:a},o),{type:t});return n(l)}})),r}),[]);return[n,Z.createElement(hc,Object.assign({key:"message-holder"},t,{ref:e}))]}var vc=null,gc=function(t){return t()},mc=[],yc={};var bc=Z.forwardRef((function(t,e){var n=function(){var t=function(){var t=yc,e=t.prefixCls,n=t.getContainer,r=t.duration,i=t.rtl,o=t.maxCount,a=t.top;return{prefixCls:null!=e?e:Na().getPrefixCls("message"),container:(null==n?void 0:n())||document.body,duration:r,rtl:i,maxCount:o,top:a}}(),e=t.prefixCls,n=t.container;return{prefixCls:e,getContainer:function(){return n},maxCount:t.maxCount,duration:t.duration,rtl:t.rtl,top:t.top}},r=Z.useState(n),i=(0,G.Z)(r,2),o=i[0],a=i[1],c=pc(o),l=(0,G.Z)(c,2),u=l[0],s=l[1],f=Na(),h=f.getRootPrefixCls(),d=f.getIconPrefixCls(),p=f.getTheme(),v=function(){a(n)};return Z.useEffect(v,[]),Z.useImperativeHandle(e,(function(){var t=Object.assign({},u);return Object.keys(t).forEach((function(e){t[e]=function(){return v(),u[e].apply(u,arguments)}})),{instance:t,sync:v}})),Z.createElement(Ua,{prefixCls:h,iconPrefixCls:d,theme:p},s)}));function xc(){if(!vc){var t=document.createDocumentFragment(),e={fragment:t};return vc=e,void gc((function(){we(Z.createElement(bc,{ref:function(t){var n=t||{},r=n.instance,i=n.sync;Promise.resolve().then((function(){!e.instance&&r&&(e.instance=r,e.sync=i,xc())}))}}),t)}))}vc.instance&&(mc.forEach((function(t){var e=t.type;if(!t.skipped)switch(e){case"open":gc((function(){var e=vc.instance.open(Object.assign(Object.assign({},yc),t.config));null==e||e.then(t.resolve),t.setCloseFn(e)}));break;case"destroy":gc((function(){null==vc||vc.instance.destroy(t.key)}));break;default:gc((function(){var n,r=(n=vc.instance)[e].apply(n,(0,Y.Z)(t.args));null==r||r.then(t.resolve),t.setCloseFn(r)}))}})),mc=[])}var wc={open:function(t){var e=sc((function(e){var n,r={type:"open",config:t,resolve:e,setCloseFn:function(t){n=t}};return mc.push(r),function(){n?gc((function(){n()})):r.skipped=!0}}));return xc(),e},destroy:function(t){mc.push({type:"destroy",key:t}),xc()},config:function(t){yc=Object.assign(Object.assign({},yc),t),gc((function(){var t;null===(t=null==vc?void 0:vc.sync)||void 0===t||t.call(vc)}))},useMessage:function(t){return pc(t)},_InternalPanelDoNotUseOrYouWillBeFired:uc},Sc=wc;["success","info","warning","error","loading"].forEach((function(t){Sc[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(t,e){var n=sc((function(n){var r,i={type:t,args:e,resolve:n,setCloseFn:function(t){r=t}};return mc.push(i),function(){r?gc((function(){r()})):i.skipped=!0}}));return xc(),n}(t,n)}}));var kc=Sc,Cc=function(t){var e,n,r=t.prefixCls,i=t.className,o=t.style,a=t.size,c=t.shape,l=K()((e={},(0,V.Z)(e,"".concat(r,"-lg"),"large"===a),(0,V.Z)(e,"".concat(r,"-sm"),"small"===a),e)),u=K()((n={},(0,V.Z)(n,"".concat(r,"-circle"),"circle"===c),(0,V.Z)(n,"".concat(r,"-square"),"square"===c),(0,V.Z)(n,"".concat(r,"-round"),"round"===c),n)),s=Z.useMemo((function(){return"number"==typeof a?{width:a,height:a,lineHeight:"".concat(a,"px")}:{}}),[a]);return Z.createElement("span",{className:K()(r,l,u,i),style:Object.assign(Object.assign({},s),o)})},Oc=new Yi.E4("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),Ec=function(t){return{height:t,lineHeight:"".concat(t,"px")}},Mc=function(t){return Object.assign({width:t},Ec(t))},Ac=function(t){return Object.assign({width:5*t,minWidth:5*t},Ec(t))},Pc=function(t){return Object.assign({width:t},Ec(t))},_c=function(t,e,n){var r,i=t.skeletonButtonCls;return r={},(0,V.Z)(r,"".concat(n).concat(i,"-circle"),{width:e,minWidth:e,borderRadius:"50%"}),(0,V.Z)(r,"".concat(n).concat(i,"-round"),{borderRadius:e}),r},Dc=function(t){return Object.assign({width:2*t,minWidth:2*t},Ec(t))},Tc=function(t){var e,n,r,i,o,a=t.componentCls,c=t.skeletonAvatarCls,l=t.skeletonTitleCls,u=t.skeletonParagraphCls,s=t.skeletonButtonCls,f=t.skeletonInputCls,h=t.skeletonImageCls,d=t.controlHeight,p=t.controlHeightLG,v=t.controlHeightSM,g=t.gradientFromColor,m=t.padding,y=t.marginSM,b=t.borderRadius,x=t.titleHeight,w=t.blockRadius,S=t.paragraphLiHeight,k=t.controlHeightXS,C=t.paragraphMarginTop;return o={},(0,V.Z)(o,"".concat(a),(r={display:"table",width:"100%"},(0,V.Z)(r,"".concat(a,"-header"),(e={display:"table-cell",paddingInlineEnd:m,verticalAlign:"top"},(0,V.Z)(e,"".concat(c),Object.assign({display:"inline-block",verticalAlign:"top",background:g},Mc(d))),(0,V.Z)(e,"".concat(c,"-circle"),{borderRadius:"50%"}),(0,V.Z)(e,"".concat(c,"-lg"),Object.assign({},Mc(p))),(0,V.Z)(e,"".concat(c,"-sm"),Object.assign({},Mc(v))),e)),(0,V.Z)(r,"".concat(a,"-content"),(n={display:"table-cell",width:"100%",verticalAlign:"top"},(0,V.Z)(n,"".concat(l),(0,V.Z)({width:"100%",height:x,background:g,borderRadius:w},"+ ".concat(u),{marginBlockStart:v})),(0,V.Z)(n,"".concat(u),{padding:0,"> li":{width:"100%",height:S,listStyle:"none",background:g,borderRadius:w,"+ li":{marginBlockStart:k}}}),(0,V.Z)(n,"".concat(u,"> li:last-child:not(:first-child):not(:nth-child(2))"),{width:"61%"}),n)),(0,V.Z)(r,"&-round ".concat(a,"-content"),(0,V.Z)({},"".concat(l,", ").concat(u," > li"),{borderRadius:b})),r)),(0,V.Z)(o,"".concat(a,"-with-avatar ").concat(a,"-content"),(0,V.Z)({},"".concat(l),(0,V.Z)({marginBlockStart:y},"+ ".concat(u),{marginBlockStart:C}))),(0,V.Z)(o,"".concat(a).concat(a,"-element"),Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},function(t){var e=t.borderRadiusSM,n=t.skeletonButtonCls,r=t.controlHeight,i=t.controlHeightLG,o=t.controlHeightSM,a=t.gradientFromColor;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign((0,V.Z)({},"".concat(n),Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:e,width:2*r,minWidth:2*r},Dc(r))),_c(t,r,n)),(0,V.Z)({},"".concat(n,"-lg"),Object.assign({},Dc(i)))),_c(t,i,"".concat(n,"-lg"))),(0,V.Z)({},"".concat(n,"-sm"),Object.assign({},Dc(o)))),_c(t,o,"".concat(n,"-sm")))}(t)),function(t){var e,n=t.skeletonAvatarCls,r=t.gradientFromColor,i=t.controlHeight,o=t.controlHeightLG,a=t.controlHeightSM;return e={},(0,V.Z)(e,"".concat(n),Object.assign({display:"inline-block",verticalAlign:"top",background:r},Mc(i))),(0,V.Z)(e,"".concat(n).concat(n,"-circle"),{borderRadius:"50%"}),(0,V.Z)(e,"".concat(n).concat(n,"-lg"),Object.assign({},Mc(o))),(0,V.Z)(e,"".concat(n).concat(n,"-sm"),Object.assign({},Mc(a))),e}(t)),function(t){var e,n=t.controlHeight,r=t.borderRadiusSM,i=t.skeletonInputCls,o=t.controlHeightLG,a=t.controlHeightSM,c=t.gradientFromColor;return e={},(0,V.Z)(e,"".concat(i),Object.assign({display:"inline-block",verticalAlign:"top",background:c,borderRadius:r},Ac(n))),(0,V.Z)(e,"".concat(i,"-lg"),Object.assign({},Ac(o))),(0,V.Z)(e,"".concat(i,"-sm"),Object.assign({},Ac(a))),e}(t)),function(t){var e,n,r=t.skeletonImageCls,i=t.imageSizeBase,o=t.gradientFromColor,a=t.borderRadiusSM;return n={},(0,V.Z)(n,"".concat(r),Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:o,borderRadius:a},Pc(2*i)),(e={},(0,V.Z)(e,"".concat(r,"-path"),{fill:"#bfbfbf"}),(0,V.Z)(e,"".concat(r,"-svg"),Object.assign(Object.assign({},Pc(i)),{maxWidth:4*i,maxHeight:4*i})),(0,V.Z)(e,"".concat(r,"-svg").concat(r,"-svg-circle"),{borderRadius:"50%"}),e))),(0,V.Z)(n,"".concat(r).concat(r,"-circle"),{borderRadius:"50%"}),n}(t))),(0,V.Z)(o,"".concat(a).concat(a,"-block"),(i={width:"100%"},(0,V.Z)(i,"".concat(s),{width:"100%"}),(0,V.Z)(i,"".concat(f),{width:"100%"}),i)),(0,V.Z)(o,"".concat(a).concat(a,"-active"),(0,V.Z)({},"\n        ".concat(l,",\n        ").concat(u," > li,\n        ").concat(c,",\n        ").concat(s,",\n        ").concat(f,",\n        ").concat(h,"\n      "),Object.assign({},function(t){return{background:t.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Oc,animationDuration:t.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}}(t)))),o},Zc=(0,se.Z)("Skeleton",(function(t){var e=t.componentCls,n=(0,nn.TS)(t,{skeletonAvatarCls:"".concat(e,"-avatar"),skeletonTitleCls:"".concat(e,"-title"),skeletonParagraphCls:"".concat(e,"-paragraph"),skeletonButtonCls:"".concat(e,"-button"),skeletonInputCls:"".concat(e,"-input"),skeletonImageCls:"".concat(e,"-image"),imageSizeBase:1.5*t.controlHeight,borderRadius:100,skeletonLoadingBackground:"linear-gradient(90deg, ".concat(t.gradientFromColor," 25%, ").concat(t.gradientToColor," 37%, ").concat(t.gradientFromColor," 63%)"),skeletonLoadingMotionDuration:"1.4s"});return[Tc(n)]}),(function(t){var e=t.colorFillContent,n=t.colorFill;return{color:e,colorGradientEnd:n,gradientFromColor:e,gradientToColor:n,titleHeight:t.controlHeight/2,blockRadius:t.borderRadiusSM,paragraphMarginTop:t.marginLG+t.marginXXS,paragraphLiHeight:t.controlHeight/2}}),{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Fc=function(t){var e=t.prefixCls,n=t.className,r=t.rootClassName,i=t.active,o=t.shape,a=void 0===o?"circle":o,c=t.size,l=void 0===c?"default":c,u=(0,Z.useContext(Dt.E_).getPrefixCls)("skeleton",e),s=Zc(u),f=(0,G.Z)(s,2),h=f[0],d=f[1],p=(0,ce.Z)(t,["prefixCls","className"]),v=K()(u,"".concat(u,"-element"),(0,V.Z)({},"".concat(u,"-active"),i),n,r,d);return h(Z.createElement("div",{className:v},Z.createElement(Cc,Object.assign({prefixCls:"".concat(u,"-avatar"),shape:a,size:l},p))))},jc=function(t){var e,n=t.prefixCls,r=t.className,i=t.rootClassName,o=t.active,a=t.block,c=void 0!==a&&a,l=t.size,u=void 0===l?"default":l,s=(0,Z.useContext(Dt.E_).getPrefixCls)("skeleton",n),f=Zc(s),h=(0,G.Z)(f,2),d=h[0],p=h[1],v=(0,ce.Z)(t,["prefixCls"]),g=K()(s,"".concat(s,"-element"),(e={},(0,V.Z)(e,"".concat(s,"-active"),o),(0,V.Z)(e,"".concat(s,"-block"),c),e),r,i,p);return d(Z.createElement("div",{className:g},Z.createElement(Cc,Object.assign({prefixCls:"".concat(s,"-button"),size:u},v))))},Ic=function(t){var e=t.prefixCls,n=t.className,r=t.rootClassName,i=t.style,o=t.active,a=(0,Z.useContext(Dt.E_).getPrefixCls)("skeleton",e),c=Zc(a),l=(0,G.Z)(c,2),u=l[0],s=l[1],f=K()(a,"".concat(a,"-element"),(0,V.Z)({},"".concat(a,"-active"),o),n,r,s);return u(Z.createElement("div",{className:f},Z.createElement("div",{className:K()("".concat(a,"-image"),n),style:i},Z.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(a,"-image-svg")},Z.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(a,"-image-path")})))))},Rc=function(t){var e,n=t.prefixCls,r=t.className,i=t.rootClassName,o=t.active,a=t.block,c=t.size,l=void 0===c?"default":c,u=(0,Z.useContext(Dt.E_).getPrefixCls)("skeleton",n),s=Zc(u),f=(0,G.Z)(s,2),h=f[0],d=f[1],p=(0,ce.Z)(t,["prefixCls"]),v=K()(u,"".concat(u,"-element"),(e={},(0,V.Z)(e,"".concat(u,"-active"),o),(0,V.Z)(e,"".concat(u,"-block"),a),e),r,i,d);return h(Z.createElement("div",{className:v},Z.createElement(Cc,Object.assign({prefixCls:"".concat(u,"-input"),size:l},p))))},Lc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"},Nc=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:Lc}))};var Bc=Z.forwardRef(Nc),zc=function(t){var e=t.prefixCls,n=t.className,r=t.rootClassName,i=t.style,o=t.active,a=t.children,c=(0,Z.useContext(Dt.E_).getPrefixCls)("skeleton",e),l=Zc(c),u=(0,G.Z)(l,2),s=u[0],f=u[1],h=K()(c,"".concat(c,"-element"),(0,V.Z)({},"".concat(c,"-active"),o),f,n,r),d=null!=a?a:Z.createElement(Bc,null);return s(Z.createElement("div",{className:h},Z.createElement("div",{className:K()("".concat(c,"-image"),n),style:i},d)))},Uc=function(t){var e=function(e){var n=t.width,r=t.rows,i=void 0===r?2:r;return Array.isArray(n)?n[e]:i-1===e?n:void 0},n=t.prefixCls,r=t.className,i=t.style,o=t.rows,a=(0,Y.Z)(Array(o)).map((function(t,n){return Z.createElement("li",{key:n,style:{width:e(n)}})}));return Z.createElement("ul",{className:K()(n,r),style:i},a)},Hc=function(t){var e=t.prefixCls,n=t.className,r=t.width,i=t.style;return Z.createElement("h3",{className:K()(e,n),style:Object.assign({width:r},i)})};function Wc(t){return t&&"object"==typeof t?t:{}}var Vc=function(t){var e=t.prefixCls,n=t.loading,r=t.className,i=t.rootClassName,o=t.style,a=t.children,c=t.avatar,l=void 0!==c&&c,u=t.title,s=void 0===u||u,f=t.paragraph,h=void 0===f||f,d=t.active,p=t.round,v=Z.useContext(Dt.E_),g=v.getPrefixCls,m=v.direction,y=v.skeleton,b=g("skeleton",e),x=Zc(b),w=(0,G.Z)(x,2),S=w[0],k=w[1];if(n||!("loading"in t)){var C,O,E,M=!!l,A=!!s,P=!!h;if(M){var _=Object.assign(Object.assign({prefixCls:"".concat(b,"-avatar")},function(t,e){return t&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(A,P)),Wc(l));O=Z.createElement("div",{className:"".concat(b,"-header")},Z.createElement(Cc,Object.assign({},_)))}if(A||P){var D,T;if(A){var F=Object.assign(Object.assign({prefixCls:"".concat(b,"-title")},function(t,e){return!t&&e?{width:"38%"}:t&&e?{width:"50%"}:{}}(M,P)),Wc(s));D=Z.createElement(Hc,Object.assign({},F))}if(P){var j=Object.assign(Object.assign({prefixCls:"".concat(b,"-paragraph")},function(t,e){var n={};return t&&e||(n.width="61%"),n.rows=!t&&e?3:2,n}(M,A)),Wc(h));T=Z.createElement(Uc,Object.assign({},j))}E=Z.createElement("div",{className:"".concat(b,"-content")},D,T)}var I=K()(b,(C={},(0,V.Z)(C,"".concat(b,"-with-avatar"),M),(0,V.Z)(C,"".concat(b,"-active"),d),(0,V.Z)(C,"".concat(b,"-rtl"),"rtl"===m),(0,V.Z)(C,"".concat(b,"-round"),p),C),null==y?void 0:y.className,r,i,k);return S(Z.createElement("div",{className:I,style:Object.assign(Object.assign({},null==y?void 0:y.style),o)},O,E))}return void 0!==a?a:null};Vc.Button=jc,Vc.Avatar=Fc,Vc.Input=Rc,Vc.Image=Ic,Vc.Node=zc;var Gc=Vc,Xc=n(28893),qc=["title","titleId"];var Yc=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,qc);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 01-.923 1.785A5.969 5.969 0 006 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337z"}))})),$c=["title","titleId"];var Kc=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,$c);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5l-3.9 19.5m-2.1-19.5l-3.9 19.5"}))})),Jc=["title","titleId"];var Qc=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,Jc);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"}))})),tl=["title","titleId"];var el=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,tl);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"}))})),nl=["title","titleId"];var rl=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,nl);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}))})),il=["title","titleId"];var ol=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,il);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z"}))})),al=n(45728);function cl(t){return!(!t||!t.then)}var ll=function(t){var e=t.type,n=t.children,r=t.prefixCls,i=t.buttonProps,o=t.close,a=t.autoFocus,c=t.emitEvent,l=t.isSilent,u=t.quitOnNullishReturnValue,s=t.actionFn,f=Z.useRef(!1),h=Z.useRef(null),d=(0,al.Z)(!1),p=(0,G.Z)(d,2),v=p[0],g=p[1],m=function(){null==o||o.apply(void 0,arguments)};Z.useEffect((function(){var t=null;return a&&(t=setTimeout((function(){var t;null===(t=h.current)||void 0===t||t.focus()}))),function(){t&&clearTimeout(t)}}),[]);return Z.createElement(En,Object.assign({},kn(e),{onClick:function(t){if(!f.current)if(f.current=!0,s){var e;if(c){if(e=s(t),u&&!cl(e))return f.current=!1,void m(t)}else if(s.length)e=s(o),f.current=!1;else if(!(e=s()))return void m();!function(t){cl(t)&&(g(!0),t.then((function(){g(!1,!0),m.apply(void 0,arguments),f.current=!1}),(function(t){if(g(!1,!0),f.current=!1,!(null==l?void 0:l()))return Promise.reject(t)})))}(e)}else m()},loading:v,prefixCls:r},i,{ref:h}),n)},ul=n(55553);function sl(t,e,n){var r=e;return!r&&n&&(r="".concat(t,"-").concat(n)),r}function fl(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if("number"!=typeof n){var i=t.document;"number"!=typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}var hl=Z.memo((function(t){return t.children}),(function(t,e){return!e.shouldUpdate})),dl={width:0,height:0,overflow:"hidden",outline:"none"},pl=Z.forwardRef((function(t,e){var n=t.prefixCls,r=t.className,i=t.style,o=t.title,a=t.ariaId,c=t.footer,l=t.closable,u=t.closeIcon,s=t.onClose,f=t.children,h=t.bodyStyle,d=t.bodyProps,p=t.modalRender,v=t.onMouseDown,g=t.onMouseUp,m=t.holderRef,y=t.visible,b=t.forceRender,x=t.width,w=t.height,S=(0,Z.useRef)(),k=(0,Z.useRef)();Z.useImperativeHandle(e,(function(){return{focus:function(){var t;null===(t=S.current)||void 0===t||t.focus()},changeActive:function(t){var e=document.activeElement;t&&e===k.current?S.current.focus():t||e!==S.current||k.current.focus()}}}));var C,O,E,M={};void 0!==x&&(M.width=x),void 0!==w&&(M.height=w),c&&(C=Z.createElement("div",{className:"".concat(n,"-footer")},c)),o&&(O=Z.createElement("div",{className:"".concat(n,"-header")},Z.createElement("div",{className:"".concat(n,"-title"),id:a},o))),l&&(E=Z.createElement("button",{type:"button",onClick:s,"aria-label":"Close",className:"".concat(n,"-close")},u||Z.createElement("span",{className:"".concat(n,"-close-x")})));var A=Z.createElement("div",{className:"".concat(n,"-content")},E,O,Z.createElement("div",(0,J.Z)({className:"".concat(n,"-body"),style:h},d),f),C);return Z.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?a:null,"aria-modal":"true",ref:m,style:(0,lt.Z)((0,lt.Z)({},i),M),className:K()(n,r),onMouseDown:v,onMouseUp:g},Z.createElement("div",{tabIndex:0,ref:S,style:dl,"aria-hidden":"true"}),Z.createElement(hl,{shouldUpdate:y||b},p?p(A):A),Z.createElement("div",{tabIndex:0,ref:k,style:dl,"aria-hidden":"true"}))}));var vl=pl,gl=Z.forwardRef((function(t,e){var n=t.prefixCls,r=t.title,i=t.style,o=t.className,a=t.visible,c=t.forceRender,l=t.destroyOnClose,u=t.motionName,s=t.ariaId,f=t.onVisibleChanged,h=t.mousePosition,d=(0,Z.useRef)(),p=Z.useState(),v=(0,rr.Z)(p,2),g=v[0],m=v[1],y={};function b(){var t=function(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top},r=t.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=fl(i),n.top+=fl(i,!0),n}(d.current);m(h?"".concat(h.x-t.left,"px ").concat(h.y-t.top,"px"):"")}return g&&(y.transformOrigin=g),Z.createElement(ne.ZP,{visible:a,onVisibleChanged:f,onAppearPrepare:b,onEnterPrepare:b,forceRender:c,motionName:u,removeOnLeave:l,ref:d},(function(a,c){var l=a.className,u=a.style;return Z.createElement(vl,(0,J.Z)({},t,{ref:e,title:r,ariaId:s,prefixCls:n,holderRef:c,style:(0,lt.Z)((0,lt.Z)((0,lt.Z)({},u),i),y),className:K()(o,l)}))}))}));gl.displayName="Content";var ml=gl;function yl(t){var e=t.prefixCls,n=t.style,r=t.visible,i=t.maskProps,o=t.motionName;return Z.createElement(ne.ZP,{key:"mask",visible:r,motionName:o,leavedClassName:"".concat(e,"-mask-hidden")},(function(t,r){var o=t.className,a=t.style;return Z.createElement("div",(0,J.Z)({ref:r,style:(0,lt.Z)((0,lt.Z)({},a),n),className:K()("".concat(e,"-mask"),o)},i))}))}function bl(t){var e=t.prefixCls,n=void 0===e?"rc-dialog":e,r=t.zIndex,i=t.visible,o=void 0!==i&&i,a=t.keyboard,c=void 0===a||a,l=t.focusTriggerAfterClose,u=void 0===l||l,s=t.wrapStyle,f=t.wrapClassName,h=t.wrapProps,d=t.onClose,p=t.afterOpenChange,v=t.afterClose,g=t.transitionName,m=t.animation,y=t.closable,b=void 0===y||y,x=t.mask,w=void 0===x||x,S=t.maskTransitionName,k=t.maskAnimation,C=t.maskClosable,O=void 0===C||C,E=t.maskStyle,M=t.maskProps,A=t.rootClassName,P=(0,Z.useRef)(),_=(0,Z.useRef)(),D=(0,Z.useRef)(),T=Z.useState(o),F=(0,rr.Z)(T,2),j=F[0],I=F[1],R=ci();function L(t){null==d||d(t)}var N=(0,Z.useRef)(!1),B=(0,Z.useRef)(),z=null;return O&&(z=function(t){N.current?N.current=!1:_.current===t.target&&L(t)}),(0,Z.useEffect)((function(){o&&(I(!0),(0,ul.Z)(_.current,document.activeElement)||(P.current=document.activeElement))}),[o]),(0,Z.useEffect)((function(){return function(){clearTimeout(B.current)}}),[]),Z.createElement("div",(0,J.Z)({className:K()("".concat(n,"-root"),A)},dt(t,{data:!0})),Z.createElement(yl,{prefixCls:n,visible:w&&o,motionName:sl(n,S,k),style:(0,lt.Z)({zIndex:r},E),maskProps:M}),Z.createElement("div",(0,J.Z)({tabIndex:-1,onKeyDown:function(t){if(c&&t.keyCode===Ya.Z.ESC)return t.stopPropagation(),void L(t);o&&t.keyCode===Ya.Z.TAB&&D.current.changeActive(!t.shiftKey)},className:K()("".concat(n,"-wrap"),f),ref:_,onClick:z,style:(0,lt.Z)((0,lt.Z)({zIndex:r},s),{},{display:j?null:"none"})},h),Z.createElement(ml,(0,J.Z)({},t,{onMouseDown:function(){clearTimeout(B.current),N.current=!0},onMouseUp:function(){B.current=setTimeout((function(){N.current=!1}))},ref:D,closable:b,ariaId:R,prefixCls:n,visible:o&&j,onClose:L,onVisibleChanged:function(t){if(t)(0,ul.Z)(_.current,document.activeElement)||null===(e=D.current)||void 0===e||e.focus();else{if(I(!1),w&&P.current&&u){try{P.current.focus({preventScroll:!0})}catch(F2t){}P.current=null}j&&(null==v||v())}var e;null==p||p(t)},motionName:sl(n,g,m)}))))}var xl=function(t){var e=t.visible,n=t.getContainer,r=t.forceRender,i=t.destroyOnClose,o=void 0!==i&&i,a=t.afterClose,c=Z.useState(e),l=(0,rr.Z)(c,2),u=l[0],s=l[1];return Z.useEffect((function(){e&&s(!0)}),[e]),r||!o||u?Z.createElement(Er,{open:e||r||u,autoDestroy:!1,getContainer:n,autoLock:e||u},Z.createElement(bl,(0,J.Z)({},t,{destroyOnClose:o,afterClose:function(){null==a||a(),s(!1)}}))):null};xl.displayName="Dialog";var wl=xl;var Sl,kl=function(){return(0,ir.Z)()&&window.document.documentElement},Cl=n(81083),Ol="RC_FORM_INTERNAL_HOOKS",El=function(){(0,bt.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Ml=Z.createContext({getFieldValue:El,getFieldsValue:El,getFieldError:El,getFieldWarning:El,getFieldsError:El,isFieldsTouched:El,isFieldTouched:El,isFieldValidating:El,isFieldsValidating:El,resetFields:El,setFields:El,setFieldValue:El,setFieldsValue:El,validateFields:El,submit:El,getInternalHooks:function(){return El(),{dispatch:El,initEntityValue:El,registerField:El,useSubscribe:El,setInitialValues:El,destroyForm:El,setCallbacks:El,registerWatch:El,getFields:El,setValidateMessages:El,setPreserve:El,getInitialValue:El}}}),Al=Z.createContext(null);function Pl(t){return null==t?[]:Array.isArray(t)?t:[t]}function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_l.apply(this,arguments)}function Dl(t){return Dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dl(t)}function Tl(t,e){return Tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tl(t,e)}function Zl(t,e,n){return Zl=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Tl(i,n.prototype),i},Zl.apply(null,arguments)}function Fl(t){var e="function"==typeof Map?new Map:void 0;return Fl=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Zl(t,arguments,Dl(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Tl(r,t)},Fl(t)}var jl=/%[sdj%]/g;function Il(t){if(!t||!t.length)return null;var e={};return t.forEach((function(t){var n=t.field;e[n]=e[n]||[],e[n].push(t)})),e}function Rl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if("function"==typeof t)return t.apply(null,n);if("string"==typeof t){var a=t.replace(jl,(function(t){if("%%"===t)return"%";if(i>=o)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}break;default:return t}}));return a}return t}function Ll(t,e){return null==t||(!("array"!==e||!Array.isArray(t)||t.length)||!(!function(t){return"string"===t||"url"===t||"hex"===t||"email"===t||"date"===t||"pattern"===t}(e)||"string"!=typeof t||t))}function Nl(t,e,n){var r=0,i=t.length;!function o(a){if(a&&a.length)n(a);else{var c=r;r+=1,c<i?e(t[c],o):n([])}}([])}var Bl=function(t){var e,n;function r(e,n){var r;return(r=t.call(this,"Async Validation Error")||this).errors=e,r.fields=n,r}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Tl(e,n),r}(Fl(Error));function zl(t,e,n,r,i){if(e.first){var o=new Promise((function(e,o){var a=function(t){var e=[];return Object.keys(t).forEach((function(n){e.push.apply(e,t[n]||[])})),e}(t);Nl(a,n,(function(t){return r(t),t.length?o(new Bl(t,Il(t))):e(i)}))}));return o.catch((function(t){return t})),o}var a=!0===e.firstFields?Object.keys(t):e.firstFields||[],c=Object.keys(t),l=c.length,u=0,s=[],f=new Promise((function(e,o){var f=function(t){if(s.push.apply(s,t),++u===l)return r(s),s.length?o(new Bl(s,Il(s))):e(i)};c.length||(r(s),e(i)),c.forEach((function(e){var r=t[e];-1!==a.indexOf(e)?Nl(r,n,f):function(t,e,n){var r=[],i=0,o=t.length;function a(t){r.push.apply(r,t||[]),++i===o&&n(r)}t.forEach((function(t){e(t,a)}))}(r,n,f)}))}));return f.catch((function(t){return t})),f}function Ul(t,e){return function(n){var r,i;return r=t.fullFields?function(t,e){for(var n=t,r=0;r<e.length;r++){if(null==n)return n;n=n[e[r]]}return n}(e,t.fullFields):e[n.field||t.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:"function"==typeof n?n():n,fieldValue:r,field:n.field||t.fullField}}}function Hl(t,e){if(e)for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];"object"==typeof r&&"object"==typeof t[n]?t[n]=_l({},t[n],r):t[n]=r}return t}var Wl,Vl=function(t,e,n,r,i,o){!t.required||n.hasOwnProperty(t.field)&&!Ll(e,o||t.type)||r.push(Rl(i.messages.required,t.fullField))},Gl=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,Xl=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,ql={integer:function(t){return ql.number(t)&&parseInt(t,10)===t},float:function(t){return ql.number(t)&&!ql.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(F2t){return!1}},date:function(t){return"function"==typeof t.getTime&&"function"==typeof t.getMonth&&"function"==typeof t.getYear&&!isNaN(t.getTime())},number:function(t){return!isNaN(t)&&"number"==typeof t},object:function(t){return"object"==typeof t&&!ql.array(t)},method:function(t){return"function"==typeof t},email:function(t){return"string"==typeof t&&t.length<=320&&!!t.match(Gl)},url:function(t){return"string"==typeof t&&t.length<=2048&&!!t.match(function(){if(Wl)return Wl;var t="[a-fA-F\\d:]",e=function(e){return e&&e.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),a=new RegExp("^"+n+"$"),c=new RegExp("^"+i+"$"),l=function(t){return t&&t.exact?o:new RegExp("(?:"+e(t)+n+e(t)+")|(?:"+e(t)+i+e(t)+")","g")};l.v4=function(t){return t&&t.exact?a:new RegExp(""+e(t)+n+e(t),"g")},l.v6=function(t){return t&&t.exact?c:new RegExp(""+e(t)+i+e(t),"g")};var u=l.v4().source,s=l.v6().source;return Wl=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+u+"|"+s+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(t){return"string"==typeof t&&!!t.match(Xl)}},Yl="enum",$l={required:Vl,whitespace:function(t,e,n,r,i){(/^\s+$/.test(e)||""===e)&&r.push(Rl(i.messages.whitespace,t.fullField))},type:function(t,e,n,r,i){if(t.required&&void 0===e)Vl(t,e,n,r,i);else{var o=t.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?ql[o](e)||r.push(Rl(i.messages.types[o],t.fullField,t.type)):o&&typeof e!==t.type&&r.push(Rl(i.messages.types[o],t.fullField,t.type))}},range:function(t,e,n,r,i){var o="number"==typeof t.len,a="number"==typeof t.min,c="number"==typeof t.max,l=e,u=null,s="number"==typeof e,f="string"==typeof e,h=Array.isArray(e);if(s?u="number":f?u="string":h&&(u="array"),!u)return!1;h&&(l=e.length),f&&(l=e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==t.len&&r.push(Rl(i.messages[u].len,t.fullField,t.len)):a&&!c&&l<t.min?r.push(Rl(i.messages[u].min,t.fullField,t.min)):c&&!a&&l>t.max?r.push(Rl(i.messages[u].max,t.fullField,t.max)):a&&c&&(l<t.min||l>t.max)&&r.push(Rl(i.messages[u].range,t.fullField,t.min,t.max))},enum:function(t,e,n,r,i){t[Yl]=Array.isArray(t[Yl])?t[Yl]:[],-1===t[Yl].indexOf(e)&&r.push(Rl(i.messages[Yl],t.fullField,t[Yl].join(", ")))},pattern:function(t,e,n,r,i){if(t.pattern)if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||r.push(Rl(i.messages.pattern.mismatch,t.fullField,e,t.pattern));else if("string"==typeof t.pattern){new RegExp(t.pattern).test(e)||r.push(Rl(i.messages.pattern.mismatch,t.fullField,e,t.pattern))}}},Kl=function(t,e,n,r,i){var o=t.type,a=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Ll(e,o)&&!t.required)return n();$l.required(t,e,r,a,i,o),Ll(e,o)||$l.type(t,e,r,a,i)}n(a)},Jl={string:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Ll(e,"string")&&!t.required)return n();$l.required(t,e,r,o,i,"string"),Ll(e,"string")||($l.type(t,e,r,o,i),$l.range(t,e,r,o,i),$l.pattern(t,e,r,o,i),!0===t.whitespace&&$l.whitespace(t,e,r,o,i))}n(o)},method:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Ll(e)&&!t.required)return n();$l.required(t,e,r,o,i),void 0!==e&&$l.type(t,e,r,o,i)}n(o)},number:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(""===e&&(e=void 0),Ll(e)&&!t.required)return n();$l.required(t,e,r,o,i),void 0!==e&&($l.type(t,e,r,o,i),$l.range(t,e,r,o,i))}n(o)},boolean:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Ll(e)&&!t.required)return n();$l.required(t,e,r,o,i),void 0!==e&&$l.type(t,e,r,o,i)}n(o)},regexp:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Ll(e)&&!t.required)return n();$l.required(t,e,r,o,i),Ll(e)||$l.type(t,e,r,o,i)}n(o)},integer:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Ll(e)&&!t.required)return n();$l.required(t,e,r,o,i),void 0!==e&&($l.type(t,e,r,o,i),$l.range(t,e,r,o,i))}n(o)},float:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Ll(e)&&!t.required)return n();$l.required(t,e,r,o,i),void 0!==e&&($l.type(t,e,r,o,i),$l.range(t,e,r,o,i))}n(o)},array:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(null==e&&!t.required)return n();$l.required(t,e,r,o,i,"array"),null!=e&&($l.type(t,e,r,o,i),$l.range(t,e,r,o,i))}n(o)},object:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Ll(e)&&!t.required)return n();$l.required(t,e,r,o,i),void 0!==e&&$l.type(t,e,r,o,i)}n(o)},enum:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Ll(e)&&!t.required)return n();$l.required(t,e,r,o,i),void 0!==e&&$l.enum(t,e,r,o,i)}n(o)},pattern:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Ll(e,"string")&&!t.required)return n();$l.required(t,e,r,o,i),Ll(e,"string")||$l.pattern(t,e,r,o,i)}n(o)},date:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Ll(e,"date")&&!t.required)return n();var a;if($l.required(t,e,r,o,i),!Ll(e,"date"))a=e instanceof Date?e:new Date(e),$l.type(t,a,r,o,i),a&&$l.range(t,a.getTime(),r,o,i)}n(o)},url:Kl,hex:Kl,email:Kl,required:function(t,e,n,r,i){var o=[],a=Array.isArray(e)?"array":typeof e;$l.required(t,e,r,o,i,a),n(o)},any:function(t,e,n,r,i){var o=[];if(t.required||!t.required&&r.hasOwnProperty(t.field)){if(Ll(e)&&!t.required)return n();$l.required(t,e,r,o,i)}n(o)}};function Ql(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var tu=Ql(),eu=function(){function t(t){this.rules=null,this._messages=tu,this.define(t)}var e=t.prototype;return e.define=function(t){var e=this;if(!t)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof t||Array.isArray(t))throw new Error("Rules must be an object");this.rules={},Object.keys(t).forEach((function(n){var r=t[n];e.rules[n]=Array.isArray(r)?r:[r]}))},e.messages=function(t){return t&&(this._messages=Hl(Ql(),t)),this._messages},e.validate=function(e,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var o=e,a=n,c=r;if("function"==typeof a&&(c=a,a={}),!this.rules||0===Object.keys(this.rules).length)return c&&c(null,o),Promise.resolve(o);if(a.messages){var l=this.messages();l===tu&&(l=Ql()),Hl(l,a.messages),a.messages=l}else a.messages=this.messages();var u={};(a.keys||Object.keys(this.rules)).forEach((function(t){var n=i.rules[t],r=o[t];n.forEach((function(n){var a=n;"function"==typeof a.transform&&(o===e&&(o=_l({},o)),r=o[t]=a.transform(r)),(a="function"==typeof a?{validator:a}:_l({},a)).validator=i.getValidationMethod(a),a.validator&&(a.field=t,a.fullField=a.fullField||t,a.type=i.getType(a),u[t]=u[t]||[],u[t].push({rule:a,value:r,source:o,field:t}))}))}));var s={};return zl(u,a,(function(e,n){var r,i=e.rule,c=!("object"!==i.type&&"array"!==i.type||"object"!=typeof i.fields&&"object"!=typeof i.defaultField);function l(t,e){return _l({},e,{fullField:i.fullField+"."+t,fullFields:i.fullFields?[].concat(i.fullFields,[t]):[t]})}function u(r){void 0===r&&(r=[]);var u=Array.isArray(r)?r:[r];!a.suppressWarning&&u.length&&t.warning("async-validator:",u),u.length&&void 0!==i.message&&(u=[].concat(i.message));var f=u.map(Ul(i,o));if(a.first&&f.length)return s[i.field]=1,n(f);if(c){if(i.required&&!e.value)return void 0!==i.message?f=[].concat(i.message).map(Ul(i,o)):a.error&&(f=[a.error(i,Rl(a.messages.required,i.field))]),n(f);var h={};i.defaultField&&Object.keys(e.value).map((function(t){h[t]=i.defaultField})),h=_l({},h,e.rule.fields);var d={};Object.keys(h).forEach((function(t){var e=h[t],n=Array.isArray(e)?e:[e];d[t]=n.map(l.bind(null,t))}));var p=new t(d);p.messages(a.messages),e.rule.options&&(e.rule.options.messages=a.messages,e.rule.options.error=a.error),p.validate(e.value,e.rule.options||a,(function(t){var e=[];f&&f.length&&e.push.apply(e,f),t&&t.length&&e.push.apply(e,t),n(e.length?e:null)}))}else n(f)}if(c=c&&(i.required||!i.required&&e.value),i.field=e.field,i.asyncValidator)r=i.asyncValidator(i,e.value,u,e.source,a);else if(i.validator){try{r=i.validator(i,e.value,u,e.source,a)}catch(f){null==console.error||console.error(f),a.suppressValidatorError||setTimeout((function(){throw f}),0),u(f.message)}!0===r?u():!1===r?u("function"==typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?u(r):r instanceof Error&&u(r.message)}r&&r.then&&r.then((function(){return u()}),(function(t){return u(t)}))}),(function(t){!function(t){var e=[],n={};function r(t){var n;Array.isArray(t)?e=(n=e).concat.apply(n,t):e.push(t)}for(var i=0;i<t.length;i++)r(t[i]);e.length?(n=Il(e),c(e,n)):c(null,o)}(t)}),o)},e.getType=function(t){if(void 0===t.type&&t.pattern instanceof RegExp&&(t.type="pattern"),"function"!=typeof t.validator&&t.type&&!Jl.hasOwnProperty(t.type))throw new Error(Rl("Unknown rule type %s",t.type));return t.type||"string"},e.getValidationMethod=function(t){if("function"==typeof t.validator)return t.validator;var e=Object.keys(t),n=e.indexOf("message");return-1!==n&&e.splice(n,1),1===e.length&&"required"===e[0]?Jl.required:Jl[this.getType(t)]||void 0},t}();eu.register=function(t,e){if("function"!=typeof e)throw new Error("Cannot register a validator by type, validator is not a function");Jl[t]=e},eu.warning=function(){},eu.messages=tu,eu.validators=Jl;var nu="'${name}' is not a valid ${type}",ru={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:nu,method:nu,array:nu,object:nu,number:nu,date:nu,boolean:nu,integer:nu,float:nu,regexp:nu,email:nu,url:nu,hex:nu},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},iu=eu;function ou(t,e){return t.replace(/\$\{\w+\}/g,(function(t){var n=t.slice(2,-1);return e[n]}))}var au="CODE_LOGIC_ERROR";function cu(t,e,n,r,i){return lu.apply(this,arguments)}function lu(){return lu=ct(ot().mark((function t(e,n,r,i,o){var a,c,l,u,s,f,h,d,p;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete(a=(0,lt.Z)({},r)).ruleIndex,iu.warning=function(){},a.validator&&(c=a.validator,a.validator=function(){try{return c.apply(void 0,arguments)}catch(t){return console.error(t),Promise.reject(au)}}),l=null,a&&"array"===a.type&&a.defaultField&&(l=a.defaultField,delete a.defaultField),u=new iu((0,B.Z)({},e,[a])),s=(0,ya.T)(ru,i.validateMessages),u.messages(s),f=[],t.prev=10,t.next=13,Promise.resolve(u.validate((0,B.Z)({},e,n),(0,lt.Z)({},i)));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(10),t.t0.errors&&(f=t.t0.errors.map((function(t,e){var n=t.message,r=n===au?s.default:n;return Z.isValidElement(r)?Z.cloneElement(r,{key:"error_".concat(e)}):r})));case 18:if(f.length||!l){t.next=23;break}return t.next=21,Promise.all(n.map((function(t,n){return cu("".concat(e,".").concat(n),t,l,i,o)})));case 21:return h=t.sent,t.abrupt("return",h.reduce((function(t,e){return[].concat((0,Y.Z)(t),(0,Y.Z)(e))}),[]));case 23:return d=(0,lt.Z)((0,lt.Z)({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),p=f.map((function(t){return"string"==typeof t?ou(t,d):t})),t.abrupt("return",p);case 26:case"end":return t.stop()}}),t,null,[[10,15]])}))),lu.apply(this,arguments)}function uu(t,e,n,r,i,o){var a,c=t.join("."),l=n.map((function(t,e){var n=t.validator,r=(0,lt.Z)((0,lt.Z)({},t),{},{ruleIndex:e});return n&&(r.validator=function(t,e,r){var i=!1,o=n(t,e,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Promise.resolve().then((function(){(0,bt.ZP)(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,e)}))}));i=o&&"function"==typeof o.then&&"function"==typeof o.catch,(0,bt.ZP)(i,"`callback` is deprecated. Please return a promise instead."),i&&o.then((function(){r()})).catch((function(t){r(t||" ")}))}),r})).sort((function(t,e){var n=t.warningOnly,r=t.ruleIndex,i=e.warningOnly,o=e.ruleIndex;return!!n==!!i?r-o:n?1:-1}));if(!0===i)a=new Promise(function(){var t=ct(ot().mark((function t(n,i){var a,u,s;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<l.length)){t.next=12;break}return u=l[a],t.next=5,cu(c,e,u,r,o);case 5:if(!(s=t.sent).length){t.next=9;break}return i([{errors:s,rule:u}]),t.abrupt("return");case 9:a+=1,t.next=1;break;case 12:n([]);case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());else{var u=l.map((function(t){return cu(c,e,t,r,o).then((function(e){return{errors:e,rule:t}}))}));a=(i?function(t){return fu.apply(this,arguments)}(u):function(t){return su.apply(this,arguments)}(u)).then((function(t){return Promise.reject(t)}))}return a.catch((function(t){return t})),a}function su(){return(su=ct(ot().mark((function t(e){return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e).then((function(t){var e;return(e=[]).concat.apply(e,(0,Y.Z)(t))})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function fu(){return fu=ct(ot().mark((function t(e){var n;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=0,t.abrupt("return",new Promise((function(t){e.forEach((function(r){r.then((function(r){r.errors.length&&t([r]),(n+=1)===e.length&&t([])}))}))})));case 2:case"end":return t.stop()}}),t)}))),fu.apply(this,arguments)}var hu=n(78407);function du(t){return Pl(t)}function pu(t,e){var n={};return e.forEach((function(e){var r=(0,hu.Z)(t,e);n=(0,ya.Z)(n,e,r)})),n}function vu(t,e){return t&&t.some((function(t){return gu(t,e)}))}function gu(t,e){return!(!t||!e||t.length!==e.length)&&t.every((function(t,n){return e[n]===t}))}function mu(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&"object"===(0,it.Z)(e.target)&&t in e.target?e.target[t]:e}function yu(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var i=t[e],o=e-n;return o>0?[].concat((0,Y.Z)(t.slice(0,n)),[i],(0,Y.Z)(t.slice(n,e)),(0,Y.Z)(t.slice(e+1,r))):o<0?[].concat((0,Y.Z)(t.slice(0,e)),(0,Y.Z)(t.slice(e+1,n+1)),[i],(0,Y.Z)(t.slice(n+1,r))):t}var bu=["name"],xu=[];function wu(t,e,n,r,i,o){return"function"==typeof t?t(e,n,"source"in o?{source:o.source}:{}):r!==i}var Su=function(t){(0,et.Z)(n,t);var e=(0,nt.Z)(n);function n(t){var r;((0,Q.Z)(this,n),(r=e.call(this,t)).state={resetCount:0},r.cancelRegisterFunc=null,r.mounted=!1,r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.prevValidating=void 0,r.errors=xu,r.warnings=xu,r.cancelRegister=function(){var t=r.props,e=t.preserve,n=t.isListField,i=t.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,e,du(i)),r.cancelRegisterFunc=null},r.getNamePath=function(){var t=r.props,e=t.name,n=t.fieldContext.prefixName,i=void 0===n?[]:n;return void 0!==e?[].concat((0,Y.Z)(i),(0,Y.Z)(e)):[]},r.getRules=function(){var t=r.props,e=t.rules,n=void 0===e?[]:e,i=t.fieldContext;return n.map((function(t){return"function"==typeof t?t(i):t}))},r.refresh=function(){r.mounted&&r.setState((function(t){return{resetCount:t.resetCount+1}}))},r.metaCache=null,r.triggerMetaEvent=function(t){var e=r.props.onMetaChange;if(e){var n=(0,lt.Z)((0,lt.Z)({},r.getMeta()),{},{destroy:t});(0,Pa.Z)(r.metaCache,n)||e(n),r.metaCache=n}else r.metaCache=null},r.onStoreChange=function(t,e,n){var i=r.props,o=i.shouldUpdate,a=i.dependencies,c=void 0===a?[]:a,l=i.onReset,u=n.store,s=r.getNamePath(),f=r.getValue(t),h=r.getValue(u),d=e&&vu(e,s);switch("valueUpdate"===n.type&&"external"===n.source&&f!==h&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=xu,r.warnings=xu,r.triggerMetaEvent()),n.type){case"reset":if(!e||d)return r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=xu,r.warnings=xu,r.triggerMetaEvent(),null==l||l(),void r.refresh();break;case"remove":if(o)return void r.reRender();break;case"setField":if(d){var p=n.data;return"touched"in p&&(r.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(r.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(r.errors=p.errors||xu),"warnings"in p&&(r.warnings=p.warnings||xu),r.dirty=!0,r.triggerMetaEvent(),void r.reRender()}if(o&&!s.length&&wu(o,t,u,f,h,n))return void r.reRender();break;case"dependenciesUpdate":if(c.map(du).some((function(t){return vu(n.relatedFields,t)})))return void r.reRender();break;default:if(d||(!c.length||s.length||o)&&wu(o,t,u,f,h,n))return void r.reRender()}!0===o&&r.reRender()},r.validateRules=function(t){var e=r.getNamePath(),n=r.getValue(),i=t||{},o=i.triggerName,a=i.validateOnly,c=void 0!==a&&a,l=Promise.resolve().then((function(){if(!r.mounted)return[];var i=r.props,a=i.validateFirst,c=void 0!==a&&a,u=i.messageVariables,s=r.getRules();o&&(s=s.filter((function(t){return t})).filter((function(t){var e=t.validateTrigger;return!e||Pl(e).includes(o)})));var f=uu(e,n,s,t,c,u);return f.catch((function(t){return t})).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xu;if(r.validatePromise===l){var e;r.validatePromise=null;var n=[],i=[];null===(e=t.forEach)||void 0===e||e.call(t,(function(t){var e=t.rule.warningOnly,r=t.errors,o=void 0===r?xu:r;e?i.push.apply(i,(0,Y.Z)(o)):n.push.apply(n,(0,Y.Z)(o))})),r.errors=n,r.warnings=i,r.triggerMetaEvent(),r.reRender()}})),f}));return c||(r.validatePromise=l,r.dirty=!0,r.errors=xu,r.warnings=xu,r.triggerMetaEvent(),r.reRender()),l},r.isFieldValidating=function(){return!!r.validatePromise},r.isFieldTouched=function(){return r.touched},r.isFieldDirty=function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(Ol).getInitialValue)(r.getNamePath())},r.getErrors=function(){return r.errors},r.getWarnings=function(){return r.warnings},r.isListField=function(){return r.props.isListField},r.isList=function(){return r.props.isList},r.isPreserve=function(){return r.props.preserve},r.getMeta=function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:null===r.validatePromise}},r.getOnlyChild=function(t){if("function"==typeof t){var e=r.getMeta();return(0,lt.Z)((0,lt.Z)({},r.getOnlyChild(t(r.getControlled(),e,r.props.fieldContext))),{},{isFunction:!0})}var n=(0,je.Z)(t);return 1===n.length&&Z.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},r.getValue=function(t){var e=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return(0,hu.Z)(t||e(!0),n)},r.getControlled=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=r.props,n=e.trigger,i=e.validateTrigger,o=e.getValueFromEvent,a=e.normalize,c=e.valuePropName,l=e.getValueProps,u=e.fieldContext,s=void 0!==i?i:u.validateTrigger,f=r.getNamePath(),h=u.getInternalHooks,d=u.getFieldsValue,p=h(Ol).dispatch,v=r.getValue(),g=l||function(t){return(0,B.Z)({},c,t)},m=t[n],y=(0,lt.Z)((0,lt.Z)({},t),g(v));return y[n]=function(){var t;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t=o?o.apply(void 0,n):mu.apply(void 0,[c].concat(n)),a&&(t=a(t,v,d(!0))),p({type:"updateValue",namePath:f,value:t}),m&&m.apply(void 0,n)},Pl(s||[]).forEach((function(t){var e=y[t];y[t]=function(){e&&e.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&p({type:"validateField",namePath:f,triggerName:t})}})),y},t.fieldContext)&&(0,(0,t.fieldContext.getInternalHooks)(Ol).initEntityValue)((0,Cl.Z)(r));return r}return(0,tt.Z)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.shouldUpdate,n=t.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(Ol).registerField;this.cancelRegisterFunc=r(this)}!0===e&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var t,e=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),i=r.child;return r.isFunction?t=i:Z.isValidElement(i)?t=Z.cloneElement(i,this.getControlled(i.props)):((0,bt.ZP)(!i,"`children` of Field is not validate ReactElement."),t=i),Z.createElement(Z.Fragment,{key:e},t)}}]),n}(Z.Component);Su.contextType=Ml,Su.defaultProps={trigger:"onChange",valuePropName:"value"};var ku=function(t){var e=t.name,n=(0,rt.Z)(t,bu),r=Z.useContext(Ml),i=Z.useContext(Al),o=void 0!==e?du(e):void 0,a="keep";return n.isListField||(a="_".concat((o||[]).join("_"))),Z.createElement(Su,(0,J.Z)({key:a,name:o,isListField:!!i},n,{fieldContext:r}))};var Cu=function(t){var e=t.name,n=t.initialValue,r=t.children,i=t.rules,o=t.validateTrigger,a=t.isListField,c=Z.useContext(Ml),l=Z.useContext(Al),u=Z.useRef({keys:[],id:0}).current,s=Z.useMemo((function(){var t=du(c.prefixName)||[];return[].concat((0,Y.Z)(t),(0,Y.Z)(du(e)))}),[c.prefixName,e]),f=Z.useMemo((function(){return(0,lt.Z)((0,lt.Z)({},c),{},{prefixName:s})}),[c,s]),h=Z.useMemo((function(){return{getKey:function(t){var e=s.length,n=t[e];return[u.keys[n],t.slice(e+1)]}}}),[s]);return"function"!=typeof r?((0,bt.ZP)(!1,"Form.List only accepts function as children."),null):Z.createElement(Al.Provider,{value:h},Z.createElement(Ml.Provider,{value:f},Z.createElement(ku,{name:[],shouldUpdate:function(t,e,n){return"internal"!==n.source&&t!==e},rules:i,validateTrigger:o,initialValue:n,isList:!0,isListField:null!=a?a:!!l},(function(t,e){var n=t.value,i=void 0===n?[]:n,o=t.onChange,a=c.getFieldValue,l=function(){return a(s||[])||[]},f={add:function(t,e){var n=l();e>=0&&e<=n.length?(u.keys=[].concat((0,Y.Z)(u.keys.slice(0,e)),[u.id],(0,Y.Z)(u.keys.slice(e))),o([].concat((0,Y.Z)(n.slice(0,e)),[t],(0,Y.Z)(n.slice(e))))):(u.keys=[].concat((0,Y.Z)(u.keys),[u.id]),o([].concat((0,Y.Z)(n),[t]))),u.id+=1},remove:function(t){var e=l(),n=new Set(Array.isArray(t)?t:[t]);n.size<=0||(u.keys=u.keys.filter((function(t,e){return!n.has(e)})),o(e.filter((function(t,e){return!n.has(e)}))))},move:function(t,e){if(t!==e){var n=l();t<0||t>=n.length||e<0||e>=n.length||(u.keys=yu(u.keys,t,e),o(yu(n,t,e)))}}},h=i||[];return Array.isArray(h)||(h=[]),r(h.map((function(t,e){var n=u.keys[e];return void 0===n&&(u.keys[e]=u.id,n=u.keys[e],u.id+=1),{name:e,key:n,isListField:!0}})),f,e)}))))};var Ou="__@field_split__";function Eu(t){return t.map((function(t){return"".concat((0,it.Z)(t),":").concat(t)})).join(Ou)}var Mu=function(){function t(){(0,Q.Z)(this,t),this.kvs=new Map}return(0,tt.Z)(t,[{key:"set",value:function(t,e){this.kvs.set(Eu(t),e)}},{key:"get",value:function(t){return this.kvs.get(Eu(t))}},{key:"update",value:function(t,e){var n=e(this.get(t));n?this.set(t,n):this.delete(t)}},{key:"delete",value:function(t){this.kvs.delete(Eu(t))}},{key:"map",value:function(t){return(0,Y.Z)(this.kvs.entries()).map((function(e){var n=(0,rr.Z)(e,2),r=n[0],i=n[1],o=r.split(Ou);return t({key:o.map((function(t){var e=t.match(/^([^:]*):(.*)$/),n=(0,rr.Z)(e,3),r=n[1],i=n[2];return"number"===r?Number(i):i})),value:i})}))}},{key:"toJSON",value:function(){var t={};return this.map((function(e){var n=e.key,r=e.value;return t[n.join(".")]=r,null})),t}}]),t}(),Au=Mu,Pu=["name"],_u=(0,tt.Z)((function t(e){var n=this;(0,Q.Z)(this,t),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(t){return t===Ol?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):((0,bt.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(t){n.subscribable=t},this.prevWithoutPreserves=null,this.setInitialValues=function(t,e){if(n.initialValues=t||{},e){var r,i=(0,ya.T)(t,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(e){var n=e.key;i=(0,ya.Z)(i,n,(0,hu.Z)(t,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}},this.destroyForm=function(){var t=new Au;n.getFieldEntities(!0).forEach((function(e){n.isMergedPreserve(e.isPreserve())||t.set(e.getNamePath(),!0)})),n.prevWithoutPreserves=t},this.getInitialValue=function(t){var e=(0,hu.Z)(n.initialValues,t);return t.length?(0,ya.T)(e):e},this.setCallbacks=function(t){n.callbacks=t},this.setValidateMessages=function(t){n.validateMessages=t},this.setPreserve=function(t){n.preserve=t},this.watchList=[],this.registerWatch=function(t){return n.watchList.push(t),function(){n.watchList=n.watchList.filter((function(e){return e!==t}))}},this.notifyWatch=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var e=n.getFieldsValue(),r=n.getFieldsValue(!0);n.watchList.forEach((function(n){n(e,r,t)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(t){n.store=t},this.getFieldEntities=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter((function(t){return t.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=new Au;return n.getFieldEntities(t).forEach((function(t){var n=t.getNamePath();e.set(n,t)})),e},this.getFieldEntitiesForNamePathList=function(t){if(!t)return n.getFieldEntities(!0);var e=n.getFieldsMap(!0);return t.map((function(t){var n=du(t);return e.get(n)||{INVALIDATE_NAME_PATH:du(t)}}))},this.getFieldsValue=function(t,e){var r,i,o;if(n.warningUnhooked(),!0===t||Array.isArray(t)?(r=t,i=e):t&&"object"===(0,it.Z)(t)&&(o=t.strict,i=t.filter),!0===r&&!i)return n.store;var a=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),c=[];return a.forEach((function(t){var e,n,a="INVALIDATE_NAME_PATH"in t?t.INVALIDATE_NAME_PATH:t.getNamePath();if(o){if(null===(n=t.isList)||void 0===n?void 0:n.call(t))return}else if(!r&&(null===(e=t.isListField)||void 0===e?void 0:e.call(t)))return;if(i){var l="getMeta"in t?t.getMeta():null;i(l)&&c.push(a)}else c.push(a)})),pu(n.store,c.map(du))},this.getFieldValue=function(t){n.warningUnhooked();var e=du(t);return(0,hu.Z)(n.store,e)},this.getFieldsError=function(t){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(t).map((function(e,n){return e&&!("INVALIDATE_NAME_PATH"in e)?{name:e.getNamePath(),errors:e.getErrors(),warnings:e.getWarnings()}:{name:du(t[n]),errors:[],warnings:[]}}))},this.getFieldError=function(t){n.warningUnhooked();var e=du(t);return n.getFieldsError([e])[0].errors},this.getFieldWarning=function(t){n.warningUnhooked();var e=du(t);return n.getFieldsError([e])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i,o=e[0],a=e[1],c=!1;0===e.length?i=null:1===e.length?Array.isArray(o)?(i=o.map(du),c=!1):(i=null,c=o):(i=o.map(du),c=a);var l=n.getFieldEntities(!0),u=function(t){return t.isFieldTouched()};if(!i)return c?l.every(u):l.some(u);var s=new Au;i.forEach((function(t){s.set(t,[])})),l.forEach((function(t){var e=t.getNamePath();i.forEach((function(n){n.every((function(t,n){return e[n]===t}))&&s.update(n,(function(e){return[].concat((0,Y.Z)(e),[t])}))}))}));var f=function(t){return t.some(u)},h=s.map((function(t){return t.value}));return c?h.every(f):h.some(f)},this.isFieldTouched=function(t){return n.warningUnhooked(),n.isFieldsTouched([t])},this.isFieldsValidating=function(t){n.warningUnhooked();var e=n.getFieldEntities();if(!t)return e.some((function(t){return t.isFieldValidating()}));var r=t.map(du);return e.some((function(t){var e=t.getNamePath();return vu(r,e)&&t.isFieldValidating()}))},this.isFieldValidating=function(t){return n.warningUnhooked(),n.isFieldsValidating([t])},this.resetWithFieldInitialValue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new Au,r=n.getFieldEntities(!0);r.forEach((function(t){var n=t.props.initialValue,r=t.getNamePath();if(void 0!==n){var i=e.get(r)||new Set;i.add({entity:t,value:n}),e.set(r,i)}}));var i;t.entities?i=t.entities:t.namePathList?(i=[],t.namePathList.forEach((function(t){var n,r=e.get(t);r&&(n=i).push.apply(n,(0,Y.Z)((0,Y.Z)(r).map((function(t){return t.entity}))))}))):i=r,i.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))(0,bt.ZP)(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var o=e.get(i);if(o&&o.size>1)(0,bt.ZP)(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var a=n.getFieldValue(i);t.skipExist&&void 0!==a||n.updateStore((0,ya.Z)(n.store,i,(0,Y.Z)(o)[0].value))}}}}))},this.resetFields=function(t){n.warningUnhooked();var e=n.store;if(!t)return n.updateStore((0,ya.T)(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(e,null,{type:"reset"}),void n.notifyWatch();var r=t.map(du);r.forEach((function(t){var e=n.getInitialValue(t);n.updateStore((0,ya.Z)(n.store,t,e))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(e,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(t){n.warningUnhooked();var e=n.store,r=[];t.forEach((function(t){var i=t.name,o=(0,rt.Z)(t,Pu),a=du(i);r.push(a),"value"in o&&n.updateStore((0,ya.Z)(n.store,a,o.value)),n.notifyObservers(e,[a],{type:"setField",data:t})})),n.notifyWatch(r)},this.getFields=function(){var t=n.getFieldEntities(!0).map((function(t){var e=t.getNamePath(),r=t.getMeta(),i=(0,lt.Z)((0,lt.Z)({},r),{},{name:e,value:n.getFieldValue(e)});return Object.defineProperty(i,"originRCField",{value:!0}),i}));return t},this.initEntityValue=function(t){var e=t.props.initialValue;if(void 0!==e){var r=t.getNamePath();void 0===(0,hu.Z)(n.store,r)&&n.updateStore((0,ya.Z)(n.store,r,e))}},this.isMergedPreserve=function(t){var e=void 0!==t?t:n.preserve;return null==e||e},this.registerField=function(t){n.fieldEntities.push(t);var e=t.getNamePath();if(n.notifyWatch([e]),void 0!==t.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[t],skipExist:!0}),n.notifyObservers(r,[t.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(e){return e!==t})),!n.isMergedPreserve(i)&&(!r||o.length>1)){var a=r?void 0:n.getInitialValue(e);if(e.length&&n.getFieldValue(e)!==a&&n.fieldEntities.every((function(t){return!gu(t.getNamePath(),e)}))){var c=n.store;n.updateStore((0,ya.Z)(c,e,a,!0)),n.notifyObservers(c,[e],{type:"remove"}),n.triggerDependenciesUpdate(c,e)}}n.notifyWatch([e])}},this.dispatch=function(t){switch(t.type){case"updateValue":var e=t.namePath,r=t.value;n.updateValue(e,r);break;case"validateField":var i=t.namePath,o=t.triggerName;n.validateFields([i],{triggerName:o})}},this.notifyObservers=function(t,e,r){if(n.subscribable){var i=(0,lt.Z)((0,lt.Z)({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(t,e,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(t,e){var r=n.getDependencyChildrenFields(e);return r.length&&n.validateFields(r),n.notifyObservers(t,r,{type:"dependenciesUpdate",relatedFields:[e].concat((0,Y.Z)(r))}),r},this.updateValue=function(t,e){var r=du(t),i=n.store;n.updateStore((0,ya.Z)(n.store,r,e)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var o=n.triggerDependenciesUpdate(i,r),a=n.callbacks.onValuesChange;a&&a(pu(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat((0,Y.Z)(o)))},this.setFieldsValue=function(t){n.warningUnhooked();var e=n.store;if(t){var r=(0,ya.T)(n.store,t);n.updateStore(r)}n.notifyObservers(e,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.setFieldValue=function(t,e){n.setFields([{name:t,value:e}])},this.getDependencyChildrenFields=function(t){var e=new Set,r=[],i=new Au;n.getFieldEntities().forEach((function(t){(t.props.dependencies||[]).forEach((function(e){var n=du(e);i.update(n,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return e.add(t),e}))}))}));return function t(n){(i.get(n)||new Set).forEach((function(n){if(!e.has(n)){e.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),t(i))}}))}(t),r},this.triggerOnFieldsChange=function(t,e){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(e){var o=new Au;e.forEach((function(t){var e=t.name,n=t.errors;o.set(e,n)})),i.forEach((function(t){t.errors=o.get(t.name)||t.errors}))}var a=i.filter((function(e){var n=e.name;return vu(t,n)}));a.length&&r(a,i)}},this.validateFields=function(t,e){var r,i;n.warningUnhooked(),Array.isArray(t)||"string"==typeof t||"string"==typeof e?(r=t,i=e):i=t;var o=!!r,a=o?r.map(du):[],c=[],l=String(Date.now()),u=new Set;n.getFieldEntities(!0).forEach((function(t){var e;if(o||a.push(t.getNamePath()),(null===(e=i)||void 0===e?void 0:e.recursive)&&o){var s=t.getNamePath();s.every((function(t,e){return r[e]===t||void 0===r[e]}))&&a.push(s)}if(t.props.rules&&t.props.rules.length){var f=t.getNamePath();if(u.add(f.join(l)),!o||vu(a,f)){var h=t.validateRules((0,lt.Z)({validateMessages:(0,lt.Z)((0,lt.Z)({},ru),n.validateMessages)},i));c.push(h.then((function(){return{name:f,errors:[],warnings:[]}})).catch((function(t){var e,n=[],r=[];return null===(e=t.forEach)||void 0===e||e.call(t,(function(t){var e=t.rule.warningOnly,i=t.errors;e?r.push.apply(r,(0,Y.Z)(i)):n.push.apply(n,(0,Y.Z)(i))})),n.length?Promise.reject({name:f,errors:n,warnings:r}):{name:f,errors:n,warnings:r}})))}}}));var s=function(t){var e=!1,n=t.length,r=[];return t.length?new Promise((function(i,o){t.forEach((function(t,a){t.catch((function(t){return e=!0,t})).then((function(t){n-=1,r[a]=t,n>0||(e&&o(r),i(r))}))}))})):Promise.resolve([])}(c);n.lastValidatePromise=s,s.catch((function(t){return t})).then((function(t){var e=t.map((function(t){return t.name}));n.notifyObservers(n.store,e,{type:"validateFinish"}),n.triggerOnFieldsChange(e,t)}));var f=s.then((function(){return n.lastValidatePromise===s?Promise.resolve(n.getFieldsValue(a)):Promise.reject([])})).catch((function(t){var e=t.filter((function(t){return t&&t.errors.length}));return Promise.reject({values:n.getFieldsValue(a),errorFields:e,outOfDate:n.lastValidatePromise!==s})}));f.catch((function(t){return t}));var h=a.filter((function(t){return u.has(t.join(l))}));return n.triggerOnFieldsChange(h),f},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(t){var e=n.callbacks.onFinish;if(e)try{e(t)}catch(r){console.error(r)}})).catch((function(t){var e=n.callbacks.onFinishFailed;e&&e(t)}))},this.forceRootUpdate=e}));var Du=function(t){var e=Z.useRef(),n=Z.useState({}),r=(0,rr.Z)(n,2)[1];if(!e.current)if(t)e.current=t;else{var i=new _u((function(){r({})}));e.current=i.getForm()}return[e.current]},Tu=Z.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Zu=Tu,Fu=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],ju=function(t,e){var n=t.name,r=t.initialValues,i=t.fields,o=t.form,a=t.preserve,c=t.children,l=t.component,u=void 0===l?"form":l,s=t.validateMessages,f=t.validateTrigger,h=void 0===f?"onChange":f,d=t.onValuesChange,p=t.onFieldsChange,v=t.onFinish,g=t.onFinishFailed,m=(0,rt.Z)(t,Fu),y=Z.useContext(Zu),b=Du(o),x=(0,rr.Z)(b,1)[0],w=x.getInternalHooks(Ol),S=w.useSubscribe,k=w.setInitialValues,C=w.setCallbacks,O=w.setValidateMessages,E=w.setPreserve,M=w.destroyForm;Z.useImperativeHandle(e,(function(){return x})),Z.useEffect((function(){return y.registerForm(n,x),function(){y.unregisterForm(n)}}),[y,x,n]),O((0,lt.Z)((0,lt.Z)({},y.validateMessages),s)),C({onValuesChange:d,onFieldsChange:function(t){if(y.triggerFormChange(n,t),p){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];p.apply(void 0,[t].concat(r))}},onFinish:function(t){y.triggerFormFinish(n,t),v&&v(t)},onFinishFailed:g}),E(a);var A,P=Z.useRef(null);k(r,!P.current),P.current||(P.current=!0),Z.useEffect((function(){return M}),[]);var _="function"==typeof c;_?A=c(x.getFieldsValue(!0),x):A=c;S(!_);var D=Z.useRef();Z.useEffect((function(){(function(t,e){if(t===e)return!0;if(!t&&e||t&&!e)return!1;if(!t||!e||"object"!==(0,it.Z)(t)||"object"!==(0,it.Z)(e))return!1;var n=Object.keys(t),r=Object.keys(e),i=new Set([].concat(n,r));return(0,Y.Z)(i).every((function(n){var r=t[n],i=e[n];return"function"==typeof r&&"function"==typeof i||r===i}))})(D.current||[],i||[])||x.setFields(i||[]),D.current=i}),[i,x]);var T=Z.useMemo((function(){return(0,lt.Z)((0,lt.Z)({},x),{},{validateTrigger:h})}),[x,h]),F=Z.createElement(Al.Provider,{value:null},Z.createElement(Ml.Provider,{value:T},A));return!1===u?F:Z.createElement(u,(0,J.Z)({},m,{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),x.submit()},onReset:function(t){var e;t.preventDefault(),x.resetFields(),null===(e=m.onReset)||void 0===e||e.call(m,t)}}),F)};function Iu(t){try{return JSON.stringify(t)}catch(e){return Math.random()}}var Ru=function(){};var Lu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=void 0===r?[]:r,o=e[1],a=void 0===o?{}:o,c=function(t){return t&&!!t._init}(a)?{form:a}:a,l=c.form,u=(0,Z.useState)(),s=(0,rr.Z)(u,2),f=s[0],h=s[1],d=(0,Z.useMemo)((function(){return Iu(f)}),[f]),p=(0,Z.useRef)(d);p.current=d;var v=(0,Z.useContext)(Ml),g=l||v,m=g&&g._init,y=du(i),b=(0,Z.useRef)(y);return b.current=y,Ru(y),(0,Z.useEffect)((function(){if(m){var t=g.getFieldsValue,e=(0,(0,g.getInternalHooks)(Ol).registerWatch)((function(t,e){var n=(0,hu.Z)(c.preserve?e:t,b.current),r=Iu(n);p.current!==r&&(p.current=r,h(n))})),n=(0,hu.Z)(c.preserve?t(!0):t(),b.current);return h(n),e}}),[m]),f},Nu=Z.forwardRef(ju);Nu.FormProvider=function(t){var e=t.validateMessages,n=t.onFormChange,r=t.onFormFinish,i=t.children,o=Z.useContext(Tu),a=Z.useRef({});return Z.createElement(Tu.Provider,{value:(0,lt.Z)((0,lt.Z)({},o),{},{validateMessages:(0,lt.Z)((0,lt.Z)({},o.validateMessages),e),triggerFormChange:function(t,e){n&&n(t,{changedFields:e,forms:a.current}),o.triggerFormChange(t,e)},triggerFormFinish:function(t,e){r&&r(t,{values:e,forms:a.current}),o.triggerFormFinish(t,e)},registerForm:function(t,e){t&&(a.current=(0,lt.Z)((0,lt.Z)({},a.current),{},(0,B.Z)({},t,e))),o.registerForm(t,e)},unregisterForm:function(t){var e=(0,lt.Z)({},a.current);delete e[t],a.current=e,o.unregisterForm(t)}})},i)},Nu.Field=ku,Nu.List=Cu,Nu.useForm=Du,Nu.useWatch=Lu;var Bu=Z.createContext({}),zu=function(t){var e=t.children,n=t.status,r=t.override,i=(0,Z.useContext)(Bu),o=(0,Z.useMemo)((function(){var t=Object.assign({},i);return r&&delete t.isFormItemInput,n&&(delete t.status,delete t.hasFeedback,delete t.feedbackIcon),t}),[n,r,i]);return Z.createElement(Bu.Provider,{value:o},e)};function Uu(t,e){return Z.createElement("span",{className:"".concat(t,"-close-x")},e||Z.createElement(tr,{className:"".concat(t,"-close-icon")}))}var Hu=function(t){var e=t.okText,n=t.okType,r=void 0===n?"primary":n,i=t.cancelText,o=t.confirmLoading,a=t.onOk,c=t.onCancel,l=t.okButtonProps,u=t.cancelButtonProps,s=Ut("Modal",ka()),f=(0,G.Z)(s,1)[0];return Z.createElement(Zt,{disabled:!1},Z.createElement(En,Object.assign({onClick:c},u),i||(null==f?void 0:f.cancelText)),Z.createElement(En,Object.assign({},kn(r),{loading:o,onClick:a},l),e||(null==f?void 0:f.okText)))};function Wu(t){return{position:t,top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0}}var Vu,Gu=function(t){var e,n=t.componentCls,r=t.antCls;return[(0,V.Z)({},"".concat(n,"-root"),(e={},(0,V.Z)(e,"".concat(n).concat(r,"-zoom-enter, ").concat(n).concat(r,"-zoom-appear"),{transform:"none",opacity:0,animationDuration:t.motionDurationSlow,userSelect:"none"}),(0,V.Z)(e,"".concat(n).concat(r,"-zoom-leave ").concat(n,"-content"),{pointerEvents:"none"}),(0,V.Z)(e,"".concat(n,"-mask"),Object.assign(Object.assign({},Wu("fixed")),(0,V.Z)({zIndex:t.zIndexPopupBase,height:"100%",backgroundColor:t.colorBgMask},"".concat(n,"-hidden"),{display:"none"}))),(0,V.Z)(e,"".concat(n,"-wrap"),Object.assign(Object.assign({},Wu("fixed")),{overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})),e)),(0,V.Z)({},"".concat(n,"-root"),Jo(t))]},Xu=function(t){var e,n,r,i,o=t.componentCls;return[(0,V.Z)({},"".concat(o,"-root"),(n={},(0,V.Z)(n,"".concat(o,"-wrap"),{zIndex:t.zIndexPopupBase,position:"fixed",inset:0,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"}),(0,V.Z)(n,"".concat(o,"-wrap-rtl"),{direction:"rtl"}),(0,V.Z)(n,"".concat(o,"-centered"),(0,V.Z)({textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'}},o,{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"})),(0,V.Z)(n,"@media (max-width: ".concat(t.screenSMMax,")"),(e={},(0,V.Z)(e,o,{maxWidth:"calc(100vw - 16px)",margin:"".concat(t.marginXS," auto")}),(0,V.Z)(e,"".concat(o,"-centered"),(0,V.Z)({},o,{flex:1})),e)),n)),(0,V.Z)({},o,Object.assign(Object.assign({},(0,Qe.Wf)(t)),(r={pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:"calc(100vw - ".concat(2*t.margin,"px)"),margin:"0 auto",paddingBottom:t.paddingLG},(0,V.Z)(r,"".concat(o,"-title"),{margin:0,color:t.titleColor,fontWeight:t.fontWeightStrong,fontSize:t.titleFontSize,lineHeight:t.titleLineHeight,wordWrap:"break-word"}),(0,V.Z)(r,"".concat(o,"-content"),{position:"relative",backgroundColor:t.contentBg,backgroundClip:"padding-box",border:0,borderRadius:t.borderRadiusLG,boxShadow:t.boxShadow,pointerEvents:"auto",padding:"".concat(t.paddingMD,"px ").concat(t.paddingContentHorizontalLG,"px")}),(0,V.Z)(r,"".concat(o,"-close"),Object.assign({position:"absolute",top:(t.modalHeaderHeight-t.modalCloseBtnSize)/2,insetInlineEnd:(t.modalHeaderHeight-t.modalCloseBtnSize)/2,zIndex:t.zIndexPopupBase+10,padding:0,color:t.modalCloseIconColor,fontWeight:t.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:t.borderRadiusSM,width:t.modalCloseBtnSize,height:t.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:"color ".concat(t.motionDurationMid,", background-color ").concat(t.motionDurationMid),"&-x":{display:"flex",fontSize:t.fontSizeLG,fontStyle:"normal",lineHeight:"".concat(t.modalCloseBtnSize,"px"),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:t.modalIconHoverColor,backgroundColor:t.wireframe?"transparent":t.colorFillContent,textDecoration:"none"},"&:active":{backgroundColor:t.wireframe?"transparent":t.colorFillContentHover}},(0,Qe.Qy)(t))),(0,V.Z)(r,"".concat(o,"-header"),{color:t.colorText,background:t.headerBg,borderRadius:"".concat(t.borderRadiusLG,"px ").concat(t.borderRadiusLG,"px 0 0"),marginBottom:t.marginXS}),(0,V.Z)(r,"".concat(o,"-body"),{fontSize:t.fontSize,lineHeight:t.lineHeight,wordWrap:"break-word"}),(0,V.Z)(r,"".concat(o,"-footer"),(0,V.Z)({textAlign:"end",background:t.footerBg,marginTop:t.marginSM},"".concat(t.antCls,"-btn + ").concat(t.antCls,"-btn:not(").concat(t.antCls,"-dropdown-trigger)"),{marginBottom:0,marginInlineStart:t.marginXS})),(0,V.Z)(r,"".concat(o,"-open"),{overflow:"hidden"}),r))),(0,V.Z)({},"".concat(o,"-pure-panel"),(i={top:"auto",padding:0,display:"flex",flexDirection:"column"},(0,V.Z)(i,"".concat(o,"-content,\n          ").concat(o,"-body,\n          ").concat(o,"-confirm-body-wrapper"),{display:"flex",flexDirection:"column",flex:"auto"}),(0,V.Z)(i,"".concat(o,"-confirm-body"),{marginBottom:"auto"}),i))]},qu=function(t){var e,n,r,i,o=t.componentCls,a="".concat(o,"-confirm");return i={},(0,V.Z)(i,a,(r={"&-rtl":{direction:"rtl"}},(0,V.Z)(r,"".concat(t.antCls,"-modal-header"),{display:"none"}),(0,V.Z)(r,"".concat(a,"-body-wrapper"),Object.assign({},(0,Qe.dF)())),(0,V.Z)(r,"".concat(a,"-body"),(n={display:"flex",flexWrap:"wrap",alignItems:"center"},(0,V.Z)(n,"".concat(a,"-title"),(0,V.Z)({flex:"0 0 100%",display:"block",overflow:"hidden",color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:t.titleFontSize,lineHeight:t.titleLineHeight},"+ ".concat(a,"-content"),{marginBlockStart:t.marginXS,flexBasis:"100%",maxWidth:"calc(100% - ".concat(t.modalConfirmIconSize+t.marginSM,"px)")})),(0,V.Z)(n,"".concat(a,"-content"),{color:t.colorText,fontSize:t.fontSize}),(0,V.Z)(n,"> ".concat(t.iconCls),(e={flex:"none",marginInlineEnd:t.marginSM,fontSize:t.modalConfirmIconSize},(0,V.Z)(e,"+ ".concat(a,"-title"),{flex:1}),(0,V.Z)(e,"+ ".concat(a,"-title + ").concat(a,"-content"),{marginInlineStart:t.modalConfirmIconSize+t.marginSM}),e)),n)),(0,V.Z)(r,"".concat(a,"-btns"),(0,V.Z)({textAlign:"end",marginTop:t.marginSM},"".concat(t.antCls,"-btn + ").concat(t.antCls,"-btn"),{marginBottom:0,marginInlineStart:t.marginXS})),r)),(0,V.Z)(i,"".concat(a,"-error ").concat(a,"-body > ").concat(t.iconCls),{color:t.colorError}),(0,V.Z)(i,"".concat(a,"-warning ").concat(a,"-body > ").concat(t.iconCls,",\n        ").concat(a,"-confirm ").concat(a,"-body > ").concat(t.iconCls),{color:t.colorWarning}),(0,V.Z)(i,"".concat(a,"-info ").concat(a,"-body > ").concat(t.iconCls),{color:t.colorInfo}),(0,V.Z)(i,"".concat(a,"-success ").concat(a,"-body > ").concat(t.iconCls),{color:t.colorSuccess}),i},Yu=function(t){var e=t.componentCls;return(0,V.Z)({},"".concat(e,"-root"),(0,V.Z)({},"".concat(e,"-wrap-rtl"),(0,V.Z)({direction:"rtl"},"".concat(e,"-confirm-body"),{direction:"rtl"})))},$u=function(t){var e,n,r,i=t.componentCls,o=t.antCls,a="".concat(i,"-confirm");return r={},(0,V.Z)(r,i,(e={},(0,V.Z)(e,"".concat(i,"-content"),{padding:0}),(0,V.Z)(e,"".concat(i,"-header"),{padding:t.modalHeaderPadding,borderBottom:"".concat(t.modalHeaderBorderWidth,"px ").concat(t.modalHeaderBorderStyle," ").concat(t.modalHeaderBorderColorSplit),marginBottom:0}),(0,V.Z)(e,"".concat(i,"-body"),{padding:t.modalBodyPadding}),(0,V.Z)(e,"".concat(i,"-footer"),{padding:"".concat(t.modalFooterPaddingVertical,"px ").concat(t.modalFooterPaddingHorizontal,"px"),borderTop:"".concat(t.modalFooterBorderWidth,"px ").concat(t.modalFooterBorderStyle," ").concat(t.modalFooterBorderColorSplit),borderRadius:"0 0 ".concat(t.borderRadiusLG,"px ").concat(t.borderRadiusLG,"px"),marginTop:0}),e)),(0,V.Z)(r,a,(n={},(0,V.Z)(n,"".concat(o,"-modal-body"),{padding:"".concat(2*t.padding,"px ").concat(2*t.padding,"px ").concat(t.paddingLG,"px")}),(0,V.Z)(n,"".concat(a,"-body"),(0,V.Z)({},"> ".concat(t.iconCls),(0,V.Z)({marginInlineEnd:t.margin},"+ ".concat(a,"-title + ").concat(a,"-content"),{marginInlineStart:t.modalConfirmIconSize+t.margin}))),(0,V.Z)(n,"".concat(a,"-btns"),{marginTop:t.marginLG}),n)),r},Ku=(0,se.Z)("Modal",(function(t){var e=t.padding,n=t.fontSizeHeading5,r=t.lineHeightHeading5,i=(0,nn.TS)(t,{modalBodyPadding:t.paddingLG,modalHeaderPadding:"".concat(e,"px ").concat(t.paddingLG,"px"),modalHeaderBorderWidth:t.lineWidth,modalHeaderBorderStyle:t.lineType,modalHeaderBorderColorSplit:t.colorSplit,modalHeaderHeight:r*n+2*e,modalFooterBorderColorSplit:t.colorSplit,modalFooterBorderStyle:t.lineType,modalFooterPaddingVertical:t.paddingXS,modalFooterPaddingHorizontal:t.padding,modalFooterBorderWidth:t.lineWidth,modalIconHoverColor:t.colorIconHover,modalCloseIconColor:t.colorIcon,modalCloseBtnSize:t.fontSize*t.lineHeight,modalConfirmIconSize:t.fontSize*t.lineHeight});return[Xu(i),qu(i),Yu(i),Gu(i),t.wireframe&&$u(i),so(i,"zoom")]}),(function(t){return{footerBg:"transparent",headerBg:t.colorBgElevated,titleLineHeight:t.lineHeightHeading5,titleFontSize:t.fontSizeHeading5,contentBg:t.colorBgElevated,titleColor:t.colorTextHeading}})),Ju=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};kl()&&document.documentElement.addEventListener("click",(function(t){Vu={x:t.pageX,y:t.pageY},setTimeout((function(){Vu=null}),100)}),!0);var Qu=function(t){var e,n,r=Z.useContext(Dt.E_),i=r.getPopupContainer,o=r.getPrefixCls,a=r.direction,c=r.modal,l=function(e){var n=t.onCancel;null==n||n(e)},u=t.prefixCls,s=t.className,f=t.rootClassName,h=t.open,d=t.wrapClassName,p=t.centered,v=t.getContainer,g=t.closeIcon,m=t.closable,y=t.focusTriggerAfterClose,b=void 0===y||y,x=t.style,w=t.visible,S=t.width,k=void 0===S?520:S,C=t.footer,O=Ju(t,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","closable","focusTriggerAfterClose","style","visible","width","footer"]),E=o("modal",u),M=o(),A=Ku(E),P=(0,G.Z)(A,2),_=P[0],D=P[1],T=K()(d,(e={},(0,V.Z)(e,"".concat(E,"-centered"),!!p),(0,V.Z)(e,"".concat(E,"-wrap-rtl"),"rtl"===a),e));var F=void 0===C?Z.createElement(Hu,Object.assign({},t,{onOk:function(e){var n=t.onOk;null==n||n(e)},onCancel:l})):C,j=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Z.createElement(tr,null),i=function(t,e,n){return"boolean"==typeof t?t:void 0===e?!!n:!1!==e&&null!==e}(t,e,arguments.length>4&&void 0!==arguments[4]&&arguments[4]);if(!i)return[!1,null];var o="boolean"==typeof e||null==e?r:e;return[!0,n?n(o):o]}(m,g,(function(t){return Uu(E,t)}),Z.createElement(tr,{className:"".concat(E,"-close-icon")}),!0),I=(0,G.Z)(j,2),R=I[0],L=I[1];return _(Z.createElement(Le,null,Z.createElement(zu,{status:!0,override:!0},Z.createElement(wl,Object.assign({width:k},O,{getContainer:void 0===v?i:v,prefixCls:E,rootClassName:K()(D,f),wrapClassName:T,footer:F,visible:null!=h?h:w,mousePosition:null!==(n=O.mousePosition)&&void 0!==n?n:Vu,onClose:l,closable:R,closeIcon:L,focusTriggerAfterClose:b,transitionName:(0,oe.m)(M,"zoom",t.transitionName),maskTransitionName:(0,oe.m)(M,"fade",t.maskTransitionName),className:K()(D,s,null==c?void 0:c.className),style:Object.assign(Object.assign({},null==c?void 0:c.style),x)})))))};function ts(t){var e=t.icon,n=t.onCancel,r=t.onOk,i=t.close,o=t.onConfirm,a=t.isSilent,c=t.okText,l=t.okButtonProps,u=t.cancelText,s=t.cancelButtonProps,f=t.confirmPrefixCls,h=t.rootPrefixCls,d=t.type,p=t.okCancel,v=t.footer,g=t.locale,m=e;if(!e&&null!==e)switch(d){case"info":m=Z.createElement(qa,null);break;case"success":m=Z.createElement(Vn,null);break;case"error":m=Z.createElement(Kn,null);break;default:m=Z.createElement(Va,null)}var y=t.okType||"primary",b=null!=p?p:"confirm"===d,x=null!==t.autoFocusButton&&(t.autoFocusButton||"ok"),w=Ut("Modal"),S=(0,G.Z)(w,1)[0],k=g||S,C=b&&Z.createElement(ll,{isSilent:a,actionFn:n,close:function(){null==i||i.apply(void 0,arguments),null==o||o(!1)},autoFocus:"cancel"===x,buttonProps:s,prefixCls:"".concat(h,"-btn")},u||(null==k?void 0:k.cancelText));return Z.createElement("div",{className:"".concat(f,"-body-wrapper")},Z.createElement("div",{className:"".concat(f,"-body")},m,void 0===t.title?null:Z.createElement("span",{className:"".concat(f,"-title")},t.title),Z.createElement("div",{className:"".concat(f,"-content")},t.content)),void 0===v?Z.createElement("div",{className:"".concat(f,"-btns")},C,Z.createElement(ll,{isSilent:a,type:y,actionFn:r,close:function(){null==i||i.apply(void 0,arguments),null==o||o(!0)},autoFocus:"ok"===x,buttonProps:l,prefixCls:"".concat(h,"-btn")},c||(b?null==k?void 0:k.okText:null==k?void 0:k.justOkText))):v)}var es=function(t){var e=t.close,n=t.zIndex,r=t.afterClose,i=(t.visible,t.open),o=t.keyboard,a=t.centered,c=t.getContainer,l=t.maskStyle,u=t.direction,s=t.prefixCls,f=t.wrapClassName,h=t.rootPrefixCls,d=t.iconPrefixCls,p=t.theme,v=t.bodyStyle,g=t.closable,m=void 0!==g&&g,y=t.closeIcon,b=t.modalRender,x=t.focusTriggerAfterClose;var w="".concat(s,"-confirm"),S=t.width||416,k=t.style||{},C=void 0===t.mask||t.mask,O=void 0!==t.maskClosable&&t.maskClosable,E=K()(w,"".concat(w,"-").concat(t.type),(0,V.Z)({},"".concat(w,"-rtl"),"rtl"===u),t.className);return Z.createElement(Ua,{prefixCls:h,iconPrefixCls:d,direction:u,theme:p},Z.createElement(Qu,{prefixCls:s,className:E,wrapClassName:K()((0,V.Z)({},"".concat(w,"-centered"),!!t.centered),f),onCancel:function(){return null==e?void 0:e({triggerCancel:!0})},open:i,title:"",footer:null,transitionName:(0,oe.m)(h,"zoom",t.transitionName),maskTransitionName:(0,oe.m)(h,"fade",t.maskTransitionName),mask:C,maskClosable:O,maskStyle:l,style:k,bodyStyle:v,width:S,zIndex:n,afterClose:r,keyboard:o,centered:a,getContainer:c,closable:m,closeIcon:y,modalRender:b,focusTriggerAfterClose:x},Z.createElement(ts,Object.assign({},t,{confirmPrefixCls:w}))))},ns=[],rs=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},is="";function os(t){var e,n=document.createDocumentFragment(),r=Object.assign(Object.assign({},t),{close:a,open:!0});function i(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=r.some((function(t){return t&&t.triggerCancel}));t.onCancel&&o&&t.onCancel.apply(t,[function(){}].concat((0,Y.Z)(r.slice(1))));for(var c=0;c<ns.length;c++){if(ns[c]===a){ns.splice(c,1);break}}Oe(n)}function o(t){var r=t.okText,i=t.cancelText,o=t.prefixCls,a=t.getContainer,c=rs(t,["okText","cancelText","prefixCls","getContainer"]);clearTimeout(e),e=setTimeout((function(){var t=ka(),e=Na(),l=e.getPrefixCls,u=e.getIconPrefixCls,s=e.getTheme,f=l(void 0,is),h=o||"".concat(f,"-modal"),d=u(),p=s(),v=a;!1===v&&(v=void 0),we(Z.createElement(es,Object.assign({},c,{getContainer:v,prefixCls:h,rootPrefixCls:f,iconPrefixCls:d,okText:r,locale:t,theme:p,cancelText:i||t.cancelText})),n)}))}function a(){for(var e=this,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];(r=Object.assign(Object.assign({},r),{open:!1,afterClose:function(){"function"==typeof t.afterClose&&t.afterClose(),i.apply(e,a)}})).visible&&delete r.visible,o(r)}return o(r),ns.push(a),{destroy:a,update:function(t){o(r="function"==typeof t?t(r):Object.assign(Object.assign({},r),t))}}}function as(t){return Object.assign(Object.assign({},t),{type:"warning"})}function cs(t){return Object.assign(Object.assign({},t),{type:"info"})}function ls(t){return Object.assign(Object.assign({},t),{type:"success"})}function us(t){return Object.assign(Object.assign({},t),{type:"error"})}function ss(t){return Object.assign(Object.assign({},t),{type:"confirm"})}function fs(t){return function(e){return Z.createElement(Ua,{theme:{token:{motion:!1,zIndexPopupBase:0}}},Z.createElement(t,Object.assign({},e)))}}var hs=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},ds=fs((function(t){var e=t.prefixCls,n=t.className,r=t.closeIcon,i=t.closable,o=t.type,a=t.title,c=t.children,l=hs(t,["prefixCls","className","closeIcon","closable","type","title","children"]),u=Z.useContext(Dt.E_).getPrefixCls,s=u(),f=e||u("modal"),h=Ku(f),d=(0,G.Z)(h,2)[1],p="".concat(f,"-confirm"),v={};return v=o?{closable:null!=i&&i,title:"",footer:"",children:Z.createElement(ts,Object.assign({},t,{confirmPrefixCls:p,rootPrefixCls:s,content:c}))}:{closable:null==i||i,title:a,footer:void 0===t.footer?Z.createElement(Hu,Object.assign({},t)):t.footer,children:c},Z.createElement(vl,Object.assign({prefixCls:f,className:K()(d,"".concat(f,"-pure-panel"),o&&p,o&&"".concat(p,"-").concat(o),n)},l,{closeIcon:Uu(f,r),closable:i},v))}));var ps=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},vs=function(t,e){var n,r=t.afterClose,i=t.config,o=ps(t,["afterClose","config"]),a=Z.useState(!0),c=(0,G.Z)(a,2),l=c[0],u=c[1],s=Z.useState(i),f=(0,G.Z)(s,2),h=f[0],d=f[1],p=Z.useContext(Dt.E_),v=p.direction,g=p.getPrefixCls,m=g("modal"),y=g(),b=function(){u(!1);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.some((function(t){return t&&t.triggerCancel}));h.onCancel&&r&&h.onCancel.apply(h,[function(){}].concat((0,Y.Z)(e.slice(1))))};Z.useImperativeHandle(e,(function(){return{destroy:b,update:function(t){d((function(e){return Object.assign(Object.assign({},e),t)}))}}}));var x=null!==(n=h.okCancel)&&void 0!==n?n:"confirm"===h.type,w=Ut("Modal",zt.Modal),S=(0,G.Z)(w,1)[0];return Z.createElement(es,Object.assign({prefixCls:m,rootPrefixCls:y},h,{close:b,open:l,afterClose:function(){var t;r(),null===(t=h.afterClose)||void 0===t||t.call(h)},okText:h.okText||(x?null==S?void 0:S.okText:null==S?void 0:S.justOkText),direction:h.direction||v,cancelText:h.cancelText||(null==S?void 0:S.cancelText)},o))},gs=Z.forwardRef(vs),ms=0,ys=Z.memo(Z.forwardRef((function(t,e){var n=function(){var t=Z.useState([]),e=(0,G.Z)(t,2),n=e[0],r=e[1];return[n,Z.useCallback((function(t){return r((function(e){return[].concat((0,Y.Z)(e),[t])})),function(){r((function(e){return e.filter((function(e){return e!==t}))}))}}),[])]}(),r=(0,G.Z)(n,2),i=r[0],o=r[1];return Z.useImperativeHandle(e,(function(){return{patchElement:o}}),[]),Z.createElement(Z.Fragment,null,i)})));var bs=function(){var t=Z.useRef(null),e=Z.useState([]),n=(0,G.Z)(e,2),r=n[0],i=n[1];Z.useEffect((function(){r.length&&((0,Y.Z)(r).forEach((function(t){t()})),i([]))}),[r]);var o=Z.useCallback((function(e){return function(n){var r;ms+=1;var o,a,c=Z.createRef(),l=new Promise((function(t){o=t})),u=!1,s=Z.createElement(gs,{key:"modal-".concat(ms),config:e(n),ref:c,afterClose:function(){null==a||a()},isSilent:function(){return u},onConfirm:function(t){o(t)}});(a=null===(r=t.current)||void 0===r?void 0:r.patchElement(s))&&ns.push(a);var f={destroy:function(){function t(){var t;null===(t=c.current)||void 0===t||t.destroy()}c.current?t():i((function(e){return[].concat((0,Y.Z)(e),[t])}))},update:function(t){function e(){var e;null===(e=c.current)||void 0===e||e.update(t)}c.current?e():i((function(t){return[].concat((0,Y.Z)(t),[e])}))},then:function(t){return u=!0,l.then(t)}};return f}}),[]);return[Z.useMemo((function(){return{info:o(cs),success:o(ls),error:o(us),warning:o(as),confirm:o(ss)}}),[]),Z.createElement(ys,{key:"modal-holder",ref:t})]};function xs(t){return os(as(t))}var ws=Qu;ws.useModal=bs,ws.info=function(t){return os(cs(t))},ws.success=function(t){return os(ls(t))},ws.error=function(t){return os(us(t))},ws.warning=xs,ws.warn=xs,ws.confirm=function(t){return os(ss(t))},ws.destroyAll=function(){for(;ns.length;){var t=ns.pop();t&&t()}},ws.config=function(t){var e=t.rootPrefixCls;is=e},ws._InternalPanelDoNotUseOrYouWillBeFired=ds;var Ss=ws,ks=n(28592),Cs=n(20501),Os=function(t){var e=t.summaryConfig,n=e.vizConfig,r=(e.setVizConfig,e.loadingSummary),i=null==n?void 0:n.summary,o=(0,Z.useState)(!1),a=o[0],c=o[1],l=function(t){var e=t.samples.map((function(t,e){return Z.createElement("span",{key:"samplesrow"+e,className:"border-secondary   border rounded p-1 px-2 block"},t)}));return Z.createElement(ks.D,{title:"View samples",open:!1},Z.createElement("div",{className:"inline-flex gap-2 flex-wrap"},e))},u=null==i?void 0:i.fields.map((function(t,e){return Z.createElement("div",{key:"colrow"+e,className:"p-2 mb-3 boprder border-secondary bg-secondary rounded   break-inside-avoid "},Z.createElement("div",null," ",Z.createElement("span",{className:"text-accent"},function(t,e){switch(void 0===e&&(e=4),t){case"string":return Z.createElement(Yc,{title:"string",className:"inline-block w-"+e+" h-"+e});case"number":return Z.createElement(Kc,{title:"number",className:"inline-block w-"+e+" h-"+e});case"date":return Z.createElement(Qc,{title:"date",className:"inline-block w-"+e+" h-"+e});case"category":return Z.createElement(el,{title:"category",className:"inline-block w-"+e+" h-"+e});default:return Z.createElement(rl,{title:"other",className:"inline-block w-"+e+" h-"+e})}}(t.properties.dtype))," ",Z.createElement("span",{className:"capitalize font-semibold break-all"}," ",t.column)),Z.createElement("div",{className:""},Z.createElement("span",{title:"atomic type"},t.properties.dtype)," |"," ",Z.createElement("span",{title:"semantic type"},t.properties.semantic_type," ")),Z.createElement("div",{className:"text-xs text-secondary"},t.properties.description),Z.createElement("div",{className:"text-xs text-secondary"},"# Unique values: ",t.properties.num_unique_values," "),Z.createElement("div",{className:"text-xs text-secondary"},t.properties.min&&" min: "+t.properties.min," ",t.properties.max&&" , max: "+t.properties.max," ",t.properties.std&&" | std: "+t.properties.std.toFixed(3)," "),Z.createElement("div",{className:"  text-xs text-secondary border border-secondpary rounded mt-2"},Z.createElement(l,{samples:t.properties.samples})))}));return Z.createElement("div",{className:""},i&&!r&&Z.createElement(Z.Fragment,null,Z.createElement("div",{className:"font-semibold text-xl mt-6 mb-2"}," ",Z.createElement(ol,{className:"inline-block h-5"})," Data Summary"),Z.createElement("div",{className:" my-2 text-secondary text-xs"},"An enriched representation of the data (with predicted semantic types and descriptions)"),Z.createElement("div",{className:" mb-2"},Z.createElement("span",{className:""}," ",i.name," "),Z.createElement("span",{className:"ml-1 text-xs text-secondary"},i.dataset_description)),Z.createElement("div",{className:"text-sm overflow-auto scroll"},i&&Z.createElement(ks.D,{title:"data summary | "+i.name,open:!0},Z.createElement("div",null,Z.createElement("div",{className:"columns-3 gap-3 md:columns-4 xl:columns-5 2xl:columns-6"},u))),!i&&Z.createElement("div",null,"Upload a dataset to begin"),r&&Z.createElement("div",{className:"my-2 mt-4 text-xs"}," ",Z.createElement("span",{className:"text-accent inline-block mr-2"}," ",Z.createElement(Xc.Z,{icon:"loading",size:5}))," ","Uploading and Summarizing the data .."," "),Z.createElement("div",null,Z.createElement("div",{role:"button",onClick:function(){c(!0)},className:"mt-4 inline-block duration-200 hover:text-accent"},"View raw summary?"),Z.createElement(Ss,{title:"Raw Dataset Summary",open:a,onOk:function(){c(!1)},onCancel:function(){c(!1)}},Z.createElement("div",{className:"mb-4"},"The dataset is summarized as the dictionary below."),Z.createElement(Cs.d,{code:JSON.stringify(i,null,2),language:"javascript"}))))))};function Es(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ms(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Es(Object(n),!0).forEach((function(e){(0,B.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Es(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var As=function(t){var e=t.config,n=e.setLoadingSummary,r=e.resetStates,i=e.setVizConfig,o=e.setError,a=e.vizConfig,c=[{name:"stocks.csv",url:"https://raw.githubusercontent.com/vega/vega-datasets/next/data/stocks.csv"},{name:"cars.json",url:"https://raw.githubusercontent.com/vega/vega-datasets/next/data/cars.json"},{name:"wheat.json",url:"https://raw.githubusercontent.com/vega/vega-datasets/next/data/wheat.json"},{name:"movies.json",url:"https://raw.githubusercontent.com/vega/vega-datasets/next/data/movies.json"},{name:"seattle-weather.csv",url:"https://raw.githubusercontent.com/vega/vega-datasets/next/data/seattle-weather.csv"},{name:"sp500.csv",url:"https://raw.githubusercontent.com/vega/vega-datasets/next/data/sp500.csv"},{name:"la-riots.csv",url:"https://raw.githubusercontent.com/vega/vega-datasets/next/data/la-riots.csv"},{name:"airports.csv",url:"https://raw.githubusercontent.com/vega/vega-datasets/next/data/airports.csv"}].map((function(t,e){return Z.createElement("div",{role:"button",onClick:function(){!function(t){n(!0),r();var e={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({url:t,textgen_config:a.textgen_config})};(0,N.ZV)("/api/summarize/url",e,(function(t){t&&t.status?i(Ms(Ms({},a),{},{summary:t.summary,goal:null})):(o({status:!1,message:t.message}),kc.error(t.message)),n(!1)}),(function(t){n(!1),console.log(t),o({status:!1,message:t.message}),kc.error(t+"")}))}(t.url)},className:"p-1 border-accent border px-2  rounded duration-300 hover:text-accent",key:"samplerow"+e},t.name)}));return Z.createElement("div",null,Z.createElement("div",{className:"mb-4 "},Z.createElement("div",{className:"mb-2 "},Z.createElement("span",{className:"font-semibold "},Z.createElement(U,{className:"inline-block h-5"})," Don't have data?")," ",Z.createElement("span",{className:"text-sm mb-2 ml-2 "},"Try any of the files below")),Z.createElement("div",{className:"col-span-1 flex flex-wrap gap-2"},c)))},Ps=n(98393),_s=["title","titleId"];var Ds=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,_s);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V16.5L12 14.25 7.5 16.5V3.75m9 0H18A2.25 2.25 0 0120.25 6v12A2.25 2.25 0 0118 20.25H6A2.25 2.25 0 013.75 18V6A2.25 2.25 0 016 3.75h1.5m9 0h-9"}))}));function Ts(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ts(Object(n),!0).forEach((function(e){(0,B.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ts(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Fs=function(t){var e=t.config,n=e.goals,r=e.setVizConfig,i=e.vizConfig,o=e.loadingGoals,a=Z.useState(0),c=a[0],l=a[1];Z.useEffect((function(){i.goal||l(0)}),[i.goal]);var u=null==n?void 0:n.map((function(t,e){var n=c===e;return Z.createElement("div",{role:"button",onClick:function(){r(Zs(Zs({},i),{},{goal:t})),l(e)},key:e,style:{width:"280px"},className:"inline-block mb-3 bg-secondary p-2 break-inside-avoid  text-sm  rounded border  "+(n?" border-accent":"border-transparent")},Z.createElement("div",{className:" "}),Z.createElement(Z.Fragment,null,Z.createElement("div",{className:"text-base leading-5 break-words"}," ",Z.createElement("span",{className:"pr-2   text-base font-semibold m-1 inline-block border-r-2 border-accent "},e+1)," ",t.question),Z.createElement(Z.Fragment,null,Z.createElement("div",{className:"  mt-2 text-accent break-all "},t.visualization),Z.createElement("div",{className:"  text-gray-500 break-word"},t.rationale))))}));return Z.createElement("div",{className:" mt-10"},n&&!o&&i.summary&&Z.createElement("div",{className:" "},Z.createElement("div",{className:"font-semibold text-xl  mb-2 text-secopndary"},Z.createElement(Ps.Z,{className:"inline-block h-5"})," Goal Exploration"),Z.createElement("div",{className:" my-2 text-secondary text-xs"},"A list of automatically generated data exploration goals (hypothesis) based on the data summary above."),Z.createElement(ks.D,{title:"Goals ("+n.length+")",open:!0},Z.createElement("div",{className:" overflow-auto scroll"},Z.createElement("div",{className:" flex gap-3",style:{width:290*u.length+"px"}},u))),Z.createElement("div",{className:"mt-2 hidden"},Z.createElement(ks.Cw,{onClick:function(){kc.info("Feature in development")}},"Story"," ",Z.createElement(Ds,{className:"inline-block h-5 mr-2 -mt-1"}))," ",Z.createElement("span",{className:"mt-1 text-xs block"}," ","Generate a story based on these goals."," "))))},js=n(9796),Is=["title","titleId"];var Rs=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,Is);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))})),Ls=["title","titleId"];var Ns=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,Ls);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"}))}));var Bs=function(){for(var t=arguments,e=Object.assign({},arguments.length<=0?void 0:arguments[0]),n=function(){var n=r<0||t.length<=r?void 0:t[r];n&&Object.keys(n).forEach((function(t){var r=n[t];void 0!==r&&(e[t]=r)}))},r=1;r<arguments.length;r++)n();return e},zs=["xxl","xl","lg","md","sm","xs"],Us=function(t){return{xs:"(max-width: ".concat(t.screenXSMax,"px)"),sm:"(min-width: ".concat(t.screenSM,"px)"),md:"(min-width: ".concat(t.screenMD,"px)"),lg:"(min-width: ".concat(t.screenLG,"px)"),xl:"(min-width: ".concat(t.screenXL,"px)"),xxl:"(min-width: ".concat(t.screenXXL,"px)")}},Hs=function(t){var e=t,n=[].concat(zs).reverse();return n.forEach((function(t,r){var i=t.toUpperCase(),o="screen".concat(i,"Min"),a="screen".concat(i);if(!(e[o]<=e[a]))throw new Error("".concat(o,"<=").concat(a," fails : !(").concat(e[o],"<=").concat(e[a],")"));if(r<n.length-1){var c="screen".concat(i,"Max");if(!(e[a]<=e[c]))throw new Error("".concat(a,"<=").concat(c," fails : !(").concat(e[a],"<=").concat(e[c],")"));var l=n[r+1].toUpperCase(),u="screen".concat(l,"Min");if(!(e[c]<=e[u]))throw new Error("".concat(c,"<=").concat(u," fails : !(").concat(e[c],"<=").concat(e[u],")"))}})),t};function Ws(){var t=(0,Te.Z)(),e=(0,G.Z)(t,2)[1],n=Us(Hs(e));return Z.useMemo((function(){var t=new Map,e=-1,r={};return{matchHandlers:{},dispatch:function(e){return r=e,t.forEach((function(t){return t(r)})),t.size>=1},subscribe:function(n){return t.size||this.register(),e+=1,t.set(e,n),n(r),e},unsubscribe:function(e){t.delete(e),t.size||this.unregister()},unregister:function(){var e=this;Object.keys(n).forEach((function(t){var r=n[t],i=e.matchHandlers[r];null==i||i.mql.removeListener(null==i?void 0:i.listener)})),t.clear()},register:function(){var t=this;Object.keys(n).forEach((function(e){var i=n[e],o=function(n){var i=n.matches;t.dispatch(Object.assign(Object.assign({},r),(0,V.Z)({},e,i)))},a=window.matchMedia(i);a.addListener(o),t.matchHandlers[i]={mql:a,listener:o},o(a)}))},responsiveMap:n}}),[e])}var Vs=function(){var t=(0,Te.Z)(),e=(0,G.Z)(t,2)[1],n=new to.C(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return Z.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},Z.createElement("g",{fill:"none",fillRule:"evenodd"},Z.createElement("g",{transform:"translate(24 31.67)"},Z.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),Z.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),Z.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),Z.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),Z.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),Z.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),Z.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},Z.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),Z.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))};var Gs=function(){var t=(0,Te.Z)(),e=(0,G.Z)(t,2)[1],n=e.colorFill,r=e.colorFillTertiary,i=e.colorFillQuaternary,o=e.colorBgContainer,a=(0,Z.useMemo)((function(){return{borderColor:new to.C(n).onBackground(o).toHexShortString(),shadowColor:new to.C(r).onBackground(o).toHexShortString(),contentColor:new to.C(i).onBackground(o).toHexShortString()}}),[n,r,i,o]),c=a.borderColor,l=a.shadowColor,u=a.contentColor;return Z.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},Z.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},Z.createElement("ellipse",{fill:l,cx:"32",cy:"33",rx:"32",ry:"7"}),Z.createElement("g",{fillRule:"nonzero",stroke:c},Z.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),Z.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:u}))))},Xs=function(t){var e,n,r=t.componentCls,i=t.margin,o=t.marginXS,a=t.marginXL,c=t.fontSize,l=t.lineHeight;return(0,V.Z)({},r,(n={marginInline:o,fontSize:c,lineHeight:l,textAlign:"center"},(0,V.Z)(n,"".concat(r,"-image"),{height:t.emptyImgHeight,marginBottom:o,opacity:t.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}}),(0,V.Z)(n,"".concat(r,"-description"),{color:t.colorText}),(0,V.Z)(n,"".concat(r,"-footer"),{marginTop:i}),(0,V.Z)(n,"&-normal",(e={marginBlock:a,color:t.colorTextDisabled},(0,V.Z)(e,"".concat(r,"-description"),{color:t.colorTextDisabled}),(0,V.Z)(e,"".concat(r,"-image"),{height:t.emptyImgHeightMD}),e)),(0,V.Z)(n,"&-small",(0,V.Z)({marginBlock:o,color:t.colorTextDisabled},"".concat(r,"-image"),{height:t.emptyImgHeightSM})),n))},qs=(0,se.Z)("Empty",(function(t){var e=t.componentCls,n=t.controlHeightLG,r=(0,nn.TS)(t,{emptyImgCls:"".concat(e,"-img"),emptyImgHeight:2.5*n,emptyImgHeightMD:n,emptyImgHeightSM:.875*n});return[Xs(r)]})),Ys=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},$s=Z.createElement(Vs,null),Ks=Z.createElement(Gs,null),Js=function(t){var e,n=t.className,r=t.rootClassName,i=t.prefixCls,o=t.image,a=void 0===o?$s:o,c=t.description,l=t.children,u=t.imageStyle,s=t.style,f=Ys(t,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]),h=Z.useContext(Dt.E_),d=h.getPrefixCls,p=h.direction,v=h.empty,g=d("empty",i),m=qs(g),y=(0,G.Z)(m,2),b=y[0],x=y[1],w=Ut("Empty"),S=(0,G.Z)(w,1)[0],k=void 0!==c?c:null==S?void 0:S.description,C="string"==typeof k?k:"empty",O=null;return O="string"==typeof a?Z.createElement("img",{alt:C,src:a}):a,b(Z.createElement("div",Object.assign({className:K()(x,g,null==v?void 0:v.className,(e={},(0,V.Z)(e,"".concat(g,"-normal"),a===Ks),(0,V.Z)(e,"".concat(g,"-rtl"),"rtl"===p),e),n,r),style:Object.assign(Object.assign({},null==v?void 0:v.style),s)},f),Z.createElement("div",{className:"".concat(g,"-image"),style:u},O),k&&Z.createElement("div",{className:"".concat(g,"-description")},k),l&&Z.createElement("div",{className:"".concat(g,"-footer")},l)))};Js.PRESENTED_IMAGE_DEFAULT=$s,Js.PRESENTED_IMAGE_SIMPLE=Ks;var Qs=Js,tf=function(t){var e=t.componentName,n=(0,(0,Z.useContext)(Dt.E_).getPrefixCls)("empty");switch(e){case"Table":case"List":return Z.createElement(Qs,{image:Qs.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return Z.createElement(Qs,{image:Qs.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return Z.createElement(Qs,null)}},ef=function(){var t=Z.useState(!1),e=(0,G.Z)(t,2),n=e[0],r=e[1];return Z.useEffect((function(){r(function(){if(!kl())return!1;if(void 0!==Sl)return Sl;var t=document.createElement("div");t.style.display="flex",t.style.flexDirection="column",t.style.rowGap="1px",t.appendChild(document.createElement("div")),t.appendChild(document.createElement("div"));var e=document.createElement("div");return e.style.position="absolute",e.style.zIndex="-9999",e.appendChild(t),document.body.appendChild(e),Sl=1===t.scrollHeight,document.body.removeChild(e),Sl}())}),[]),n},nf=(0,Z.createContext)({}),rf=function(t){var e=t.componentCls;return(0,V.Z)({},e,{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}})},of=function(t){var e=t.componentCls;return(0,V.Z)({},e,{position:"relative",maxWidth:"100%",minHeight:1})},af=function(t,e){return function(t,e){for(var n=t.componentCls,r=t.gridColumns,i={},o=r;o>=0;o--)0===o?(i["".concat(n).concat(e,"-").concat(o)]={display:"none"},i["".concat(n,"-push-").concat(o)]={insetInlineStart:"auto"},i["".concat(n,"-pull-").concat(o)]={insetInlineEnd:"auto"},i["".concat(n).concat(e,"-push-").concat(o)]={insetInlineStart:"auto"},i["".concat(n).concat(e,"-pull-").concat(o)]={insetInlineEnd:"auto"},i["".concat(n).concat(e,"-offset-").concat(o)]={marginInlineStart:0},i["".concat(n).concat(e,"-order-").concat(o)]={order:0}):(i["".concat(n).concat(e,"-").concat(o)]={display:"block",flex:"0 0 ".concat(o/r*100,"%"),maxWidth:"".concat(o/r*100,"%")},i["".concat(n).concat(e,"-push-").concat(o)]={insetInlineStart:"".concat(o/r*100,"%")},i["".concat(n).concat(e,"-pull-").concat(o)]={insetInlineEnd:"".concat(o/r*100,"%")},i["".concat(n).concat(e,"-offset-").concat(o)]={marginInlineStart:"".concat(o/r*100,"%")},i["".concat(n).concat(e,"-order-").concat(o)]={order:o});return i}(t,e)},cf=(0,se.Z)("Grid",(function(t){return[rf(t)]})),lf=(0,se.Z)("Grid",(function(t){var e=(0,nn.TS)(t,{gridColumns:24}),n={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[of(e),af(e,""),af(e,"-xs"),Object.keys(n).map((function(t){return function(t,e,n){return(0,V.Z)({},"@media (min-width: ".concat(e,"px)"),Object.assign({},af(t,n)))}(e,n[t],t)})).reduce((function(t,e){return Object.assign(Object.assign({},t),e)}),{})]})),uf=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function sf(t,e){var n=Z.useState("string"==typeof t?t:""),r=(0,G.Z)(n,2),i=r[0],o=r[1];return Z.useEffect((function(){!function(){if("string"==typeof t&&o(t),"object"==typeof t)for(var n=0;n<zs.length;n++){var r=zs[n];if(e[r]){var i=t[r];if(void 0!==i)return void o(i)}}}()}),[JSON.stringify(t),e]),i}var ff=Z.forwardRef((function(t,e){var n,r=t.prefixCls,i=t.justify,o=t.align,a=t.className,c=t.style,l=t.children,u=t.gutter,s=void 0===u?0:u,f=t.wrap,h=uf(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),d=Z.useContext(Dt.E_),p=d.getPrefixCls,v=d.direction,g=Z.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),m=(0,G.Z)(g,2),y=m[0],b=m[1],x=Z.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),w=(0,G.Z)(x,2),S=w[0],k=w[1],C=sf(o,S),O=sf(i,S),E=ef(),M=Z.useRef(s),A=Ws();Z.useEffect((function(){var t=A.subscribe((function(t){k(t);var e=M.current||0;(!Array.isArray(e)&&"object"==typeof e||Array.isArray(e)&&("object"==typeof e[0]||"object"==typeof e[1]))&&b(t)}));return function(){return A.unsubscribe(t)}}),[]);var P,_=p("row",r),D=cf(_),T=(0,G.Z)(D,2),F=T[0],j=T[1],I=(P=[void 0,void 0],(Array.isArray(s)?s:[s,void 0]).forEach((function(t,e){if("object"==typeof t)for(var n=0;n<zs.length;n++){var r=zs[n];if(y[r]&&void 0!==t[r]){P[e]=t[r];break}}else P[e]=t})),P),R=K()(_,(n={},(0,V.Z)(n,"".concat(_,"-no-wrap"),!1===f),(0,V.Z)(n,"".concat(_,"-").concat(O),O),(0,V.Z)(n,"".concat(_,"-").concat(C),C),(0,V.Z)(n,"".concat(_,"-rtl"),"rtl"===v),n),a,j),L={},N=null!=I[0]&&I[0]>0?I[0]/-2:void 0,B=null!=I[1]&&I[1]>0?I[1]/-2:void 0;if(N&&(L.marginLeft=N,L.marginRight=N),E){var z=(0,G.Z)(I,2);L.rowGap=z[1]}else B&&(L.marginTop=B,L.marginBottom=B);var U=(0,G.Z)(I,2),H=U[0],W=U[1],X=Z.useMemo((function(){return{gutter:[H,W],wrap:f,supportFlexGap:E}}),[H,W,f,E]);return F(Z.createElement(nf.Provider,{value:X},Z.createElement("div",Object.assign({},h,{className:R,style:Object.assign(Object.assign({},L),c),ref:e}),l)))}));var hf=ff;var df=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=(0,Z.useRef)({}),n=re(),r=Ws();return(0,vr.Z)((function(){var i=r.subscribe((function(r){e.current=r,t&&n()}));return function(){return r.unsubscribe(i)}}),[]),e.current},pf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},vf=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:pf}))};var gf=Z.forwardRef(vf),mf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},yf=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:mf}))};var bf=Z.forwardRef(yf),xf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},wf=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:xf}))};var Sf=Z.forwardRef(wf),kf=n(47462),Cf={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},Of=function(t){(0,et.Z)(n,t);var e=(0,nt.Z)(n);function n(){var t;(0,Q.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={goInputText:""},t.getValidValue=function(){var e=t.state.goInputText;return!e||Number.isNaN(e)?void 0:Number(e)},t.buildOptionText=function(e){return"".concat(e," ").concat(t.props.locale.items_per_page)},t.changeSize=function(e){t.props.changeSize(Number(e))},t.handleChange=function(e){t.setState({goInputText:e.target.value})},t.handleBlur=function(e){var n=t.props,r=n.goButton,i=n.quickGo,o=n.rootPrefixCls,a=t.state.goInputText;r||""===a||(t.setState({goInputText:""}),e.relatedTarget&&(e.relatedTarget.className.indexOf("".concat(o,"-item-link"))>=0||e.relatedTarget.className.indexOf("".concat(o,"-item"))>=0)||i(t.getValidValue()))},t.go=function(e){""!==t.state.goInputText&&(e.keyCode!==Cf.ENTER&&"click"!==e.type||(t.setState({goInputText:""}),t.props.quickGo(t.getValidValue())))},t}return(0,tt.Z)(n,[{key:"getPageSizeOptions",value:function(){var t=this.props,e=t.pageSize,n=t.pageSizeOptions;return n.some((function(t){return t.toString()===e.toString()}))?n:n.concat([e.toString()]).sort((function(t,e){return(Number.isNaN(Number(t))?0:Number(t))-(Number.isNaN(Number(e))?0:Number(e))}))}},{key:"render",value:function(){var t=this,e=this.props,n=e.pageSize,r=e.locale,i=e.rootPrefixCls,o=e.changeSize,a=e.quickGo,c=e.goButton,l=e.selectComponentClass,u=e.buildOptionText,s=e.selectPrefixCls,f=e.disabled,h=this.state.goInputText,d="".concat(i,"-options"),p=l,v=null,g=null,m=null;if(!o&&!a)return null;var y=this.getPageSizeOptions();if(o&&p){var b=y.map((function(e,n){return Z.createElement(p.Option,{key:n,value:e.toString()},(u||t.buildOptionText)(e))}));v=Z.createElement(p,{disabled:f,prefixCls:s,showSearch:!1,className:"".concat(d,"-size-changer"),optionLabelProp:"children",popupMatchSelectWidth:!1,value:(n||y[0]).toString(),onChange:this.changeSize,getPopupContainer:function(t){return t.parentNode},"aria-label":r.page_size,defaultOpen:!1},b)}return a&&(c&&(m="boolean"==typeof c?Z.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:f,className:"".concat(d,"-quick-jumper-button")},r.jump_to_confirm):Z.createElement("span",{onClick:this.go,onKeyUp:this.go},c)),g=Z.createElement("div",{className:"".concat(d,"-quick-jumper")},r.jump_to,Z.createElement("input",{disabled:f,type:"text",value:h,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":r.page}),r.page,m)),Z.createElement("li",{className:"".concat(d)},v,g)}}]),n}(Z.Component);Of.defaultProps={pageSizeOptions:["10","20","50","100"]};var Ef=Of,Mf=function(t){var e,n=t.rootPrefixCls,r=t.page,i=t.active,o=t.className,a=t.showTitle,c=t.onClick,l=t.onKeyPress,u=t.itemRender,s="".concat(n,"-item"),f=K()(s,"".concat(s,"-").concat(r),(e={},(0,B.Z)(e,"".concat(s,"-active"),i),(0,B.Z)(e,"".concat(s,"-disabled"),!r),(0,B.Z)(e,t.className,o),e));return Z.createElement("li",{title:a?r.toString():null,className:f,onClick:function(){c(r)},onKeyPress:function(t){l(t,c,r)},tabIndex:0},u(r,"page",Z.createElement("a",{rel:"nofollow"},r)))};function Af(){}function Pf(t){var e=Number(t);return"number"==typeof e&&!Number.isNaN(e)&&isFinite(e)&&Math.floor(e)===e}function _f(t,e,n){var r=void 0===t?e.pageSize:t;return Math.floor((n.total-1)/r)+1}var Df=function(t){(0,et.Z)(n,t);var e=(0,nt.Z)(n);function n(t){var r;(0,Q.Z)(this,n),(r=e.call(this,t)).paginationNode=Z.createRef(),r.getJumpPrevPage=function(){return Math.max(1,r.state.current-(r.props.showLessItems?3:5))},r.getJumpNextPage=function(){return Math.min(_f(void 0,r.state,r.props),r.state.current+(r.props.showLessItems?3:5))},r.getItemIcon=function(t,e){var n=r.props.prefixCls,i=t||Z.createElement("button",{type:"button","aria-label":e,className:"".concat(n,"-item-link")});return"function"==typeof t&&(i=Z.createElement(t,(0,lt.Z)({},r.props))),i},r.isValid=function(t){var e=r.props.total;return Pf(t)&&t!==r.state.current&&Pf(e)&&e>0},r.shouldDisplayQuickJumper=function(){var t=r.props,e=t.showQuickJumper;return!(t.total<=r.state.pageSize)&&e},r.handleKeyDown=function(t){t.keyCode!==Cf.ARROW_UP&&t.keyCode!==Cf.ARROW_DOWN||t.preventDefault()},r.handleKeyUp=function(t){var e=r.getValidValue(t);e!==r.state.currentInputValue&&r.setState({currentInputValue:e}),t.keyCode===Cf.ENTER?r.handleChange(e):t.keyCode===Cf.ARROW_UP?r.handleChange(e-1):t.keyCode===Cf.ARROW_DOWN&&r.handleChange(e+1)},r.handleBlur=function(t){var e=r.getValidValue(t);r.handleChange(e)},r.changePageSize=function(t){var e=r.state.current,n=_f(t,r.state,r.props);e=e>n?n:e,0===n&&(e=r.state.current),"number"==typeof t&&("pageSize"in r.props||r.setState({pageSize:t}),"current"in r.props||r.setState({current:e,currentInputValue:e})),r.props.onShowSizeChange(e,t),"onChange"in r.props&&r.props.onChange&&r.props.onChange(e,t)},r.handleChange=function(t){var e=r.props,n=e.disabled,i=e.onChange,o=r.state,a=o.pageSize,c=o.current,l=o.currentInputValue;if(r.isValid(t)&&!n){var u=_f(void 0,r.state,r.props),s=t;return t>u?s=u:t<1&&(s=1),"current"in r.props||r.setState({current:s}),s!==l&&r.setState({currentInputValue:s}),i(s,a),s}return c},r.prev=function(){r.hasPrev()&&r.handleChange(r.state.current-1)},r.next=function(){r.hasNext()&&r.handleChange(r.state.current+1)},r.jumpPrev=function(){r.handleChange(r.getJumpPrevPage())},r.jumpNext=function(){r.handleChange(r.getJumpNextPage())},r.hasPrev=function(){return r.state.current>1},r.hasNext=function(){return r.state.current<_f(void 0,r.state,r.props)},r.runIfEnter=function(t,e){if("Enter"===t.key||13===t.charCode){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];e.apply(void 0,r)}},r.runIfEnterPrev=function(t){r.runIfEnter(t,r.prev)},r.runIfEnterNext=function(t){r.runIfEnter(t,r.next)},r.runIfEnterJumpPrev=function(t){r.runIfEnter(t,r.jumpPrev)},r.runIfEnterJumpNext=function(t){r.runIfEnter(t,r.jumpNext)},r.handleGoTO=function(t){t.keyCode!==Cf.ENTER&&"click"!==t.type||r.handleChange(r.state.currentInputValue)},r.renderPrev=function(t){var e=r.props,n=e.prevIcon,i=(0,e.itemRender)(t,"prev",r.getItemIcon(n,"prev page")),o=!r.hasPrev();return(0,Z.isValidElement)(i)?(0,Z.cloneElement)(i,{disabled:o}):i},r.renderNext=function(t){var e=r.props,n=e.nextIcon,i=(0,e.itemRender)(t,"next",r.getItemIcon(n,"next page")),o=!r.hasNext();return(0,Z.isValidElement)(i)?(0,Z.cloneElement)(i,{disabled:o}):i};var i=t.onChange!==Af;"current"in t&&!i&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var o=t.defaultCurrent;"current"in t&&(o=t.current);var a=t.defaultPageSize;return"pageSize"in t&&(a=t.pageSize),o=Math.min(o,_f(a,void 0,t)),r.state={current:o,currentInputValue:o,pageSize:a},r}return(0,tt.Z)(n,[{key:"componentDidUpdate",value:function(t,e){var n=this.props.prefixCls;if(e.current!==this.state.current&&this.paginationNode.current){var r,i=this.paginationNode.current.querySelector(".".concat(n,"-item-").concat(e.current));if(i&&document.activeElement===i)null==i||null===(r=i.blur)||void 0===r||r.call(i)}}},{key:"getValidValue",value:function(t){var e=t.target.value,n=_f(void 0,this.state,this.props),r=this.state.currentInputValue;return""===e?e:Number.isNaN(Number(e))?r:e>=n?n:Number(e)}},{key:"getShowSizeChanger",value:function(){var t=this.props,e=t.showSizeChanger,n=t.total,r=t.totalBoundaryShowSizeChanger;return void 0!==e?e:n>r}},{key:"render",value:function(){var t=this.props,e=t.prefixCls,n=t.className,r=t.style,i=t.disabled,o=t.hideOnSinglePage,a=t.total,c=t.locale,l=t.showQuickJumper,u=t.showLessItems,s=t.showTitle,f=t.showTotal,h=t.simple,d=t.itemRender,p=t.showPrevNextJumpers,v=t.jumpPrevIcon,g=t.jumpNextIcon,m=t.selectComponentClass,y=t.selectPrefixCls,b=t.pageSizeOptions,x=this.state,w=x.current,S=x.pageSize,k=x.currentInputValue;if(!0===o&&a<=S)return null;var C=_f(void 0,this.state,this.props),O=[],E=null,M=null,A=null,P=null,_=null,D=l&&l.goButton,T=u?1:2,F=w-1>0?w-1:0,j=w+1<C?w+1:C,I=dt(this.props,{aria:!0,data:!0}),R=f&&Z.createElement("li",{className:"".concat(e,"-total-text")},f(a,[0===a?0:(w-1)*S+1,w*S>a?a:w*S]));if(h)return D&&(_="boolean"==typeof D?Z.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},c.jump_to_confirm):Z.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},D),_=Z.createElement("li",{title:s?"".concat(c.jump_to).concat(w,"/").concat(C):null,className:"".concat(e,"-simple-pager")},_)),Z.createElement("ul",(0,J.Z)({className:K()(e,"".concat(e,"-simple"),(0,B.Z)({},"".concat(e,"-disabled"),i),n),style:r,ref:this.paginationNode},I),R,Z.createElement("li",{title:s?c.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:K()("".concat(e,"-prev"),(0,B.Z)({},"".concat(e,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(F)),Z.createElement("li",{title:s?"".concat(w,"/").concat(C):null,className:"".concat(e,"-simple-pager")},Z.createElement("input",{type:"text",value:k,disabled:i,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:3}),Z.createElement("span",{className:"".concat(e,"-slash")},"/"),C),Z.createElement("li",{title:s?c.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:K()("".concat(e,"-next"),(0,B.Z)({},"".concat(e,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(j)),_);if(C<=3+2*T){var L={locale:c,rootPrefixCls:e,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:s,itemRender:d};C||O.push(Z.createElement(Mf,(0,J.Z)({},L,{key:"noPager",page:1,className:"".concat(e,"-item-disabled")})));for(var N=1;N<=C;N+=1){var z=w===N;O.push(Z.createElement(Mf,(0,J.Z)({},L,{key:N,page:N,active:z})))}}else{var U=u?c.prev_3:c.prev_5,H=u?c.next_3:c.next_5;p&&(E=Z.createElement("li",{title:s?U:null,key:"prev",onClick:this.jumpPrev,tabIndex:0,onKeyPress:this.runIfEnterJumpPrev,className:K()("".concat(e,"-jump-prev"),(0,B.Z)({},"".concat(e,"-jump-prev-custom-icon"),!!v))},d(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(v,"prev page"))),M=Z.createElement("li",{title:s?H:null,key:"next",tabIndex:0,onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:K()("".concat(e,"-jump-next"),(0,B.Z)({},"".concat(e,"-jump-next-custom-icon"),!!g))},d(this.getJumpNextPage(),"jump-next",this.getItemIcon(g,"next page")))),P=Z.createElement(Mf,{locale:c,last:!0,rootPrefixCls:e,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:C,page:C,active:!1,showTitle:s,itemRender:d}),A=Z.createElement(Mf,{locale:c,rootPrefixCls:e,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:s,itemRender:d});var W=Math.max(1,w-T),V=Math.min(w+T,C);w-1<=T&&(V=1+2*T),C-w<=T&&(W=C-2*T);for(var G=W;G<=V;G+=1){var X=w===G;O.push(Z.createElement(Mf,{locale:c,rootPrefixCls:e,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:G,page:G,active:X,showTitle:s,itemRender:d}))}w-1>=2*T&&3!==w&&(O[0]=(0,Z.cloneElement)(O[0],{className:"".concat(e,"-item-after-jump-prev")}),O.unshift(E)),C-w>=2*T&&w!==C-2&&(O[O.length-1]=(0,Z.cloneElement)(O[O.length-1],{className:"".concat(e,"-item-before-jump-next")}),O.push(M)),1!==W&&O.unshift(A),V!==C&&O.push(P)}var q=!this.hasPrev()||!C,Y=!this.hasNext()||!C;return Z.createElement("ul",(0,J.Z)({className:K()(e,n,(0,B.Z)({},"".concat(e,"-disabled"),i)),style:r,ref:this.paginationNode},I),R,Z.createElement("li",{title:s?c.prev_page:null,onClick:this.prev,tabIndex:q?null:0,onKeyPress:this.runIfEnterPrev,className:K()("".concat(e,"-prev"),(0,B.Z)({},"".concat(e,"-disabled"),q)),"aria-disabled":q},this.renderPrev(F)),O,Z.createElement("li",{title:s?c.next_page:null,onClick:this.next,tabIndex:Y?null:0,onKeyPress:this.runIfEnterNext,className:K()("".concat(e,"-next"),(0,B.Z)({},"".concat(e,"-disabled"),Y)),"aria-disabled":Y},this.renderNext(j)),Z.createElement(Ef,{disabled:i,locale:c,rootPrefixCls:e,selectComponentClass:m,selectPrefixCls:y,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:w,pageSize:S,pageSizeOptions:b,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:D}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n={};if("current"in t&&(n.current=t.current,t.current!==e.current&&(n.currentInputValue=n.current)),"pageSize"in t&&t.pageSize!==e.pageSize){var r=e.current,i=_f(t.pageSize,e,t);r=r>i?i:r,"current"in t||(n.current=r,n.currentInputValue=r),n.pageSize=t.pageSize}return n}}]),n}(Z.Component);Df.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Af,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Af,locale:{items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"},style:{},itemRender:function(t,e,n){return n},totalBoundaryShowSizeChanger:50};var Tf=Df,Zf=Z.createContext(null);function Ff(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,e=Z.useRef(null),n=Z.useRef(null);return Z.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return e.current},function(r){(r||null===e.current)&&(e.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){e.current=null}),t)}]}var jf=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],If=void 0;function Rf(t,e){var n=t.prefixCls,r=t.invalidate,i=t.item,o=t.renderItem,a=t.responsive,c=t.responsiveDisabled,l=t.registerSize,u=t.itemKey,s=t.className,f=t.style,h=t.children,d=t.display,p=t.order,v=t.component,g=void 0===v?"div":v,m=(0,rt.Z)(t,jf),y=a&&!d;function b(t){l(u,t)}Z.useEffect((function(){return function(){b(null)}}),[]);var x,w=o&&i!==If?o(i):h;r||(x={opacity:y?0:1,height:y?0:If,overflowY:y?"hidden":If,order:a?p:If,pointerEvents:y?"none":If,position:y?"absolute":If});var S={};y&&(S["aria-hidden"]=!0);var k=Z.createElement(g,(0,J.Z)({className:K()(!r&&n,s),style:(0,lt.Z)((0,lt.Z)({},x),f)},S,m,{ref:e}),w);return a&&(k=Z.createElement(ii,{onResize:function(t){b(t.offsetWidth)},disabled:c},k)),k}var Lf=Z.forwardRef(Rf);Lf.displayName="Item";var Nf=Lf;function Bf(){var t=Z.useRef(null);return function(e){t.current||(t.current=[],function(t){if("undefined"==typeof MessageChannel)(0,pe.Z)(t);else{var e=new MessageChannel;e.port1.onmessage=function(){return t()},e.port2.postMessage(void 0)}}((function(){(0,Pt.unstable_batchedUpdates)((function(){t.current.forEach((function(t){t()})),t.current=null}))}))),t.current.push(e)}}function zf(t,e){var n=Z.useState(e),r=(0,rr.Z)(n,2),i=r[0],o=r[1];return[i,(0,de.Z)((function(e){t((function(){o(e)}))}))]}var Uf=Z.createContext(null),Hf=["component"],Wf=["className"],Vf=["className"],Gf=function(t,e){var n=Z.useContext(Uf);if(!n){var r=t.component,i=void 0===r?"div":r,o=(0,rt.Z)(t,Hf);return Z.createElement(i,(0,J.Z)({},o,{ref:e}))}var a=n.className,c=(0,rt.Z)(n,Wf),l=t.className,u=(0,rt.Z)(t,Vf);return Z.createElement(Uf.Provider,{value:null},Z.createElement(Nf,(0,J.Z)({ref:e,className:K()(a,l)},c,u)))},Xf=Z.forwardRef(Gf);Xf.displayName="RawItem";var qf=Xf,Yf=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],$f="responsive",Kf="invalidate";function Jf(t){return"+ ".concat(t.length," ...")}function Qf(t,e){var n=t.prefixCls,r=void 0===n?"rc-overflow":n,i=t.data,o=void 0===i?[]:i,a=t.renderItem,c=t.renderRawItem,l=t.itemKey,u=t.itemWidth,s=void 0===u?10:u,f=t.ssr,h=t.style,d=t.className,p=t.maxCount,v=t.renderRest,g=t.renderRawRest,m=t.suffix,y=t.component,b=void 0===y?"div":y,x=t.itemComponent,w=t.onVisibleChange,S=(0,rt.Z)(t,Yf),k="full"===f,C=Bf(),O=zf(C,null),E=(0,rr.Z)(O,2),M=E[0],A=E[1],P=M||0,_=zf(C,new Map),D=(0,rr.Z)(_,2),T=D[0],F=D[1],j=zf(C,0),I=(0,rr.Z)(j,2),R=I[0],L=I[1],N=zf(C,0),B=(0,rr.Z)(N,2),z=B[0],U=B[1],H=zf(C,0),W=(0,rr.Z)(H,2),V=W[0],G=W[1],X=(0,Z.useState)(null),q=(0,rr.Z)(X,2),Y=q[0],$=q[1],Q=(0,Z.useState)(null),tt=(0,rr.Z)(Q,2),et=tt[0],nt=tt[1],it=Z.useMemo((function(){return null===et&&k?Number.MAX_SAFE_INTEGER:et||0}),[et,M]),ot=(0,Z.useState)(!1),at=(0,rr.Z)(ot,2),ct=at[0],ut=at[1],st="".concat(r,"-item"),ft=Math.max(R,z),ht=p===$f,dt=o.length&&ht,pt=p===Kf,vt=dt||"number"==typeof p&&o.length>p,gt=(0,Z.useMemo)((function(){var t=o;return dt?t=null===M&&k?o:o.slice(0,Math.min(o.length,P/s)):"number"==typeof p&&(t=o.slice(0,p)),t}),[o,s,M,p,dt]),mt=(0,Z.useMemo)((function(){return dt?o.slice(it+1):o.slice(gt.length)}),[o,gt,dt,it]),yt=(0,Z.useCallback)((function(t,e){var n;return"function"==typeof l?l(t):null!==(n=l&&(null==t?void 0:t[l]))&&void 0!==n?n:e}),[l]),bt=(0,Z.useCallback)(a||function(t){return t},[a]);function xt(t,e,n){(et!==t||void 0!==e&&e!==Y)&&(nt(t),n||(ut(t<o.length-1),null==w||w(t)),void 0!==e&&$(e))}function wt(t,e){F((function(n){var r=new Map(n);return null===e?r.delete(t):r.set(t,e),r}))}function St(t){return T.get(yt(gt[t],t))}(0,vr.Z)((function(){if(P&&"number"==typeof ft&&gt){var t=V,e=gt.length,n=e-1;if(!e)return void xt(0,null);for(var r=0;r<e;r+=1){var i=St(r);if(k&&(i=i||0),void 0===i){xt(r-1,void 0,!0);break}if(t+=i,0===n&&t<=P||r===n-1&&t+St(n)<=P){xt(n,null);break}if(t+ft>P){xt(r-1,t-i-V+z);break}}m&&St(0)+V>P&&$(null)}}),[P,T,z,V,yt,gt]);var kt=ct&&!!mt.length,Ct={};null!==Y&&dt&&(Ct={position:"absolute",left:Y,top:0});var Ot,Et={prefixCls:st,responsive:dt,component:x,invalidate:pt},Mt=c?function(t,e){var n=yt(t,e);return Z.createElement(Uf.Provider,{key:n,value:(0,lt.Z)((0,lt.Z)({},Et),{},{order:e,item:t,itemKey:n,registerSize:wt,display:e<=it})},c(t,e))}:function(t,e){var n=yt(t,e);return Z.createElement(Nf,(0,J.Z)({},Et,{order:e,key:n,item:t,renderItem:bt,itemKey:n,registerSize:wt,display:e<=it}))},At={order:kt?it:Number.MAX_SAFE_INTEGER,className:"".concat(st,"-rest"),registerSize:function(t,e){U(e),L(z)},display:kt};if(g)g&&(Ot=Z.createElement(Uf.Provider,{value:(0,lt.Z)((0,lt.Z)({},Et),At)},g(mt)));else{var Pt=v||Jf;Ot=Z.createElement(Nf,(0,J.Z)({},Et,At),"function"==typeof Pt?Pt(mt):Pt)}var _t=Z.createElement(b,(0,J.Z)({className:K()(!pt&&r,d),style:h,ref:e},S),gt.map(Mt),vt?Ot:null,m&&Z.createElement(Nf,(0,J.Z)({},Et,{responsive:ht,responsiveDisabled:!dt,order:it,className:"".concat(st,"-suffix"),registerSize:function(t,e){G(e)},display:!0,style:Ct}),m));return ht&&(_t=Z.createElement(ii,{onResize:function(t,e){A(e.clientWidth)},disabled:!dt},_t)),_t}var th=Z.forwardRef(Qf);th.displayName="Overflow",th.Item=qf,th.RESPONSIVE=$f,th.INVALIDATE=Kf;var eh=th,nh=function(t){var e,n=t.className,r=t.customizeIcon,i=t.customizeIconProps,o=t.onMouseDown,a=t.onClick,c=t.children;return e="function"==typeof r?r(i):r,Z.createElement("span",{className:n,onMouseDown:function(t){t.preventDefault(),o&&o(t)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==e?e:Z.createElement("span",{className:K()(n.split(/\s+/).map((function(t){return"".concat(t,"-icon")})))},c))},rh=function(t,e){var n,r,i=t.prefixCls,o=t.id,a=t.inputElement,c=t.disabled,l=t.tabIndex,u=t.autoFocus,s=t.autoComplete,f=t.editable,h=t.activeDescendantId,d=t.value,p=t.maxLength,v=t.onKeyDown,g=t.onMouseDown,m=t.onChange,y=t.onPaste,b=t.onCompositionStart,x=t.onCompositionEnd,w=t.open,S=t.attrs,k=a||Z.createElement("input",null),C=k,O=C.ref,E=C.props,M=E.onKeyDown,A=E.onChange,P=E.onMouseDown,_=E.onCompositionStart,D=E.onCompositionEnd,T=E.style;return(0,bt.Kp)(!("maxLength"in k.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),k=Z.cloneElement(k,(0,lt.Z)((0,lt.Z)((0,lt.Z)({type:"search"},E),{},{id:o,ref:(0,le.sQ)(e,O),disabled:c,tabIndex:l,autoComplete:s||"off",autoFocus:u,className:K()("".concat(i,"-selection-search-input"),null===(n=k)||void 0===n||null===(r=n.props)||void 0===r?void 0:r.className),role:"combobox","aria-label":"Search","aria-expanded":w,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":w?h:void 0},S),{},{value:f?d:"",maxLength:p,readOnly:!f,unselectable:f?null:"on",style:(0,lt.Z)((0,lt.Z)({},T),{},{opacity:f?null:0}),onKeyDown:function(t){v(t),M&&M(t)},onMouseDown:function(t){g(t),P&&P(t)},onChange:function(t){m(t),A&&A(t)},onCompositionStart:function(t){b(t),_&&_(t)},onCompositionEnd:function(t){x(t),D&&D(t)},onPaste:y}))},ih=Z.forwardRef(rh);ih.displayName="Input";var oh=ih;function ah(t){return Array.isArray(t)?t:void 0!==t?[t]:[]}var ch="undefined"!=typeof window&&window.document&&window.document.documentElement;function lh(t){return["string","number"].includes((0,it.Z)(t))}function uh(t){var e=void 0;return t&&(lh(t.title)?e=t.title.toString():lh(t.label)&&(e=t.label.toString())),e}function sh(t){var e;return null!==(e=t.key)&&void 0!==e?e:t.value}var fh=function(t){t.preventDefault(),t.stopPropagation()},hh=function(t){var e,n,r=t.id,i=t.prefixCls,o=t.values,a=t.open,c=t.searchValue,l=t.autoClearSearchValue,u=t.inputRef,s=t.placeholder,f=t.disabled,h=t.mode,d=t.showSearch,p=t.autoFocus,v=t.autoComplete,g=t.activeDescendantId,m=t.tabIndex,y=t.removeIcon,b=t.maxTagCount,x=t.maxTagTextLength,w=t.maxTagPlaceholder,S=void 0===w?function(t){return"+ ".concat(t.length," ...")}:w,k=t.tagRender,C=t.onToggleOpen,O=t.onRemove,E=t.onInputChange,M=t.onInputPaste,A=t.onInputKeyDown,P=t.onInputMouseDown,_=t.onInputCompositionStart,D=t.onInputCompositionEnd,T=Z.useRef(null),F=(0,Z.useState)(0),j=(0,rr.Z)(F,2),I=j[0],R=j[1],L=(0,Z.useState)(!1),N=(0,rr.Z)(L,2),z=N[0],U=N[1],H="".concat(i,"-selection"),W=a||"multiple"===h&&!1===l||"tags"===h?c:"",V="tags"===h||"multiple"===h&&!1===l||d&&(a||z);function G(t,e,n,r,i){return Z.createElement("span",{className:K()("".concat(H,"-item"),(0,B.Z)({},"".concat(H,"-item-disabled"),n)),title:uh(t)},Z.createElement("span",{className:"".concat(H,"-item-content")},e),r&&Z.createElement(nh,{className:"".concat(H,"-item-remove"),onMouseDown:fh,onClick:i,customizeIcon:y},"×"))}e=function(){R(T.current.scrollWidth)},n=[W],ch?Z.useLayoutEffect(e,n):Z.useEffect(e,n);var X=Z.createElement("div",{className:"".concat(H,"-search"),style:{width:I},onFocus:function(){U(!0)},onBlur:function(){U(!1)}},Z.createElement(oh,{ref:u,open:a,prefixCls:i,id:r,inputElement:null,disabled:f,autoFocus:p,autoComplete:v,editable:V,activeDescendantId:g,value:W,onKeyDown:A,onMouseDown:P,onChange:E,onPaste:M,onCompositionStart:_,onCompositionEnd:D,tabIndex:m,attrs:dt(t,!0)}),Z.createElement("span",{ref:T,className:"".concat(H,"-search-mirror"),"aria-hidden":!0},W," ")),q=Z.createElement(eh,{prefixCls:"".concat(H,"-overflow"),data:o,renderItem:function(t){var e=t.disabled,n=t.label,r=t.value,i=!f&&!e,o=n;if("number"==typeof x&&("string"==typeof n||"number"==typeof n)){var c=String(o);c.length>x&&(o="".concat(c.slice(0,x),"..."))}var l=function(e){e&&e.stopPropagation(),O(t)};return"function"==typeof k?function(t,e,n,r,i){return Z.createElement("span",{onMouseDown:function(t){fh(t),C(!a)}},k({label:e,value:t,disabled:n,closable:r,onClose:i}))}(r,o,e,i,l):G(t,o,e,i,l)},renderRest:function(t){var e="function"==typeof S?S(t):S;return G({title:e},e,!1)},suffix:X,itemKey:sh,maxCount:b});return Z.createElement(Z.Fragment,null,q,!o.length&&!W&&Z.createElement("span",{className:"".concat(H,"-placeholder")},s))},dh=function(t){var e=t.inputElement,n=t.prefixCls,r=t.id,i=t.inputRef,o=t.disabled,a=t.autoFocus,c=t.autoComplete,l=t.activeDescendantId,u=t.mode,s=t.open,f=t.values,h=t.placeholder,d=t.tabIndex,p=t.showSearch,v=t.searchValue,g=t.activeValue,m=t.maxLength,y=t.onInputKeyDown,b=t.onInputMouseDown,x=t.onInputChange,w=t.onInputPaste,S=t.onInputCompositionStart,k=t.onInputCompositionEnd,C=t.title,O=Z.useState(!1),E=(0,rr.Z)(O,2),M=E[0],A=E[1],P="combobox"===u,_=P||p,D=f[0],T=v||"";P&&g&&!M&&(T=g),Z.useEffect((function(){P&&A(!1)}),[P,g]);var F=!("combobox"!==u&&!s&&!p)&&!!T,j=void 0===C?uh(D):C;return Z.createElement(Z.Fragment,null,Z.createElement("span",{className:"".concat(n,"-selection-search")},Z.createElement(oh,{ref:i,prefixCls:n,id:r,open:s,inputElement:e,disabled:o,autoFocus:a,autoComplete:c,editable:_,activeDescendantId:l,value:T,onKeyDown:y,onMouseDown:b,onChange:function(t){A(!0),x(t)},onPaste:w,onCompositionStart:S,onCompositionEnd:k,tabIndex:d,attrs:dt(t,!0),maxLength:P?m:void 0})),!P&&D?Z.createElement("span",{className:"".concat(n,"-selection-item"),title:j,style:F?{visibility:"hidden"}:void 0},D.label):null,function(){if(D)return null;var t=F?{visibility:"hidden"}:void 0;return Z.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:t},h)}())};var ph=function(t,e){var n=(0,Z.useRef)(null),r=(0,Z.useRef)(!1),i=t.prefixCls,o=t.open,a=t.mode,c=t.showSearch,l=t.tokenWithEnter,u=t.autoClearSearchValue,s=t.onSearch,f=t.onSearchSubmit,h=t.onToggleOpen,d=t.onInputKeyDown,p=t.domRef;Z.useImperativeHandle(e,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var v=Ff(0),g=(0,rr.Z)(v,2),m=g[0],y=g[1],b=(0,Z.useRef)(null),x=function(t){!1!==s(t,!0,r.current)&&h(!0)},w={inputRef:n,onInputKeyDown:function(t){var e,n=t.which;n!==Ya.Z.UP&&n!==Ya.Z.DOWN||t.preventDefault(),d&&d(t),n!==Ya.Z.ENTER||"tags"!==a||r.current||o||null==f||f(t.target.value),e=n,[Ya.Z.ESC,Ya.Z.SHIFT,Ya.Z.BACKSPACE,Ya.Z.TAB,Ya.Z.WIN_KEY,Ya.Z.ALT,Ya.Z.META,Ya.Z.WIN_KEY_RIGHT,Ya.Z.CTRL,Ya.Z.SEMICOLON,Ya.Z.EQUALS,Ya.Z.CAPS_LOCK,Ya.Z.CONTEXT_MENU,Ya.Z.F1,Ya.Z.F2,Ya.Z.F3,Ya.Z.F4,Ya.Z.F5,Ya.Z.F6,Ya.Z.F7,Ya.Z.F8,Ya.Z.F9,Ya.Z.F10,Ya.Z.F11,Ya.Z.F12].includes(e)||h(!0)},onInputMouseDown:function(){y(!0)},onInputChange:function(t){var e=t.target.value;if(l&&b.current&&/[\r\n]/.test(b.current)){var n=b.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");e=e.replace(n,b.current)}b.current=null,x(e)},onInputPaste:function(t){var e=t.clipboardData.getData("text");b.current=e},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(t){r.current=!1,"combobox"!==a&&x(t.target.value)}},S="multiple"===a||"tags"===a?Z.createElement(hh,(0,J.Z)({},t,w)):Z.createElement(dh,(0,J.Z)({},t,w));return Z.createElement("div",{ref:p,className:"".concat(i,"-selector"),onClick:function(t){t.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(t){var e=m();t.target===n.current||e||"combobox"===a||t.preventDefault(),("combobox"===a||c&&e)&&o||(o&&!1!==u&&s("",!0,!1),h())}},S)},vh=Z.forwardRef(ph);vh.displayName="Selector";var gh=vh,mh=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],yh=function(t,e){var n=t.prefixCls,r=(t.disabled,t.visible),i=t.children,o=t.popupElement,a=t.containerWidth,c=t.animation,l=t.transitionName,u=t.dropdownStyle,s=t.dropdownClassName,f=t.direction,h=void 0===f?"ltr":f,d=t.placement,p=t.builtinPlacements,v=t.dropdownMatchSelectWidth,g=t.dropdownRender,m=t.dropdownAlign,y=t.getPopupContainer,b=t.empty,x=t.getTriggerDOMNode,w=t.onPopupVisibleChange,S=t.onPopupMouseEnter,k=(0,rt.Z)(t,mh),C="".concat(n,"-dropdown"),O=o;g&&(O=g(o));var E=Z.useMemo((function(){return p||function(t){var e=!0===t?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"}}}(v)}),[p,v]),M=c?"".concat(C,"-").concat(c):l,A=Z.useRef(null);Z.useImperativeHandle(e,(function(){return{getPopupElement:function(){return A.current}}}));var P=(0,lt.Z)({minWidth:a},u);return"number"==typeof v?P.width=v:v&&(P.width=a),Z.createElement(Di,(0,J.Z)({},k,{showAction:w?["click"]:[],hideAction:w?["click"]:[],popupPlacement:d||("rtl"===h?"bottomRight":"bottomLeft"),builtinPlacements:E,prefixCls:C,popupTransitionName:M,popup:Z.createElement("div",{ref:A,onMouseEnter:S},O),popupAlign:m,popupVisible:r,getPopupContainer:y,popupClassName:K()(s,(0,B.Z)({},"".concat(C,"-empty"),b)),popupStyle:P,getTriggerDOMNode:x,onPopupVisibleChange:w}),i)},bh=Z.forwardRef(yh);bh.displayName="SelectTrigger";var xh=bh,wh=n(80475);function Sh(t,e){var n,r=t.key;return"value"in t&&(n=t.value),null!=r?r:void 0!==n?n:"rc-index-key-".concat(e)}function kh(t,e){var n=t||{},r=n.label||(e?"children":"label");return{label:r,value:n.value||"value",options:n.options||"options",groupLabel:n.groupLabel||r}}function Ch(t){var e=(0,lt.Z)({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return(0,bt.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var Oh=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Eh=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function Mh(t){return"tags"===t||"multiple"===t}var Ah=Z.forwardRef((function(t,e){var n,r,i=t.id,o=t.prefixCls,a=t.className,c=t.showSearch,l=t.tagRender,u=t.direction,s=t.omitDomProps,f=t.displayValues,h=t.onDisplayValuesChange,d=t.emptyOptions,p=t.notFoundContent,v=void 0===p?"Not Found":p,g=t.onClear,m=t.mode,y=t.disabled,b=t.loading,x=t.getInputElement,w=t.getRawInputElement,S=t.open,k=t.defaultOpen,C=t.onDropdownVisibleChange,O=t.activeValue,E=t.onActiveValueChange,M=t.activeDescendantId,A=t.searchValue,P=t.autoClearSearchValue,_=t.onSearch,D=t.onSearchSplit,T=t.tokenSeparators,F=t.allowClear,j=t.suffixIcon,I=t.clearIcon,R=t.OptionList,L=t.animation,N=t.transitionName,z=t.dropdownStyle,U=t.dropdownClassName,H=t.dropdownMatchSelectWidth,W=t.dropdownRender,V=t.dropdownAlign,G=t.placement,X=t.builtinPlacements,q=t.getPopupContainer,$=t.showAction,Q=void 0===$?[]:$,tt=t.onFocus,et=t.onBlur,nt=t.onKeyUp,ot=t.onKeyDown,at=t.onMouseDown,ct=(0,rt.Z)(t,Oh),ut=Mh(m),st=(void 0!==c?c:ut)||"combobox"===m,ft=(0,lt.Z)({},ct);Eh.forEach((function(t){delete ft[t]})),null==s||s.forEach((function(t){delete ft[t]}));var ht=Z.useState(!1),dt=(0,rr.Z)(ht,2),pt=dt[0],vt=dt[1];Z.useEffect((function(){vt(li())}),[]);var gt=Z.useRef(null),mt=Z.useRef(null),yt=Z.useRef(null),bt=Z.useRef(null),xt=Z.useRef(null),wt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=Z.useState(!1),n=(0,rr.Z)(e,2),r=n[0],i=n[1],o=Z.useRef(null),a=function(){window.clearTimeout(o.current)};return Z.useEffect((function(){return a}),[]),[r,function(e,n){a(),o.current=window.setTimeout((function(){i(e),n&&n()}),t)},a]}(),St=(0,rr.Z)(wt,3),kt=St[0],Ct=St[1],Ot=St[2];Z.useImperativeHandle(e,(function(){var t,e;return{focus:null===(t=bt.current)||void 0===t?void 0:t.focus,blur:null===(e=bt.current)||void 0===e?void 0:e.blur,scrollTo:function(t){var e;return null===(e=xt.current)||void 0===e?void 0:e.scrollTo(t)}}}));var Et=Z.useMemo((function(){var t;if("combobox"!==m)return A;var e=null===(t=f[0])||void 0===t?void 0:t.value;return"string"==typeof e||"number"==typeof e?String(e):""}),[A,m,f]),Mt="combobox"===m&&"function"==typeof x&&x()||null,Pt="function"==typeof w&&w(),_t=(0,le.x1)(mt,null==Pt||null===(n=Pt.props)||void 0===n?void 0:n.ref),Dt=Z.useState(!1),Tt=(0,rr.Z)(Dt,2),Zt=Tt[0],Ft=Tt[1];(0,vr.Z)((function(){Ft(!0)}),[]);var jt=(0,At.Z)(!1,{defaultValue:k,value:S}),It=(0,rr.Z)(jt,2),Rt=It[0],Lt=It[1],Nt=!!Zt&&Rt,Bt=!v&&d;(y||Bt&&Nt&&"combobox"===m)&&(Nt=!1);var zt=!Bt&&Nt,Ut=Z.useCallback((function(t){var e=void 0!==t?t:!Nt;y||(Lt(e),Nt!==e&&(null==C||C(e)))}),[y,Nt,Lt,C]),Ht=Z.useMemo((function(){return(T||[]).some((function(t){return["\n","\r\n"].includes(t)}))}),[T]),Wt=function(t,e,n){var r=!0,i=t;null==E||E(null);var o=n?null:function(t,e){if(!e||!e.length)return null;var n=!1,r=function t(e,r){var i=(0,wh.Z)(r),o=i[0],a=i.slice(1);if(!o)return[e];var c=e.split(o);return n=n||c.length>1,c.reduce((function(e,n){return[].concat((0,Y.Z)(e),(0,Y.Z)(t(n,a)))}),[]).filter((function(t){return t}))}(t,e);return n?r:null}(t,T);return"combobox"!==m&&o&&(i="",null==D||D(o),Ut(!1),r=!1),_&&Et!==i&&_(i,{source:e?"typing":"effect"}),r};Z.useEffect((function(){Nt||ut||"combobox"===m||Wt("",!1,!1)}),[Nt]),Z.useEffect((function(){Rt&&y&&Lt(!1),y&&Ct(!1)}),[y]);var Vt=Ff(),Gt=(0,rr.Z)(Vt,2),Xt=Gt[0],qt=Gt[1],Yt=Z.useRef(!1),$t=[];Z.useEffect((function(){return function(){$t.forEach((function(t){return clearTimeout(t)})),$t.splice(0,$t.length)}}),[]);var Kt,Jt=Z.useState(null),Qt=(0,rr.Z)(Jt,2),te=Qt[0],ee=Qt[1],ne=Z.useState({}),re=(0,rr.Z)(ne,2)[1];(0,vr.Z)((function(){if(zt){var t,e=Math.ceil(null===(t=gt.current)||void 0===t?void 0:t.getBoundingClientRect().width);te===e||Number.isNaN(e)||ee(e)}}),[zt]),Pt&&(Kt=function(t){Ut(t)}),function(t,e,n,r){var i=Z.useRef(null);i.current={open:e,triggerOpen:n,customizedTrigger:r},Z.useEffect((function(){function e(e){var n;if(null===(n=i.current)||void 0===n||!n.customizedTrigger){var r=e.target;r.shadowRoot&&e.composed&&(r=e.composedPath()[0]||r),i.current.open&&t().filter((function(t){return t})).every((function(t){return!t.contains(r)&&t!==r}))&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}),[])}((function(){var t;return[gt.current,null===(t=yt.current)||void 0===t?void 0:t.getPopupElement()]}),zt,Ut,!!Pt);var ie,oe=Z.useMemo((function(){return(0,lt.Z)((0,lt.Z)({},t),{},{notFoundContent:v,open:Nt,triggerOpen:zt,id:i,showSearch:st,multiple:ut,toggleOpen:Ut})}),[t,v,zt,Nt,i,st,ut,Ut]),ae=!!j||b;ae&&(ie=Z.createElement(nh,{className:K()("".concat(o,"-arrow"),(0,B.Z)({},"".concat(o,"-arrow-loading"),b)),customizeIcon:j,customizeIconProps:{loading:b,searchValue:Et,open:Nt,focused:kt,showSearch:st}}));var ce,ue=function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,l=Z.useMemo((function(){return"object"===(0,it.Z)(r)?r.clearIcon:i||void 0}),[r,i]);return{allowClear:Z.useMemo((function(){return!(o||!r||!n.length&&!a||"combobox"===c&&""===a)}),[r,o,n.length,a,c]),clearIcon:Z.createElement(nh,{className:"".concat(t,"-clear"),onMouseDown:e,customizeIcon:l},"×")}}(o,(function(){var t;null==g||g(),null===(t=bt.current)||void 0===t||t.focus(),h([],{type:"clear",values:f}),Wt("",!1,!1)}),f,F,I,y,Et,m),se=ue.allowClear,fe=ue.clearIcon,he=Z.createElement(R,{ref:xt}),de=K()(o,a,(r={},(0,B.Z)(r,"".concat(o,"-focused"),kt),(0,B.Z)(r,"".concat(o,"-multiple"),ut),(0,B.Z)(r,"".concat(o,"-single"),!ut),(0,B.Z)(r,"".concat(o,"-allow-clear"),F),(0,B.Z)(r,"".concat(o,"-show-arrow"),ae),(0,B.Z)(r,"".concat(o,"-disabled"),y),(0,B.Z)(r,"".concat(o,"-loading"),b),(0,B.Z)(r,"".concat(o,"-open"),Nt),(0,B.Z)(r,"".concat(o,"-customize-input"),Mt),(0,B.Z)(r,"".concat(o,"-show-search"),st),r)),pe=Z.createElement(xh,{ref:yt,disabled:y,prefixCls:o,visible:zt,popupElement:he,containerWidth:te,animation:L,transitionName:N,dropdownStyle:z,dropdownClassName:U,direction:u,dropdownMatchSelectWidth:H,dropdownRender:W,dropdownAlign:V,placement:G,builtinPlacements:X,getPopupContainer:q,empty:d,getTriggerDOMNode:function(){return mt.current},onPopupVisibleChange:Kt,onPopupMouseEnter:function(){re({})}},Pt?Z.cloneElement(Pt,{ref:_t}):Z.createElement(gh,(0,J.Z)({},t,{domRef:mt,prefixCls:o,inputElement:Mt,ref:bt,id:i,showSearch:st,autoClearSearchValue:P,mode:m,activeDescendantId:M,tagRender:l,values:f,open:Nt,onToggleOpen:Ut,activeValue:O,searchValue:Et,onSearch:Wt,onSearchSubmit:function(t){t&&t.trim()&&_(t,{source:"submit"})},onRemove:function(t){var e=f.filter((function(e){return e!==t}));h(e,{type:"remove",values:[t]})},tokenWithEnter:Ht})));return ce=Pt?pe:Z.createElement("div",(0,J.Z)({className:de},ft,{ref:gt,onMouseDown:function(t){var e,n=t.target,r=null===(e=yt.current)||void 0===e?void 0:e.getPopupElement();if(r&&r.contains(n)){var i=setTimeout((function(){var t,e=$t.indexOf(i);-1!==e&&$t.splice(e,1),Ot(),pt||r.contains(document.activeElement)||null===(t=bt.current)||void 0===t||t.focus()}));$t.push(i)}for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];null==at||at.apply(void 0,[t].concat(a))},onKeyDown:function(t){var e,n=Xt(),r=t.which;if(r===Ya.Z.ENTER&&("combobox"!==m&&t.preventDefault(),Nt||Ut(!0)),qt(!!Et),r===Ya.Z.BACKSPACE&&!n&&ut&&!Et&&f.length){for(var i=(0,Y.Z)(f),o=null,a=i.length-1;a>=0;a-=1){var c=i[a];if(!c.disabled){i.splice(a,1),o=c;break}}o&&h(i,{type:"remove",values:[o]})}for(var l=arguments.length,u=new Array(l>1?l-1:0),s=1;s<l;s++)u[s-1]=arguments[s];Nt&&xt.current&&(e=xt.current).onKeyDown.apply(e,[t].concat(u)),null==ot||ot.apply(void 0,[t].concat(u))},onKeyUp:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i;Nt&&xt.current&&(i=xt.current).onKeyUp.apply(i,[t].concat(n)),null==nt||nt.apply(void 0,[t].concat(n))},onFocus:function(){Ct(!0),y||(tt&&!Yt.current&&tt.apply(void 0,arguments),Q.includes("focus")&&Ut(!0)),Yt.current=!0},onBlur:function(){Ct(!1,(function(){Yt.current=!1,Ut(!1)})),y||(Et&&("tags"===m?_(Et,{source:"submit"}):"multiple"===m&&_("",{source:"blur"})),et&&et.apply(void 0,arguments))}}),kt&&!Nt&&Z.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(f.map((function(t){var e=t.label,n=t.value;return["number","string"].includes((0,it.Z)(e))?e:n})).join(", "))),pe,ie,se&&fe),Z.createElement(Zf.Provider,{value:oe},ce)}));var Ph=Ah;function _h(t,e){return ah(t).join("").toUpperCase().includes(e)}var Dh=0,Th=(0,ir.Z)();function Zh(t){var e=Z.useState(),n=(0,rr.Z)(e,2),r=n[0],i=n[1];return Z.useEffect((function(){var t;i("rc_select_".concat((Th?(t=Dh,Dh+=1):t="TEST_OR_SSR",t)))}),[]),t||r}var Fh=["children","value"],jh=["children"];function Ih(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,je.Z)(t).map((function(t,n){if(!Z.isValidElement(t)||!t.type)return null;var r=t,i=r.type.isSelectOptGroup,o=r.key,a=r.props,c=a.children,l=(0,rt.Z)(a,jh);return e||!i?function(t){var e=t,n=e.key,r=e.props,i=r.children,o=r.value,a=(0,rt.Z)(r,Fh);return(0,lt.Z)({key:n,value:void 0!==o?o:n,children:i},a)}(t):(0,lt.Z)((0,lt.Z)({key:"__RC_SELECT_GRP__".concat(null===o?n:o,"__"),label:o},l),{},{options:Ih(c)})})).filter((function(t){return t}))}function Rh(t){var e=Z.useRef();e.current=t;var n=Z.useCallback((function(){return e.current.apply(e,arguments)}),[]);return n}var Lh=function(){return null};Lh.isSelectOptGroup=!0;var Nh=Lh,Bh=function(){return null};Bh.isSelectOption=!0;var zh=Bh,Uh=Z.forwardRef((function(t,e){var n=t.height,r=t.offset,i=t.children,o=t.prefixCls,a=t.onInnerResize,c=t.innerProps,l={},u={display:"flex",flexDirection:"column"};return void 0!==r&&(l={height:n,position:"relative",overflow:"hidden"},u=(0,lt.Z)((0,lt.Z)({},u),{},{transform:"translateY(".concat(r,"px)"),position:"absolute",left:0,right:0,top:0})),Z.createElement("div",{style:l},Z.createElement(ii,{onResize:function(t){t.offsetHeight&&a&&a()}},Z.createElement("div",(0,J.Z)({style:u,className:K()((0,B.Z)({},"".concat(o,"-holder-inner"),o)),ref:e},c),i)))}));Uh.displayName="Filler";var Hh=Uh;function Wh(t){return"touches"in t?t.touches[0].pageY:t.pageY}var Vh=function(t){(0,et.Z)(n,t);var e=(0,nt.Z)(n);function n(){var t;(0,Q.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).moveRaf=null,t.scrollbarRef=Z.createRef(),t.thumbRef=Z.createRef(),t.visibleTimeout=null,t.state={dragging:!1,pageY:null,startTop:null,visible:!1},t.delayHidden=function(){clearTimeout(t.visibleTimeout),t.setState({visible:!0}),t.visibleTimeout=setTimeout((function(){t.setState({visible:!1})}),2e3)},t.onScrollbarTouchStart=function(t){t.preventDefault()},t.onContainerMouseDown=function(t){t.stopPropagation(),t.preventDefault()},t.patchEvents=function(){window.addEventListener("mousemove",t.onMouseMove),window.addEventListener("mouseup",t.onMouseUp),t.thumbRef.current.addEventListener("touchmove",t.onMouseMove),t.thumbRef.current.addEventListener("touchend",t.onMouseUp)},t.removeEvents=function(){window.removeEventListener("mousemove",t.onMouseMove),window.removeEventListener("mouseup",t.onMouseUp),t.thumbRef.current&&(t.thumbRef.current.removeEventListener("touchmove",t.onMouseMove),t.thumbRef.current.removeEventListener("touchend",t.onMouseUp)),pe.Z.cancel(t.moveRaf)},t.onMouseDown=function(e){var n=t.props.onStartMove;t.setState({dragging:!0,pageY:Wh(e),startTop:t.getTop()}),n(),t.patchEvents(),e.stopPropagation(),e.preventDefault()},t.onMouseMove=function(e){var n=t.state,r=n.dragging,i=n.pageY,o=n.startTop,a=t.props.onScroll;if(pe.Z.cancel(t.moveRaf),r){var c=o+(Wh(e)-i),l=t.getEnableScrollRange(),u=t.getEnableHeightRange(),s=u?c/u:0,f=Math.ceil(s*l);t.moveRaf=(0,pe.Z)((function(){a(f)}))}},t.onMouseUp=function(){var e=t.props.onStopMove;t.setState({dragging:!1}),e(),t.removeEvents()},t.getSpinHeight=function(){var e=t.props,n=e.height,r=n/e.count*10;return r=Math.max(r,20),r=Math.min(r,n/2),Math.floor(r)},t.getEnableScrollRange=function(){var e=t.props;return e.scrollHeight-e.height||0},t.getEnableHeightRange=function(){return t.props.height-t.getSpinHeight()||0},t.getTop=function(){var e=t.props.scrollTop,n=t.getEnableScrollRange(),r=t.getEnableHeightRange();return 0===e||0===n?0:e/n*r},t.showScroll=function(){var e=t.props,n=e.height;return e.scrollHeight>n},t}return(0,tt.Z)(n,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(t){t.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){var t,e;this.removeEvents(),null===(t=this.scrollbarRef.current)||void 0===t||t.removeEventListener("touchstart",this.onScrollbarTouchStart),null===(e=this.thumbRef.current)||void 0===e||e.removeEventListener("touchstart",this.onMouseDown),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var t=this.state,e=t.dragging,n=t.visible,r=this.props,i=r.prefixCls,o=r.direction,a=this.getSpinHeight(),c=this.getTop(),l=this.showScroll(),u=l&&n,s="rtl"===o?{left:0}:{right:0};return Z.createElement("div",{ref:this.scrollbarRef,className:K()("".concat(i,"-scrollbar"),(0,B.Z)({},"".concat(i,"-scrollbar-show"),l)),style:(0,lt.Z)((0,lt.Z)({width:8,top:0,bottom:0},s),{},{position:"absolute",display:u?null:"none"}),onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},Z.createElement("div",{ref:this.thumbRef,className:K()("".concat(i,"-scrollbar-thumb"),(0,B.Z)({},"".concat(i,"-scrollbar-thumb-moving"),e)),style:{width:"100%",height:a,top:c,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),n}(Z.Component);function Gh(t){var e=t.children,n=t.setRef,r=Z.useCallback((function(t){n(t)}),[]);return Z.cloneElement(e,{ref:r})}var Xh=function(){function t(){(0,Q.Z)(this,t),this.maps=void 0,this.maps=Object.create(null)}return(0,tt.Z)(t,[{key:"set",value:function(t,e){this.maps[t]=e}},{key:"get",value:function(t){return this.maps[t]}}]),t}(),qh=Xh;function Yh(t,e,n){var r=Z.useState(t),i=(0,rr.Z)(r,2),o=i[0],a=i[1],c=Z.useState(null),l=(0,rr.Z)(c,2),u=l[0],s=l[1];return Z.useEffect((function(){var r=function(t,e,n){var r,i,o=t.length,a=e.length;if(0===o&&0===a)return null;o<a?(r=t,i=e):(r=e,i=t);var c={__EMPTY_ITEM__:!0};function l(t){return void 0!==t?n(t):c}for(var u=null,s=1!==Math.abs(o-a),f=0;f<i.length;f+=1){var h=l(r[f]);if(h!==l(i[f])){u=f,s=s||h!==l(i[f+1]);break}}return null===u?null:{index:u,multiple:s}}(o||[],t||[],e);void 0!==(null==r?void 0:r.index)&&(null==n||n(r.index),s(t[r.index])),a(t)}),[t]),[u]}var $h="object"===("undefined"==typeof navigator?"undefined":(0,it.Z)(navigator))&&/Firefox/i.test(navigator.userAgent),Kh=function(t,e){var n=(0,Z.useRef)(!1),r=(0,Z.useRef)(null);var i=(0,Z.useRef)({top:t,bottom:e});return i.current.top=t,i.current.bottom=e,function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t<0&&i.current.top||t>0&&i.current.bottom;return e&&o?(clearTimeout(r.current),n.current=!1):o&&!n.current||(clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)),!n.current&&o}};var Jh=14/15;var Qh=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","component","onScroll","onVisibleChange","innerProps"],td=[],ed={overflowY:"auto",overflowAnchor:"none"};function nd(t,e){var n=t.prefixCls,r=void 0===n?"rc-virtual-list":n,i=t.className,o=t.height,a=t.itemHeight,c=t.fullHeight,l=void 0===c||c,u=t.style,s=t.data,f=t.children,h=t.itemKey,d=t.virtual,p=t.direction,v=t.component,g=void 0===v?"div":v,m=t.onScroll,y=t.onVisibleChange,b=t.innerProps,x=(0,rt.Z)(t,Qh),w=!(!1===d||!o||!a),S=w&&s&&a*s.length>o,k=(0,Z.useState)(0),C=(0,rr.Z)(k,2),O=C[0],E=C[1],M=(0,Z.useState)(!1),A=(0,rr.Z)(M,2),P=A[0],_=A[1],D=K()(r,(0,B.Z)({},"".concat(r,"-rtl"),"rtl"===p),i),T=s||td,F=(0,Z.useRef)(),j=(0,Z.useRef)(),I=(0,Z.useRef)(),R=Z.useCallback((function(t){return"function"==typeof h?h(t):null==t?void 0:t[h]}),[h]),L={getKey:R};function N(t){E((function(e){var n=function(t){var e=t;Number.isNaN(ct.current)||(e=Math.min(e,ct.current));return e=Math.max(e,0),e}("function"==typeof t?t(e):t);return F.current.scrollTop=n,n}))}var z=(0,Z.useRef)({start:0,end:T.length}),U=(0,Z.useRef)(),H=Yh(T,R),W=(0,rr.Z)(H,1)[0];U.current=W;var V=function(t,e,n){var r=Z.useState(0),i=(0,rr.Z)(r,2),o=i[0],a=i[1],c=(0,Z.useRef)(new Map),l=(0,Z.useRef)(new qh),u=(0,Z.useRef)();function s(){pe.Z.cancel(u.current)}function f(){s(),u.current=(0,pe.Z)((function(){c.current.forEach((function(t,e){if(t&&t.offsetParent){var n=(0,Mr.Z)(t),r=n.offsetHeight;l.current.get(e)!==r&&l.current.set(e,n.offsetHeight)}})),a((function(t){return t+1}))}))}return(0,Z.useEffect)((function(){return s}),[]),[function(r,i){var o=t(r),a=c.current.get(o);i?(c.current.set(o,i),f()):c.current.delete(o),!a!=!i&&(i?null==e||e(r):null==n||n(r))},f,l.current,o]}(R,null,null),G=(0,rr.Z)(V,4),X=G[0],q=G[1],Y=G[2],$=G[3],Q=Z.useMemo((function(){if(!w)return{scrollHeight:void 0,start:0,end:T.length-1,offset:void 0};var t;if(!S)return{scrollHeight:(null===(t=j.current)||void 0===t?void 0:t.offsetHeight)||0,start:0,end:T.length-1,offset:void 0};for(var e,n,r,i=0,c=T.length,l=0;l<c;l+=1){var u=T[l],s=R(u),f=Y.get(s),h=i+(void 0===f?a:f);h>=O&&void 0===e&&(e=l,n=i),h>O+o&&void 0===r&&(r=l),i=h}return void 0===e&&(e=0,n=0,r=Math.ceil(o/a)),void 0===r&&(r=T.length-1),{scrollHeight:i,start:e,end:r=Math.min(r+1,T.length),offset:n}}),[S,w,O,T,$,o]),tt=Q.scrollHeight,et=Q.start,nt=Q.end,ot=Q.offset;z.current.start=et,z.current.end=nt;var at=tt-o,ct=(0,Z.useRef)(at);ct.current=at;var ut=O<=0,st=O>=at,ft=Kh(ut,st);var ht=function(t,e,n,r){var i=(0,Z.useRef)(0),o=(0,Z.useRef)(null),a=(0,Z.useRef)(null),c=(0,Z.useRef)(!1),l=Kh(e,n);return[function(e){if(t){pe.Z.cancel(o.current);var n=e.deltaY;i.current+=n,a.current=n,l(n)||($h||e.preventDefault(),o.current=(0,pe.Z)((function(){var t=c.current?10:1;r(i.current*t),i.current=0})))}},function(e){t&&(c.current=e.detail===a.current)}]}(w,ut,st,(function(t){N((function(e){return e+t}))})),dt=(0,rr.Z)(ht,2),pt=dt[0],vt=dt[1];!function(t,e,n){var r,i=(0,Z.useRef)(!1),o=(0,Z.useRef)(0),a=(0,Z.useRef)(null),c=(0,Z.useRef)(null),l=function(t){if(i.current){var e=Math.ceil(t.touches[0].pageY),r=o.current-e;o.current=e,n(r)&&t.preventDefault(),clearInterval(c.current),c.current=setInterval((function(){(!n(r*=Jh,!0)||Math.abs(r)<=.1)&&clearInterval(c.current)}),16)}},u=function(){i.current=!1,r()},s=function(t){r(),1!==t.touches.length||i.current||(i.current=!0,o.current=Math.ceil(t.touches[0].pageY),a.current=t.target,a.current.addEventListener("touchmove",l),a.current.addEventListener("touchend",u))};r=function(){a.current&&(a.current.removeEventListener("touchmove",l),a.current.removeEventListener("touchend",u))},(0,vr.Z)((function(){return t&&e.current.addEventListener("touchstart",s),function(){var t;null===(t=e.current)||void 0===t||t.removeEventListener("touchstart",s),r(),clearInterval(c.current)}}),[t])}(w,F,(function(t,e){return!ft(t,e)&&(pt({preventDefault:function(){},deltaY:t}),!0)})),(0,vr.Z)((function(){function t(t){w&&t.preventDefault()}return F.current.addEventListener("wheel",pt),F.current.addEventListener("DOMMouseScroll",vt),F.current.addEventListener("MozMousePixelScroll",t),function(){F.current&&(F.current.removeEventListener("wheel",pt),F.current.removeEventListener("DOMMouseScroll",vt),F.current.removeEventListener("MozMousePixelScroll",t))}}),[w]);var gt=function(t,e,n,r,i,o,a,c){var l=Z.useRef();return function(u){if(null!=u){if(pe.Z.cancel(l.current),"number"==typeof u)a(u);else if(u&&"object"===(0,it.Z)(u)){var s,f=u.align;s="index"in u?u.index:e.findIndex((function(t){return i(t)===u.key}));var h=u.offset,d=void 0===h?0:h;!function c(u,h){if(!(u<0)&&t.current){var p=t.current.clientHeight,v=!1,g=h;if(p){for(var m=h||f,y=0,b=0,x=0,w=Math.min(e.length,s),S=0;S<=w;S+=1){var k=i(e[S]);b=y;var C=n.get(k);y=x=b+(void 0===C?r:C),S===s&&void 0===C&&(v=!0)}var O=null;switch(m){case"top":O=b-d;break;case"bottom":O=x-p+d;break;default:var E=t.current.scrollTop;b<E?g="top":x>E+p&&(g="bottom")}null!==O&&O!==t.current.scrollTop&&a(O)}l.current=(0,pe.Z)((function(){v&&o(),c(u-1,g)}),2)}}(3)}}else c()}}(F,T,Y,a,R,q,N,(function(){var t;null===(t=I.current)||void 0===t||t.delayHidden()}));Z.useImperativeHandle(e,(function(){return{scrollTo:gt}})),(0,vr.Z)((function(){if(y){var t=T.slice(et,nt+1);y(t,T)}}),[et,nt,T]);var mt=function(t,e,n,r,i,o){var a=o.getKey;return t.slice(e,n+1).map((function(t,n){var o=i(t,e+n,{}),c=a(t);return Z.createElement(Gh,{key:c,setRef:function(e){return r(t,e)}},o)}))}(T,et,nt,X,f,L),yt=null;return o&&(yt=(0,lt.Z)((0,B.Z)({},l?"height":"maxHeight",o),ed),w&&(yt.overflowY="hidden",P&&(yt.pointerEvents="none"))),Z.createElement("div",(0,J.Z)({style:(0,lt.Z)((0,lt.Z)({},u),{},{position:"relative"}),className:D},x),Z.createElement(g,{className:"".concat(r,"-holder"),style:yt,ref:F,onScroll:function(t){var e=t.currentTarget.scrollTop;e!==O&&N(e),null==m||m(t)}},Z.createElement(Hh,{prefixCls:r,height:tt,offset:ot,onInnerResize:q,ref:j,innerProps:b},mt)),w&&Z.createElement(Vh,{ref:I,prefixCls:r,scrollTop:O,height:o,scrollHeight:tt,count:T.length,direction:p,onScroll:function(t){N(t)},onStartMove:function(){_(!0)},onStopMove:function(){_(!1)}}))}var rd=Z.forwardRef(nd);rd.displayName="List";var id=rd,od=Z.createContext(null);var ad=["disabled","title","children","style","className"];function cd(t){return"string"==typeof t||"number"==typeof t}var ld=function(t,e){var n=Z.useContext(Zf),r=n.prefixCls,i=n.id,o=n.open,a=n.multiple,c=n.mode,l=n.searchValue,u=n.toggleOpen,s=n.notFoundContent,f=n.onPopupScroll,h=Z.useContext(od),d=h.flattenOptions,p=h.onActiveValue,v=h.defaultActiveFirstOption,g=h.onSelect,m=h.menuItemSelectedIcon,y=h.rawValues,b=h.fieldNames,x=h.virtual,w=h.direction,S=h.listHeight,k=h.listItemHeight,C="".concat(r,"-item"),O=(0,ma.Z)((function(){return d}),[o,d],(function(t,e){return e[0]&&t[1]!==e[1]})),E=Z.useRef(null),M=function(t){t.preventDefault()},A=function(t){E.current&&E.current.scrollTo("number"==typeof t?{index:t}:t)},P=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=O.length,r=0;r<n;r+=1){var i=(t+r*e+n)%n,o=O[i],a=o.group,c=o.data;if(!a&&!c.disabled)return i}return-1},_=Z.useState((function(){return P(0)})),D=(0,rr.Z)(_,2),T=D[0],F=D[1],j=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];F(t);var n={source:e?"keyboard":"mouse"},r=O[t];r?p(r.value,t,n):p(null,-1,n)};(0,Z.useEffect)((function(){j(!1!==v?P(0):-1)}),[O.length,l]);var I=Z.useCallback((function(t){return y.has(t)&&"combobox"!==c}),[c,(0,Y.Z)(y).toString(),y.size]);(0,Z.useEffect)((function(){var t,e=setTimeout((function(){if(!a&&o&&1===y.size){var t=Array.from(y)[0],e=O.findIndex((function(e){return e.data.value===t}));-1!==e&&(j(e),A(e))}}));o&&(null===(t=E.current)||void 0===t||t.scrollTo(void 0));return function(){return clearTimeout(e)}}),[o,l,d.length]);var R=function(t){void 0!==t&&g(t,{selected:!y.has(t)}),a||u(!1)};if(Z.useImperativeHandle(e,(function(){return{onKeyDown:function(t){var e=t.which,n=t.ctrlKey;switch(e){case Ya.Z.N:case Ya.Z.P:case Ya.Z.UP:case Ya.Z.DOWN:var r=0;if(e===Ya.Z.UP?r=-1:e===Ya.Z.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(e===Ya.Z.N?r=1:e===Ya.Z.P&&(r=-1)),0!==r){var i=P(T+r,r);A(i),j(i,!0)}break;case Ya.Z.ENTER:var a=O[T];a&&!a.data.disabled?R(a.value):R(void 0),o&&t.preventDefault();break;case Ya.Z.ESC:u(!1),o&&t.stopPropagation()}},onKeyUp:function(){},scrollTo:function(t){A(t)}}})),0===O.length)return Z.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(C,"-empty"),onMouseDown:M},s);var L=Object.keys(b).map((function(t){return b[t]})),N=function(t){return t.label};function z(t,e){return{role:t.group?"presentation":"option",id:"".concat(i,"_list_").concat(e)}}var U=function(t){var e=O[t];if(!e)return null;var n=e.data||{},r=n.value,i=e.group,o=dt(n,!0),a=N(e);return e?Z.createElement("div",(0,J.Z)({"aria-label":"string"!=typeof a||i?null:a},o,{key:t},z(e,t),{"aria-selected":I(r)}),r):null},H={role:"listbox",id:"".concat(i,"_list")};return Z.createElement(Z.Fragment,null,x&&Z.createElement("div",(0,J.Z)({},H,{style:{height:0,width:0,overflow:"hidden"}}),U(T-1),U(T),U(T+1)),Z.createElement(id,{itemKey:"key",ref:E,data:O,height:S,itemHeight:k,fullHeight:!1,onMouseDown:M,onScroll:f,virtual:x,direction:w,innerProps:x?null:H},(function(t,e){var n,r=t.group,i=t.groupOption,o=t.data,a=t.label,c=t.value,l=o.key;if(r){var u,s=null!==(u=o.title)&&void 0!==u?u:cd(a)?a.toString():void 0;return Z.createElement("div",{className:K()(C,"".concat(C,"-group")),title:s},void 0!==a?a:l)}var f=o.disabled,h=o.title,d=(o.children,o.style),p=o.className,v=(0,rt.Z)(o,ad),g=(0,ce.Z)(v,L),y=I(c),b="".concat(C,"-option"),w=K()(C,b,p,(n={},(0,B.Z)(n,"".concat(b,"-grouped"),i),(0,B.Z)(n,"".concat(b,"-active"),T===e&&!f),(0,B.Z)(n,"".concat(b,"-disabled"),f),(0,B.Z)(n,"".concat(b,"-selected"),y),n)),S=N(t),k=!m||"function"==typeof m||y,O="number"==typeof S?S:S||c,E=cd(O)?O.toString():void 0;return void 0!==h&&(E=h),Z.createElement("div",(0,J.Z)({},dt(g),x?{}:z(t,e),{"aria-selected":y,className:w,title:E,onMouseMove:function(){T===e||f||j(e)},onClick:function(){f||R(c)},style:d}),Z.createElement("div",{className:"".concat(b,"-content")},O),Z.isValidElement(m)||y,k&&Z.createElement(nh,{className:"".concat(C,"-option-state"),customizeIcon:m,customizeIconProps:{isSelected:y}},y?"✓":null))})))},ud=Z.forwardRef(ld);ud.displayName="OptionList";var sd=ud;var fd=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],hd=["inputValue"];var dd=Z.forwardRef((function(t,e){var n=t.id,r=t.mode,i=t.prefixCls,o=void 0===i?"rc-select":i,a=t.backfill,c=t.fieldNames,l=t.inputValue,u=t.searchValue,s=t.onSearch,f=t.autoClearSearchValue,h=void 0===f||f,d=t.onSelect,p=t.onDeselect,v=t.dropdownMatchSelectWidth,g=void 0===v||v,m=t.filterOption,y=t.filterSort,b=t.optionFilterProp,x=t.optionLabelProp,w=t.options,S=t.children,k=t.defaultActiveFirstOption,C=t.menuItemSelectedIcon,O=t.virtual,E=t.direction,M=t.listHeight,A=void 0===M?200:M,P=t.listItemHeight,_=void 0===P?20:P,D=t.value,T=t.defaultValue,F=t.labelInValue,j=t.onChange,I=(0,rt.Z)(t,fd),R=Zh(n),L=Mh(r),N=!(w||!S),z=Z.useMemo((function(){return(void 0!==m||"combobox"!==r)&&m}),[m,r]),U=Z.useMemo((function(){return kh(c,N)}),[JSON.stringify(c),N]),H=(0,At.Z)("",{value:void 0!==u?u:l,postState:function(t){return t||""}}),W=(0,rr.Z)(H,2),V=W[0],G=W[1],X=function(t,e,n,r,i){return Z.useMemo((function(){var o=t;!t&&(o=Ih(e));var a=new Map,c=new Map,l=function(t,e,n){n&&"string"==typeof n&&t.set(e[n],e)};return function t(e){for(var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=0;u<e.length;u+=1){var s=e[u];!s[n.options]||o?(a.set(s[n.value],s),l(c,s,n.label),l(c,s,r),l(c,s,i)):t(s[n.options],!0)}}(o),{options:o,valueOptions:a,labelOptions:c}}),[t,e,n,r,i])}(w,S,U,b,x),q=X.valueOptions,$=X.labelOptions,K=X.options,Q=Z.useCallback((function(t){return ah(t).map((function(t){var e,n,r,i,o,a;(function(t){return!t||"object"!==(0,it.Z)(t)})(t)?e=t:(r=t.key,n=t.label,e=null!==(a=t.value)&&void 0!==a?a:r);var c,l=q.get(e);l&&(void 0===n&&(n=null==l?void 0:l[x||U.label]),void 0===r&&(r=null!==(c=null==l?void 0:l.key)&&void 0!==c?c:e),i=null==l?void 0:l.disabled,o=null==l?void 0:l.title);return{label:n,value:e,key:r,disabled:i,title:o}}))}),[U,x,q]),tt=(0,At.Z)(T,{value:D}),et=(0,rr.Z)(tt,2),nt=et[0],ot=et[1],at=Z.useMemo((function(){var t,e=Q(nt);return"combobox"===r&&function(t){return!t&&0!==t}(null===(t=e[0])||void 0===t?void 0:t.value)?[]:e}),[nt,Q,r]),ct=function(t,e){var n=Z.useRef({values:new Map,options:new Map});return[Z.useMemo((function(){var r=n.current,i=r.values,o=r.options,a=t.map((function(t){var e;return void 0===t.label?(0,lt.Z)((0,lt.Z)({},t),{},{label:null===(e=i.get(t.value))||void 0===e?void 0:e.label}):t})),c=new Map,l=new Map;return a.forEach((function(t){c.set(t.value,t),l.set(t.value,e.get(t.value)||o.get(t.value))})),n.current.values=c,n.current.options=l,a}),[t,e]),Z.useCallback((function(t){return e.get(t)||n.current.options.get(t)}),[e])]}(at,q),ut=(0,rr.Z)(ct,2),st=ut[0],ft=ut[1],ht=Z.useMemo((function(){if(!r&&1===st.length){var t=st[0];if(null===t.value&&(null===t.label||void 0===t.label))return[]}return st.map((function(t){var e;return(0,lt.Z)((0,lt.Z)({},t),{},{label:null!==(e=t.label)&&void 0!==e?e:t.value})}))}),[r,st]),dt=Z.useMemo((function(){return new Set(st.map((function(t){return t.value})))}),[st]);Z.useEffect((function(){if("combobox"===r){var t,e=null===(t=st[0])||void 0===t?void 0:t.value;G(function(t){return null!=t}(e)?String(e):"")}}),[st]);var pt=Rh((function(t,e){var n,r=null!=e?e:t;return n={},(0,B.Z)(n,U.value,t),(0,B.Z)(n,U.label,r),n})),vt=Z.useMemo((function(){if("tags"!==r)return K;var t=(0,Y.Z)(K);return(0,Y.Z)(st).sort((function(t,e){return t.value<e.value?-1:1})).forEach((function(e){var n=e.value;(function(t){return q.has(t)})(n)||t.push(pt(n,e.label))})),t}),[pt,K,q,st,r]),gt=function(t,e,n,r,i){return Z.useMemo((function(){if(!n||!1===r)return t;var o=e.options,a=e.label,c=e.value,l=[],u="function"==typeof r,s=n.toUpperCase(),f=u?r:function(t,e){return i?_h(e[i],s):e[o]?_h(e["children"!==a?a:"label"],s):_h(e[c],s)},h=u?function(t){return Ch(t)}:function(t){return t};return t.forEach((function(t){if(t[o])if(f(n,h(t)))l.push(t);else{var e=t[o].filter((function(t){return f(n,h(t))}));e.length&&l.push((0,lt.Z)((0,lt.Z)({},t),{},(0,B.Z)({},o,e)))}else f(n,h(t))&&l.push(t)})),l}),[t,r,i,n,e])}(vt,U,V,z,b),mt=Z.useMemo((function(){return"tags"!==r||!V||gt.some((function(t){return t[b||"value"]===V}))||gt.some((function(t){return t[U.value]===V}))?gt:[pt(V)].concat((0,Y.Z)(gt))}),[pt,b,r,gt,V,U]),yt=Z.useMemo((function(){return y?(0,Y.Z)(mt).sort((function(t,e){return y(t,e)})):mt}),[mt,y]),bt=Z.useMemo((function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,i=[],o=kh(n,!1),a=o.label,c=o.value,l=o.options,u=o.groupLabel;return function t(e,n){e.forEach((function(e){if(n||!(l in e)){var o=e[c];i.push({key:Sh(e,i.length),groupOption:n,data:e,label:e[a],value:o})}else{var s=e[u];void 0===s&&r&&(s=e.label),i.push({key:Sh(e,i.length),group:!0,data:e,label:s}),t(e[l],!0)}}))}(t,!1),i}(yt,{fieldNames:U,childrenAsData:N})}),[yt,U,N]),xt=function(t){var e=Q(t);if(ot(e),j&&(e.length!==st.length||e.some((function(t,e){var n;return(null===(n=st[e])||void 0===n?void 0:n.value)!==(null==t?void 0:t.value)})))){var n=F?e:e.map((function(t){return t.value})),r=e.map((function(t){return Ch(ft(t.value))}));j(L?n:n[0],L?r:r[0])}},wt=Z.useState(null),St=(0,rr.Z)(wt,2),kt=St[0],Ct=St[1],Ot=Z.useState(0),Et=(0,rr.Z)(Ot,2),Mt=Et[0],Pt=Et[1],_t=void 0!==k?k:"combobox"!==r,Dt=Z.useCallback((function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,i=void 0===n?"keyboard":n;Pt(e),a&&"combobox"===r&&null!==t&&"keyboard"===i&&Ct(String(t))}),[a,r]),Tt=function(t,e,n){var r=function(){var e,n=ft(t);return[F?{label:null==n?void 0:n[U.label],value:t,key:null!==(e=null==n?void 0:n.key)&&void 0!==e?e:t}:t,Ch(n)]};if(e&&d){var i=r(),o=(0,rr.Z)(i,2),a=o[0],c=o[1];d(a,c)}else if(!e&&p&&"clear"!==n){var l=r(),u=(0,rr.Z)(l,2),s=u[0],f=u[1];p(s,f)}},Zt=Rh((function(t,e){var n,i=!L||e.selected;n=i?L?[].concat((0,Y.Z)(st),[t]):[t]:st.filter((function(e){return e.value!==t})),xt(n),Tt(t,i),"combobox"===r?Ct(""):Mh&&!h||(G(""),Ct(""))})),Ft=Z.useMemo((function(){var t=!1!==O&&!1!==g;return(0,lt.Z)((0,lt.Z)({},X),{},{flattenOptions:bt,onActiveValue:Dt,defaultActiveFirstOption:_t,onSelect:Zt,menuItemSelectedIcon:C,rawValues:dt,fieldNames:U,virtual:t,direction:E,listHeight:A,listItemHeight:_,childrenAsData:N})}),[X,bt,Dt,_t,Zt,C,dt,U,O,g,A,_,N]);return Z.createElement(od.Provider,{value:Ft},Z.createElement(Ph,(0,J.Z)({},I,{id:R,prefixCls:o,ref:e,omitDomProps:hd,mode:r,displayValues:ht,onDisplayValuesChange:function(t,e){xt(t);var n=e.type,r=e.values;"remove"!==n&&"clear"!==n||r.forEach((function(t){Tt(t.value,!1,n)}))},direction:E,searchValue:V,onSearch:function(t,e){if(G(t),Ct(null),"submit"!==e.source)"blur"!==e.source&&("combobox"===r&&xt(t),null==s||s(t));else{var n=(t||"").trim();if(n){var i=Array.from(new Set([].concat((0,Y.Z)(dt),[n])));xt(i),Tt(n,!0),G("")}}},autoClearSearchValue:h,onSearchSplit:function(t){var e=t;"tags"!==r&&(e=t.map((function(t){var e=$.get(t);return null==e?void 0:e.value})).filter((function(t){return void 0!==t})));var n=Array.from(new Set([].concat((0,Y.Z)(dt),(0,Y.Z)(e))));xt(n),n.forEach((function(t){Tt(t,!0)}))},dropdownMatchSelectWidth:g,OptionList:sd,emptyOptions:!bt.length,activeValue:kt,activeDescendantId:"".concat(R,"_list_").concat(Mt)})))}));var pd=dd;pd.Option=zh,pd.OptGroup=Nh;var vd=pd;var gd=new Yi.E4("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),md=new Yi.E4("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),yd=new Yi.E4("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),bd=new Yi.E4("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),xd=new Yi.E4("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),wd=new Yi.E4("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),Sd=new Yi.E4("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),kd=new Yi.E4("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Cd={"slide-up":{inKeyframes:gd,outKeyframes:md},"slide-down":{inKeyframes:yd,outKeyframes:bd},"slide-left":{inKeyframes:xd,outKeyframes:wd},"slide-right":{inKeyframes:Sd,outKeyframes:kd}},Od=function(t,e){var n,r=t.antCls,i="".concat(r,"-").concat(e),o=Cd[e],a=o.inKeyframes,c=o.outKeyframes;return[no(i,a,c,t.motionDurationMid),(n={},(0,V.Z)(n,"\n      ".concat(i,"-enter,\n      ").concat(i,"-appear\n    "),(0,V.Z)({transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:t.motionEaseOutQuint},"&-prepare",{transform:"scale(1)"})),(0,V.Z)(n,"".concat(i,"-leave"),{animationTimingFunction:t.motionEaseInQuint}),n)]},Ed=new Yi.E4("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Md=new Yi.E4("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),Ad=new Yi.E4("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Pd=new Yi.E4("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),_d=new Yi.E4("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Dd=new Yi.E4("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Td={"move-up":{inKeyframes:new Yi.E4("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new Yi.E4("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:Ed,outKeyframes:Md},"move-left":{inKeyframes:Ad,outKeyframes:Pd},"move-right":{inKeyframes:_d,outKeyframes:Dd}},Zd=function(t,e){var n,r=t.antCls,i="".concat(r,"-").concat(e),o=Td[e],a=o.inKeyframes,c=o.outKeyframes;return[no(i,a,c,t.motionDurationMid),(n={},(0,V.Z)(n,"\n        ".concat(i,"-enter,\n        ").concat(i,"-appear\n      "),{opacity:0,animationTimingFunction:t.motionEaseOutCirc}),(0,V.Z)(n,"".concat(i,"-leave"),{animationTimingFunction:t.motionEaseInOutCirc}),n)]},Fd=function(t){var e=t.controlPaddingHorizontal,n=t.controlHeight,r=t.fontSize,i=t.lineHeight;return{position:"relative",display:"block",minHeight:n,padding:"".concat((n-r*i)/2,"px ").concat(e,"px"),color:t.colorText,fontWeight:"normal",fontSize:r,lineHeight:i,boxSizing:"border-box"}},jd=function(t){var e,n,r,i=t.antCls,o=t.componentCls,a="".concat(o,"-item"),c="&".concat(i,"-slide-up-enter").concat(i,"-slide-up-enter-active"),l="&".concat(i,"-slide-up-appear").concat(i,"-slide-up-appear-active"),u="&".concat(i,"-slide-up-leave").concat(i,"-slide-up-leave-active"),s="".concat(o,"-dropdown-placement-");return[(0,V.Z)({},"".concat(o,"-dropdown"),Object.assign(Object.assign({},(0,Qe.Wf)(t)),(r={position:"absolute",top:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",padding:t.paddingXXS,overflow:"hidden",fontSize:t.fontSize,fontVariant:"initial",backgroundColor:t.colorBgElevated,borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary},(0,V.Z)(r,"\n          ".concat(c).concat(s,"bottomLeft,\n          ").concat(l).concat(s,"bottomLeft\n        "),{animationName:gd}),(0,V.Z)(r,"\n          ".concat(c).concat(s,"topLeft,\n          ").concat(l).concat(s,"topLeft,\n          ").concat(c).concat(s,"topRight,\n          ").concat(l).concat(s,"topRight\n        "),{animationName:yd}),(0,V.Z)(r,"".concat(u).concat(s,"bottomLeft"),{animationName:md}),(0,V.Z)(r,"\n          ".concat(u).concat(s,"topLeft,\n          ").concat(u).concat(s,"topRight\n        "),{animationName:bd}),(0,V.Z)(r,"&-hidden",{display:"none"}),(0,V.Z)(r,"".concat(a),Object.assign(Object.assign({},Fd(t)),{cursor:"pointer",transition:"background ".concat(t.motionDurationSlow," ease"),borderRadius:t.borderRadiusSM,"&-group":{color:t.colorTextDescription,fontSize:t.fontSizeSM,cursor:"default"},"&-option":(n={display:"flex","&-content":Object.assign({flex:"auto"},Qe.vS),"&-state":{flex:"none",display:"flex",alignItems:"center"}},(0,V.Z)(n,"&-active:not(".concat(a,"-option-disabled)"),{backgroundColor:t.controlItemBgHover}),(0,V.Z)(n,"&-selected:not(".concat(a,"-option-disabled)"),(0,V.Z)({color:t.colorText,fontWeight:t.fontWeightStrong,backgroundColor:t.controlItemBgActive},"".concat(a,"-option-state"),{color:t.colorPrimary})),(0,V.Z)(n,"&-disabled",(e={},(0,V.Z)(e,"&".concat(a,"-option-selected"),{backgroundColor:t.colorBgContainerDisabled}),(0,V.Z)(e,"color",t.colorTextDisabled),(0,V.Z)(e,"cursor","not-allowed"),e)),(0,V.Z)(n,"&-grouped",{paddingInlineStart:2*t.controlPaddingHorizontal}),n)})),(0,V.Z)(r,"&-rtl",{direction:"rtl"}),r))),Od(t,"slide-up"),Od(t,"slide-down"),Zd(t,"move-up"),Zd(t,"move-down")]},Id=function(t){var e=t.controlHeightSM,n=(t.controlHeight-e)/2-t.lineWidth;return[n,Math.ceil(n/2)]};function Rd(t,e){var n,r,i,o,a,c=t.componentCls,l=t.iconCls,u="".concat(c,"-selection-overflow"),s=t.controlHeightSM,f=Id(t),h=(0,G.Z)(f,1)[0],d=e?"".concat(c,"-").concat(e):"";return(0,V.Z)({},"".concat(c,"-multiple").concat(d),(a={fontSize:t.fontSize},(0,V.Z)(a,u,{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}}),(0,V.Z)(a,"".concat(c,"-selector"),(n={display:"flex",flexWrap:"wrap",alignItems:"center",padding:"".concat(h-2,"px ").concat(4,"px"),borderRadius:t.borderRadius},(0,V.Z)(n,"".concat(c,"-show-search&"),{cursor:"text"}),(0,V.Z)(n,"".concat(c,"-disabled&"),{background:t.colorBgContainerDisabled,cursor:"not-allowed"}),(0,V.Z)(n,"&:after",{display:"inline-block",width:0,margin:"".concat(2,"px 0"),lineHeight:"".concat(s,"px"),visibility:"hidden",content:'"\\a0"'}),n)),(0,V.Z)(a,"\n        &".concat(c,"-show-arrow ").concat(c,"-selector,\n        &").concat(c,"-allow-clear ").concat(c,"-selector\n      "),{paddingInlineEnd:t.fontSizeIcon+t.controlPaddingHorizontal}),(0,V.Z)(a,"".concat(c,"-selection-item"),(i={position:"relative",display:"flex",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:s,marginTop:2,marginBottom:2,lineHeight:"".concat(s-2*t.lineWidth,"px"),background:t.colorFillSecondary,borderRadius:t.borderRadiusSM,cursor:"default",transition:"font-size ".concat(t.motionDurationSlow,", line-height ").concat(t.motionDurationSlow,", height ").concat(t.motionDurationSlow),userSelect:"none",marginInlineEnd:4,paddingInlineStart:t.paddingXS,paddingInlineEnd:t.paddingXS/2},(0,V.Z)(i,"".concat(c,"-disabled&"),{color:t.colorTextDisabled,cursor:"not-allowed"}),(0,V.Z)(i,"&-content",{display:"inline-block",marginInlineEnd:t.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"}),(0,V.Z)(i,"&-remove",Object.assign(Object.assign({},(0,Qe.Ro)()),(r={display:"inline-flex",alignItems:"center",color:t.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer"},(0,V.Z)(r,"> ".concat(l),{verticalAlign:"-0.2em"}),(0,V.Z)(r,"&:hover",{color:t.colorIconHover}),r))),i)),(0,V.Z)(a,"".concat(u,"-item + ").concat(u,"-item"),(0,V.Z)({},"".concat(c,"-selection-search"),{marginInlineStart:0})),(0,V.Z)(a,"".concat(c,"-selection-search"),(o={display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:t.inputPaddingHorizontalBase-h},(0,V.Z)(o,"\n          &-input,\n          &-mirror\n        ",{height:s,fontFamily:t.fontFamily,lineHeight:"".concat(s,"px"),transition:"all ".concat(t.motionDurationSlow)}),(0,V.Z)(o,"&-input",{width:"100%",minWidth:4.1}),(0,V.Z)(o,"&-mirror",{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}),o)),(0,V.Z)(a,"".concat(c,"-selection-placeholder "),{position:"absolute",top:"50%",insetInlineStart:t.inputPaddingHorizontalBase,insetInlineEnd:t.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:"all ".concat(t.motionDurationSlow)}),a))}var Ld=function(t){var e,n=t.componentCls,r=(0,nn.TS)(t,{controlHeight:t.controlHeightSM,controlHeightSM:t.controlHeightXS,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS}),i=(0,nn.TS)(t,{fontSize:t.fontSizeLG,controlHeight:t.controlHeightLG,controlHeightSM:t.controlHeight,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius}),o=Id(t),a=(0,G.Z)(o,2)[1];return[Rd(t),Rd(r,"sm"),(0,V.Z)({},"".concat(n,"-multiple").concat(n,"-sm"),(e={},(0,V.Z)(e,"".concat(n,"-selection-placeholder"),{insetInline:t.controlPaddingHorizontalSM-t.lineWidth}),(0,V.Z)(e,"".concat(n,"-selection-search"),{marginInlineStart:a}),e)),Rd(i,"lg")]};function Nd(t,e){var n,r,i,o,a=t.componentCls,c=t.inputPaddingHorizontalBase,l=t.borderRadius,u=t.controlHeight-2*t.lineWidth,s=Math.ceil(1.25*t.fontSize),f=e?"".concat(a,"-").concat(e):"";return(0,V.Z)({},"".concat(a,"-single").concat(f),(o={fontSize:t.fontSize},(0,V.Z)(o,"".concat(a,"-selector"),Object.assign(Object.assign({},(0,Qe.Wf)(t)),(n={display:"flex",borderRadius:l},(0,V.Z)(n,"".concat(a,"-selection-search"),{position:"absolute",top:0,insetInlineStart:c,insetInlineEnd:c,bottom:0,"&-input":{width:"100%"}}),(0,V.Z)(n,"\n          ".concat(a,"-selection-item,\n          ").concat(a,"-selection-placeholder\n        "),{padding:0,lineHeight:"".concat(u,"px"),transition:"all ".concat(t.motionDurationSlow,", visibility 0s"),"@supports (-moz-appearance: meterbar)":{lineHeight:"".concat(u,"px")}}),(0,V.Z)(n,"".concat(a,"-selection-item"),{position:"relative",userSelect:"none"}),(0,V.Z)(n,"".concat(a,"-selection-placeholder"),{transition:"none",pointerEvents:"none"}),(0,V.Z)(n,["&:after","".concat(a,"-selection-item:after"),"".concat(a,"-selection-placeholder:after")].join(","),{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}),n))),(0,V.Z)(o,"\n        &".concat(a,"-show-arrow ").concat(a,"-selection-item,\n        &").concat(a,"-show-arrow ").concat(a,"-selection-placeholder\n      "),{paddingInlineEnd:s}),(0,V.Z)(o,"&".concat(a,"-open ").concat(a,"-selection-item"),{color:t.colorTextPlaceholder}),(0,V.Z)(o,"&:not(".concat(a,"-customize-input)"),(0,V.Z)({},"".concat(a,"-selector"),(r={width:"100%",height:t.controlHeight,padding:"0 ".concat(c,"px")},(0,V.Z)(r,"".concat(a,"-selection-search-input"),{height:u}),(0,V.Z)(r,"&:after",{lineHeight:"".concat(u,"px")}),r))),(0,V.Z)(o,"&".concat(a,"-customize-input"),(0,V.Z)({},"".concat(a,"-selector"),(i={"&:after":{display:"none"}},(0,V.Z)(i,"".concat(a,"-selection-search"),{position:"static",width:"100%"}),(0,V.Z)(i,"".concat(a,"-selection-placeholder"),{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:"0 ".concat(c,"px"),"&:after":{display:"none"}}),i))),o))}function Bd(t){var e,n=t.componentCls,r=t.controlPaddingHorizontalSM-t.lineWidth;return[Nd(t),Nd((0,nn.TS)(t,{controlHeight:t.controlHeightSM,borderRadius:t.borderRadiusSM}),"sm"),(0,V.Z)({},"".concat(n,"-single").concat(n,"-sm"),(0,V.Z)({},"&:not(".concat(n,"-customize-input)"),(e={},(0,V.Z)(e,"".concat(n,"-selection-search"),{insetInlineStart:r,insetInlineEnd:r}),(0,V.Z)(e,"".concat(n,"-selector"),{padding:"0 ".concat(r,"px")}),(0,V.Z)(e,"&".concat(n,"-show-arrow ").concat(n,"-selection-search"),{insetInlineEnd:r+1.5*t.fontSize}),(0,V.Z)(e,"\n            &".concat(n,"-show-arrow ").concat(n,"-selection-item,\n            &").concat(n,"-show-arrow ").concat(n,"-selection-placeholder\n          "),{paddingInlineEnd:1.5*t.fontSize}),e))),Nd((0,nn.TS)(t,{controlHeight:t.controlHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG}),"lg")]}var zd=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.componentCls,o=e.borderHoverColor,a=e.outlineColor,c=e.antCls,l=r?(0,V.Z)({},"".concat(i,"-selector"),{borderColor:o}):{};return(0,V.Z)({},t,(0,V.Z)({},"&:not(".concat(i,"-disabled):not(").concat(i,"-customize-input):not(").concat(c,"-pagination-size-changer)"),Object.assign(Object.assign({},l),(n={},(0,V.Z)(n,"".concat(i,"-focused& ").concat(i,"-selector"),{borderColor:o,boxShadow:"0 0 0 ".concat(e.controlOutlineWidth,"px ").concat(a),outline:0}),(0,V.Z)(n,"&:hover ".concat(i,"-selector"),{borderColor:o}),n))))},Ud=function(t){var e,n,r,i=t.componentCls,o=t.inputPaddingHorizontalBase,a=t.iconCls;return r={},(0,V.Z)(r,i,Object.assign(Object.assign({},(0,Qe.Wf)(t)),(n={position:"relative",display:"inline-block",cursor:"pointer"},(0,V.Z)(n,"&:not(".concat(i,"-customize-input) ").concat(i,"-selector"),Object.assign(Object.assign({},function(t){var e,n,r=t.componentCls;return n={position:"relative",backgroundColor:t.colorBgContainer,border:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(t.colorBorder),transition:"all ".concat(t.motionDurationMid," ").concat(t.motionEaseInOut),input:{cursor:"pointer"}},(0,V.Z)(n,"".concat(r,"-show-search&"),{cursor:"text",input:{cursor:"auto",color:"inherit"}}),(0,V.Z)(n,"".concat(r,"-disabled&"),(e={color:t.colorTextDisabled,background:t.colorBgContainerDisabled,cursor:"not-allowed"},(0,V.Z)(e,"".concat(r,"-multiple&"),{background:t.colorBgContainerDisabled}),(0,V.Z)(e,"input",{cursor:"not-allowed"}),e)),n}(t)),function(t){var e=t.componentCls;return(0,V.Z)({},"".concat(e,"-selection-search-input"),{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}})}(t))),(0,V.Z)(n,"".concat(i,"-selection-item"),Object.assign({flex:1,fontWeight:"normal"},Qe.vS)),(0,V.Z)(n,"".concat(i,"-selection-placeholder"),Object.assign(Object.assign({},Qe.vS),{flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"})),(0,V.Z)(n,"".concat(i,"-arrow"),Object.assign(Object.assign({},(0,Qe.Ro)()),(e={position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:o,height:t.fontSizeIcon,marginTop:-t.fontSizeIcon/2,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center"},(0,V.Z)(e,a,(0,V.Z)({verticalAlign:"top",transition:"transform ".concat(t.motionDurationSlow),"> svg":{verticalAlign:"top"}},"&:not(".concat(i,"-suffix)"),{pointerEvents:"auto"})),(0,V.Z)(e,"".concat(i,"-disabled &"),{cursor:"not-allowed"}),(0,V.Z)(e,"> *:not(:last-child)",{marginInlineEnd:8}),e))),(0,V.Z)(n,"".concat(i,"-clear"),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:o,zIndex:1,display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,marginTop:-t.fontSizeIcon/2,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:t.colorBgContainer,cursor:"pointer",opacity:0,transition:"color ".concat(t.motionDurationMid," ease, opacity ").concat(t.motionDurationSlow," ease"),textRendering:"auto","&:before":{display:"block"},"&:hover":{color:t.colorTextTertiary}}),(0,V.Z)(n,"&:hover",(0,V.Z)({},"".concat(i,"-clear"),{opacity:1})),n))),(0,V.Z)(r,"".concat(i,"-has-feedback"),(0,V.Z)({},"".concat(i,"-clear"),{insetInlineEnd:o+t.fontSize+t.paddingXS})),r},Hd=function(t){var e,n=t.componentCls;return[(0,V.Z)({},n,(e={},(0,V.Z)(e,"&-borderless ".concat(n,"-selector"),{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"}),(0,V.Z)(e,"&".concat(n,"-in-form-item"),{width:"100%"}),e)),Ud(t),Bd(t),Ld(t),jd(t),(0,V.Z)({},"".concat(n,"-rtl"),{direction:"rtl"}),zd(n,(0,nn.TS)(t,{borderHoverColor:t.colorPrimaryHover,outlineColor:t.controlOutline})),zd("".concat(n,"-status-error"),(0,nn.TS)(t,{borderHoverColor:t.colorErrorHover,outlineColor:t.colorErrorOutline}),!0),zd("".concat(n,"-status-warning"),(0,nn.TS)(t,{borderHoverColor:t.colorWarningHover,outlineColor:t.colorWarningOutline}),!0),tn(t,{borderElCls:"".concat(n,"-selector"),focusElCls:"".concat(n,"-focused")})]},Wd=(0,se.Z)("Select",(function(t,e){var n=e.rootPrefixCls,r=(0,nn.TS)(t,{rootPrefixCls:n,inputPaddingHorizontalBase:t.paddingSM-1});return[Hd(r)]}),(function(t){return{zIndexPopup:t.zIndexPopupBase+50}}));function Vd(t,e){return t||function(t){var e={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:"scroll"===t?"scroll":"visible",_experimental:{dynamicInset:!0}};return{bottomLeft:Object.assign(Object.assign({},e),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},e),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},e),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},e),{points:["br","tr"],offset:[0,-4]})}}(e)}var Gd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},Xd=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:Gd}))};var qd=Z.forwardRef(Xd),Yd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},$d=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:Yd}))};var Kd=Z.forwardRef($d);var Jd=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Qd="SECRET_COMBOBOX_MODE_DO_NOT_USE",tp=function(t,e){var n,r,i,o=t.prefixCls,a=t.bordered,c=void 0===a||a,l=t.className,u=t.rootClassName,s=t.getPopupContainer,f=t.popupClassName,h=t.dropdownClassName,d=t.listHeight,p=void 0===d?256:d,v=t.placement,g=t.listItemHeight,m=void 0===g?24:g,y=t.size,b=t.disabled,x=t.notFoundContent,w=t.status,S=t.builtinPlacements,k=t.dropdownMatchSelectWidth,C=t.popupMatchSelectWidth,O=t.direction,E=t.style,M=t.allowClear,A=Jd(t,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear"]),P=Z.useContext(Dt.E_),_=P.getPopupContainer,D=P.getPrefixCls,T=P.renderEmpty,F=P.direction,j=P.virtual,I=P.popupMatchSelectWidth,R=P.popupOverflow,L=P.select,N=D("select",o),B=D(),z=null!=O?O:F,U=Re(N,z),H=U.compactSize,W=U.compactItemClassnames,X=Wd(N),q=(0,G.Z)(X,2),Y=q[0],$=q[1],J=Z.useMemo((function(){var t=A.mode;if("combobox"!==t)return t===Qd?"combobox":t}),[A.mode]),Q="multiple"===J||"tags"===J,tt=function(t,e){return void 0!==e?e:null!==t}(A.suffixIcon,A.showArrow),et=null!==(r=null!=C?C:k)&&void 0!==r?r:I,nt=Z.useContext(Bu),rt=nt.status,it=nt.hasFeedback,ot=nt.isFormItemInput,at=nt.feedbackIcon,ct=function(t,e){return e||t}(rt,w);i=void 0!==x?x:"combobox"===J?null:(null==T?void 0:T("Select"))||Z.createElement(tf,{componentName:"Select"});var lt=function(t){var e=t.suffixIcon,n=t.clearIcon,r=t.menuItemSelectedIcon,i=t.removeIcon,o=t.loading,a=t.multiple,c=t.hasFeedback,l=t.prefixCls,u=t.showSuffixIcon,s=t.feedbackIcon,f=t.showArrow;t.componentName;var h=null!=n?n:Z.createElement(Kn,null),d=function(t){return null!==e||c||f?Z.createElement(Z.Fragment,null,!1!==u&&t,c&&s):null},p=null;if(void 0!==e)p=d(e);else if(o)p=d(Z.createElement(Yt,{spin:!0}));else{var v="".concat(l,"-suffix");p=function(t){var e=t.open,n=t.showSearch;return d(e&&n?Z.createElement(Kd,{className:v}):Z.createElement(qd,{className:v}))}}return{clearIcon:h,suffixIcon:p,itemIcon:void 0!==r?r:a?Z.createElement(qn,null):null,removeIcon:void 0!==i?i:Z.createElement(tr,null)}}(Object.assign(Object.assign({},A),{multiple:Q,hasFeedback:it,feedbackIcon:at,showSuffixIcon:tt,prefixCls:N,showArrow:A.showArrow,componentName:"Select"})),ut=lt.suffixIcon,st=lt.itemIcon,ft=lt.removeIcon,ht=lt.clearIcon,dt=!0===M?{clearIcon:ht}:M,pt=(0,ce.Z)(A,["suffixIcon","itemIcon"]),vt=K()(f||h,(0,V.Z)({},"".concat(N,"-dropdown-").concat(z),"rtl"===z),u,$),gt=(0,Fe.Z)((function(t){var e;return null!==(e=null!=y?y:H)&&void 0!==e?e:t})),mt=Z.useContext(Ft),yt=null!=b?b:mt,bt=K()((n={},(0,V.Z)(n,"".concat(N,"-lg"),"large"===gt),(0,V.Z)(n,"".concat(N,"-sm"),"small"===gt),(0,V.Z)(n,"".concat(N,"-rtl"),"rtl"===z),(0,V.Z)(n,"".concat(N,"-borderless"),!c),(0,V.Z)(n,"".concat(N,"-in-form-item"),ot),n),function(t,e,n){var r;return K()((r={},(0,V.Z)(r,"".concat(t,"-status-success"),"success"===e),(0,V.Z)(r,"".concat(t,"-status-warning"),"warning"===e),(0,V.Z)(r,"".concat(t,"-status-error"),"error"===e),(0,V.Z)(r,"".concat(t,"-status-validating"),"validating"===e),(0,V.Z)(r,"".concat(t,"-has-feedback"),n),r))}(N,ct,it),W,null==L?void 0:L.className,l,u,$),xt=Z.useMemo((function(){return void 0!==v?v:"rtl"===z?"bottomRight":"bottomLeft"}),[v,z]),wt=Vd(S,R);return Y(Z.createElement(vd,Object.assign({ref:e,virtual:j,showSearch:null==L?void 0:L.showSearch},pt,{style:Object.assign(Object.assign({},null==L?void 0:L.style),E),dropdownMatchSelectWidth:et,builtinPlacements:wt,transitionName:(0,oe.m)(B,"slide-up",A.transitionName),listHeight:p,listItemHeight:m,mode:J,prefixCls:N,placement:xt,direction:z,suffixIcon:ut,menuItemSelectedIcon:st,removeIcon:ft,allowClear:dt,notFoundContent:i,className:bt,getPopupContainer:s||_,dropdownClassName:vt,disabled:yt})))};var ep=Z.forwardRef(tp),np=function(t,e,n,r){return fs((function(i){var o=i.prefixCls,a=i.style,c=Z.useRef(null),l=Z.useState(0),u=(0,G.Z)(l,2),s=u[0],f=u[1],h=Z.useState(0),d=(0,G.Z)(h,2),p=d[0],v=d[1],g=(0,At.Z)(!1,{value:i.open}),m=(0,G.Z)(g,2),y=m[0],b=m[1],x=(0,Z.useContext(Dt.E_).getPrefixCls)(e||"select",o);Z.useEffect((function(){if(b(!0),"undefined"!=typeof ResizeObserver){var t=new ResizeObserver((function(t){var e=t[0].target;f(e.offsetHeight+8),v(e.offsetWidth)})),e=setInterval((function(){var r,i=n?".".concat(n(x)):".".concat(x,"-dropdown"),o=null===(r=c.current)||void 0===r?void 0:r.querySelector(i);o&&(clearInterval(e),t.observe(o))}),10);return function(){clearInterval(e),t.disconnect()}}}),[]);var w=Object.assign(Object.assign({},i),{style:Object.assign(Object.assign({},a),{margin:0}),open:y,visible:y,getPopupContainer:function(){return c.current}});return r&&(w=r(w)),Z.createElement("div",{ref:c,style:{paddingBottom:s,position:"relative",minWidth:p}},Z.createElement(t,Object.assign({},w)))}))}(ep);ep.SECRET_COMBOBOX_MODE_DO_NOT_USE=Qd,ep.Option=zh,ep.OptGroup=Nh,ep._InternalPanelDoNotUseOrYouWillBeFired=np;var rp=ep,ip=function(t){return Z.createElement(rp,Object.assign({},t,{showSearch:!0,size:"small"}))},op=function(t){return Z.createElement(rp,Object.assign({},t,{showSearch:!0,size:"middle"}))};ip.Option=rp.Option,op.Option=rp.Option;var ap=function(t){return{borderColor:t.inputBorderHoverColor,borderInlineEndWidth:t.lineWidth}},cp=function(t){return{borderColor:t.inputBorderHoverColor,boxShadow:"0 0 0 ".concat(t.controlOutlineWidth,"px ").concat(t.controlOutline),borderInlineEndWidth:t.lineWidth,outline:0}},lp=function(t){return{color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":Object.assign({},ap((0,nn.TS)(t,{inputBorderHoverColor:t.colorBorder})))}},up=function(t){var e=t.inputPaddingVerticalLG,n=t.fontSizeLG,r=t.lineHeightLG,i=t.borderRadiusLG,o=t.inputPaddingHorizontalLG;return{padding:"".concat(e,"px ").concat(o,"px"),fontSize:n,lineHeight:r,borderRadius:i}},sp=function(t){return{padding:"".concat(t.inputPaddingVerticalSM,"px ").concat(t.controlPaddingHorizontalSM-1,"px"),borderRadius:t.borderRadiusSM}},fp=function(t,e){var n,r=t.componentCls,i=t.colorError,o=t.colorWarning,a=t.colorErrorOutline,c=t.colorWarningOutline,l=t.colorErrorBorderHover,u=t.colorWarningBorderHover;return n={},(0,V.Z)(n,"&-status-error:not(".concat(e,"-disabled):not(").concat(e,"-borderless)").concat(e),(0,V.Z)({borderColor:i,"&:hover":{borderColor:l},"&:focus, &-focused":Object.assign({},cp((0,nn.TS)(t,{inputBorderActiveColor:i,inputBorderHoverColor:i,controlOutline:a})))},"".concat(r,"-prefix, ").concat(r,"-suffix"),{color:i})),(0,V.Z)(n,"&-status-warning:not(".concat(e,"-disabled):not(").concat(e,"-borderless)").concat(e),(0,V.Z)({borderColor:o,"&:hover":{borderColor:u},"&:focus, &-focused":Object.assign({},cp((0,nn.TS)(t,{inputBorderActiveColor:o,inputBorderHoverColor:o,controlOutline:c})))},"".concat(r,"-prefix, ").concat(r,"-suffix"),{color:o})),n},hp=function(t){return Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:"".concat(t.inputPaddingVertical,"px ").concat(t.inputPaddingHorizontal,"px"),color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,backgroundColor:t.colorBgContainer,backgroundImage:"none",borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:t.colorBorder,borderRadius:t.borderRadius,transition:"all ".concat(t.motionDurationMid)},function(t){return{"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:t,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}}(t.colorTextPlaceholder)),{"&:hover":Object.assign({},ap(t)),"&:focus, &-focused":Object.assign({},cp(t)),"&-disabled, &[disabled]":Object.assign({},lp(t)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:t.controlHeight,lineHeight:t.lineHeight,verticalAlign:"bottom",transition:"all ".concat(t.motionDurationSlow,", height 0s"),resize:"vertical"},"&-lg":Object.assign({},up(t)),"&-sm":Object.assign({},sp(t)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}})},dp=function(t){var e,n=t.componentCls,r=t.controlHeightSM,i=(r-2*t.lineWidth-16)/2;return(0,V.Z)({},n,Object.assign(Object.assign(Object.assign(Object.assign({},(0,Qe.Wf)(t)),hp(t)),fp(t,n)),{'&[type="color"]':(e={height:t.controlHeight},(0,V.Z)(e,"&".concat(n,"-lg"),{height:t.controlHeightLG}),(0,V.Z)(e,"&".concat(n,"-sm"),{height:r,paddingTop:i,paddingBottom:i}),e),'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}}))},pp=function(t){var e,n=t.componentCls,r=t.inputAffixPadding,i=t.colorTextDescription,o=t.motionDurationSlow,a=t.colorIcon,c=t.colorIconHover,l=t.iconCls;return(0,V.Z)({},"".concat(n,"-affix-wrapper"),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hp(t)),(e={display:"inline-flex"},(0,V.Z)(e,"&:not(".concat(n,"-affix-wrapper-disabled):hover"),Object.assign(Object.assign({},ap(t)),(0,V.Z)({zIndex:1},"".concat(n,"-search-with-button &"),{zIndex:0}))),(0,V.Z)(e,"&-focused, &:focus",{zIndex:1}),(0,V.Z)(e,"&-disabled",(0,V.Z)({},"".concat(n,"[disabled]"),{background:"transparent"})),(0,V.Z)(e,"> input".concat(n),{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}}),(0,V.Z)(e,"&::before",{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}),(0,V.Z)(e,"".concat(n),{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:t.paddingXS}},"&-show-count-suffix":{color:i},"&-show-count-has-suffix":{marginInlineEnd:t.paddingXXS},"&-prefix":{marginInlineEnd:r},"&-suffix":{marginInlineStart:r}}),e)),function(t){var e=t.componentCls;return(0,V.Z)({},"".concat(e,"-clear-icon"),{margin:0,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:"color ".concat(t.motionDurationSlow),"&:hover":{color:t.colorTextTertiary},"&:active":{color:t.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:"0 ".concat(t.inputAffixPadding,"px")}})}(t)),(0,V.Z)({},"".concat(l).concat(n,"-password-icon"),{color:a,cursor:"pointer",transition:"all ".concat(o),"&:hover":{color:c}})),fp(t,"".concat(n,"-affix-wrapper"))))},vp=function(t){var e,n=t.componentCls,r=t.colorError,i=t.colorWarning,o=t.borderRadiusLG,a=t.borderRadiusSM;return(0,V.Z)({},"".concat(n,"-group"),Object.assign(Object.assign(Object.assign({},(0,Qe.Wf)(t)),function(t){var e,n,r,i,o,a,c,l=t.componentCls,u=t.antCls;return c={position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0},(0,V.Z)(c,"&[class*='col-']",{paddingInlineEnd:t.paddingXS,"&:last-child":{paddingInlineEnd:0}}),(0,V.Z)(c,"&-lg ".concat(l,", &-lg > ").concat(l,"-group-addon"),Object.assign({},up(t))),(0,V.Z)(c,"&-sm ".concat(l,", &-sm > ").concat(l,"-group-addon"),Object.assign({},sp(t))),(0,V.Z)(c,"&-lg ".concat(u,"-select-single ").concat(u,"-select-selector"),{height:t.controlHeightLG}),(0,V.Z)(c,"&-sm ".concat(u,"-select-single ").concat(u,"-select-selector"),{height:t.controlHeightSM}),(0,V.Z)(c,"> ".concat(l),{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}}),(0,V.Z)(c,"".concat(l,"-group"),(r={},(0,V.Z)(r,"&-addon, &-wrap",{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}}),(0,V.Z)(r,"&-wrap > *",{display:"block !important"}),(0,V.Z)(r,"&-addon",(n={position:"relative",padding:"0 ".concat(t.inputPaddingHorizontal,"px"),color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,textAlign:"center",backgroundColor:t.colorFillAlter,border:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(t.colorBorder),borderRadius:t.borderRadius,transition:"all ".concat(t.motionDurationSlow),lineHeight:1},(0,V.Z)(n,"".concat(u,"-select"),(e={margin:"-".concat(t.inputPaddingVertical+1,"px -").concat(t.inputPaddingHorizontal,"px")},(0,V.Z)(e,"&".concat(u,"-select-single:not(").concat(u,"-select-customize-input)"),(0,V.Z)({},"".concat(u,"-select-selector"),{backgroundColor:"inherit",border:"".concat(t.lineWidth,"px ").concat(t.lineType," transparent"),boxShadow:"none"})),(0,V.Z)(e,"&-open, &-focused",(0,V.Z)({},"".concat(u,"-select-selector"),{color:t.colorPrimary})),e)),(0,V.Z)(n,"".concat(u,"-cascader-picker"),(0,V.Z)({margin:"-9px -".concat(t.inputPaddingHorizontal,"px"),backgroundColor:"transparent"},"".concat(u,"-cascader-input"),{textAlign:"start",border:0,boxShadow:"none"})),n)),(0,V.Z)(r,"&-addon:first-child",{borderInlineEnd:0}),(0,V.Z)(r,"&-addon:last-child",{borderInlineStart:0}),r)),(0,V.Z)(c,"".concat(l),{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":(0,V.Z)({zIndex:1,borderInlineEndWidth:1},"".concat(l,"-search-with-button &"),{zIndex:0})}),(0,V.Z)(c,"> ".concat(l,":first-child, ").concat(l,"-group-addon:first-child"),(0,V.Z)({borderStartEndRadius:0,borderEndEndRadius:0},"".concat(u,"-select ").concat(u,"-select-selector"),{borderStartEndRadius:0,borderEndEndRadius:0})),(0,V.Z)(c,"> ".concat(l,"-affix-wrapper"),(i={},(0,V.Z)(i,"&:not(:first-child) ".concat(l),{borderStartStartRadius:0,borderEndStartRadius:0}),(0,V.Z)(i,"&:not(:last-child) ".concat(l),{borderStartEndRadius:0,borderEndEndRadius:0}),i)),(0,V.Z)(c,"> ".concat(l,":last-child, ").concat(l,"-group-addon:last-child"),(0,V.Z)({borderStartStartRadius:0,borderEndStartRadius:0},"".concat(u,"-select ").concat(u,"-select-selector"),{borderStartStartRadius:0,borderEndStartRadius:0})),(0,V.Z)(c,"".concat(l,"-affix-wrapper"),(0,V.Z)({"&:not(:last-child)":(0,V.Z)({borderStartEndRadius:0,borderEndEndRadius:0},"".concat(l,"-search &"),{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius})},"&:not(:first-child), ".concat(l,"-search &:not(:first-child)"),{borderStartStartRadius:0,borderEndStartRadius:0})),(0,V.Z)(c,"&".concat(l,"-group-compact"),Object.assign(Object.assign({display:"block"},(0,Qe.dF)()),(a={},(0,V.Z)(a,"".concat(l,"-group-addon, ").concat(l,"-group-wrap, > ").concat(l),{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:t.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}}),(0,V.Z)(a,"& > *",{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0}),(0,V.Z)(a,"\n        & > ".concat(l,"-affix-wrapper,\n        & > ").concat(l,"-number-affix-wrapper,\n        & > ").concat(u,"-picker-range\n      "),{display:"inline-flex"}),(0,V.Z)(a,"& > *:not(:last-child)",{marginInlineEnd:-t.lineWidth,borderInlineEndWidth:t.lineWidth}),(0,V.Z)(a,"".concat(l),{float:"none"}),(0,V.Z)(a,"& > ".concat(u,"-select > ").concat(u,"-select-selector,\n      & > ").concat(u,"-select-auto-complete ").concat(l,",\n      & > ").concat(u,"-cascader-picker ").concat(l,",\n      & > ").concat(l,"-group-wrapper ").concat(l),{borderInlineEndWidth:t.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}),(0,V.Z)(a,"& > ".concat(u,"-select-focused"),{zIndex:1}),(0,V.Z)(a,"& > ".concat(u,"-select > ").concat(u,"-select-arrow"),{zIndex:1}),(0,V.Z)(a,"& > *:first-child,\n      & > ".concat(u,"-select:first-child > ").concat(u,"-select-selector,\n      & > ").concat(u,"-select-auto-complete:first-child ").concat(l,",\n      & > ").concat(u,"-cascader-picker:first-child ").concat(l),{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius}),(0,V.Z)(a,"& > *:last-child,\n      & > ".concat(u,"-select:last-child > ").concat(u,"-select-selector,\n      & > ").concat(u,"-cascader-picker:last-child ").concat(l,",\n      & > ").concat(u,"-cascader-picker-focused:last-child ").concat(l),{borderInlineEndWidth:t.lineWidth,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius}),(0,V.Z)(a,"& > ".concat(u,"-select-auto-complete ").concat(l),{verticalAlign:"top"}),(0,V.Z)(a,"".concat(l,"-group-wrapper + ").concat(l,"-group-wrapper"),(0,V.Z)({marginInlineStart:-t.lineWidth},"".concat(l,"-affix-wrapper"),{borderRadius:0})),(0,V.Z)(a,"".concat(l,"-group-wrapper:not(:last-child)"),(0,V.Z)({},"&".concat(l,"-search > ").concat(l,"-group"),(o={},(0,V.Z)(o,"& > ".concat(l,"-group-addon > ").concat(l,"-search-button"),{borderRadius:0}),(0,V.Z)(o,"& > ".concat(l),{borderStartStartRadius:t.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:t.borderRadius}),o))),a))),c}(t)),{"&-rtl":{direction:"rtl"},"&-wrapper":(e={display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":(0,V.Z)({},"".concat(n,"-group-addon"),{borderRadius:o,fontSize:t.fontSizeLG}),"&-sm":(0,V.Z)({},"".concat(n,"-group-addon"),{borderRadius:a}),"&-status-error":(0,V.Z)({},"".concat(n,"-group-addon"),{color:r,borderColor:r}),"&-status-warning":(0,V.Z)({},"".concat(n,"-group-addon"),{color:i,borderColor:i}),"&-disabled":(0,V.Z)({},"".concat(n,"-group-addon"),Object.assign({},lp(t)))},(0,V.Z)(e,"&:not(".concat(n,"-compact-first-item):not(").concat(n,"-compact-last-item)").concat(n,"-compact-item"),(0,V.Z)({},"".concat(n,", ").concat(n,"-group-addon"),{borderRadius:0})),(0,V.Z)(e,"&:not(".concat(n,"-compact-last-item)").concat(n,"-compact-first-item"),(0,V.Z)({},"".concat(n,", ").concat(n,"-group-addon"),{borderStartEndRadius:0,borderEndEndRadius:0})),(0,V.Z)(e,"&:not(".concat(n,"-compact-first-item)").concat(n,"-compact-last-item"),(0,V.Z)({},"".concat(n,", ").concat(n,"-group-addon"),{borderStartStartRadius:0,borderEndStartRadius:0})),e)}))},gp=function(t){var e,n,r,i=t.componentCls,o=t.antCls,a="".concat(i,"-search");return(0,V.Z)({},a,(r={},(0,V.Z)(r,"".concat(i),{"&:hover, &:focus":(0,V.Z)({borderColor:t.colorPrimaryHover},"+ ".concat(i,"-group-addon ").concat(a,"-button:not(").concat(o,"-btn-primary)"),{borderInlineStartColor:t.colorPrimaryHover})}),(0,V.Z)(r,"".concat(i,"-affix-wrapper"),{borderRadius:0}),(0,V.Z)(r,"".concat(i,"-lg"),{lineHeight:t.lineHeightLG-2e-4}),(0,V.Z)(r,"> ".concat(i,"-group"),(0,V.Z)({},"> ".concat(i,"-group-addon:last-child"),(e={insetInlineStart:-1,padding:0,border:0},(0,V.Z)(e,"".concat(a,"-button"),{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius,borderEndStartRadius:0}),(0,V.Z)(e,"".concat(a,"-button:not(").concat(o,"-btn-primary)"),(0,V.Z)({color:t.colorTextDescription,"&:hover":{color:t.colorPrimaryHover},"&:active":{color:t.colorPrimaryActive}},"&".concat(o,"-btn-loading::before"),{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0})),e))),(0,V.Z)(r,"".concat(a,"-button"),{height:t.controlHeight,"&:hover, &:focus":{zIndex:1}}),(0,V.Z)(r,"&-large ".concat(a,"-button"),{height:t.controlHeightLG}),(0,V.Z)(r,"&-small ".concat(a,"-button"),{height:t.controlHeightSM}),(0,V.Z)(r,"&-rtl",{direction:"rtl"}),(0,V.Z)(r,"&".concat(i,"-compact-item"),(n={},(0,V.Z)(n,"&:not(".concat(i,"-compact-last-item)"),(0,V.Z)({},"".concat(i,"-group-addon"),(0,V.Z)({},"".concat(i,"-search-button"),{marginInlineEnd:-t.lineWidth,borderRadius:0}))),(0,V.Z)(n,"&:not(".concat(i,"-compact-first-item)"),(0,V.Z)({},"".concat(i,",").concat(i,"-affix-wrapper"),{borderRadius:0})),(0,V.Z)(n,"> ".concat(i,"-group-addon ").concat(i,"-search-button,\n        > ").concat(i,",\n        ").concat(i,"-affix-wrapper"),{"&:hover,&:focus,&:active":{zIndex:2}}),(0,V.Z)(n,"> ".concat(i,"-affix-wrapper-focused"),{zIndex:2}),n)),r))};function mp(t){return(0,nn.TS)(t,{inputAffixPadding:t.paddingXXS,inputPaddingVertical:Math.max(Math.round((t.controlHeight-t.fontSize*t.lineHeight)/2*10)/10-t.lineWidth,3),inputPaddingVerticalLG:Math.ceil((t.controlHeightLG-t.fontSizeLG*t.lineHeightLG)/2*10)/10-t.lineWidth,inputPaddingVerticalSM:Math.max(Math.round((t.controlHeightSM-t.fontSize*t.lineHeight)/2*10)/10-t.lineWidth,0),inputPaddingHorizontal:t.paddingSM-t.lineWidth,inputPaddingHorizontalSM:t.paddingXS-t.lineWidth,inputPaddingHorizontalLG:t.controlPaddingHorizontal-t.lineWidth,inputBorderHoverColor:t.colorPrimaryHover,inputBorderActiveColor:t.colorPrimaryHover})}var yp=function(t){var e,n,r,i,o=t.componentCls,a=t.paddingLG,c="".concat(o,"-textarea");return(0,V.Z)({},c,(i={position:"relative","&-show-count":(e={},(0,V.Z)(e,"> ".concat(o),{height:"100%"}),(0,V.Z)(e,"".concat(o,"-data-count"),{position:"absolute",bottom:-t.fontSize*t.lineHeight,insetInlineEnd:0,color:t.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}),e),"&-allow-clear":(0,V.Z)({},"> ".concat(o),{paddingInlineEnd:a})},(0,V.Z)(i,"&-affix-wrapper".concat(c,"-has-feedback"),(0,V.Z)({},"".concat(o),{paddingInlineEnd:a})),(0,V.Z)(i,"&-affix-wrapper".concat(o,"-affix-wrapper"),(r={padding:0},(0,V.Z)(r,"> textarea".concat(o),{fontSize:"inherit",border:"none",outline:"none","&:focus":{boxShadow:"none !important"}}),(0,V.Z)(r,"".concat(o,"-suffix"),(n={margin:0,"> *:not(:last-child)":{marginInline:0}},(0,V.Z)(n,"".concat(o,"-clear-icon"),{position:"absolute",insetInlineEnd:t.paddingXS,insetBlockStart:t.paddingXS}),(0,V.Z)(n,"".concat(c,"-suffix"),{position:"absolute",top:0,insetInlineEnd:t.inputPaddingHorizontal,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}),n)),r)),i))},bp=((0,se.Z)("Input",(function(t){var e=mp(t);return[dp(e),yp(e),pp(e),vp(e),gp(e),tn(e)]})),function(t){var e,n,r=t.componentCls;return n={},(0,V.Z)(n,r,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Qe.Wf)(t)),(0,V.Z)({"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'}},"".concat(r,"-total-text"),{display:"inline-block",height:t.itemSize,marginInlineEnd:t.marginXS,lineHeight:"".concat(t.itemSize-2,"px"),verticalAlign:"middle"})),function(t){var e,n=t.componentCls;return(0,V.Z)({},"".concat(n,"-item"),(e={display:"inline-block",minWidth:t.itemSize,height:t.itemSize,marginInlineEnd:t.marginXS,fontFamily:t.fontFamily,lineHeight:"".concat(t.itemSize-2,"px"),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:"".concat(t.lineWidth,"px ").concat(t.lineType," transparent"),borderRadius:t.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:"0 ".concat(t.paginationItemPaddingInline,"px"),color:t.colorText,"&:hover":{textDecoration:"none"}}},(0,V.Z)(e,"&:not(".concat(n,"-item-active)"),{"&:hover":{transition:"all ".concat(t.motionDurationMid),backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}}),(0,V.Z)(e,"&-active",{fontWeight:t.fontWeightStrong,backgroundColor:t.itemActiveBg,borderColor:t.colorPrimary,a:{color:t.colorPrimary},"&:hover":{borderColor:t.colorPrimaryHover},"&:hover a":{color:t.colorPrimaryHover}}),e))}(t)),function(t){var e,n,r,i,o,a=t.componentCls;return o={},(0,V.Z)(o,"".concat(a,"-jump-prev, ").concat(a,"-jump-next"),(r={outline:0},(0,V.Z)(r,"".concat(a,"-item-container"),(e={position:"relative"},(0,V.Z)(e,"".concat(a,"-item-link-icon"),{color:t.colorPrimary,fontSize:t.fontSizeSM,opacity:0,transition:"all ".concat(t.motionDurationMid),"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}}),(0,V.Z)(e,"".concat(a,"-item-ellipsis"),{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:t.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:t.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:t.paginationEllipsisTextIndent,opacity:1,transition:"all ".concat(t.motionDurationMid)}),e)),(0,V.Z)(r,"&:hover",(n={},(0,V.Z)(n,"".concat(a,"-item-link-icon"),{opacity:1}),(0,V.Z)(n,"".concat(a,"-item-ellipsis"),{opacity:0}),n)),r)),(0,V.Z)(o,"\n    ".concat(a,"-prev,\n    ").concat(a,"-jump-prev,\n    ").concat(a,"-jump-next\n    "),{marginInlineEnd:t.marginXS}),(0,V.Z)(o,"\n    ".concat(a,"-prev,\n    ").concat(a,"-next,\n    ").concat(a,"-jump-prev,\n    ").concat(a,"-jump-next\n    "),{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,color:t.colorText,fontFamily:t.fontFamily,lineHeight:"".concat(t.itemSize,"px"),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:t.borderRadius,cursor:"pointer",transition:"all ".concat(t.motionDurationMid)}),(0,V.Z)(o,"".concat(a,"-prev, ").concat(a,"-next"),(i={fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:t.colorText,cursor:"pointer",userSelect:"none"}},(0,V.Z)(i,"".concat(a,"-item-link"),{display:"block",width:"100%",height:"100%",padding:0,fontSize:t.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:"".concat(t.lineWidth,"px ").concat(t.lineType," transparent"),borderRadius:t.borderRadius,outline:"none",transition:"all ".concat(t.motionDurationMid)}),(0,V.Z)(i,"&:hover ".concat(a,"-item-link"),{backgroundColor:t.colorBgTextHover}),(0,V.Z)(i,"&:active ".concat(a,"-item-link"),{backgroundColor:t.colorBgTextActive}),(0,V.Z)(i,"&".concat(a,"-disabled:hover"),(0,V.Z)({},"".concat(a,"-item-link"),{backgroundColor:"transparent"})),i)),(0,V.Z)(o,"".concat(a,"-slash"),{marginInlineEnd:t.paginationSlashMarginInlineEnd,marginInlineStart:t.paginationSlashMarginInlineStart}),(0,V.Z)(o,"".concat(a,"-options"),{display:"inline-block",marginInlineStart:t.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:t.controlHeight,marginInlineStart:t.marginXS,lineHeight:"".concat(t.controlHeight,"px"),verticalAlign:"top",input:Object.assign(Object.assign({},hp(t)),{width:1.25*t.controlHeightLG,height:t.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:t.marginXS,marginInlineEnd:t.marginXS})}}),o}(t)),function(t){var e,n=t.componentCls;return e={},(0,V.Z)(e,"\n    &".concat(n,"-simple ").concat(n,"-prev,\n    &").concat(n,"-simple ").concat(n,"-next\n    "),(0,V.Z)({height:t.itemSizeSM,lineHeight:"".concat(t.itemSizeSM,"px"),verticalAlign:"top"},"".concat(n,"-item-link"),{height:t.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive},"&::after":{height:t.itemSizeSM,lineHeight:"".concat(t.itemSizeSM,"px")}})),(0,V.Z)(e,"&".concat(n,"-simple ").concat(n,"-simple-pager"),{display:"inline-block",height:t.itemSizeSM,marginInlineEnd:t.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:t.marginXS,padding:"0 ".concat(t.paginationItemPaddingInline,"px"),textAlign:"center",backgroundColor:t.itemInputBg,border:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(t.colorBorder),borderRadius:t.borderRadius,outline:"none",transition:"border-color ".concat(t.motionDurationMid),color:"inherit","&:hover":{borderColor:t.colorPrimary},"&:focus":{borderColor:t.colorPrimaryHover,boxShadow:"".concat(t.inputOutlineOffset,"px 0 ").concat(t.controlOutlineWidth,"px ").concat(t.controlOutline)},"&[disabled]":{color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,cursor:"not-allowed"}}}),e}(t)),function(t){var e,n,r,i=t.componentCls;return r={},(0,V.Z)(r,"&".concat(i,"-mini ").concat(i,"-total-text, &").concat(i,"-mini ").concat(i,"-simple-pager"),{height:t.itemSizeSM,lineHeight:"".concat(t.itemSizeSM,"px")}),(0,V.Z)(r,"&".concat(i,"-mini ").concat(i,"-item"),{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:"".concat(t.itemSizeSM-2,"px")}),(0,V.Z)(r,"&".concat(i,"-mini:not(").concat(i,"-disabled) ").concat(i,"-item:not(").concat(i,"-item-active)"),{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}}),(0,V.Z)(r,"&".concat(i,"-mini ").concat(i,"-prev, &").concat(i,"-mini ").concat(i,"-next"),{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:"".concat(t.itemSizeSM,"px")}),(0,V.Z)(r,"&".concat(i,"-mini:not(").concat(i,"-disabled)"),(0,V.Z)({},"".concat(i,"-prev, ").concat(i,"-next"),(e={},(0,V.Z)(e,"&:hover ".concat(i,"-item-link"),{backgroundColor:t.colorBgTextHover}),(0,V.Z)(e,"&:active ".concat(i,"-item-link"),{backgroundColor:t.colorBgTextActive}),(0,V.Z)(e,"&".concat(i,"-disabled:hover ").concat(i,"-item-link"),{backgroundColor:"transparent"}),e))),(0,V.Z)(r,"\n    &".concat(i,"-mini ").concat(i,"-prev ").concat(i,"-item-link,\n    &").concat(i,"-mini ").concat(i,"-next ").concat(i,"-item-link\n    "),{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:t.itemSizeSM,lineHeight:"".concat(t.itemSizeSM,"px")}}),(0,V.Z)(r,"&".concat(i,"-mini ").concat(i,"-jump-prev, &").concat(i,"-mini ").concat(i,"-jump-next"),{height:t.itemSizeSM,marginInlineEnd:0,lineHeight:"".concat(t.itemSizeSM,"px")}),(0,V.Z)(r,"&".concat(i,"-mini ").concat(i,"-options"),(n={marginInlineStart:t.paginationMiniOptionsMarginInlineStart},(0,V.Z)(n,"&-size-changer",{top:t.miniOptionsSizeChangerTop}),(0,V.Z)(n,"&-quick-jumper",{height:t.itemSizeSM,lineHeight:"".concat(t.itemSizeSM,"px"),input:Object.assign(Object.assign({},sp(t)),{width:t.paginationMiniQuickJumperInputWidth,height:t.controlHeightSM})}),n)),r}(t)),function(t){var e,n,r,i=t.componentCls;return r={},(0,V.Z)(r,"".concat(i,"-disabled"),{"&, &:hover":(0,V.Z)({cursor:"not-allowed"},"".concat(i,"-item-link"),{color:t.colorTextDisabled,cursor:"not-allowed"}),"&:focus-visible":(0,V.Z)({cursor:"not-allowed"},"".concat(i,"-item-link"),{color:t.colorTextDisabled,cursor:"not-allowed"})}),(0,V.Z)(r,"&".concat(i,"-disabled"),(n={cursor:"not-allowed"},(0,V.Z)(n,"".concat(i,"-item"),{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:t.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:t.colorBorder,backgroundColor:t.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:t.itemActiveBgDisabled},a:{color:t.itemActiveColorDisabled}}}),(0,V.Z)(n,"".concat(i,"-item-link"),(0,V.Z)({color:t.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"}},"".concat(i,"-simple&"),{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}})),(0,V.Z)(n,"".concat(i,"-simple-pager"),{color:t.colorTextDisabled}),(0,V.Z)(n,"".concat(i,"-jump-prev, ").concat(i,"-jump-next"),(e={},(0,V.Z)(e,"".concat(i,"-item-link-icon"),{opacity:0}),(0,V.Z)(e,"".concat(i,"-item-ellipsis"),{opacity:1}),e)),n)),(0,V.Z)(r,"&".concat(i,"-simple"),(0,V.Z)({},"".concat(i,"-prev, ").concat(i,"-next"),(0,V.Z)({},"&".concat(i,"-disabled ").concat(i,"-item-link"),{"&:hover, &:active":{backgroundColor:"transparent"}}))),r}(t)),(e={},(0,V.Z)(e,"@media only screen and (max-width: ".concat(t.screenLG,"px)"),(0,V.Z)({},"".concat(r,"-item"),{"&-after-jump-prev, &-before-jump-next":{display:"none"}})),(0,V.Z)(e,"@media only screen and (max-width: ".concat(t.screenSM,"px)"),(0,V.Z)({},"".concat(r,"-options"),{display:"none"})),e))),(0,V.Z)(n,"&".concat(t.componentCls,"-rtl"),{direction:"rtl"}),n}),xp=function(t){var e,n,r,i,o,a,c=t.componentCls;return a={},(0,V.Z)(a,"".concat(c).concat(c,"-disabled:not(").concat(c,"-mini)"),(n={"&, &:hover":(0,V.Z)({},"".concat(c,"-item-link"),{borderColor:t.colorBorder}),"&:focus-visible":(0,V.Z)({},"".concat(c,"-item-link"),{borderColor:t.colorBorder})},(0,V.Z)(n,"".concat(c,"-item, ").concat(c,"-item-link"),(e={backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder},(0,V.Z)(e,"&:hover:not(".concat(c,"-item-active)"),{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,a:{color:t.colorTextDisabled}}),(0,V.Z)(e,"&".concat(c,"-item-active"),{backgroundColor:t.itemActiveBgDisabled}),e)),(0,V.Z)(n,"".concat(c,"-prev, ").concat(c,"-next"),(0,V.Z)({"&:hover button":{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,color:t.colorTextDisabled}},"".concat(c,"-item-link"),{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder})),n)),(0,V.Z)(a,"".concat(c,":not(").concat(c,"-mini)"),(o={},(0,V.Z)(o,"".concat(c,"-prev, ").concat(c,"-next"),(r={"&:hover button":{borderColor:t.colorPrimaryHover,backgroundColor:t.itemBg}},(0,V.Z)(r,"".concat(c,"-item-link"),{backgroundColor:t.itemLinkBg,borderColor:t.colorBorder}),(0,V.Z)(r,"&:hover ".concat(c,"-item-link"),{borderColor:t.colorPrimary,backgroundColor:t.itemBg,color:t.colorPrimary}),(0,V.Z)(r,"&".concat(c,"-disabled"),(0,V.Z)({},"".concat(c,"-item-link"),{borderColor:t.colorBorder,color:t.colorTextDisabled})),r)),(0,V.Z)(o,"".concat(c,"-item"),(i={backgroundColor:t.itemBg,border:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(t.colorBorder)},(0,V.Z)(i,"&:hover:not(".concat(c,"-item-active)"),{borderColor:t.colorPrimary,backgroundColor:t.itemBg,a:{color:t.colorPrimary}}),(0,V.Z)(i,"&-active",{borderColor:t.colorPrimary}),i)),o)),a},wp=function(t){var e,n,r=t.componentCls;return(0,V.Z)({},"".concat(r,":not(").concat(r,"-disabled)"),(n={},(0,V.Z)(n,"".concat(r,"-item"),Object.assign({},(0,Qe.Qy)(t))),(0,V.Z)(n,"".concat(r,"-jump-prev, ").concat(r,"-jump-next"),{"&:focus-visible":Object.assign((e={},(0,V.Z)(e,"".concat(r,"-item-link-icon"),{opacity:1}),(0,V.Z)(e,"".concat(r,"-item-ellipsis"),{opacity:0}),e),(0,Qe.oN)(t))}),(0,V.Z)(n,"".concat(r,"-prev, ").concat(r,"-next"),(0,V.Z)({},"&:focus-visible ".concat(r,"-item-link"),Object.assign({},(0,Qe.oN)(t)))),n))},Sp=(0,se.Z)("Pagination",(function(t){var e=(0,nn.TS)(t,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:t.marginXXS/2,paginationMiniQuickJumperInputWidth:1.1*t.controlHeightLG,paginationItemPaddingInline:1.5*t.marginXXS,paginationEllipsisLetterSpacing:t.marginXXS/2,paginationSlashMarginInlineStart:t.marginXXS,paginationSlashMarginInlineEnd:t.marginSM,paginationEllipsisTextIndent:"0.13em"},mp(t));return[bp(e),wp(e),t.wireframe&&xp(e)]}),(function(t){return{itemBg:t.colorBgContainer,itemSize:t.controlHeight,itemSizeSM:t.controlHeightSM,itemActiveBg:t.colorBgContainer,itemLinkBg:t.colorBgContainer,itemActiveColorDisabled:t.colorTextDisabled,itemActiveBgDisabled:t.controlItemBgActiveDisabled,itemInputBg:t.colorBgContainer,miniOptionsSizeChangerTop:0}})),kp=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};var Cp=function(t){var e,n=t.prefixCls,r=t.selectPrefixCls,i=t.className,o=t.rootClassName,a=t.style,c=t.size,l=t.locale,u=t.selectComponentClass,s=t.responsive,f=t.showSizeChanger,h=kp(t,["prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","selectComponentClass","responsive","showSizeChanger"]),d=df(s).xs,p=Z.useContext(Dt.E_),v=p.getPrefixCls,g=p.direction,m=p.pagination,y=void 0===m?{}:m,b=v("pagination",n),x=Sp(b),w=(0,G.Z)(x,2),S=w[0],k=w[1],C=null!=f?f:y.showSizeChanger,O=Z.useMemo((function(){var t=Z.createElement("span",{className:"".concat(b,"-item-ellipsis")},"•••");return{prevIcon:Z.createElement("button",{className:"".concat(b,"-item-link"),type:"button",tabIndex:-1},"rtl"===g?Z.createElement(kf.Z,null):Z.createElement(Sf,null)),nextIcon:Z.createElement("button",{className:"".concat(b,"-item-link"),type:"button",tabIndex:-1},"rtl"===g?Z.createElement(Sf,null):Z.createElement(kf.Z,null)),jumpPrevIcon:Z.createElement("a",{className:"".concat(b,"-item-link")},Z.createElement("div",{className:"".concat(b,"-item-container")},"rtl"===g?Z.createElement(bf,{className:"".concat(b,"-item-link-icon")}):Z.createElement(gf,{className:"".concat(b,"-item-link-icon")}),t)),jumpNextIcon:Z.createElement("a",{className:"".concat(b,"-item-link")},Z.createElement("div",{className:"".concat(b,"-item-container")},"rtl"===g?Z.createElement(gf,{className:"".concat(b,"-item-link-icon")}):Z.createElement(bf,{className:"".concat(b,"-item-link-icon")}),t))}}),[g,b]),E=Ut("Pagination",It),M=(0,G.Z)(E,1)[0],A=Object.assign(Object.assign({},M),l),P=(0,Fe.Z)(c),_="small"===P||!(!d||P||!s),D=v("select",r),T=K()((e={},(0,V.Z)(e,"".concat(b,"-mini"),_),(0,V.Z)(e,"".concat(b,"-rtl"),"rtl"===g),e),null==y?void 0:y.className,i,o,k),F=Object.assign(Object.assign({},null==y?void 0:y.style),a);return S(Z.createElement(Tf,Object.assign({},O,h,{style:F,prefixCls:b,selectPrefixCls:D,className:T,selectComponentClass:u||(_?ip:op),locale:A,showSizeChanger:C})))},Op=Cp;function Ep(t,e,n){var r=(n||{}).atBegin;return function(t,e,n){var r,i=n||{},o=i.noTrailing,a=void 0!==o&&o,c=i.noLeading,l=void 0!==c&&c,u=i.debounceMode,s=void 0===u?void 0:u,f=!1,h=0;function d(){r&&clearTimeout(r)}function p(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var c=this,u=Date.now()-h;function p(){h=Date.now(),e.apply(c,i)}function v(){r=void 0}f||(l||!s||r||p(),d(),void 0===s&&u>t?l?(h=Date.now(),a||(r=setTimeout(s?v:p,t))):p():!0!==a&&(r=setTimeout(s?v:p,void 0===s?t-u:t)))}return p.cancel=function(t){var e=(t||{}).upcomingOnly,n=void 0!==e&&e;d(),f=!n},p}(t,e,{debounceMode:!1!==(void 0!==r&&r)})}var Mp=new Yi.E4("antSpinMove",{to:{opacity:1}}),Ap=new Yi.E4("antRotate",{to:{transform:"rotate(405deg)"}}),Pp=function(t){var e,n,r,i,o;return(0,V.Z)({},"".concat(t.componentCls),Object.assign(Object.assign({},(0,Qe.Wf)(t)),(o={position:"absolute",display:"none",color:t.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:"transform ".concat(t.motionDurationSlow," ").concat(t.motionEaseInOutCirc),"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":(i={position:"relative"},(0,V.Z)(i,"> div > ".concat(t.componentCls),(r={position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:t.contentHeight},(0,V.Z)(r,"".concat(t.componentCls,"-dot"),{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-t.spinDotSize/2}),(0,V.Z)(r,"".concat(t.componentCls,"-text"),{position:"absolute",top:"50%",width:"100%",paddingTop:(t.spinDotSize-t.fontSize)/2+2,textShadow:"0 1px 2px ".concat(t.colorBgContainer),fontSize:t.fontSize}),(0,V.Z)(r,"&".concat(t.componentCls,"-show-text ").concat(t.componentCls,"-dot"),{marginTop:-t.spinDotSize/2-10}),(0,V.Z)(r,"&-sm",(e={},(0,V.Z)(e,"".concat(t.componentCls,"-dot"),{margin:-t.spinDotSizeSM/2}),(0,V.Z)(e,"".concat(t.componentCls,"-text"),{paddingTop:(t.spinDotSizeSM-t.fontSize)/2+2}),(0,V.Z)(e,"&".concat(t.componentCls,"-show-text ").concat(t.componentCls,"-dot"),{marginTop:-t.spinDotSizeSM/2-10}),e)),(0,V.Z)(r,"&-lg",(n={},(0,V.Z)(n,"".concat(t.componentCls,"-dot"),{margin:-t.spinDotSizeLG/2}),(0,V.Z)(n,"".concat(t.componentCls,"-text"),{paddingTop:(t.spinDotSizeLG-t.fontSize)/2+2}),(0,V.Z)(n,"&".concat(t.componentCls,"-show-text ").concat(t.componentCls,"-dot"),{marginTop:-t.spinDotSizeLG/2-10}),n)),r)),(0,V.Z)(i,"".concat(t.componentCls,"-container"),{position:"relative",transition:"opacity ".concat(t.motionDurationSlow),"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:t.colorBgContainer,opacity:0,transition:"all ".concat(t.motionDurationSlow),content:'""',pointerEvents:"none"}}),(0,V.Z)(i,"".concat(t.componentCls,"-blur"),(0,V.Z)({clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none"},"&::after",{opacity:.4,pointerEvents:"auto"})),i)},(0,V.Z)(o,"&-tip",{color:t.spinDotDefault}),(0,V.Z)(o,"".concat(t.componentCls,"-dot"),{position:"relative",display:"inline-block",fontSize:t.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(t.spinDotSize-t.marginXXS/2)/2,height:(t.spinDotSize-t.marginXXS/2)/2,backgroundColor:t.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:Mp,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:Ap,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}}),(0,V.Z)(o,"&-sm ".concat(t.componentCls,"-dot"),{fontSize:t.spinDotSizeSM,i:{width:(t.spinDotSizeSM-t.marginXXS/2)/2,height:(t.spinDotSizeSM-t.marginXXS/2)/2}}),(0,V.Z)(o,"&-lg ".concat(t.componentCls,"-dot"),{fontSize:t.spinDotSizeLG,i:{width:(t.spinDotSizeLG-t.marginXXS)/2,height:(t.spinDotSizeLG-t.marginXXS)/2}}),(0,V.Z)(o,"&".concat(t.componentCls,"-show-text ").concat(t.componentCls,"-text"),{display:"block"}),o)))},_p=(0,se.Z)("Spin",(function(t){var e=(0,nn.TS)(t,{spinDotDefault:t.colorTextDescription,spinDotSize:t.controlHeightLG/2,spinDotSizeSM:.35*t.controlHeightLG,spinDotSizeLG:t.controlHeight});return[Pp(e)]}),{contentHeight:400}),Dp=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Tp=null;var Zp=function(t){var e,n=t.spinPrefixCls,r=t.spinning,i=void 0===r||r,o=t.delay,a=void 0===o?0:o,c=t.className,l=t.rootClassName,u=t.size,s=void 0===u?"default":u,f=t.tip,h=t.wrapperClassName,d=t.style,p=t.children,v=t.hashId,g=Dp(t,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId"]),m=Z.useState((function(){return i&&!function(t,e){return!!t&&!!e&&!isNaN(Number(e))}(i,a)})),y=(0,G.Z)(m,2),b=y[0],x=y[1];Z.useEffect((function(){if(i){var t=Ep(a,(function(){x(!0)}));return t(),function(){var e;null===(e=null==t?void 0:t.cancel)||void 0===e||e.call(t)}}x(!1)}),[a,i]);var w=Z.useMemo((function(){return void 0!==p}),[p]);var S=Z.useContext(Dt.E_),k=S.direction,C=S.spin,O=K()(n,null==C?void 0:C.className,(e={},(0,V.Z)(e,"".concat(n,"-sm"),"small"===s),(0,V.Z)(e,"".concat(n,"-lg"),"large"===s),(0,V.Z)(e,"".concat(n,"-spinning"),b),(0,V.Z)(e,"".concat(n,"-show-text"),!!f),(0,V.Z)(e,"".concat(n,"-rtl"),"rtl"===k),e),c,l,v),E=K()("".concat(n,"-container"),(0,V.Z)({},"".concat(n,"-blur"),b)),M=(0,ce.Z)(g,["indicator","prefixCls"]),A=Object.assign(Object.assign({},null==C?void 0:C.style),d),P=Z.createElement("div",Object.assign({},M,{style:A,className:O,"aria-live":"polite","aria-busy":b}),function(t,e){var n=e.indicator,r="".concat(t,"-dot");return null===n?null:(0,ae.l$)(n)?(0,ae.Tm)(n,{className:K()(n.props.className,r)}):(0,ae.l$)(Tp)?(0,ae.Tm)(Tp,{className:K()(Tp.props.className,r)}):Z.createElement("span",{className:K()(r,"".concat(t,"-dot-spin"))},Z.createElement("i",{className:"".concat(t,"-dot-item"),key:1}),Z.createElement("i",{className:"".concat(t,"-dot-item"),key:2}),Z.createElement("i",{className:"".concat(t,"-dot-item"),key:3}),Z.createElement("i",{className:"".concat(t,"-dot-item"),key:4}))}(n,t),f&&w?Z.createElement("div",{className:"".concat(n,"-text")},f):null);return w?Z.createElement("div",Object.assign({},M,{className:K()("".concat(n,"-nested-loading"),h,v)}),b&&Z.createElement("div",{key:"loading"},P),Z.createElement("div",{className:E,key:"container"},p)):P},Fp=function(t){var e=t.prefixCls,n=(0,Z.useContext(Dt.E_).getPrefixCls)("spin",e),r=_p(n),i=(0,G.Z)(r,2),o=i[0],a=i[1],c=Object.assign(Object.assign({},t),{spinPrefixCls:n,hashId:a});return o(Z.createElement(Zp,Object.assign({},c)))};Fp.setDefaultIndicator=function(t){Tp=t};var jp=Fp,Ip=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};var Rp=["xs","sm","md","lg","xl","xxl"],Lp=Z.forwardRef((function(t,e){var n,r=Z.useContext(Dt.E_),i=r.getPrefixCls,o=r.direction,a=Z.useContext(nf),c=a.gutter,l=a.wrap,u=a.supportFlexGap,s=t.prefixCls,f=t.span,h=t.order,d=t.offset,p=t.push,v=t.pull,g=t.className,m=t.children,y=t.flex,b=t.style,x=Ip(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),w=i("col",s),S=lf(w),k=(0,G.Z)(S,2),C=k[0],O=k[1],E={};Rp.forEach((function(e){var n,r={},i=t[e];"number"==typeof i?r.span=i:"object"==typeof i&&(r=i||{}),delete x[e],E=Object.assign(Object.assign({},E),(n={},(0,V.Z)(n,"".concat(w,"-").concat(e,"-").concat(r.span),void 0!==r.span),(0,V.Z)(n,"".concat(w,"-").concat(e,"-order-").concat(r.order),r.order||0===r.order),(0,V.Z)(n,"".concat(w,"-").concat(e,"-offset-").concat(r.offset),r.offset||0===r.offset),(0,V.Z)(n,"".concat(w,"-").concat(e,"-push-").concat(r.push),r.push||0===r.push),(0,V.Z)(n,"".concat(w,"-").concat(e,"-pull-").concat(r.pull),r.pull||0===r.pull),(0,V.Z)(n,"".concat(w,"-").concat(e,"-flex-").concat(r.flex),r.flex||"auto"===r.flex),(0,V.Z)(n,"".concat(w,"-rtl"),"rtl"===o),n))}));var M=K()(w,(n={},(0,V.Z)(n,"".concat(w,"-").concat(f),void 0!==f),(0,V.Z)(n,"".concat(w,"-order-").concat(h),h),(0,V.Z)(n,"".concat(w,"-offset-").concat(d),d),(0,V.Z)(n,"".concat(w,"-push-").concat(p),p),(0,V.Z)(n,"".concat(w,"-pull-").concat(v),v),n),g,E,O),A={};if(c&&c[0]>0){var P=c[0]/2;A.paddingLeft=P,A.paddingRight=P}if(c&&c[1]>0&&!u){var _=c[1]/2;A.paddingTop=_,A.paddingBottom=_}return y&&(A.flex=function(t){return"number"==typeof t?"".concat(t," ").concat(t," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?"0 0 ".concat(t):t}(y),!1!==l||A.minWidth||(A.minWidth=0)),C(Z.createElement("div",Object.assign({},x,{style:Object.assign(Object.assign({},A),b),className:M,ref:e}),m))}));var Np=Lp,Bp=Z.createContext({}),zp=(Bp.Consumer,function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}),Up=function(t,e){var n,r=t.prefixCls,i=t.children,o=t.actions,a=t.extra,c=t.className,l=t.colStyle,u=zp(t,["prefixCls","children","actions","extra","className","colStyle"]),s=(0,Z.useContext)(Bp),f=s.grid,h=s.itemLayout,d=(0,Z.useContext)(Dt.E_).getPrefixCls,p=d("list",r),v=o&&o.length>0&&Z.createElement("ul",{className:"".concat(p,"-item-action"),key:"actions"},o.map((function(t,e){return Z.createElement("li",{key:"".concat(p,"-item-action-").concat(e)},t,e!==o.length-1&&Z.createElement("em",{className:"".concat(p,"-item-action-split")}))}))),g=f?"div":"li",m=Z.createElement(g,Object.assign({},u,f?{}:{ref:e},{className:K()("".concat(p,"-item"),(0,V.Z)({},"".concat(p,"-item-no-flex"),!("vertical"===h?a:(Z.Children.forEach(i,(function(t){"string"==typeof t&&(n=!0)})),!(n&&Z.Children.count(i)>1)))),c)}),"vertical"===h&&a?[Z.createElement("div",{className:"".concat(p,"-item-main"),key:"content"},i,v),Z.createElement("div",{className:"".concat(p,"-item-extra"),key:"extra"},a)]:[i,v,(0,ae.Tm)(a,{key:"extra"})]);return f?Z.createElement(Np,{ref:e,flex:1,style:l},m):m},Hp=(0,Z.forwardRef)(Up);Hp.Meta=function(t){var e=t.prefixCls,n=t.className,r=t.avatar,i=t.title,o=t.description,a=zp(t,["prefixCls","className","avatar","title","description"]),c=(0,(0,Z.useContext)(Dt.E_).getPrefixCls)("list",e),l=K()("".concat(c,"-item-meta"),n),u=Z.createElement("div",{className:"".concat(c,"-item-meta-content")},i&&Z.createElement("h4",{className:"".concat(c,"-item-meta-title")},i),o&&Z.createElement("div",{className:"".concat(c,"-item-meta-description")},o));return Z.createElement("div",Object.assign({},a,{className:l}),r&&Z.createElement("div",{className:"".concat(c,"-item-meta-avatar")},r),(i||o)&&u)};var Wp=Hp,Vp=function(t){var e,n,r=t.listBorderedCls,i=t.componentCls,o=t.paddingLG,a=t.margin,c=t.itemPaddingSM,l=t.itemPaddingLG,u=t.marginLG,s=t.borderRadiusLG;return n={},(0,V.Z)(n,"".concat(r),(e={border:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(t.colorBorder),borderRadius:s},(0,V.Z)(e,"".concat(i,"-header,").concat(i,"-footer,").concat(i,"-item"),{paddingInline:o}),(0,V.Z)(e,"".concat(i,"-pagination"),{margin:"".concat(a,"px ").concat(u,"px")}),e)),(0,V.Z)(n,"".concat(r).concat(i,"-sm"),(0,V.Z)({},"".concat(i,"-item,").concat(i,"-header,").concat(i,"-footer"),{padding:c})),(0,V.Z)(n,"".concat(r).concat(i,"-lg"),(0,V.Z)({},"".concat(i,"-item,").concat(i,"-header,").concat(i,"-footer"),{padding:l})),n},Gp=function(t){var e,n,r,i,o=t.componentCls,a=t.screenSM,c=t.screenMD,l=t.marginLG,u=t.marginSM,s=t.margin;return i={},(0,V.Z)(i,"@media screen and (max-width:".concat(c,")"),(e={},(0,V.Z)(e,"".concat(o),(0,V.Z)({},"".concat(o,"-item"),(0,V.Z)({},"".concat(o,"-item-action"),{marginInlineStart:l}))),(0,V.Z)(e,"".concat(o,"-vertical"),(0,V.Z)({},"".concat(o,"-item"),(0,V.Z)({},"".concat(o,"-item-extra"),{marginInlineStart:l}))),e)),(0,V.Z)(i,"@media screen and (max-width: ".concat(a,")"),(r={},(0,V.Z)(r,"".concat(o),(0,V.Z)({},"".concat(o,"-item"),(0,V.Z)({flexWrap:"wrap"},"".concat(o,"-action"),{marginInlineStart:u}))),(0,V.Z)(r,"".concat(o,"-vertical"),(0,V.Z)({},"".concat(o,"-item"),(n={flexWrap:"wrap-reverse"},(0,V.Z)(n,"".concat(o,"-item-main"),{minWidth:t.contentWidth}),(0,V.Z)(n,"".concat(o,"-item-extra"),{margin:"auto auto ".concat(s,"px")}),n))),r)),i},Xp=function(t){var e,n,r,i,o,a,c=t.componentCls,l=t.antCls,u=t.controlHeight,s=t.minHeight,f=t.paddingSM,h=t.marginLG,d=t.padding,p=t.itemPadding,v=t.colorPrimary,g=t.itemPaddingSM,m=t.itemPaddingLG,y=t.paddingXS,b=t.margin,x=t.colorText,w=t.colorTextDescription,S=t.motionDurationSlow,k=t.lineWidth,C=t.headerBg,O=t.footerBg,E=t.emptyTextPadding,M=t.metaMarginBottom,A=t.avatarMarginRight,P=t.titleMarginBottom,_=t.descriptionFontSize,D={};return["start","center","end"].forEach((function(t){D["&-align-".concat(t)]={textAlign:t}})),a={},(0,V.Z)(a,"".concat(c),Object.assign(Object.assign({},(0,Qe.Wf)(t)),(i={position:"relative","*":{outline:"none"}},(0,V.Z)(i,"".concat(c,"-header"),{background:C}),(0,V.Z)(i,"".concat(c,"-footer"),{background:O}),(0,V.Z)(i,"".concat(c,"-header, ").concat(c,"-footer"),{paddingBlock:f}),(0,V.Z)(i,"".concat(c,"-pagination"),Object.assign(Object.assign({marginBlockStart:h},D),(0,V.Z)({},"".concat(l,"-pagination-options"),{textAlign:"start"}))),(0,V.Z)(i,"".concat(c,"-spin"),{minHeight:s,textAlign:"center"}),(0,V.Z)(i,"".concat(c,"-items"),{margin:0,padding:0,listStyle:"none"}),(0,V.Z)(i,"".concat(c,"-item"),(r={display:"flex",alignItems:"center",justifyContent:"space-between",padding:p,color:x},(0,V.Z)(r,"".concat(c,"-item-meta"),(e={display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%"},(0,V.Z)(e,"".concat(c,"-item-meta-avatar"),{marginInlineEnd:A}),(0,V.Z)(e,"".concat(c,"-item-meta-content"),{flex:"1 0",width:0,color:x}),(0,V.Z)(e,"".concat(c,"-item-meta-title"),{margin:"0 0 ".concat(t.marginXXS,"px 0"),color:x,fontSize:t.fontSize,lineHeight:t.lineHeight,"> a":(0,V.Z)({color:x,transition:"all ".concat(S)},"&:hover",{color:v})}),(0,V.Z)(e,"".concat(c,"-item-meta-description"),{color:w,fontSize:_,lineHeight:t.lineHeight}),e)),(0,V.Z)(r,"".concat(c,"-item-action"),(n={flex:"0 0 auto",marginInlineStart:t.marginXXL,padding:0,fontSize:0,listStyle:"none"},(0,V.Z)(n,"& > li",(0,V.Z)({position:"relative",display:"inline-block",padding:"0 ".concat(y,"px"),color:w,fontSize:t.fontSize,lineHeight:t.lineHeight,textAlign:"center"},"&:first-child",{paddingInlineStart:0})),(0,V.Z)(n,"".concat(c,"-item-action-split"),{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:k,height:Math.ceil(t.fontSize*t.lineHeight)-2*t.marginXXS,transform:"translateY(-50%)",backgroundColor:t.colorSplit}),n)),r)),(0,V.Z)(i,"".concat(c,"-empty"),{padding:"".concat(d,"px 0"),color:w,fontSize:t.fontSizeSM,textAlign:"center"}),(0,V.Z)(i,"".concat(c,"-empty-text"),{padding:E,color:t.colorTextDisabled,fontSize:t.fontSize,textAlign:"center"}),(0,V.Z)(i,"".concat(c,"-item-no-flex"),{display:"block"}),i))),(0,V.Z)(a,"".concat(c,"-grid ").concat(l,"-col > ").concat(c,"-item"),{display:"block",maxWidth:"100%",marginBlockEnd:b,paddingBlock:0,borderBlockEnd:"none"}),(0,V.Z)(a,"".concat(c,"-vertical ").concat(c,"-item"),(o={alignItems:"initial"},(0,V.Z)(o,"".concat(c,"-item-main"),{display:"block",flex:1}),(0,V.Z)(o,"".concat(c,"-item-extra"),{marginInlineStart:h}),(0,V.Z)(o,"".concat(c,"-item-meta"),(0,V.Z)({marginBlockEnd:M},"".concat(c,"-item-meta-title"),{marginBlockStart:0,marginBlockEnd:P,color:x,fontSize:t.fontSizeLG,lineHeight:t.lineHeightLG})),(0,V.Z)(o,"".concat(c,"-item-action"),{marginBlockStart:d,marginInlineStart:"auto","> li":(0,V.Z)({padding:"0 ".concat(d,"px")},"&:first-child",{paddingInlineStart:0})}),o)),(0,V.Z)(a,"".concat(c,"-split ").concat(c,"-item"),(0,V.Z)({borderBlockEnd:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(t.colorSplit)},"&:last-child",{borderBlockEnd:"none"})),(0,V.Z)(a,"".concat(c,"-split ").concat(c,"-header"),{borderBlockEnd:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(t.colorSplit)}),(0,V.Z)(a,"".concat(c,"-split").concat(c,"-empty ").concat(c,"-footer"),{borderTop:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(t.colorSplit)}),(0,V.Z)(a,"".concat(c,"-loading ").concat(c,"-spin-nested-loading"),{minHeight:u}),(0,V.Z)(a,"".concat(c,"-split").concat(c,"-something-after-last-item ").concat(l,"-spin-container > ").concat(c,"-items > ").concat(c,"-item:last-child"),{borderBlockEnd:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(t.colorSplit)}),(0,V.Z)(a,"".concat(c,"-lg ").concat(c,"-item"),{padding:m}),(0,V.Z)(a,"".concat(c,"-sm ").concat(c,"-item"),{padding:g}),(0,V.Z)(a,"".concat(c,":not(").concat(c,"-vertical)"),(0,V.Z)({},"".concat(c,"-item-no-flex"),(0,V.Z)({},"".concat(c,"-item-action"),{float:"right"}))),a},qp=(0,se.Z)("List",(function(t){var e=(0,nn.TS)(t,{listBorderedCls:"".concat(t.componentCls,"-bordered"),minHeight:t.controlHeightLG});return[Xp(e),Vp(e),Gp(e)]}),(function(t){return{contentWidth:220,itemPadding:"".concat(t.paddingContentVertical,"px 0"),itemPaddingSM:"".concat(t.paddingContentVerticalSM,"px ").concat(t.paddingContentHorizontal,"px"),itemPaddingLG:"".concat(t.paddingContentVerticalLG,"px ").concat(t.paddingContentHorizontalLG,"px"),headerBg:"transparent",footerBg:"transparent",emptyTextPadding:t.padding,metaMarginBottom:t.padding,avatarMarginRight:t.padding,titleMarginBottom:t.paddingSM,descriptionFontSize:t.fontSize}})),Yp=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function $p(t){var e,n,r=t.pagination,i=void 0!==r&&r,o=t.prefixCls,a=t.bordered,c=void 0!==a&&a,l=t.split,u=void 0===l||l,s=t.className,f=t.rootClassName,h=t.style,d=t.children,p=t.itemLayout,v=t.loadMore,g=t.grid,m=t.dataSource,y=void 0===m?[]:m,b=t.size,x=t.header,w=t.footer,S=t.loading,k=void 0!==S&&S,C=t.rowKey,O=t.renderItem,E=t.locale,M=Yp(t,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),A=i&&"object"==typeof i?i:{},P=Z.useState(A.defaultCurrent||1),_=(0,G.Z)(P,2),D=_[0],T=_[1],F=Z.useState(A.defaultPageSize||10),j=(0,G.Z)(F,2),I=j[0],R=j[1],L=Z.useContext(Dt.E_),N=L.getPrefixCls,B=L.renderEmpty,z=L.direction,U=L.list,H=function(t){return function(e,n){var r;T(e),R(n),i&&i[t]&&(null===(r=null==i?void 0:i[t])||void 0===r||r.call(i,e,n))}},W=H("onChange"),X=H("onShowSizeChange"),q=N("list",o),$=qp(q),J=(0,G.Z)($,2),Q=J[0],tt=J[1],et=k;"boolean"==typeof et&&(et={spinning:et});var nt=et&&et.spinning,rt="";switch(b){case"large":rt="lg";break;case"small":rt="sm"}var it=K()(q,(e={},(0,V.Z)(e,"".concat(q,"-vertical"),"vertical"===p),(0,V.Z)(e,"".concat(q,"-").concat(rt),rt),(0,V.Z)(e,"".concat(q,"-split"),u),(0,V.Z)(e,"".concat(q,"-bordered"),c),(0,V.Z)(e,"".concat(q,"-loading"),nt),(0,V.Z)(e,"".concat(q,"-grid"),!!g),(0,V.Z)(e,"".concat(q,"-something-after-last-item"),!!(v||i||w)),(0,V.Z)(e,"".concat(q,"-rtl"),"rtl"===z),e),null==U?void 0:U.className,s,f,tt),ot=Bs({current:1,total:0},{total:y.length,current:D,pageSize:I},i||{}),at=Math.ceil(ot.total/ot.pageSize);ot.current>at&&(ot.current=at);var ct=i?Z.createElement("div",{className:K()("".concat(q,"-pagination"),"".concat(q,"-pagination-align-").concat(null!==(n=null==ot?void 0:ot.align)&&void 0!==n?n:"end"))},Z.createElement(Op,Object.assign({},ot,{onChange:W,onShowSizeChange:X}))):null,lt=(0,Y.Z)(y);i&&y.length>(ot.current-1)*ot.pageSize&&(lt=(0,Y.Z)(y).splice((ot.current-1)*ot.pageSize,ot.pageSize));var ut=Object.keys(g||{}).some((function(t){return["xs","sm","md","lg","xl","xxl"].includes(t)})),st=df(ut),ft=Z.useMemo((function(){for(var t=0;t<zs.length;t+=1){var e=zs[t];if(st[e])return e}}),[st]),ht=Z.useMemo((function(){if(g){var t=ft&&g[ft]?g[ft]:g.column;return t?{width:"".concat(100/t,"%"),maxWidth:"".concat(100/t,"%")}:void 0}}),[null==g?void 0:g.column,ft]),dt=nt&&Z.createElement("div",{style:{minHeight:53}});if(lt.length>0){var pt=lt.map((function(t,e){return function(t,e){return O?((n="function"==typeof C?C(t):C?t[C]:t.key)||(n="list-item-".concat(e)),Z.createElement(Z.Fragment,{key:n},O(t,e))):null;var n}(t,e)}));dt=g?Z.createElement(hf,{gutter:g.gutter},Z.Children.map(pt,(function(t){return Z.createElement("div",{key:null==t?void 0:t.key,style:ht},t)}))):Z.createElement("ul",{className:"".concat(q,"-items")},pt)}else d||nt||(dt=Z.createElement("div",{className:"".concat(q,"-empty-text")},E&&E.emptyText||(null==B?void 0:B("List"))||Z.createElement(tf,{componentName:"List"})));var vt=ot.position||"bottom",gt=Z.useMemo((function(){return{grid:g,itemLayout:p}}),[JSON.stringify(g),p]);return Q(Z.createElement(Bp.Provider,{value:gt},Z.createElement("div",Object.assign({style:Object.assign(Object.assign({},null==U?void 0:U.style),h),className:it},M),("top"===vt||"both"===vt)&&ct,x&&Z.createElement("div",{className:"".concat(q,"-header")},x),Z.createElement(jp,Object.assign({},et),dt,d),w&&Z.createElement("div",{className:"".concat(q,"-footer")},w),v||("bottom"===vt||"both"===vt)&&ct)))}$p.Item=Wp;var Kp=$p,Jp=["title","titleId"];var Qp=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,Jp);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 01.778-.332 48.294 48.294 0 005.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"}))})),tv=["title","titleId"];var ev=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,tv);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.125l2.25 2.25m0 0l2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"}))})),nv=n(94730),rv=n(70769),iv=n(70966),ov={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},av=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:ov}))};var cv=Z.forwardRef(av),lv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},uv=function(t,e){return Z.createElement(Wt.Z,(0,J.Z)({},t,{ref:e,icon:lv}))};var sv=Z.forwardRef(uv),fv=(0,Z.createContext)(null),hv=Z.forwardRef((function(t,e){var n=t.prefixCls,r=t.className,i=t.style,o=t.id,a=t.active,c=t.tabKey,l=t.children;return Z.createElement("div",{id:o&&"".concat(o,"-panel-").concat(c),role:"tabpanel",tabIndex:a?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(c),"aria-hidden":!a,style:i,className:K()(n,a&&"".concat(n,"-active"),r),ref:e},l)}));var dv=hv,pv=["key","forceRender","style","className"];function vv(t){var e=t.id,n=t.activeKey,r=t.animated,i=t.tabPosition,o=t.destroyInactiveTabPane,a=Z.useContext(fv),c=a.prefixCls,l=a.tabs,u=r.tabPane,s="".concat(c,"-tabpane");return Z.createElement("div",{className:K()("".concat(c,"-content-holder"))},Z.createElement("div",{className:K()("".concat(c,"-content"),"".concat(c,"-content-").concat(i),(0,B.Z)({},"".concat(c,"-content-animated"),u))},l.map((function(t){var i=t.key,a=t.forceRender,c=t.style,l=t.className,f=(0,rt.Z)(t,pv),h=i===n;return Z.createElement(ne.ZP,(0,J.Z)({key:i,visible:h,forceRender:a,removeOnLeave:!!o,leavedClassName:"".concat(s,"-hidden")},r.tabPaneMotion),(function(t,n){var r=t.style,o=t.className;return Z.createElement(dv,(0,J.Z)({},f,{prefixCls:s,id:e,tabKey:i,animated:u,active:h,style:(0,lt.Z)((0,lt.Z)({},c),r),className:K()(l,o),ref:n}))}))}))))}var gv={width:0,height:0,left:0,top:0};function mv(t,e){var n=Z.useRef(t),r=Z.useState({}),i=(0,rr.Z)(r,2)[1];return[n.current,function(t){var r="function"==typeof t?t(n.current):t;r!==n.current&&e(r,n.current),n.current=r,i({})}]}var yv=.1,bv=.01,xv=20,wv=Math.pow(.995,xv);function Sv(t){var e=(0,Z.useState)(0),n=(0,rr.Z)(e,2),r=n[0],i=n[1],o=(0,Z.useRef)(0),a=(0,Z.useRef)();return a.current=t,(0,vr.o)((function(){var t;null===(t=a.current)||void 0===t||t.call(a)}),[r]),function(){o.current===r&&(o.current+=1,i(o.current))}}var kv={width:0,height:0,left:0,top:0,right:0};function Cv(t){var e;return t instanceof Map?(e={},t.forEach((function(t,n){e[n]=t}))):e=t,JSON.stringify(e)}var Ov="TABS_DQ";function Ev(t){return String(t).replace(/"/g,Ov)}function Mv(t,e,n,r){return!(!n||r||!1===t||void 0===t&&(!1===e||null===e))}function Av(t,e){var n=t.prefixCls,r=t.editable,i=t.locale,o=t.style;return r&&!1!==r.showAdd?Z.createElement("button",{ref:e,type:"button",className:"".concat(n,"-nav-add"),style:o,"aria-label":(null==i?void 0:i.addAriaLabel)||"Add tab",onClick:function(t){r.onEdit("add",{event:t})}},r.addIcon||"+"):null}var Pv=Z.forwardRef(Av),_v=Z.forwardRef((function(t,e){var n,r=t.position,i=t.prefixCls,o=t.extra;if(!o)return null;var a={};return"object"!==(0,it.Z)(o)||Z.isValidElement(o)?a.right=o:a=o,"right"===r&&(n=a.right),"left"===r&&(n=a.left),n?Z.createElement("div",{className:"".concat(i,"-extra-content"),ref:e},n):null}));var Dv=_v,Tv=Ya.Z.ESC,Zv=Ya.Z.TAB;var Fv=(0,Z.forwardRef)((function(t,e){var n=t.overlay,r=t.arrow,i=t.prefixCls,o=(0,Z.useMemo)((function(){return"function"==typeof n?n():n}),[n]),a=(0,le.sQ)(e,null==o?void 0:o.ref);return Z.createElement(Z.Fragment,null,r&&Z.createElement("div",{className:"".concat(i,"-arrow")}),Z.cloneElement(o,{ref:(0,le.Yr)(o)?a:void 0}))})),jv=Fv,Iv={adjustX:1,adjustY:1},Rv=[0,0],Lv={topLeft:{points:["bl","tl"],overflow:Iv,offset:[0,-4],targetOffset:Rv},top:{points:["bc","tc"],overflow:Iv,offset:[0,-4],targetOffset:Rv},topRight:{points:["br","tr"],overflow:Iv,offset:[0,-4],targetOffset:Rv},bottomLeft:{points:["tl","bl"],overflow:Iv,offset:[0,4],targetOffset:Rv},bottom:{points:["tc","bc"],overflow:Iv,offset:[0,4],targetOffset:Rv},bottomRight:{points:["tr","br"],overflow:Iv,offset:[0,4],targetOffset:Rv}},Nv=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function Bv(t,e){var n,r=t.arrow,i=void 0!==r&&r,o=t.prefixCls,a=void 0===o?"rc-dropdown":o,c=t.transitionName,l=t.animation,u=t.align,s=t.placement,f=void 0===s?"bottomLeft":s,h=t.placements,d=void 0===h?Lv:h,p=t.getPopupContainer,v=t.showAction,g=t.hideAction,m=t.overlayClassName,y=t.overlayStyle,b=t.visible,x=t.trigger,w=void 0===x?["hover"]:x,S=t.autoFocus,k=t.overlay,C=t.children,O=t.onVisibleChange,E=(0,rt.Z)(t,Nv),M=Z.useState(),A=(0,rr.Z)(M,2),P=A[0],_=A[1],D="visible"in t?b:P,T=Z.useRef(null),F=Z.useRef(null),j=Z.useRef(null);Z.useImperativeHandle(e,(function(){return T.current}));var I=function(t){_(t),null==O||O(t)};!function(t){var e=t.visible,n=t.triggerRef,r=t.onVisibleChange,i=t.autoFocus,o=t.overlayRef,a=Z.useRef(!1),c=function(){var t,i;e&&(null===(t=n.current)||void 0===t||null===(i=t.focus)||void 0===i||i.call(t),null==r||r(!1))},l=function(){var t;return!(null===(t=o.current)||void 0===t||!t.focus||(o.current.focus(),a.current=!0,0))},u=function(t){switch(t.keyCode){case Tv:c();break;case Zv:var e=!1;a.current||(e=l()),e?t.preventDefault():c()}};Z.useEffect((function(){return e?(window.addEventListener("keydown",u),i&&(0,pe.Z)(l,3),function(){window.removeEventListener("keydown",u),a.current=!1}):function(){a.current=!1}}),[e])}({visible:D,triggerRef:j,onVisibleChange:I,autoFocus:S,overlayRef:F});var R,L,N,z=function(){return Z.createElement(jv,{ref:F,overlay:k,prefixCls:a,arrow:i})},U=Z.cloneElement(C,{className:K()(null===(n=C.props)||void 0===n?void 0:n.className,D&&(R=t.openClassName,void 0!==R?R:"".concat(a,"-open"))),ref:(0,le.Yr)(C)?(0,le.sQ)(j,C.ref):void 0}),H=g;return H||-1===w.indexOf("contextMenu")||(H=["click"]),Z.createElement(Di,(0,J.Z)({builtinPlacements:d},E,{prefixCls:a,ref:T,popupClassName:K()(m,(0,B.Z)({},"".concat(a,"-show-arrow"),i)),popupStyle:y,action:w,showAction:v,hideAction:H,popupPlacement:f,popupAlign:u,popupTransitionName:c,popupAnimation:l,popupVisible:D,stretch:(L=t.minOverlayWidthMatchTrigger,N=t.alignPoint,("minOverlayWidthMatchTrigger"in t?L:!N)?"minWidth":""),popup:"function"==typeof k?z:z(),onPopupVisibleChange:I,onPopupClick:function(e){var n=t.onOverlayClick;_(!1),n&&n(e)},getPopupContainer:p}),U)}var zv=Z.forwardRef(Bv),Uv=Z.createContext(null);function Hv(t,e){return void 0===t?null:"".concat(t,"-").concat(e)}function Wv(t){return Hv(Z.useContext(Uv),t)}var Vv=["children","locked"],Gv=Z.createContext(null);function Xv(t){var e=t.children,n=t.locked,r=(0,rt.Z)(t,Vv),i=Z.useContext(Gv),o=(0,ma.Z)((function(){return function(t,e){var n=(0,lt.Z)({},t);return Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)})),n}(i,r)}),[i,r],(function(t,e){return!(n||t[0]===e[0]&&(0,Pa.Z)(t[1],e[1],!0))}));return Z.createElement(Gv.Provider,{value:o},e)}var qv=[],Yv=Z.createContext(null);function $v(){return Z.useContext(Yv)}var Kv=Z.createContext(qv);function Jv(t){var e=Z.useContext(Kv);return Z.useMemo((function(){return void 0!==t?[].concat((0,Y.Z)(e),[t]):e}),[e,t])}var Qv=Z.createContext(null),tg=Z.createContext({});function eg(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ue(t)){var n=t.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||t.isContentEditable||"a"===n&&!!t.getAttribute("href"),i=t.getAttribute("tabindex"),o=Number(i),a=null;return i&&!Number.isNaN(o)?a=o:r&&null===a&&(a=0),r&&t.disabled&&(a=null),null!==a&&(a>=0||e&&a<0)}return!1}function ng(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,Y.Z)(t.querySelectorAll("*")).filter((function(t){return eg(t,e)}));return eg(t,e)&&n.unshift(t),n}var rg=Ya.Z.LEFT,ig=Ya.Z.RIGHT,og=Ya.Z.UP,ag=Ya.Z.DOWN,cg=Ya.Z.ENTER,lg=Ya.Z.ESC,ug=Ya.Z.HOME,sg=Ya.Z.END,fg=[og,ag,rg,ig];function hg(t,e){return ng(t,!0).filter((function(t){return e.has(t)}))}function dg(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!t)return null;var i=hg(t,e),o=i.length,a=i.findIndex((function(t){return n===t}));return r<0?-1===a?a=o-1:a-=1:r>0&&(a+=1),i[a=(a+o)%o]}function pg(t,e,n,r,i,o,a,c,l,u){var s=Z.useRef(),f=Z.useRef();f.current=e;var h=function(){pe.Z.cancel(s.current)};return Z.useEffect((function(){return function(){h()}}),[]),function(d){var p=d.which;if([].concat(fg,[cg,lg,ug,sg]).includes(p)){var v,g,m,y=function(){return v=new Set,g=new Map,m=new Map,o().forEach((function(t){var e=document.querySelector("[data-menu-id='".concat(Hv(r,t),"']"));e&&(v.add(e),m.set(e,t),g.set(t,e))})),v};y();var b=function(t,e){for(var n=t||document.activeElement;n;){if(e.has(n))return n;n=n.parentElement}return null}(g.get(e),v),x=m.get(b),w=function(t,e,n,r){var i,o,a,c,l="prev",u="next",s="children",f="parent";if("inline"===t&&r===cg)return{inlineTrigger:!0};var h=(i={},(0,B.Z)(i,og,l),(0,B.Z)(i,ag,u),i),d=(o={},(0,B.Z)(o,rg,n?u:l),(0,B.Z)(o,ig,n?l:u),(0,B.Z)(o,ag,s),(0,B.Z)(o,cg,s),o),p=(a={},(0,B.Z)(a,og,l),(0,B.Z)(a,ag,u),(0,B.Z)(a,cg,s),(0,B.Z)(a,lg,f),(0,B.Z)(a,rg,n?s:f),(0,B.Z)(a,ig,n?f:s),a);switch(null===(c={inline:h,horizontal:d,vertical:p,inlineSub:h,horizontalSub:p,verticalSub:p}["".concat(t).concat(e?"":"Sub")])||void 0===c?void 0:c[r]){case l:return{offset:-1,sibling:!0};case u:return{offset:1,sibling:!0};case f:return{offset:-1,sibling:!1};case s:return{offset:1,sibling:!1};default:return null}}(t,1===a(x,!0).length,n,p);if(!w&&p!==ug&&p!==sg)return;(fg.includes(p)||[ug,sg].includes(p))&&d.preventDefault();var S=function(t){if(t){var e=t,n=t.querySelector("a");null!=n&&n.getAttribute("href")&&(e=n);var r=m.get(t);c(r),h(),s.current=(0,pe.Z)((function(){f.current===r&&e.focus()}))}};if([ug,sg].includes(p)||w.sibling||!b){var k,C;k=b&&"inline"!==t?function(t){for(var e=t;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}(b):i.current;var O=hg(k,v);C=p===ug?O[0]:p===sg?O[O.length-1]:dg(k,v,b,w.offset),S(C)}else if(w.inlineTrigger)l(x);else if(w.offset>0)l(x,!0),h(),s.current=(0,pe.Z)((function(){y();var t=b.getAttribute("aria-controls"),e=dg(document.getElementById(t),v);S(e)}),5);else if(w.offset<0){var E=a(x,!0),M=E[E.length-2],A=g.get(M);l(M,!1),S(A)}}null==u||u(d)}}var vg="__RC_UTIL_PATH_SPLIT__",gg=function(t){return t.join(vg)},mg="rc-menu-more";function yg(){var t=Z.useState({}),e=(0,rr.Z)(t,2)[1],n=(0,Z.useRef)(new Map),r=(0,Z.useRef)(new Map),i=Z.useState([]),o=(0,rr.Z)(i,2),a=o[0],c=o[1],l=(0,Z.useRef)(0),u=(0,Z.useRef)(!1),s=(0,Z.useCallback)((function(t,i){var o=gg(i);r.current.set(o,t),n.current.set(t,o),l.current+=1;var a,c=l.current;a=function(){c===l.current&&(u.current||e({}))},Promise.resolve().then(a)}),[]),f=(0,Z.useCallback)((function(t,e){var i=gg(e);r.current.delete(i),n.current.delete(t)}),[]),h=(0,Z.useCallback)((function(t){c(t)}),[]),d=(0,Z.useCallback)((function(t,e){var r=n.current.get(t)||"",i=r.split(vg);return e&&a.includes(i[0])&&i.unshift(mg),i}),[a]),p=(0,Z.useCallback)((function(t,e){return t.some((function(t){return d(t,!0).includes(e)}))}),[d]),v=(0,Z.useCallback)((function(t){var e="".concat(n.current.get(t)).concat(vg),i=new Set;return(0,Y.Z)(r.current.keys()).forEach((function(t){t.startsWith(e)&&i.add(r.current.get(t))})),i}),[]);return Z.useEffect((function(){return function(){u.current=!0}}),[]),{registerPath:s,unregisterPath:f,refreshOverflowKeys:h,isSubPathKey:p,getKeyPath:d,getKeys:function(){var t=(0,Y.Z)(n.current.keys());return a.length&&t.push(mg),t},getSubPathKeys:v}}function bg(t){var e=Z.useRef(t);e.current=t;var n=Z.useCallback((function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(t=e.current)||void 0===t?void 0:t.call.apply(t,[e].concat(r))}),[]);return t?n:void 0}var xg=Math.random().toFixed(5).toString().slice(2),wg=0;function Sg(t,e,n,r){var i=Z.useContext(Gv),o=i.activeKey,a=i.onActive,c=i.onInactive,l={active:o===t};return e||(l.onMouseEnter=function(e){null==n||n({key:t,domEvent:e}),a(t)},l.onMouseLeave=function(e){null==r||r({key:t,domEvent:e}),c(t)}),l}function kg(t){var e=Z.useContext(Gv),n=e.mode,r=e.rtl,i=e.inlineIndent;if("inline"!==n)return null;return r?{paddingRight:t*i}:{paddingLeft:t*i}}function Cg(t){var e=t.icon,n=t.props,r=t.children;return("function"==typeof e?Z.createElement(e,(0,lt.Z)({},n)):e)||r||null}var Og=["item"];function Eg(t){var e=t.item,n=(0,rt.Z)(t,Og);return Object.defineProperty(n,"item",{get:function(){return(0,bt.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),n}var Mg=["title","attribute","elementRef"],Ag=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Pg=["active"],_g=function(t){(0,et.Z)(n,t);var e=(0,nt.Z)(n);function n(){return(0,Q.Z)(this,n),e.apply(this,arguments)}return(0,tt.Z)(n,[{key:"render",value:function(){var t=this.props,e=t.title,n=t.attribute,r=t.elementRef,i=(0,rt.Z)(t,Mg),o=(0,ce.Z)(i,["eventKey","popupClassName","popupOffset","onTitleClick"]);return(0,bt.ZP)(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),Z.createElement(eh.Item,(0,J.Z)({},n,{title:"string"==typeof e?e:void 0},o,{ref:r}))}}]),n}(Z.Component),Dg=Z.forwardRef((function(t,e){var n,r=t.style,i=t.className,o=t.eventKey,a=(t.warnKey,t.disabled),c=t.itemIcon,l=t.children,u=t.role,s=t.onMouseEnter,f=t.onMouseLeave,h=t.onClick,d=t.onKeyDown,p=t.onFocus,v=(0,rt.Z)(t,Ag),g=Wv(o),m=Z.useContext(Gv),y=m.prefixCls,b=m.onItemClick,x=m.disabled,w=m.overflowDisabled,S=m.itemIcon,k=m.selectedKeys,C=m.onActive,O=Z.useContext(tg)._internalRenderMenuItem,E="".concat(y,"-item"),M=Z.useRef(),A=Z.useRef(),P=x||a,_=(0,le.x1)(e,A),D=Jv(o);var T=function(t){return{key:o,keyPath:(0,Y.Z)(D).reverse(),item:M.current,domEvent:t}},F=c||S,j=Sg(o,P,s,f),I=j.active,R=(0,rt.Z)(j,Pg),L=k.includes(o),N=kg(D.length),z={};"option"===t.role&&(z["aria-selected"]=L);var U=Z.createElement(_g,(0,J.Z)({ref:M,elementRef:_,role:null===u?"none":u||"menuitem",tabIndex:a?null:-1,"data-menu-id":w&&g?null:g},v,R,z,{component:"li","aria-disabled":a,style:(0,lt.Z)((0,lt.Z)({},N),r),className:K()(E,(n={},(0,B.Z)(n,"".concat(E,"-active"),I),(0,B.Z)(n,"".concat(E,"-selected"),L),(0,B.Z)(n,"".concat(E,"-disabled"),P),n),i),onClick:function(t){if(!P){var e=T(t);null==h||h(Eg(e)),b(e)}},onKeyDown:function(t){if(null==d||d(t),t.which===Ya.Z.ENTER){var e=T(t);null==h||h(Eg(e)),b(e)}},onFocus:function(t){C(o),null==p||p(t)}}),l,Z.createElement(Cg,{props:(0,lt.Z)((0,lt.Z)({},t),{},{isSelected:L}),icon:F}));return O&&(U=O(U,t,{selected:L})),U}));function Tg(t,e){var n=t.eventKey,r=$v(),i=Jv(n);return Z.useEffect((function(){if(r)return r.registerPath(n,i),function(){r.unregisterPath(n,i)}}),[i]),r?null:Z.createElement(Dg,(0,J.Z)({},t,{ref:e}))}var Zg=Z.forwardRef(Tg),Fg=["className","children"],jg=function(t,e){var n=t.className,r=t.children,i=(0,rt.Z)(t,Fg),o=Z.useContext(Gv),a=o.prefixCls,c=o.mode,l=o.rtl;return Z.createElement("ul",(0,J.Z)({className:K()(a,l&&"".concat(a,"-rtl"),"".concat(a,"-sub"),"".concat(a,"-").concat("inline"===c?"inline":"vertical"),n),role:"menu"},i,{"data-menu-list":!0,ref:e}),r)},Ig=Z.forwardRef(jg);Ig.displayName="SubMenuList";var Rg=Ig;function Lg(t,e){return(0,je.Z)(t).map((function(t,n){if(Z.isValidElement(t)){var r,i,o=t.key,a=null!==(r=null===(i=t.props)||void 0===i?void 0:i.eventKey)&&void 0!==r?r:o;null==a&&(a="tmp_key-".concat([].concat((0,Y.Z)(e),[n]).join("-")));var c={key:a,eventKey:a};return Z.cloneElement(t,c)}return t}))}var Ng={adjustX:1,adjustY:1},Bg={topLeft:{points:["bl","tl"],overflow:Ng},topRight:{points:["br","tr"],overflow:Ng},bottomLeft:{points:["tl","bl"],overflow:Ng},bottomRight:{points:["tr","br"],overflow:Ng},leftTop:{points:["tr","tl"],overflow:Ng},leftBottom:{points:["br","bl"],overflow:Ng},rightTop:{points:["tl","tr"],overflow:Ng},rightBottom:{points:["bl","br"],overflow:Ng}},zg={topLeft:{points:["bl","tl"],overflow:Ng},topRight:{points:["br","tr"],overflow:Ng},bottomLeft:{points:["tl","bl"],overflow:Ng},bottomRight:{points:["tr","br"],overflow:Ng},rightTop:{points:["tr","tl"],overflow:Ng},rightBottom:{points:["br","bl"],overflow:Ng},leftTop:{points:["tl","tr"],overflow:Ng},leftBottom:{points:["bl","br"],overflow:Ng}};function Ug(t,e,n){return e||(n?n[t]||n.other:void 0)}var Hg={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Wg(t){var e=t.prefixCls,n=t.visible,r=t.children,i=t.popup,o=t.popupClassName,a=t.popupOffset,c=t.disabled,l=t.mode,u=t.onVisibleChange,s=Z.useContext(Gv),f=s.getPopupContainer,h=s.rtl,d=s.subMenuOpenDelay,p=s.subMenuCloseDelay,v=s.builtinPlacements,g=s.triggerSubMenuAction,m=s.forceSubMenuRender,y=s.rootClassName,b=s.motion,x=s.defaultMotions,w=Z.useState(!1),S=(0,rr.Z)(w,2),k=S[0],C=S[1],O=h?(0,lt.Z)((0,lt.Z)({},zg),v):(0,lt.Z)((0,lt.Z)({},Bg),v),E=Hg[l],M=Ug(l,b,x),A=Z.useRef(M);"inline"!==l&&(A.current=M);var P=(0,lt.Z)((0,lt.Z)({},A.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),_=Z.useRef();return Z.useEffect((function(){return _.current=(0,pe.Z)((function(){C(n)})),function(){pe.Z.cancel(_.current)}}),[n]),Z.createElement(Di,{prefixCls:e,popupClassName:K()("".concat(e,"-popup"),(0,B.Z)({},"".concat(e,"-rtl"),h),o,y),stretch:"horizontal"===l?"minWidth":null,getPopupContainer:f,builtinPlacements:O,popupPlacement:E,popupVisible:k,popup:i,popupAlign:a&&{offset:a},action:c?[]:[g],mouseEnterDelay:d,mouseLeaveDelay:p,onPopupVisibleChange:u,forceRender:m,popupMotion:P},r)}function Vg(t){var e=t.id,n=t.open,r=t.keyPath,i=t.children,o="inline",a=Z.useContext(Gv),c=a.prefixCls,l=a.forceSubMenuRender,u=a.motion,s=a.defaultMotions,f=a.mode,h=Z.useRef(!1);h.current=f===o;var d=Z.useState(!h.current),p=(0,rr.Z)(d,2),v=p[0],g=p[1],m=!!h.current&&n;Z.useEffect((function(){h.current&&g(!1)}),[f]);var y=(0,lt.Z)({},Ug(o,u,s));r.length>1&&(y.motionAppear=!1);var b=y.onVisibleChanged;return y.onVisibleChanged=function(t){return h.current||t||g(!0),null==b?void 0:b(t)},v?null:Z.createElement(Xv,{mode:o,locked:!h.current},Z.createElement(ne.ZP,(0,J.Z)({visible:m},y,{forceRender:l,removeOnLeave:!1,leavedClassName:"".concat(c,"-hidden")}),(function(t){var n=t.className,r=t.style;return Z.createElement(Rg,{id:e,className:n,style:r},i)})))}var Gg=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Xg=["active"],qg=function(t){var e,n=t.style,r=t.className,i=t.title,o=t.eventKey,a=(t.warnKey,t.disabled),c=t.internalPopupClose,l=t.children,u=t.itemIcon,s=t.expandIcon,f=t.popupClassName,h=t.popupOffset,d=t.onClick,p=t.onMouseEnter,v=t.onMouseLeave,g=t.onTitleClick,m=t.onTitleMouseEnter,y=t.onTitleMouseLeave,b=(0,rt.Z)(t,Gg),x=Wv(o),w=Z.useContext(Gv),S=w.prefixCls,k=w.mode,C=w.openKeys,O=w.disabled,E=w.overflowDisabled,M=w.activeKey,A=w.selectedKeys,P=w.itemIcon,_=w.expandIcon,D=w.onItemClick,T=w.onOpenChange,F=w.onActive,j=Z.useContext(tg)._internalRenderSubMenuItem,I=Z.useContext(Qv).isSubPathKey,R=Jv(),L="".concat(S,"-submenu"),N=O||a,z=Z.useRef(),U=Z.useRef();var H=u||P,W=s||_,V=C.includes(o),G=!E&&V,X=I(A,o),q=Sg(o,N,m,y),Y=q.active,$=(0,rt.Z)(q,Xg),Q=Z.useState(!1),tt=(0,rr.Z)(Q,2),et=tt[0],nt=tt[1],it=function(t){N||nt(t)},ot=Z.useMemo((function(){return Y||"inline"!==k&&(et||I([M],o))}),[k,Y,M,et,o,I]),at=kg(R.length),ct=bg((function(t){null==d||d(Eg(t)),D(t)})),ut=x&&"".concat(x,"-popup"),st=Z.createElement("div",(0,J.Z)({role:"menuitem",style:at,className:"".concat(L,"-title"),tabIndex:N?null:-1,ref:z,title:"string"==typeof i?i:null,"data-menu-id":E&&x?null:x,"aria-expanded":G,"aria-haspopup":!0,"aria-controls":ut,"aria-disabled":N,onClick:function(t){N||(null==g||g({key:o,domEvent:t}),"inline"===k&&T(o,!V))},onFocus:function(){F(o)}},$),i,Z.createElement(Cg,{icon:"horizontal"!==k?W:null,props:(0,lt.Z)((0,lt.Z)({},t),{},{isOpen:G,isSubMenu:!0})},Z.createElement("i",{className:"".concat(L,"-arrow")}))),ft=Z.useRef(k);if("inline"!==k&&R.length>1?ft.current="vertical":ft.current=k,!E){var ht=ft.current;st=Z.createElement(Wg,{mode:ht,prefixCls:L,visible:!c&&G&&"inline"!==k,popupClassName:f,popupOffset:h,popup:Z.createElement(Xv,{mode:"horizontal"===ht?"vertical":ht},Z.createElement(Rg,{id:ut,ref:U},l)),disabled:N,onVisibleChange:function(t){"inline"!==k&&T(o,t)}},st)}var dt=Z.createElement(eh.Item,(0,J.Z)({role:"none"},b,{component:"li",style:n,className:K()(L,"".concat(L,"-").concat(k),r,(e={},(0,B.Z)(e,"".concat(L,"-open"),G),(0,B.Z)(e,"".concat(L,"-active"),ot),(0,B.Z)(e,"".concat(L,"-selected"),X),(0,B.Z)(e,"".concat(L,"-disabled"),N),e)),onMouseEnter:function(t){it(!0),null==p||p({key:o,domEvent:t})},onMouseLeave:function(t){it(!1),null==v||v({key:o,domEvent:t})}}),st,!E&&Z.createElement(Vg,{id:ut,open:G,keyPath:R},l));return j&&(dt=j(dt,t,{selected:X,active:ot,open:G,disabled:N})),Z.createElement(Xv,{onItemClick:ct,mode:"horizontal"===k?"vertical":k,itemIcon:H,expandIcon:W},dt)};function Yg(t){var e,n=t.eventKey,r=t.children,i=Jv(n),o=Lg(r,i),a=$v();return Z.useEffect((function(){if(a)return a.registerPath(n,i),function(){a.unregisterPath(n,i)}}),[i]),e=a?o:Z.createElement(qg,t,o),Z.createElement(Kv.Provider,{value:i},e)}var $g=["className","title","eventKey","children"],Kg=["children"],Jg=function(t){var e=t.className,n=t.title,r=(t.eventKey,t.children),i=(0,rt.Z)(t,$g),o=Z.useContext(Gv).prefixCls,a="".concat(o,"-item-group");return Z.createElement("li",(0,J.Z)({role:"presentation"},i,{onClick:function(t){return t.stopPropagation()},className:K()(a,e)}),Z.createElement("div",{role:"presentation",className:"".concat(a,"-title"),title:"string"==typeof n?n:void 0},n),Z.createElement("ul",{role:"group",className:"".concat(a,"-list")},r))};function Qg(t){var e=t.children,n=(0,rt.Z)(t,Kg),r=Lg(e,Jv(n.eventKey));return $v()?r:Z.createElement(Jg,(0,ce.Z)(n,["warnKey"]),r)}function tm(t){var e=t.className,n=t.style,r=Z.useContext(Gv).prefixCls;return $v()?null:Z.createElement("li",{className:K()("".concat(r,"-item-divider"),e),style:n})}var em=["label","children","key","type"];function nm(t){return(t||[]).map((function(t,e){if(t&&"object"===(0,it.Z)(t)){var n=t,r=n.label,i=n.children,o=n.key,a=n.type,c=(0,rt.Z)(n,em),l=null!=o?o:"tmp-".concat(e);return i||"group"===a?"group"===a?Z.createElement(Qg,(0,J.Z)({key:l},c,{title:r}),nm(i)):Z.createElement(Yg,(0,J.Z)({key:l},c,{title:r}),nm(i)):"divider"===a?Z.createElement(tm,(0,J.Z)({key:l},c)):Z.createElement(Zg,(0,J.Z)({key:l},c),r)}return null})).filter((function(t){return t}))}function rm(t,e,n){var r=t;return e&&(r=nm(e)),Lg(r,n)}var im=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],om=[],am=Z.forwardRef((function(t,e){var n,r,i=t,o=i.prefixCls,a=void 0===o?"rc-menu":o,c=i.rootClassName,l=i.style,u=i.className,s=i.tabIndex,f=void 0===s?0:s,h=i.items,d=i.children,p=i.direction,v=i.id,g=i.mode,m=void 0===g?"vertical":g,y=i.inlineCollapsed,b=i.disabled,x=i.disabledOverflow,w=i.subMenuOpenDelay,S=void 0===w?.1:w,k=i.subMenuCloseDelay,C=void 0===k?.1:k,O=i.forceSubMenuRender,E=i.defaultOpenKeys,M=i.openKeys,A=i.activeKey,P=i.defaultActiveFirst,_=i.selectable,D=void 0===_||_,T=i.multiple,F=void 0!==T&&T,j=i.defaultSelectedKeys,I=i.selectedKeys,R=i.onSelect,L=i.onDeselect,N=i.inlineIndent,z=void 0===N?24:N,U=i.motion,H=i.defaultMotions,W=i.triggerSubMenuAction,V=void 0===W?"hover":W,G=i.builtinPlacements,X=i.itemIcon,q=i.expandIcon,$=i.overflowedIndicator,Q=void 0===$?"...":$,tt=i.overflowedIndicatorPopupClassName,et=i.getPopupContainer,nt=i.onClick,it=i.onOpenChange,ot=i.onKeyDown,at=(i.openAnimation,i.openTransitionName,i._internalRenderMenuItem),ct=i._internalRenderSubMenuItem,ut=(0,rt.Z)(i,im),st=Z.useMemo((function(){return rm(d,h,om)}),[d,h]),ft=Z.useState(!1),ht=(0,rr.Z)(ft,2),dt=ht[0],pt=ht[1],vt=Z.useRef(),gt=function(t){var e=(0,At.Z)(t,{value:t}),n=(0,rr.Z)(e,2),r=n[0],i=n[1];return Z.useEffect((function(){wg+=1;var t="".concat(xg,"-").concat(wg);i("rc-menu-uuid-".concat(t))}),[]),r}(v),mt="rtl"===p;var yt=(0,At.Z)(E,{value:M,postState:function(t){return t||om}}),bt=(0,rr.Z)(yt,2),xt=bt[0],wt=bt[1],St=function(t){function e(){wt(t),null==it||it(t)}arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,Pt.flushSync)(e):e()},kt=Z.useState(xt),Ct=(0,rr.Z)(kt,2),Ot=Ct[0],Et=Ct[1],Mt=Z.useRef(!1),_t=Z.useMemo((function(){return"inline"!==m&&"vertical"!==m||!y?[m,!1]:["vertical",y]}),[m,y]),Dt=(0,rr.Z)(_t,2),Tt=Dt[0],Zt=Dt[1],Ft="inline"===Tt,jt=Z.useState(Tt),It=(0,rr.Z)(jt,2),Rt=It[0],Lt=It[1],Nt=Z.useState(Zt),Bt=(0,rr.Z)(Nt,2),zt=Bt[0],Ut=Bt[1];Z.useEffect((function(){Lt(Tt),Ut(Zt),Mt.current&&(Ft?wt(Ot):St(om))}),[Tt,Zt]);var Ht=Z.useState(0),Wt=(0,rr.Z)(Ht,2),Vt=Wt[0],Gt=Wt[1],Xt=Vt>=st.length-1||"horizontal"!==Rt||x;Z.useEffect((function(){Ft&&Et(xt)}),[xt]),Z.useEffect((function(){return Mt.current=!0,function(){Mt.current=!1}}),[]);var qt=yg(),Yt=qt.registerPath,$t=qt.unregisterPath,Kt=qt.refreshOverflowKeys,Jt=qt.isSubPathKey,Qt=qt.getKeyPath,te=qt.getKeys,ee=qt.getSubPathKeys,ne=Z.useMemo((function(){return{registerPath:Yt,unregisterPath:$t}}),[Yt,$t]),re=Z.useMemo((function(){return{isSubPathKey:Jt}}),[Jt]);Z.useEffect((function(){Kt(Xt?om:st.slice(Vt+1).map((function(t){return t.key})))}),[Vt,Xt]);var ie=(0,At.Z)(A||P&&(null===(n=st[0])||void 0===n?void 0:n.key),{value:A}),oe=(0,rr.Z)(ie,2),ae=oe[0],ce=oe[1],le=bg((function(t){ce(t)})),ue=bg((function(){ce(void 0)}));(0,Z.useImperativeHandle)(e,(function(){return{list:vt.current,focus:function(t){var e,n,r,i,o=null!=ae?ae:null===(e=st.find((function(t){return!t.props.disabled})))||void 0===e?void 0:e.key;o&&(null===(n=vt.current)||void 0===n||null===(r=n.querySelector("li[data-menu-id='".concat(Hv(gt,o),"']")))||void 0===r||null===(i=r.focus)||void 0===i||i.call(r,t))}}}));var se=(0,At.Z)(j||[],{value:I,postState:function(t){return Array.isArray(t)?t:null==t?om:[t]}}),fe=(0,rr.Z)(se,2),he=fe[0],de=fe[1],pe=bg((function(t){null==nt||nt(Eg(t)),function(t){if(D){var e,n=t.key,r=he.includes(n);e=F?r?he.filter((function(t){return t!==n})):[].concat((0,Y.Z)(he),[n]):[n],de(e);var i=(0,lt.Z)((0,lt.Z)({},t),{},{selectedKeys:e});r?null==L||L(i):null==R||R(i)}!F&&xt.length&&"inline"!==Rt&&St(om)}(t)})),ve=bg((function(t,e){var n=xt.filter((function(e){return e!==t}));if(e)n.push(t);else if("inline"!==Rt){var r=ee(t);n=n.filter((function(t){return!r.has(t)}))}(0,Pa.Z)(xt,n,!0)||St(n,!0)})),ge=pg(Rt,ae,mt,gt,vt,te,Qt,ce,(function(t,e){var n=null!=e?e:!xt.includes(t);ve(t,n)}),ot);Z.useEffect((function(){pt(!0)}),[]);var me=Z.useMemo((function(){return{_internalRenderMenuItem:at,_internalRenderSubMenuItem:ct}}),[at,ct]),ye="horizontal"!==Rt||x?st:st.map((function(t,e){return Z.createElement(Xv,{key:t.key,overflowDisabled:e>Vt},t)})),be=Z.createElement(eh,(0,J.Z)({id:v,ref:vt,prefixCls:"".concat(a,"-overflow"),component:"ul",itemComponent:Zg,className:K()(a,"".concat(a,"-root"),"".concat(a,"-").concat(Rt),u,(r={},(0,B.Z)(r,"".concat(a,"-inline-collapsed"),zt),(0,B.Z)(r,"".concat(a,"-rtl"),mt),r),c),dir:p,style:l,role:"menu",tabIndex:f,data:ye,renderRawItem:function(t){return t},renderRawRest:function(t){var e=t.length,n=e?st.slice(-e):null;return Z.createElement(Yg,{eventKey:mg,title:Q,disabled:Xt,internalPopupClose:0===e,popupClassName:tt},n)},maxCount:"horizontal"!==Rt||x?eh.INVALIDATE:eh.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(t){Gt(t)},onKeyDown:ge},ut));return Z.createElement(tg.Provider,{value:me},Z.createElement(Uv.Provider,{value:gt},Z.createElement(Xv,{prefixCls:a,rootClassName:c,mode:Rt,openKeys:xt,rtl:mt,disabled:b,motion:dt?U:null,defaultMotions:dt?H:null,activeKey:ae,onActive:le,onInactive:ue,selectedKeys:he,inlineIndent:z,subMenuOpenDelay:S,subMenuCloseDelay:C,forceSubMenuRender:O,builtinPlacements:G,triggerSubMenuAction:V,getPopupContainer:et,itemIcon:X,expandIcon:q,onItemClick:pe,onOpenChange:ve},Z.createElement(Qv.Provider,{value:re},be),Z.createElement("div",{style:{display:"none"},"aria-hidden":!0},Z.createElement(Yv.Provider,{value:ne},st)))))})),cm=am;cm.Item=Zg,cm.SubMenu=Yg,cm.ItemGroup=Qg,cm.Divider=tm;var lm=cm;function um(t,e){var n=t.prefixCls,r=t.id,i=t.tabs,o=t.locale,a=t.mobile,c=t.moreIcon,l=void 0===c?"More":c,u=t.moreTransitionName,s=t.style,f=t.className,h=t.editable,d=t.tabBarGutter,p=t.rtl,v=t.removeAriaLabel,g=t.onTabClick,m=t.getPopupContainer,y=t.popupClassName,b=(0,Z.useState)(!1),x=(0,rr.Z)(b,2),w=x[0],S=x[1],k=(0,Z.useState)(null),C=(0,rr.Z)(k,2),O=C[0],E=C[1],M="".concat(r,"-more-popup"),A="".concat(n,"-dropdown"),P=null!==O?"".concat(M,"-").concat(O):null,_=null==o?void 0:o.dropdownAriaLabel;var D=Z.createElement(lm,{onClick:function(t){var e=t.key,n=t.domEvent;g(e,n),S(!1)},prefixCls:"".concat(A,"-menu"),id:M,tabIndex:-1,role:"listbox","aria-activedescendant":P,selectedKeys:[O],"aria-label":void 0!==_?_:"expanded dropdown"},i.map((function(t){var e=t.closable,n=t.disabled,i=t.closeIcon,o=t.key,a=t.label,c=Mv(e,i,h,n);return Z.createElement(Zg,{key:o,id:"".concat(M,"-").concat(o),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(o),disabled:n},Z.createElement("span",null,a),c&&Z.createElement("button",{type:"button","aria-label":v||"remove",tabIndex:0,className:"".concat(A,"-menu-item-remove"),onClick:function(t){t.stopPropagation(),function(t,e){t.preventDefault(),t.stopPropagation(),h.onEdit("remove",{key:e,event:t})}(t,o)}},i||h.removeIcon||"×"))})));function T(t){for(var e=i.filter((function(t){return!t.disabled})),n=e.findIndex((function(t){return t.key===O}))||0,r=e.length,o=0;o<r;o+=1){var a=e[n=(n+t+r)%r];if(!a.disabled)return void E(a.key)}}(0,Z.useEffect)((function(){var t=document.getElementById(P);t&&t.scrollIntoView&&t.scrollIntoView(!1)}),[O]),(0,Z.useEffect)((function(){w||E(null)}),[w]);var F=(0,B.Z)({},p?"marginRight":"marginLeft",d);i.length||(F.visibility="hidden",F.order=1);var j=K()((0,B.Z)({},"".concat(A,"-rtl"),p)),I=a?null:Z.createElement(zv,{prefixCls:A,overlay:D,trigger:["hover"],visible:!!i.length&&w,transitionName:u,onVisibleChange:S,overlayClassName:K()(j,y),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:m},Z.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:F,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":M,id:"".concat(r,"-more"),"aria-expanded":w,onKeyDown:function(t){var e=t.which;if(w)switch(e){case Ya.Z.UP:T(-1),t.preventDefault();break;case Ya.Z.DOWN:T(1),t.preventDefault();break;case Ya.Z.ESC:S(!1);break;case Ya.Z.SPACE:case Ya.Z.ENTER:null!==O&&g(O,t)}else[Ya.Z.DOWN,Ya.Z.SPACE,Ya.Z.ENTER].includes(e)&&(S(!0),t.preventDefault())}},l));return Z.createElement("div",{className:K()("".concat(n,"-nav-operations"),f),style:s,ref:e},I,Z.createElement(Pv,{prefixCls:n,locale:o,editable:h}))}var sm=Z.memo(Z.forwardRef(um),(function(t,e){return e.tabMoving}));var fm=function(t){var e,n=t.prefixCls,r=t.id,i=t.active,o=t.tab,a=o.key,c=o.label,l=o.disabled,u=o.closeIcon,s=t.closable,f=t.renderWrapper,h=t.removeAriaLabel,d=t.editable,p=t.onClick,v=t.onFocus,g=t.style,m="".concat(n,"-tab"),y=Mv(s,u,d,l);function b(t){l||p(t)}var x=Z.createElement("div",{key:a,"data-node-key":Ev(a),className:K()(m,(e={},(0,B.Z)(e,"".concat(m,"-with-remove"),y),(0,B.Z)(e,"".concat(m,"-active"),i),(0,B.Z)(e,"".concat(m,"-disabled"),l),e)),style:g,onClick:b},Z.createElement("div",{role:"tab","aria-selected":i,id:r&&"".concat(r,"-tab-").concat(a),className:"".concat(m,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(a),"aria-disabled":l,tabIndex:l?null:0,onClick:function(t){t.stopPropagation(),b(t)},onKeyDown:function(t){[Ya.Z.SPACE,Ya.Z.ENTER].includes(t.which)&&(t.preventDefault(),b(t))},onFocus:v},c),y&&Z.createElement("button",{type:"button","aria-label":h||"remove",tabIndex:0,className:"".concat(m,"-remove"),onClick:function(t){var e;t.stopPropagation(),(e=t).preventDefault(),e.stopPropagation(),d.onEdit("remove",{key:a,event:e})}},u||d.removeIcon||"×"));return f?f(x):x},hm=function(t){var e=t.current||{},n=e.offsetWidth,r=void 0===n?0:n,i=e.offsetHeight;return[r,void 0===i?0:i]},dm=function(t,e){return t[e?0:1]};function pm(t,e){var n,r=Z.useContext(fv),i=r.prefixCls,o=r.tabs,a=t.className,c=t.style,l=t.id,u=t.animated,s=t.activeKey,f=t.rtl,h=t.extra,d=t.editable,p=t.locale,v=t.tabPosition,g=t.tabBarGutter,m=t.children,y=t.onTabClick,b=t.onTabScroll,x=(0,Z.useRef)(),w=(0,Z.useRef)(),S=(0,Z.useRef)(),k=(0,Z.useRef)(),C=(0,Z.useRef)(),O=(0,Z.useRef)(),E=(0,Z.useRef)(),M="top"===v||"bottom"===v,A=mv(0,(function(t,e){M&&b&&b({direction:t>e?"left":"right"})})),P=(0,rr.Z)(A,2),_=P[0],D=P[1],T=mv(0,(function(t,e){!M&&b&&b({direction:t>e?"top":"bottom"})})),F=(0,rr.Z)(T,2),j=F[0],I=F[1],R=(0,Z.useState)([0,0]),L=(0,rr.Z)(R,2),N=L[0],z=L[1],U=(0,Z.useState)([0,0]),H=(0,rr.Z)(U,2),W=H[0],V=H[1],G=(0,Z.useState)([0,0]),X=(0,rr.Z)(G,2),q=X[0],$=X[1],Q=(0,Z.useState)([0,0]),tt=(0,rr.Z)(Q,2),et=tt[0],nt=tt[1],rt=function(t){var e=(0,Z.useRef)([]),n=(0,Z.useState)({}),r=(0,rr.Z)(n,2)[1],i=(0,Z.useRef)("function"==typeof t?t():t),o=Sv((function(){var t=i.current;e.current.forEach((function(e){t=e(t)})),e.current=[],i.current=t,r({})}));return[i.current,function(t){e.current.push(t),o()}]}(new Map),it=(0,rr.Z)(rt,2),ot=it[0],at=it[1],ct=function(t,e,n){return(0,Z.useMemo)((function(){for(var n,r=new Map,i=e.get(null===(n=t[0])||void 0===n?void 0:n.key)||gv,o=i.left+i.width,a=0;a<t.length;a+=1){var c,l=t[a].key,u=e.get(l);u||(u=e.get(null===(c=t[a-1])||void 0===c?void 0:c.key)||gv);var s=r.get(l)||(0,lt.Z)({},u);s.right=o-s.left-s.width,r.set(l,s)}return r}),[t.map((function(t){return t.key})).join("_"),e,n])}(o,ot,W[0]),ut=dm(N,M),st=dm(W,M),ft=dm(q,M),ht=dm(et,M),dt=ut<st+ft,pt=dt?ut-ht:ut-ft,vt="".concat(i,"-nav-operations-hidden"),gt=0,mt=0;function yt(t){return t<gt?gt:t>mt?mt:t}M&&f?(gt=0,mt=Math.max(0,st-pt)):(gt=Math.min(0,pt-st),mt=0);var bt=(0,Z.useRef)(),xt=(0,Z.useState)(),wt=(0,rr.Z)(xt,2),St=wt[0],kt=wt[1];function Ct(){kt(Date.now())}function Ot(){window.clearTimeout(bt.current)}!function(t,e){var n=(0,Z.useState)(),r=(0,rr.Z)(n,2),i=r[0],o=r[1],a=(0,Z.useState)(0),c=(0,rr.Z)(a,2),l=c[0],u=c[1],s=(0,Z.useState)(0),f=(0,rr.Z)(s,2),h=f[0],d=f[1],p=(0,Z.useState)(),v=(0,rr.Z)(p,2),g=v[0],m=v[1],y=(0,Z.useRef)(),b=(0,Z.useRef)(),x=(0,Z.useRef)(null);x.current={onTouchStart:function(t){var e=t.touches[0],n=e.screenX,r=e.screenY;o({x:n,y:r}),window.clearInterval(y.current)},onTouchMove:function(t){if(i){t.preventDefault();var n=t.touches[0],r=n.screenX,a=n.screenY;o({x:r,y:a});var c=r-i.x,s=a-i.y;e(c,s);var f=Date.now();u(f),d(f-l),m({x:c,y:s})}},onTouchEnd:function(){if(i&&(o(null),m(null),g)){var t=g.x/h,n=g.y/h,r=Math.abs(t),a=Math.abs(n);if(Math.max(r,a)<yv)return;var c=t,l=n;y.current=window.setInterval((function(){Math.abs(c)<bv&&Math.abs(l)<bv?window.clearInterval(y.current):e((c*=wv)*xv,(l*=wv)*xv)}),xv)}},onWheel:function(t){var n=t.deltaX,r=t.deltaY,i=0,o=Math.abs(n),a=Math.abs(r);o===a?i="x"===b.current?n:r:o>a?(i=n,b.current="x"):(i=r,b.current="y"),e(-i,-i)&&t.preventDefault()}},Z.useEffect((function(){function e(t){x.current.onTouchMove(t)}function n(t){x.current.onTouchEnd(t)}return document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),t.current.addEventListener("touchstart",(function(t){x.current.onTouchStart(t)}),{passive:!1}),t.current.addEventListener("wheel",(function(t){x.current.onWheel(t)})),function(){document.removeEventListener("touchmove",e),document.removeEventListener("touchend",n)}}),[])}(k,(function(t,e){function n(t,e){t((function(t){return yt(t+e)}))}return!!dt&&(M?n(D,t):n(I,e),Ot(),Ct(),!0)})),(0,Z.useEffect)((function(){return Ot(),St&&(bt.current=window.setTimeout((function(){kt(0)}),100)),Ot}),[St]);var Et=function(t,e,n,r,i,o,a){var c,l,u,s=a.tabs,f=a.tabPosition,h=a.rtl;return["top","bottom"].includes(f)?(c="width",l=h?"right":"left",u=Math.abs(n)):(c="height",l="top",u=-n),(0,Z.useMemo)((function(){if(!s.length)return[0,0];for(var n=s.length,r=n,i=0;i<n;i+=1){var o=t.get(s[i].key)||kv;if(o[l]+o[c]>u+e){r=i-1;break}}for(var a=0,f=n-1;f>=0;f-=1)if((t.get(s[f].key)||kv)[l]<u){a=f+1;break}return a>=r?[0,0]:[a,r]}),[t,e,r,i,o,u,f,s.map((function(t){return t.key})).join("_"),h])}(ct,pt,M?_:j,st,ft,ht,(0,lt.Z)((0,lt.Z)({},t),{},{tabs:o})),Mt=(0,rr.Z)(Et,2),At=Mt[0],Pt=Mt[1],_t=(0,de.Z)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=ct.get(t)||{width:0,height:0,left:0,right:0,top:0};if(M){var n=_;f?e.right<_?n=e.right:e.right+e.width>_+pt&&(n=e.right+e.width-pt):e.left<-_?n=-e.left:e.left+e.width>-_+pt&&(n=-(e.left+e.width-pt)),I(0),D(yt(n))}else{var r=j;e.top<-j?r=-e.top:e.top+e.height>-j+pt&&(r=-(e.top+e.height-pt)),D(0),I(yt(r))}})),Dt={};"top"===v||"bottom"===v?Dt[f?"marginRight":"marginLeft"]=g:Dt.marginTop=g;var Tt=o.map((function(t,e){var n=t.key;return Z.createElement(fm,{id:l,prefixCls:i,key:n,tab:t,style:0===e?void 0:Dt,closable:t.closable,editable:d,active:n===s,renderWrapper:m,removeAriaLabel:null==p?void 0:p.removeAriaLabel,onClick:function(t){y(n,t)},onFocus:function(){_t(n),Ct(),k.current&&(f||(k.current.scrollLeft=0),k.current.scrollTop=0)}})})),Zt=function(){return at((function(){var t=new Map;return o.forEach((function(e){var n,r=e.key,i=null===(n=C.current)||void 0===n?void 0:n.querySelector('[data-node-key="'.concat(Ev(r),'"]'));i&&t.set(r,{width:i.offsetWidth,height:i.offsetHeight,left:i.offsetLeft,top:i.offsetTop})})),t}))};(0,Z.useEffect)((function(){Zt()}),[o.map((function(t){return t.key})).join("_")]);var Ft=Sv((function(){var t=hm(x),e=hm(w),n=hm(S);z([t[0]-e[0]-n[0],t[1]-e[1]-n[1]]);var r=hm(E);$(r);var i=hm(O);nt(i);var o=hm(C);V([o[0]-r[0],o[1]-r[1]]),Zt()})),jt=o.slice(0,At),It=o.slice(Pt+1),Rt=[].concat((0,Y.Z)(jt),(0,Y.Z)(It)),Lt=(0,Z.useState)(),Nt=(0,rr.Z)(Lt,2),Bt=Nt[0],zt=Nt[1],Ut=ct.get(s),Ht=(0,Z.useRef)();function Wt(){pe.Z.cancel(Ht.current)}(0,Z.useEffect)((function(){var t={};return Ut&&(M?(f?t.right=Ut.right:t.left=Ut.left,t.width=Ut.width):(t.top=Ut.top,t.height=Ut.height)),Wt(),Ht.current=(0,pe.Z)((function(){zt(t)})),Wt}),[Ut,M,f]),(0,Z.useEffect)((function(){_t()}),[s,gt,mt,Cv(Ut),Cv(ct),M]),(0,Z.useEffect)((function(){Ft()}),[f]);var Vt,Gt,Xt,qt,Yt=!!Rt.length,$t="".concat(i,"-nav-wrap");return M?f?(Gt=_>0,Vt=_!==mt):(Vt=_<0,Gt=_!==gt):(Xt=j<0,qt=j!==gt),Z.createElement(ii,{onResize:Ft},Z.createElement("div",{ref:(0,le.x1)(e,x),role:"tablist",className:K()("".concat(i,"-nav"),a),style:c,onKeyDown:function(){Ct()}},Z.createElement(Dv,{ref:w,position:"left",extra:h,prefixCls:i}),Z.createElement("div",{className:K()($t,(n={},(0,B.Z)(n,"".concat($t,"-ping-left"),Vt),(0,B.Z)(n,"".concat($t,"-ping-right"),Gt),(0,B.Z)(n,"".concat($t,"-ping-top"),Xt),(0,B.Z)(n,"".concat($t,"-ping-bottom"),qt),n)),ref:k},Z.createElement(ii,{onResize:Ft},Z.createElement("div",{ref:C,className:"".concat(i,"-nav-list"),style:{transform:"translate(".concat(_,"px, ").concat(j,"px)"),transition:St?"none":void 0}},Tt,Z.createElement(Pv,{ref:E,prefixCls:i,locale:p,editable:d,style:(0,lt.Z)((0,lt.Z)({},0===Tt.length?void 0:Dt),{},{visibility:Yt?"hidden":null})}),Z.createElement("div",{className:K()("".concat(i,"-ink-bar"),(0,B.Z)({},"".concat(i,"-ink-bar-animated"),u.inkBar)),style:Bt})))),Z.createElement(sm,(0,J.Z)({},t,{removeAriaLabel:null==p?void 0:p.removeAriaLabel,ref:O,prefixCls:i,tabs:Rt,className:!Yt&&vt,tabMoving:!!St})),Z.createElement(Dv,{ref:S,position:"right",extra:h,prefixCls:i})))}var vm=Z.forwardRef(pm),gm=["renderTabBar"],mm=["label","key"];function ym(t){var e=t.renderTabBar,n=(0,rt.Z)(t,gm),r=Z.useContext(fv).tabs;if(e){var i=(0,lt.Z)((0,lt.Z)({},n),{},{panes:r.map((function(t){var e=t.label,n=t.key,r=(0,rt.Z)(t,mm);return Z.createElement(dv,(0,J.Z)({tab:e,key:n,tabKey:n},r))}))});return e(i,vm)}return Z.createElement(vm,n)}var bm=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],xm=0;function wm(t,e){var n,r=t.id,i=t.prefixCls,o=void 0===i?"rc-tabs":i,a=t.className,c=t.items,l=t.direction,u=t.activeKey,s=t.defaultActiveKey,f=t.editable,h=t.animated,d=t.tabPosition,p=void 0===d?"top":d,v=t.tabBarGutter,g=t.tabBarStyle,m=t.tabBarExtraContent,y=t.locale,b=t.moreIcon,x=t.moreTransitionName,w=t.destroyInactiveTabPane,S=t.renderTabBar,k=t.onChange,C=t.onTabClick,O=t.onTabScroll,E=t.getPopupContainer,M=t.popupClassName,A=(0,rt.Z)(t,bm),P=Z.useMemo((function(){return(c||[]).filter((function(t){return t&&"object"===(0,it.Z)(t)&&"key"in t}))}),[c]),_="rtl"===l,D=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inkBar:!0,tabPane:!1};return(t=!1===e?{inkBar:!1,tabPane:!1}:!0===e?{inkBar:!0,tabPane:!1}:(0,lt.Z)({inkBar:!0},"object"===(0,it.Z)(e)?e:{})).tabPaneMotion&&void 0===t.tabPane&&(t.tabPane=!0),!t.tabPaneMotion&&t.tabPane&&(t.tabPane=!1),t}(h),T=(0,Z.useState)(!1),F=(0,rr.Z)(T,2),j=F[0],I=F[1];(0,Z.useEffect)((function(){I(li())}),[]);var R=(0,At.Z)((function(){var t;return null===(t=P[0])||void 0===t?void 0:t.key}),{value:u,defaultValue:s}),L=(0,rr.Z)(R,2),N=L[0],z=L[1],U=(0,Z.useState)((function(){return P.findIndex((function(t){return t.key===N}))})),H=(0,rr.Z)(U,2),W=H[0],V=H[1];(0,Z.useEffect)((function(){var t,e=P.findIndex((function(t){return t.key===N}));-1===e&&(e=Math.max(0,Math.min(W,P.length-1)),z(null===(t=P[e])||void 0===t?void 0:t.key));V(e)}),[P.map((function(t){return t.key})).join("_"),N,W]);var G=(0,At.Z)(null,{value:r}),X=(0,rr.Z)(G,2),q=X[0],Y=X[1];(0,Z.useEffect)((function(){r||(Y("rc-tabs-".concat(xm)),xm+=1)}),[]);var $={id:q,activeKey:N,animated:D,tabPosition:p,rtl:_,mobile:j},Q=(0,lt.Z)((0,lt.Z)({},$),{},{editable:f,locale:y,moreIcon:b,moreTransitionName:x,tabBarGutter:v,onTabClick:function(t,e){null==C||C(t,e);var n=t!==N;z(t),n&&(null==k||k(t))},onTabScroll:O,extra:m,style:g,panes:null,getPopupContainer:E,popupClassName:M});return Z.createElement(fv.Provider,{value:{tabs:P,prefixCls:o}},Z.createElement("div",(0,J.Z)({ref:e,id:r,className:K()(o,"".concat(o,"-").concat(p),(n={},(0,B.Z)(n,"".concat(o,"-mobile"),j),(0,B.Z)(n,"".concat(o,"-editable"),f),(0,B.Z)(n,"".concat(o,"-rtl"),_),n),a)},A),undefined,Z.createElement(ym,(0,J.Z)({},Q,{renderTabBar:S})),Z.createElement(vv,(0,J.Z)({destroyInactiveTabPane:w},$,{animated:D}))))}var Sm=Z.forwardRef(wm);var km=function(){return null},Cm={motionAppear:!1,motionEnter:!0,motionLeave:!0};var Om=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};var Em=function(t){var e=t.componentCls,n=t.motionDurationSlow;return[(0,V.Z)({},e,(0,V.Z)({},"".concat(e,"-switch"),{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:"opacity ".concat(n)}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:"opacity ".concat(n)}}})),[Od(t,"slide-up"),Od(t,"slide-down")]]},Mm=function(t){var e,n,r,i,o,a,c=t.componentCls,l=t.tabsCardPadding,u=t.cardBg,s=t.cardGutter,f=t.colorBorderSecondary,h=t.itemSelectedColor;return(0,V.Z)({},"".concat(c,"-card"),(a={},(0,V.Z)(a,"> ".concat(c,"-nav, > div > ").concat(c,"-nav"),(e={},(0,V.Z)(e,"".concat(c,"-tab"),{margin:0,padding:l,background:u,border:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(f),transition:"all ".concat(t.motionDurationSlow," ").concat(t.motionEaseInOut)}),(0,V.Z)(e,"".concat(c,"-tab-active"),{color:h,background:t.colorBgContainer}),(0,V.Z)(e,"".concat(c,"-ink-bar"),{visibility:"hidden"}),e)),(0,V.Z)(a,"&".concat(c,"-top, &").concat(c,"-bottom"),(0,V.Z)({},"> ".concat(c,"-nav, > div > ").concat(c,"-nav"),(0,V.Z)({},"".concat(c,"-tab + ").concat(c,"-tab"),{marginLeft:{_skip_check_:!0,value:"".concat(s,"px")}}))),(0,V.Z)(a,"&".concat(c,"-top"),(0,V.Z)({},"> ".concat(c,"-nav, > div > ").concat(c,"-nav"),(n={},(0,V.Z)(n,"".concat(c,"-tab"),{borderRadius:"".concat(t.borderRadiusLG,"px ").concat(t.borderRadiusLG,"px 0 0")}),(0,V.Z)(n,"".concat(c,"-tab-active"),{borderBottomColor:t.colorBgContainer}),n))),(0,V.Z)(a,"&".concat(c,"-bottom"),(0,V.Z)({},"> ".concat(c,"-nav, > div > ").concat(c,"-nav"),(r={},(0,V.Z)(r,"".concat(c,"-tab"),{borderRadius:"0 0 ".concat(t.borderRadiusLG,"px ").concat(t.borderRadiusLG,"px")}),(0,V.Z)(r,"".concat(c,"-tab-active"),{borderTopColor:t.colorBgContainer}),r))),(0,V.Z)(a,"&".concat(c,"-left, &").concat(c,"-right"),(0,V.Z)({},"> ".concat(c,"-nav, > div > ").concat(c,"-nav"),(0,V.Z)({},"".concat(c,"-tab + ").concat(c,"-tab"),{marginTop:"".concat(s,"px")}))),(0,V.Z)(a,"&".concat(c,"-left"),(0,V.Z)({},"> ".concat(c,"-nav, > div > ").concat(c,"-nav"),(i={},(0,V.Z)(i,"".concat(c,"-tab"),{borderRadius:{_skip_check_:!0,value:"".concat(t.borderRadiusLG,"px 0 0 ").concat(t.borderRadiusLG,"px")}}),(0,V.Z)(i,"".concat(c,"-tab-active"),{borderRightColor:{_skip_check_:!0,value:t.colorBgContainer}}),i))),(0,V.Z)(a,"&".concat(c,"-right"),(0,V.Z)({},"> ".concat(c,"-nav, > div > ").concat(c,"-nav"),(o={},(0,V.Z)(o,"".concat(c,"-tab"),{borderRadius:{_skip_check_:!0,value:"0 ".concat(t.borderRadiusLG,"px ").concat(t.borderRadiusLG,"px 0")}}),(0,V.Z)(o,"".concat(c,"-tab-active"),{borderLeftColor:{_skip_check_:!0,value:t.colorBgContainer}}),o))),a))},Am=function(t){var e=t.componentCls,n=t.itemHoverColor,r=t.dropdownEdgeChildVerticalPadding;return(0,V.Z)({},"".concat(e,"-dropdown"),Object.assign(Object.assign({},(0,Qe.Wf)(t)),(0,V.Z)({position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:t.zIndexPopup,display:"block","&-hidden":{display:"none"}},"".concat(e,"-dropdown-menu"),{maxHeight:t.tabsDropdownHeight,margin:0,padding:"".concat(r,"px 0"),overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:t.colorBgContainer,backgroundClip:"padding-box",borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,"&-item":Object.assign(Object.assign({},Qe.vS),{display:"flex",alignItems:"center",minWidth:t.tabsDropdownWidth,margin:0,padding:"".concat(t.paddingXXS,"px ").concat(t.paddingSM,"px"),color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,lineHeight:t.lineHeight,cursor:"pointer",transition:"all ".concat(t.motionDurationSlow),"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:t.marginSM},color:t.colorTextDescription,fontSize:t.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:t.controlItemBgHover},"&-disabled":{"&, &:hover":{color:t.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})})))},Pm=function(t){var e,n,r,i,o,a,c,l,u=t.componentCls,s=t.margin,f=t.colorBorderSecondary,h=t.horizontalMargin,d=t.verticalItemPadding,p=t.verticalItemMargin;return l={},(0,V.Z)(l,"".concat(u,"-top, ").concat(u,"-bottom"),(0,V.Z)({flexDirection:"column"},"> ".concat(u,"-nav, > div > ").concat(u,"-nav"),(n={margin:h,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(f),content:"''"}},(0,V.Z)(n,"".concat(u,"-ink-bar"),{height:t.lineWidthBold,"&-animated":{transition:"width ".concat(t.motionDurationSlow,", left ").concat(t.motionDurationSlow,",\n            right ").concat(t.motionDurationSlow)}}),(0,V.Z)(n,"".concat(u,"-nav-wrap"),(e={"&::before, &::after":{top:0,bottom:0,width:t.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:t.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:t.boxShadowTabsOverflowRight}},(0,V.Z)(e,"&".concat(u,"-nav-wrap-ping-left::before"),{opacity:1}),(0,V.Z)(e,"&".concat(u,"-nav-wrap-ping-right::after"),{opacity:1}),e)),n))),(0,V.Z)(l,"".concat(u,"-top"),(0,V.Z)({},"> ".concat(u,"-nav,\n        > div > ").concat(u,"-nav"),(0,V.Z)({"&::before":{bottom:0}},"".concat(u,"-ink-bar"),{bottom:0}))),(0,V.Z)(l,"".concat(u,"-bottom"),(r={},(0,V.Z)(r,"> ".concat(u,"-nav, > div > ").concat(u,"-nav"),(0,V.Z)({order:1,marginTop:"".concat(s,"px"),marginBottom:0,"&::before":{top:0}},"".concat(u,"-ink-bar"),{top:0})),(0,V.Z)(r,"> ".concat(u,"-content-holder, > div > ").concat(u,"-content-holder"),{order:0}),r)),(0,V.Z)(l,"".concat(u,"-left, ").concat(u,"-right"),(0,V.Z)({},"> ".concat(u,"-nav, > div > ").concat(u,"-nav"),(o={flexDirection:"column",minWidth:1.25*t.controlHeight},(0,V.Z)(o,"".concat(u,"-tab"),{padding:d,textAlign:"center"}),(0,V.Z)(o,"".concat(u,"-tab + ").concat(u,"-tab"),{margin:p}),(0,V.Z)(o,"".concat(u,"-nav-wrap"),(i={flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:t.controlHeight},"&::before":{top:0,boxShadow:t.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:t.boxShadowTabsOverflowBottom}},(0,V.Z)(i,"&".concat(u,"-nav-wrap-ping-top::before"),{opacity:1}),(0,V.Z)(i,"&".concat(u,"-nav-wrap-ping-bottom::after"),{opacity:1}),i)),(0,V.Z)(o,"".concat(u,"-ink-bar"),{width:t.lineWidthBold,"&-animated":{transition:"height ".concat(t.motionDurationSlow,", top ").concat(t.motionDurationSlow)}}),(0,V.Z)(o,"".concat(u,"-nav-list, ").concat(u,"-nav-operations"),{flex:"1 0 auto",flexDirection:"column"}),o))),(0,V.Z)(l,"".concat(u,"-left"),(a={},(0,V.Z)(a,"> ".concat(u,"-nav, > div > ").concat(u,"-nav"),(0,V.Z)({},"".concat(u,"-ink-bar"),{right:{_skip_check_:!0,value:0}})),(0,V.Z)(a,"> ".concat(u,"-content-holder, > div > ").concat(u,"-content-holder"),(0,V.Z)({marginLeft:{_skip_check_:!0,value:"-".concat(t.lineWidth,"px")},borderLeft:{_skip_check_:!0,value:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(t.colorBorder)}},"> ".concat(u,"-content > ").concat(u,"-tabpane"),{paddingLeft:{_skip_check_:!0,value:t.paddingLG}})),a)),(0,V.Z)(l,"".concat(u,"-right"),(c={},(0,V.Z)(c,"> ".concat(u,"-nav, > div > ").concat(u,"-nav"),(0,V.Z)({order:1},"".concat(u,"-ink-bar"),{left:{_skip_check_:!0,value:0}})),(0,V.Z)(c,"> ".concat(u,"-content-holder, > div > ").concat(u,"-content-holder"),(0,V.Z)({order:0,marginRight:{_skip_check_:!0,value:-t.lineWidth},borderRight:{_skip_check_:!0,value:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(t.colorBorder)}},"> ".concat(u,"-content > ").concat(u,"-tabpane"),{paddingRight:{_skip_check_:!0,value:t.paddingLG}})),c)),l},_m=function(t){var e,n,r,i=t.componentCls,o=t.cardPaddingSM,a=t.cardPaddingLG,c=t.horizontalItemPaddingSM,l=t.horizontalItemPaddingLG;return r={},(0,V.Z)(r,i,{"&-small":(0,V.Z)({},"> ".concat(i,"-nav"),(0,V.Z)({},"".concat(i,"-tab"),{padding:c,fontSize:t.titleFontSizeSM})),"&-large":(0,V.Z)({},"> ".concat(i,"-nav"),(0,V.Z)({},"".concat(i,"-tab"),{padding:l,fontSize:t.titleFontSizeLG}))}),(0,V.Z)(r,"".concat(i,"-card"),(n={},(0,V.Z)(n,"&".concat(i,"-small"),(e={},(0,V.Z)(e,"> ".concat(i,"-nav"),(0,V.Z)({},"".concat(i,"-tab"),{padding:o})),(0,V.Z)(e,"&".concat(i,"-bottom"),(0,V.Z)({},"> ".concat(i,"-nav ").concat(i,"-tab"),{borderRadius:"0 0 ".concat(t.borderRadius,"px ").concat(t.borderRadius,"px")})),(0,V.Z)(e,"&".concat(i,"-top"),(0,V.Z)({},"> ".concat(i,"-nav ").concat(i,"-tab"),{borderRadius:"".concat(t.borderRadius,"px ").concat(t.borderRadius,"px 0 0")})),(0,V.Z)(e,"&".concat(i,"-right"),(0,V.Z)({},"> ".concat(i,"-nav ").concat(i,"-tab"),{borderRadius:{_skip_check_:!0,value:"0 ".concat(t.borderRadius,"px ").concat(t.borderRadius,"px 0")}})),(0,V.Z)(e,"&".concat(i,"-left"),(0,V.Z)({},"> ".concat(i,"-nav ").concat(i,"-tab"),{borderRadius:{_skip_check_:!0,value:"".concat(t.borderRadius,"px 0 0 ").concat(t.borderRadius,"px")}})),e)),(0,V.Z)(n,"&".concat(i,"-large"),(0,V.Z)({},"> ".concat(i,"-nav"),(0,V.Z)({},"".concat(i,"-tab"),{padding:a}))),n)),r},Dm=function(t){var e,n,r,i,o,a=t.componentCls,c=t.tabsHorizontalItemMarginRTL,l=t.iconCls,u=t.cardGutter,s="".concat(a,"-rtl");return o={},(0,V.Z)(o,s,(i={direction:"rtl"},(0,V.Z)(i,"".concat(a,"-nav"),(0,V.Z)({},"".concat(a,"-tab"),(e={margin:{_skip_check_:!0,value:c}},(0,V.Z)(e,"".concat(a,"-tab:last-of-type"),{marginLeft:{_skip_check_:!0,value:0}}),(0,V.Z)(e,l,{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:"".concat(t.marginSM,"px")}}),(0,V.Z)(e,"".concat(a,"-tab-remove"),(0,V.Z)({marginRight:{_skip_check_:!0,value:"".concat(t.marginXS,"px")},marginLeft:{_skip_check_:!0,value:"-".concat(t.marginXXS,"px")}},l,{margin:0})),e))),(0,V.Z)(i,"&".concat(a,"-left"),(n={},(0,V.Z)(n,"> ".concat(a,"-nav"),{order:1}),(0,V.Z)(n,"> ".concat(a,"-content-holder"),{order:0}),n)),(0,V.Z)(i,"&".concat(a,"-right"),(r={},(0,V.Z)(r,"> ".concat(a,"-nav"),{order:0}),(0,V.Z)(r,"> ".concat(a,"-content-holder"),{order:1}),r)),(0,V.Z)(i,"&".concat(a,"-card").concat(a,"-top, &").concat(a,"-card").concat(a,"-bottom"),(0,V.Z)({},"> ".concat(a,"-nav, > div > ").concat(a,"-nav"),(0,V.Z)({},"".concat(a,"-tab + ").concat(a,"-tab"),{marginRight:{_skip_check_:!0,value:u},marginLeft:{_skip_check_:!0,value:0}}))),i)),(0,V.Z)(o,"".concat(a,"-dropdown-rtl"),{direction:"rtl"}),(0,V.Z)(o,"".concat(a,"-menu-item"),(0,V.Z)({},"".concat(a,"-dropdown-rtl"),{textAlign:{_skip_check_:!0,value:"right"}})),o},Tm=function(t){var e,n,r,i,o=t.componentCls,a=t.tabsCardPadding,c=t.cardHeight,l=t.cardGutter,u=t.itemHoverColor,s=t.itemActiveColor,f=t.colorBorderSecondary;return i={},(0,V.Z)(i,o,Object.assign(Object.assign(Object.assign(Object.assign({},(0,Qe.Wf)(t)),(n={display:"flex"},(0,V.Z)(n,"> ".concat(o,"-nav, > div > ").concat(o,"-nav"),(e={position:"relative",display:"flex",flex:"none",alignItems:"center"},(0,V.Z)(e,"".concat(o,"-nav-wrap"),{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:"opacity ".concat(t.motionDurationSlow),content:"''",pointerEvents:"none"}}),(0,V.Z)(e,"".concat(o,"-nav-list"),{position:"relative",display:"flex",transition:"opacity ".concat(t.motionDurationSlow)}),(0,V.Z)(e,"".concat(o,"-nav-operations"),{display:"flex",alignSelf:"stretch"}),(0,V.Z)(e,"".concat(o,"-nav-operations-hidden"),{position:"absolute",visibility:"hidden",pointerEvents:"none"}),(0,V.Z)(e,"".concat(o,"-nav-more"),{position:"relative",padding:a,background:"transparent",border:0,color:t.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:t.controlHeightLG/8,transform:"translateY(100%)",content:"''"}}),(0,V.Z)(e,"".concat(o,"-nav-add"),Object.assign({minWidth:c,marginLeft:{_skip_check_:!0,value:l},padding:"0 ".concat(t.paddingXS,"px"),background:"transparent",border:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(f),borderRadius:"".concat(t.borderRadiusLG,"px ").concat(t.borderRadiusLG,"px 0 0"),outline:"none",cursor:"pointer",color:t.colorText,transition:"all ".concat(t.motionDurationSlow," ").concat(t.motionEaseInOut),"&:hover":{color:u},"&:active, &:focus:not(:focus-visible)":{color:s}},(0,Qe.Qy)(t))),e)),(0,V.Z)(n,"".concat(o,"-extra-content"),{flex:"none"}),(0,V.Z)(n,"".concat(o,"-ink-bar"),{position:"absolute",background:t.inkBarColor,pointerEvents:"none"}),n)),function(t){var e,n,r=t.componentCls,i=t.itemActiveColor,o=t.itemHoverColor,a=t.iconCls,c=t.tabsHorizontalItemMargin,l=t.horizontalItemPadding,u=t.itemSelectedColor,s="".concat(r,"-tab");return n={},(0,V.Z)(n,s,(e={position:"relative",display:"inline-flex",alignItems:"center",padding:l,fontSize:t.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer","&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:i}},(0,Qe.Qy)(t)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-t.marginXXS},marginLeft:{_skip_check_:!0,value:t.marginXS},color:t.colorTextDescription,fontSize:t.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:"all ".concat(t.motionDurationSlow),"&:hover":{color:t.colorTextHeading}},"&:hover":{color:o}},(0,V.Z)(e,"&".concat(s,"-active ").concat(s,"-btn"),{color:u,textShadow:t.tabsActiveTextShadow}),(0,V.Z)(e,"&".concat(s,"-disabled"),{color:t.colorTextDisabled,cursor:"not-allowed"}),(0,V.Z)(e,"&".concat(s,"-disabled ").concat(s,"-btn, &").concat(s,"-disabled ").concat(r,"-remove"),{"&:focus, &:active":{color:t.colorTextDisabled}}),(0,V.Z)(e,"& ".concat(s,"-remove ").concat(a),{margin:0}),(0,V.Z)(e,a,{marginRight:{_skip_check_:!0,value:t.marginSM}}),e)),(0,V.Z)(n,"".concat(s," + ").concat(s),{margin:{_skip_check_:!0,value:c}}),n}(t)),(r={},(0,V.Z)(r,"".concat(o,"-content"),{position:"relative",width:"100%"}),(0,V.Z)(r,"".concat(o,"-content-holder"),{flex:"auto",minWidth:0,minHeight:0}),(0,V.Z)(r,"".concat(o,"-tabpane"),{outline:"none","&-hidden":{display:"none"}}),r))),(0,V.Z)(i,"".concat(o,"-centered"),(0,V.Z)({},"> ".concat(o,"-nav, > div > ").concat(o,"-nav"),(0,V.Z)({},"".concat(o,"-nav-wrap"),(0,V.Z)({},"&:not([class*='".concat(o,"-nav-wrap-ping'])"),{justifyContent:"center"})))),i},Zm=(0,se.Z)("Tabs",(function(t){var e=(0,nn.TS)(t,{tabsCardPadding:t.cardPadding||"".concat((t.cardHeight-Math.round(t.fontSize*t.lineHeight))/2-t.lineWidth,"px ").concat(t.padding,"px"),dropdownEdgeChildVerticalPadding:t.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:"0 0 0 ".concat(t.horizontalItemGutter,"px"),tabsHorizontalItemMarginRTL:"0 0 0 ".concat(t.horizontalItemGutter,"px")});return[_m(e),Dm(e),Pm(e),Am(e),Mm(e),Tm(e),Em(e)]}),(function(t){var e=t.controlHeightLG;return{zIndexPopup:t.zIndexPopupBase+50,cardBg:t.colorFillAlter,cardHeight:e,cardPadding:"",cardPaddingSM:"".concat(1.5*t.paddingXXS,"px ").concat(t.padding,"px"),cardPaddingLG:"".concat(t.paddingXS,"px ").concat(t.padding,"px ").concat(1.5*t.paddingXXS,"px"),titleFontSize:t.fontSize,titleFontSizeLG:t.fontSizeLG,titleFontSizeSM:t.fontSize,inkBarColor:t.colorPrimary,horizontalMargin:"0 0 ".concat(t.margin,"px 0"),horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:"".concat(t.paddingSM,"px 0"),horizontalItemPaddingSM:"".concat(t.paddingXS,"px 0"),horizontalItemPaddingLG:"".concat(t.padding,"px 0"),verticalItemPadding:"".concat(t.paddingXS,"px ").concat(t.paddingLG,"px"),verticalItemMargin:"".concat(t.margin,"px 0 0 0"),itemSelectedColor:t.colorPrimary,itemHoverColor:t.colorPrimaryHover,itemActiveColor:t.colorPrimaryActive,cardGutter:t.marginXXS/2}})),Fm=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},jm=function(t){var e,n,r=t.type,i=t.className,o=t.rootClassName,a=t.size,c=t.onEdit,l=t.hideAdd,u=t.centered,s=t.addIcon,f=t.popupClassName,h=t.children,d=t.items,p=t.animated,v=t.style,g=Fm(t,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","popupClassName","children","items","animated","style"]),m=g.prefixCls,y=g.moreIcon,b=void 0===y?Z.createElement(cv,null):y,x=Z.useContext(Dt.E_),w=x.direction,S=x.tabs,k=x.getPrefixCls,C=x.getPopupContainer,O=k("tabs",m),E=Zm(O),M=(0,G.Z)(E,2),A=M[0],P=M[1];"editable-card"===r&&(n={onEdit:function(t,e){var n=e.key,r=e.event;null==c||c("add"===t?r:n,t)},removeIcon:Z.createElement(tr,null),addIcon:s||Z.createElement(sv,null),showAdd:!0!==l});var _=k(),D=function(t,e){if(t)return t;var n=(0,je.Z)(e).map((function(t){if(Z.isValidElement(t)){var e=t.key,n=t.props||{},r=n.tab,i=Om(n,["tab"]);return Object.assign(Object.assign({key:String(e)},i),{label:r})}return null}));return function(t){return t.filter((function(t){return t}))}(n)}(d,h),T=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{inkBar:!0,tabPane:!1};return(e=!1===n?{inkBar:!1,tabPane:!1}:!0===n?{inkBar:!0,tabPane:!0}:Object.assign({inkBar:!0},"object"==typeof n?n:{})).tabPane&&(e.tabPaneMotion=Object.assign(Object.assign({},Cm),{motionName:(0,oe.m)(t,"switch")})),e}(O,p),F=(0,Fe.Z)(a),j=Object.assign(Object.assign({},null==S?void 0:S.style),v);return A(Z.createElement(Sm,Object.assign({direction:w,getPopupContainer:C,moreTransitionName:"".concat(_,"-slide-up")},g,{items:D,className:K()((e={},(0,V.Z)(e,"".concat(O,"-").concat(F),F),(0,V.Z)(e,"".concat(O,"-card"),["card","editable-card"].includes(r)),(0,V.Z)(e,"".concat(O,"-editable-card"),"editable-card"===r),(0,V.Z)(e,"".concat(O,"-centered"),u),e),null==S?void 0:S.className,i,o,P),popupClassName:K()(f,P),style:j,editable:n,moreIcon:b,prefixCls:O,animated:T})))};jm.TabPane=km;var Im=jm,Rm=n(89907),Lm=n(5626),Nm=n(32834),Bm=n(70556),zm=n(27358),Um=n(49955),Hm={};function Wm(t,e){void 0===t&&(t=Hm),void 0===e&&(e=Hm);var n=Object.keys(t),r=Object.keys(e);return t===e||n.length===r.length&&n.every((function(n){return t[n]===e[n]}))}function Vm(t,e,n,r,i,o,a){try{var c=t[o](a),l=c.value}catch(u){return void n(u)}c.done?e(l):Promise.resolve(l).then(r,i)}function Gm(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Vm(o,r,i,a,c,"next",t)}function c(t){Vm(o,r,i,a,c,"throw",t)}a(void 0)}))}}var Xm=n(53994),qm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ym=Object.prototype.hasOwnProperty;function $m(t,e){return Ym.call(t,e)}function Km(t){if(Array.isArray(t)){for(var e=new Array(t.length),n=0;n<e.length;n++)e[n]=""+n;return e}if(Object.keys)return Object.keys(t);var r=[];for(var i in t)$m(t,i)&&r.push(i);return r}function Jm(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function Qm(t){for(var e,n=0,r=t.length;n<r;){if(!((e=t.charCodeAt(n))>=48&&e<=57))return!1;n++}return!0}function ty(t){return-1===t.indexOf("/")&&-1===t.indexOf("~")?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function ey(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function ny(t){if(void 0===t)return!0;if(t)if(Array.isArray(t)){for(var e=0,n=t.length;e<n;e++)if(ny(t[e]))return!0}else if("object"==typeof t)for(var r=Km(t),i=r.length,o=0;o<i;o++)if(ny(t[r[o]]))return!0;return!1}function ry(t,e){var n=[t];for(var r in e){var i="object"==typeof e[r]?JSON.stringify(e[r],null,2):e[r];void 0!==i&&n.push(r+": "+i)}return n.join("\n")}var iy=function(t){function e(e,n,r,i,o){var a=this.constructor,c=t.call(this,ry(e,{name:n,index:r,operation:i,tree:o}))||this;return c.name=n,c.index=r,c.operation=i,c.tree=o,Object.setPrototypeOf(c,a.prototype),c.message=ry(e,{name:n,index:r,operation:i,tree:o}),c}return qm(e,t),e}(Error),oy=iy,ay=Jm,cy={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){var r=uy(n,this.path);r&&(r=Jm(r));var i=sy(n,{op:"remove",path:this.from}).removed;return sy(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(t,e,n){var r=uy(n,this.from);return sy(n,{op:"add",path:this.path,value:Jm(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:vy(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}},ly={add:function(t,e,n){return Qm(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){return{newDocument:n,removed:t.splice(e,1)[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:cy.move,copy:cy.copy,test:cy.test,_get:cy._get};function uy(t,e){if(""==e)return t;var n={op:"_get",path:e};return sy(t,n),n.value}function sy(t,e,n,r,i,o){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===o&&(o=0),n&&("function"==typeof n?n(e,0,t,e.path):dy(e,0)),""===e.path){var a={newDocument:t};if("add"===e.op)return a.newDocument=e.value,a;if("replace"===e.op)return a.newDocument=e.value,a.removed=t,a;if("move"===e.op||"copy"===e.op)return a.newDocument=uy(t,e.from),"move"===e.op&&(a.removed=t),a;if("test"===e.op){if(a.test=vy(t,e.value),!1===a.test)throw new oy("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return a.newDocument=t,a}if("remove"===e.op)return a.removed=t,a.newDocument=null,a;if("_get"===e.op)return e.value=t,a;if(n)throw new oy("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,e,t);return a}r||(t=Jm(t));var c=(e.path||"").split("/"),l=t,u=1,s=c.length,f=void 0,h=void 0,d=void 0;for(d="function"==typeof n?n:dy;;){if((h=c[u])&&-1!=h.indexOf("~")&&(h=ey(h)),i&&("__proto__"==h||"prototype"==h&&u>0&&"constructor"==c[u-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===f&&(void 0===l[h]?f=c.slice(0,u).join("/"):u==s-1&&(f=e.path),void 0!==f&&d(e,0,t,f)),u++,Array.isArray(l)){if("-"===h)h=l.length;else{if(n&&!Qm(h))throw new oy("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,e,t);Qm(h)&&(h=~~h)}if(u>=s){if(n&&"add"===e.op&&h>l.length)throw new oy("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,e,t);if(!1===(a=ly[e.op].call(e,l,h,t)).test)throw new oy("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return a}}else if(u>=s){if(!1===(a=cy[e.op].call(e,l,h,t)).test)throw new oy("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return a}if(l=l[h],n&&u<s&&(!l||"object"!=typeof l))throw new oy("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,e,t)}}function fy(t,e,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),n&&!Array.isArray(e))throw new oy("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=Jm(t));for(var o=new Array(e.length),a=0,c=e.length;a<c;a++)o[a]=sy(t,e[a],n,!0,i,a),t=o[a].newDocument;return o.newDocument=t,o}function hy(t,e,n){var r=sy(t,e);if(!1===r.test)throw new oy("Test operation failed","TEST_OPERATION_FAILED",n,e,t);return r.newDocument}function dy(t,e,n,r){if("object"!=typeof t||null===t||Array.isArray(t))throw new oy("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(!cy[t.op])throw new oy("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n);if("string"!=typeof t.path)throw new oy("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(0!==t.path.indexOf("/")&&t.path.length>0)throw new oy('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if(("move"===t.op||"copy"===t.op)&&"string"!=typeof t.from)throw new oy("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if(("add"===t.op||"replace"===t.op||"test"===t.op)&&void 0===t.value)throw new oy("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if(("add"===t.op||"replace"===t.op||"test"===t.op)&&ny(t.value))throw new oy("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n)if("add"==t.op){var i=t.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new oy("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if("replace"===t.op||"remove"===t.op||"_get"===t.op){if(t.path!==r)throw new oy("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if("move"===t.op||"copy"===t.op){var a=py([{op:"_get",path:t.from,value:void 0}],n);if(a&&"OPERATION_PATH_UNRESOLVABLE"===a.name)throw new oy("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}function py(t,e,n){try{if(!Array.isArray(t))throw new oy("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)fy(Jm(e),Jm(t),n||!0);else{n=n||dy;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(F2t){if(F2t instanceof oy)return F2t;throw F2t}}function vy(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var n,r,i,o=Array.isArray(t),a=Array.isArray(e);if(o&&a){if((r=t.length)!=e.length)return!1;for(n=r;0!=n--;)if(!vy(t[n],e[n]))return!1;return!0}if(o!=a)return!1;var c=Object.keys(t);if((r=c.length)!==Object.keys(e).length)return!1;for(n=r;0!=n--;)if(!e.hasOwnProperty(c[n]))return!1;for(n=r;0!=n--;)if(!vy(t[i=c[n]],e[i]))return!1;return!0}return t!=t&&e!=e}var gy=new WeakMap,my=function(t){this.observers=new Map,this.obj=t},yy=function(t,e){this.callback=t,this.observer=e};function by(t,e){e.unobserve()}function xy(t,e){var n,r=function(t){return gy.get(t)}(t);if(r){var i=function(t,e){return t.observers.get(e)}(r,e);n=i&&i.observer}else r=new my(t),gy.set(t,r);if(n)return n;if(n={},r.value=Jm(t),e){n.callback=e,n.next=null;var o=function(){wy(n)},a=function(){clearTimeout(n.next),n.next=setTimeout(o)};"undefined"!=typeof window&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return n.patches=[],n.object=t,n.unobserve=function(){wy(n),clearTimeout(n.next),function(t,e){t.observers.delete(e.callback)}(r,n),"undefined"!=typeof window&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},r.observers.set(e,new yy(e,n)),n}function wy(t,e){void 0===e&&(e=!1);var n=gy.get(t.object);Sy(n.value,t.object,t.patches,"",e),t.patches.length&&fy(n.value,t.patches);var r=t.patches;return r.length>0&&(t.patches=[],t.callback&&t.callback(r)),r}function Sy(t,e,n,r,i){if(e!==t){"function"==typeof e.toJSON&&(e=e.toJSON());for(var o=Km(e),a=Km(t),c=!1,l=a.length-1;l>=0;l--){var u=t[f=a[l]];if(!$m(e,f)||void 0===e[f]&&void 0!==u&&!1===Array.isArray(e))Array.isArray(t)===Array.isArray(e)?(i&&n.push({op:"test",path:r+"/"+ty(f),value:Jm(u)}),n.push({op:"remove",path:r+"/"+ty(f)}),c=!0):(i&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}),!0);else{var s=e[f];"object"==typeof u&&null!=u&&"object"==typeof s&&null!=s&&Array.isArray(u)===Array.isArray(s)?Sy(u,s,n,r+"/"+ty(f),i):u!==s&&(!0,i&&n.push({op:"test",path:r+"/"+ty(f),value:Jm(u)}),n.push({op:"replace",path:r+"/"+ty(f),value:Jm(s)}))}}if(c||o.length!=a.length)for(l=0;l<o.length;l++){var f;$m(t,f=o[l])||void 0===e[f]||n.push({op:"add",path:r+"/"+ty(f),value:Jm(e[f])})}}}function ky(t,e,n){void 0===n&&(n=!1);var r=[];return Sy(t,e,r,"",n),r}Object.assign({},r,i,{JsonPatchError:iy,deepClone:Jm,escapePathComponent:ty,unescapePathComponent:ey});var Cy=n(70080),Oy=n.n(Cy);function Ey(t,e,n){return t.fields=e||[],t.fname=n,t}function My(t){return null==t?null:t.fname}function Ay(t){return null==t?null:t.fields}function Py(t){return 1===t.length?_y(t[0]):Dy(t)}var _y=function(t){return function(e){return e[t]}},Dy=function(t){var e=t.length;return function(n){for(var r=0;r<e;++r)n=n[t[r]];return n}};function Ty(t){throw Error(t)}function Zy(t){var e,n,r,i=[],o=t.length,a=null,c=0,l="";function u(){i.push(l+t.substring(e,n)),l="",e=n+1}for(t+="",e=n=0;n<o;++n)if("\\"===(r=t[n]))l+=t.substring(e,n++),e=n;else if(r===a)u(),a=null,c=-1;else{if(a)continue;e===c&&'"'===r||e===c&&"'"===r?(e=n+1,a=r):"."!==r||c?"["===r?(n>e&&u(),c=e=n+1):"]"===r&&(c||Ty("Access path missing open bracket: "+t),c>0&&u(),c=0,e=n+1):n>e?u():e=n+1}return c&&Ty("Access path missing closing bracket: "+t),a&&Ty("Access path missing closing quote: "+t),n>e&&(n++,u()),i}function Fy(t,e,n){var r=Zy(t);return t=1===r.length?r[0]:t,Ey((n&&n.get||Py)(r),[t],e||t)}var jy=Fy("id"),Iy=Ey((function(t){return t}),[],"identity"),Ry=Ey((function(){return 0}),[],"zero"),Ly=Ey((function(){return 1}),[],"one"),Ny=Ey((function(){return!0}),[],"true"),By=Ey((function(){return!1}),[],"false");function zy(t,e,n){var r=[e].concat([].slice.call(n));console[t].apply(console,r)}var Uy=0,Hy=1,Wy=2,Vy=3,Gy=4;function Xy(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zy,r=t||Uy;return{level:function(t){return arguments.length?(r=+t,this):r},error:function(){return r>=Hy&&n(e||"error","ERROR",arguments),this},warn:function(){return r>=Wy&&n(e||"warn","WARN",arguments),this},info:function(){return r>=Vy&&n(e||"log","INFO",arguments),this},debug:function(){return r>=Gy&&n(e||"log","DEBUG",arguments),this}}}var qy=Array.isArray;function Yy(t){return t===Object(t)}var $y=function(t){return"__proto__"!==t};function Ky(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){for(var n in e)if("signals"===n)t.signals=Qy(t.signals,e.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;Jy(t,n,e[n],r)}return t}),{})}function Jy(t,e,n,r){var i,o;if($y(e))if(Yy(n)&&!qy(n))for(i in o=Yy(t[e])?t[e]:t[e]={},n)r&&(!0===r||r[i])?Jy(o,i,n[i]):$y(i)&&(o[i]=n[i]);else t[e]=n}function Qy(t,e){if(null==t)return e;var n={},r=[];function i(t){n[t.name]||(n[t.name]=1,r.push(t))}return e.forEach(i),t.forEach(i),r}function tb(t){return t[t.length-1]}function eb(t){return null==t||""===t?null:+t}var nb=function(t){return function(e){return t*Math.exp(e)}},rb=function(t){return function(e){return Math.log(t*e)}},ib=function(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}},ob=function(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}},ab=function(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}};function cb(t,e,n,r){var i=n(t[0]),o=n(tb(t)),a=(o-i)*e;return[r(i-a),r(o-a)]}function lb(t,e){return cb(t,e,eb,Iy)}function ub(t,e){var n=Math.sign(t[0]);return cb(t,e,rb(n),nb(n))}function sb(t,e,n){return cb(t,e,ab(n),ab(1/n))}function fb(t,e,n){return cb(t,e,ib(n),ob(n))}function hb(t,e,n,r,i){var o=r(t[0]),a=r(tb(t)),c=null!=e?r(e):(o+a)/2;return[i(c+(o-c)*n),i(c+(a-c)*n)]}function db(t,e,n){return hb(t,e,n,eb,Iy)}function pb(t,e,n){var r=Math.sign(t[0]);return hb(t,e,n,rb(r),nb(r))}function vb(t,e,n,r){return hb(t,e,n,ab(r),ab(1/r))}function gb(t,e,n,r){return hb(t,e,n,ib(r),ob(r))}function mb(t){return 1+~~(new Date(t).getMonth()/3)}function yb(t){return 1+~~(new Date(t).getUTCMonth()/3)}function bb(t){return null!=t?qy(t)?t:[t]:[]}function xb(t,e,n){var r,i=t[0],o=t[1];return o<i&&(r=o,o=i,i=r),(r=o-i)>=n-e?[e,n]:[i=Math.min(Math.max(i,e),n-r),i+r]}function wb(t){return"function"==typeof t}var Sb="descending";function kb(t,e,n){n=n||{},e=bb(e)||[];var r=[],i=[],o={},a=n.comparator||Ob;return bb(t).forEach((function(t,a){null!=t&&(r.push(e[a]===Sb?-1:1),i.push(t=wb(t)?t:Fy(t,null,n)),(Ay(t)||[]).forEach((function(t){return o[t]=1})))})),0===i.length?null:Ey(a(i,r),Object.keys(o))}var Cb=function(t,e){return(t<e||null==t)&&null!=e?-1:(t>e||null==e)&&null!=t?1:(e=e instanceof Date?+e:e,(t=t instanceof Date?+t:t)!==t&&e==e?-1:e!=e&&t==t?1:0)},Ob=function(t,e){return 1===t.length?Eb(t[0],e[0]):Mb(t,e,t.length)},Eb=function(t,e){return function(n,r){return Cb(t(n),t(r))*e}},Mb=function(t,e,n){return e.push(0),function(r,i){for(var o,a=0,c=-1;0===a&&++c<n;)o=t[c],a=Cb(o(r),o(i));return a*e[c]}};function Ab(t){return wb(t)?t:function(){return t}}function Pb(t,e){var n;return function(r){n&&clearTimeout(n),n=setTimeout((function(){return e(r),n=null}),t)}}function _b(t){for(var e,n,r=1,i=arguments.length;r<i;++r)for(n in e=arguments[r])t[n]=e[n];return t}function Db(t,e){var n,r,i,o,a=0;if(t&&(n=t.length))if(null==e){for(r=t[a];a<n&&(null==r||r!=r);r=t[++a]);for(i=o=r;a<n;++a)null!=(r=t[a])&&(r<i&&(i=r),r>o&&(o=r))}else{for(r=e(t[a]);a<n&&(null==r||r!=r);r=e(t[++a]));for(i=o=r;a<n;++a)null!=(r=e(t[a]))&&(r<i&&(i=r),r>o&&(o=r))}return[i,o]}function Tb(t,e){var n,r,i,o,a,c=t.length,l=-1;if(null==e){for(;++l<c;)if(null!=(r=t[l])&&r>=r){n=i=r;break}if(l===c)return[-1,-1];for(o=a=l;++l<c;)null!=(r=t[l])&&(n>r&&(n=r,o=l),i<r&&(i=r,a=l))}else{for(;++l<c;)if(null!=(r=e(t[l],l,t))&&r>=r){n=i=r;break}if(l===c)return[-1,-1];for(o=a=l;++l<c;)null!=(r=e(t[l],l,t))&&(n>r&&(n=r,o=l),i<r&&(i=r,a=l))}return[o,a]}var Zb=Object.prototype.hasOwnProperty;function Fb(t,e){return Zb.call(t,e)}var jb={};function Ib(t){var e,n={};function r(t){return Fb(n,t)&&n[t]!==jb}var i={size:0,empty:0,object:n,has:r,get:function(t){return r(t)?n[t]:void 0},set:function(t,e){return r(t)||(++i.size,n[t]===jb&&--i.empty),n[t]=e,this},delete:function(t){return r(t)&&(--i.size,++i.empty,n[t]=jb),this},clear:function(){i.size=i.empty=0,i.object=n={}},test:function(t){return arguments.length?(e=t,i):e},clean:function(){var t={},r=0;for(var o in n){var a=n[o];a===jb||e&&e(a)||(t[o]=a,++r)}i.size=r,i.empty=0,i.object=n=t}};return t&&Object.keys(t).forEach((function(e){i.set(e,t[e])})),i}function Rb(t,e,n,r,i,o){if(!n&&0!==n)return o;var a,c=+n,l=t[0],u=tb(t);u<l&&(a=l,l=u,u=a),a=Math.abs(e-l);var s=Math.abs(u-e);return a<s&&a<=c?r:s<=c?i:o}function Lb(t,e,n){var r=t.prototype=Object.create(e.prototype);return Object.defineProperty(r,"constructor",{value:t,writable:!0,enumerable:!0,configurable:!0}),_b(r,n)}function Nb(t,e,n,r){var i,o=e[0],a=e[e.length-1];return o>a&&(i=o,o=a,a=i),r=void 0===r||r,((n=void 0===n||n)?o<=t:o<t)&&(r?t<=a:t<a)}function Bb(t){return"boolean"==typeof t}function zb(t){return"[object Date]"===Object.prototype.toString.call(t)}function Ub(t){return t&&wb(t[Symbol.iterator])}function Hb(t){return"number"==typeof t}function Wb(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function Vb(t){return"string"==typeof t}function Gb(t,e,n){t&&(t=e?bb(t).map((function(t){return t.replace(/\\(.)/g,"$1")})):bb(t));var r,i=t&&t.length,o=n&&n.get||Py,a=function(t){return o(e?[t]:Zy(t))};if(i)if(1===i){var c=a(t[0]);r=function(t){return""+c(t)}}else{var l=t.map(a);r=function(t){for(var e=""+l[0](t),n=0;++n<i;)e+="|"+l[n](t);return e}}else r=function(){return""};return Ey(r,t,"key")}function Xb(t,e){var n=t[0],r=tb(t),i=+e;return i?1===i?r:n+i*(r-n):n}var qb=1e4;function Yb(t){var e,n,r;t=+t||qb;var i=function(){e={},n={},r=0},o=function(i,o){return++r>t&&(n=e,e={},r=1),e[i]=o};return i(),{clear:i,has:function(t){return Fb(e,t)||Fb(n,t)},get:function(t){return Fb(e,t)?e[t]:Fb(n,t)?o(t,n[t]):void 0},set:function(t,n){return Fb(e,t)?e[t]=n:o(t,n)}}}function $b(t,e,n,r){var i=e.length,o=n.length;if(!o)return e;if(!i)return n;for(var a=r||new e.constructor(i+o),c=0,l=0,u=0;c<i&&l<o;++u)a[u]=t(e[c],n[l])>0?n[l++]:e[c++];for(;c<i;++c,++u)a[u]=e[c];for(;l<o;++l,++u)a[u]=n[l];return a}function Kb(t,e){for(var n="";--e>=0;)n+=t;return n}function Jb(t,e,n,r){var i=n||" ",o=t+"",a=e-o.length;return a<=0?o:"left"===r?Kb(i,a)+o:"center"===r?Kb(i,~~(a/2))+o+Kb(i,Math.ceil(a/2)):o+Kb(i,a)}function Qb(t){return t&&tb(t)-t[0]||0}function tx(t){return qy(t)?"["+t.map(tx)+"]":Yy(t)||Vb(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function ex(t){return null==t||""===t?null:!(!t||"false"===t||"0"===t)&&!!t}var nx=function(t){return Hb(t)||zb(t)?t:Date.parse(t)};function rx(t,e){return e=e||nx,null==t||""===t?null:e(t)}function ix(t){return null==t||""===t?null:t+""}function ox(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return e}function ax(t,e,n,r){var i=null!=r?r:"…",o=t+"",a=o.length,c=Math.max(0,e-i.length);return a<=e?o:"left"===n?i+o.slice(a-c):"center"===n?o.slice(0,Math.ceil(c/2))+i+o.slice(a-~~(c/2)):o.slice(0,c)+i}function cx(t,e,n){if(t)if(e)for(var r=t.length,i=0;i<r;++i){var o=e(t[i]);o&&n(o,i,t)}else t.forEach(n)}var lx={},ux={},sx=34,fx=10,hx=13;function dx(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function px(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function vx(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function gx(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+vx(-e,6):e>9999?"+"+vx(e,6):vx(e,4))+"-"+vx(t.getUTCMonth()+1,2)+"-"+vx(t.getUTCDate(),2)+(o?"T"+vx(n,2)+":"+vx(r,2)+":"+vx(i,2)+"."+vx(o,3)+"Z":i?"T"+vx(n,2)+":"+vx(r,2)+":"+vx(i,2)+"Z":r||n?"T"+vx(n,2)+":"+vx(r,2)+"Z":"")}function mx(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,c=0,l=o<=0,u=!1;function s(){if(l)return ux;if(u)return u=!1,lx;var e,r,i=a;if(t.charCodeAt(i)===sx){for(;a++<o&&t.charCodeAt(a)!==sx||t.charCodeAt(++a)===sx;);return(e=a)>=o?l=!0:(r=t.charCodeAt(a++))===fx?u=!0:r===hx&&(u=!0,t.charCodeAt(a)===fx&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(e=a++))===fx)u=!0;else if(r===hx)u=!0,t.charCodeAt(a)===fx&&++a;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===fx&&--o,t.charCodeAt(o-1)===hx&&--o;(r=s())!==ux;){for(var f=[];r!==lx&&r!==ux;)f.push(r),r=s();e&&null==(f=e(f,c++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?gx(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=dx(t);return function(r,i){return e(n(r),i,t)}}(t,e):dx(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=px(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=px(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}function yx(t){return t}function bx(t,e){return"string"==typeof e&&(e=t.objects[e]),"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return xx(t,e)}))}:xx(t,e)}function xx(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,o=wx(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function wx(t,e){var n=function(t){if(null==t)return yx;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,c){c||(e=n=0);var l=2,u=t.length,s=new Array(u);for(s[0]=(e+=t[0])*r+o,s[1]=(n+=t[1])*i+a;l<u;)s[l]=t[l],++l;return s}}(t.transform),r=t.arcs;function i(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],o=0,a=i.length;o<a;++o)e.push(n(i[o],o));t<0&&function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}(e,a)}function o(t){return n(t)}function a(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0]),e}function c(t){for(var e=a(t);e.length<4;)e.push(e[0]);return e}function l(t){return t.map(c)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=o(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(o);break;case"LineString":n=a(e.arcs);break;case"MultiLineString":n=e.arcs.map(a);break;case"Polygon":n=l(e.arcs);break;case"MultiPolygon":n=e.arcs.map(l);break;default:return null}return{type:r,coordinates:n}}(e)}function Sx(t,e){var n={},r={},i={},o=[],a=-1;function c(t,e){for(var r in t){var i=t[r];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){n[t<0?~t:t]=1})),o.push(i)}}return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++a],e[a]=n,e[r]=i)})),e.forEach((function(e){var n,o,a=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1];return e<0?[n,i]:[i,n]}(e),c=a[0],l=a[1];if(n=i[c])if(delete i[n.end],n.push(e),n.end=l,o=r[l]){delete r[o.start];var u=o===n?n:n.concat(o);r[u.start=n.start]=i[u.end=o.end]=u}else r[n.start]=i[n.end]=n;else if(n=r[l])if(delete r[n.start],n.unshift(e),n.start=c,o=i[c]){delete i[o.end];var s=o===n?n:o.concat(n);r[s.start=o.start]=i[s.end=n.end]=s}else r[n.start]=i[n.end]=n;else r[(n=[e]).start=c]=i[n.end=l]=n})),c(i,r),c(r,i),e.forEach((function(t){n[t<0?~t:t]||o.push([t])})),o}function kx(t){return wx(t,Cx.apply(this,arguments))}function Cx(t,e,n){var r,i,o;if(arguments.length>1)r=function(t,e,n){var r,i=[],o=[];function a(t){var e=t<0?~t:t;(o[e]||(o[e]=[])).push({i:t,g:r})}function c(t){t.forEach(a)}function l(t){t.forEach(c)}function u(t){t.forEach(l)}function s(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(s);break;case"LineString":c(t.arcs);break;case"MultiLineString":case"Polygon":l(t.arcs);break;case"MultiPolygon":u(t.arcs)}}return s(e),o.forEach(null==n?function(t){i.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}(0,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:Sx(t,r)}}var Ox=Math.sqrt(50),Ex=Math.sqrt(10),Mx=Math.sqrt(2);function Ax(t,e,n){var r,i,o,a=(e-t)/Math.max(0,n),c=Math.floor(Math.log10(a)),l=a/Math.pow(10,c),u=l>=Ox?10:l>=Ex?5:l>=Mx?2:1;return c<0?(o=Math.pow(10,-c)/u,(r=Math.round(t*o))/o<t&&++r,(i=Math.round(e*o))/o>e&&--i,o=-o):(o=Math.pow(10,c)*u,(r=Math.round(t/o))*o<t&&++r,(i=Math.round(e/o))*o>e&&--i),i<r&&.5<=n&&n<2?Ax(t,e,2*n):[r,i,o]}function Px(t,e,n){if(!((n=+n)>0))return[];if((t=+t)===(e=+e))return[t];var r=e<t,i=r?Ax(e,t,n):Ax(t,e,n),o=(0,G.Z)(i,3),a=o[0],c=o[1],l=o[2];if(!(c>=a))return[];var u=c-a+1,s=new Array(u);if(r)if(l<0)for(var f=0;f<u;++f)s[f]=(c-f)/-l;else for(var h=0;h<u;++h)s[h]=(c-h)*l;else if(l<0)for(var d=0;d<u;++d)s[d]=(a+d)/-l;else for(var p=0;p<u;++p)s[p]=(a+p)*l;return s}function _x(t,e,n){return Ax(t=+t,e=+e,n=+n)[2]}function Dx(t,e,n){n=+n;var r=(e=+e)<(t=+t),i=r?_x(e,t,n):_x(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}var Tx,Zx=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fx(t){if(!(e=Zx.exec(t)))throw new Error("invalid format: "+t);var e;return new jx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function jx(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ix(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rx(t){return(t=Ix(Math.abs(t)))?t[1]:NaN}function Lx(t,e){var n=Ix(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Fx.prototype=jx.prototype,jx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Nx={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Lx(100*t,e)},r:Lx,s:function(t,e){var n=Ix(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Tx=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ix(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Bx(t){return t}var zx,Ux,Hx,Wx=Array.prototype.map,Vx=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Gx(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Bx:(e=Wx.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,c=e[0],l=0;i>0&&c>0&&(l+c+1>r&&(c=Math.max(1,r-l)),o.push(t.substring(i-=c,i+c)),!((l+=c+1)>r));)c=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",c=void 0===t.numerals?Bx:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Wx.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"−":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Fx(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,v=t.comma,g=t.precision,m=t.trim,y=t.type;"n"===y?(v=!0,y="g"):Nx[y]||(void 0===g&&(g=12),m=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===h?o:/[%p]/.test(y)?l:"",w=Nx[y],S=/[defgprs%]/.test(y);function k(t){var i,o,l,h=b,k=x;if("c"===y)k=w(t)+k,t="";else{var C=(t=+t)<0||1/t<0;if(t=isNaN(t)?s:w(Math.abs(t),g),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),C&&0==+t&&"+"!==f&&(C=!1),h=(C?"("===f?f:u:"-"===f||"("===f?"":f)+h,k=("s"===y?Vx[8+Tx/3]:"")+k+(C&&"("===f?")":""),S)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){k=(46===l?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}v&&!d&&(t=r(t,1/0));var O=h.length+t.length+k.length,E=O<p?new Array(p-O+1).join(e):"";switch(v&&d&&(t=r(E+t,E.length?p-k.length:1/0),E=""),n){case"<":t=h+t+k+E;break;case"=":t=h+E+t+k;break;case"^":t=E.slice(0,O=E.length>>1)+h+t+k+E.slice(O);break;default:t=E+h+t+k}return c(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return t+""},k}return{format:f,formatPrefix:function(t,e){var n=f(((t=Fx(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Rx(e)/3))),i=Math.pow(10,-r),o=Vx[8+r/3];return function(t){return n(i*t)+o}}}}!function(t){zx=Gx(t),Ux=zx.format,Hx=zx.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var Xx=new Date,qx=new Date;function Yx(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,c=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return c;do{c.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return c},i.filter=function(n){return Yx((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Xx.setTime(+e),qx.setTime(+r),t(Xx),t(qx),Math.floor(n(Xx,qx))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var $x=1e3,Kx=6e4,Jx=36e5,Qx=864e5,tw=6048e5,ew=2592e6,nw=31536e6,rw=Yx((function(t){return t.setHours(0,0,0,0)}),(function(t,e){return t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Kx)/Qx}),(function(t){return t.getDate()-1})),iw=(rw.range,Yx((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Qx}),(function(t){return t.getUTCDate()-1}))),ow=(iw.range,Yx((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Qx}),(function(t){return Math.floor(t/Qx)})));ow.range;function aw(t){return Yx((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Kx)/tw}))}var cw=aw(0),lw=aw(1),uw=aw(2),sw=aw(3),fw=aw(4),hw=aw(5),dw=aw(6);cw.range,lw.range,uw.range,sw.range,fw.range,hw.range,dw.range;function pw(t){return Yx((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/tw}))}var vw=pw(0),gw=pw(1),mw=pw(2),yw=pw(3),bw=pw(4),xw=pw(5),ww=pw(6),Sw=(vw.range,gw.range,mw.range,yw.range,bw.range,xw.range,ww.range,Yx((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));Sw.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Yx((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};Sw.range;var kw=Yx((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));kw.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Yx((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};kw.range;var Cw=Yx((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Ow=(Cw.range,Yx((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),Ew=(Ow.range,Yx((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*$x-t.getMinutes()*Kx)}),(function(t,e){t.setTime(+t+e*Jx)}),(function(t,e){return(e-t)/Jx}),(function(t){return t.getHours()}))),Mw=(Ew.range,Yx((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Jx)}),(function(t,e){return(e-t)/Jx}),(function(t){return t.getUTCHours()}))),Aw=(Mw.range,Yx((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*$x)}),(function(t,e){t.setTime(+t+e*Kx)}),(function(t,e){return(e-t)/Kx}),(function(t){return t.getMinutes()}))),Pw=(Aw.range,Yx((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Kx)}),(function(t,e){return(e-t)/Kx}),(function(t){return t.getUTCMinutes()}))),_w=(Pw.range,Yx((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*$x)}),(function(t,e){return(e-t)/$x}),(function(t){return t.getUTCSeconds()}))),Dw=(_w.range,Yx((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));Dw.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Yx((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Dw:null};var Tw,Zw,Fw,jw,Iw,Rw,Lw;Dw.range;function Nw(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bw(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zw(t){var e,n,r;function i(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==e(r,r))return o;do{var a=i+o>>>1;n(t[a],r)<0?i=a+1:o=a}while(i<o)}return i}return 2!==t.length?(e=Nw,n=function(e,n){return Nw(t(e),n)},r=function(e,n){return t(e)-n}):(e=t===Nw||t===Bw?t:Uw,n=t,r=t),{left:i,center:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=i(t,e,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length)-1);return o>n&&r(t[o-1],e)>-r(t[o],e)?o-1:o},right:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==e(r,r))return o;do{var a=i+o>>>1;n(t[a],r)<=0?i=a+1:o=a}while(i<o)}return i}}}function Uw(){return 0}var Hw="year",Ww="quarter",Vw="month",Gw="week",Xw="date",qw="day",Yw="dayofyear",$w="hours",Kw="minutes",Jw="seconds",Qw="milliseconds",tS=[Hw,Ww,Vw,Gw,Xw,qw,Yw,$w,Kw,Jw,Qw],eS=tS.reduce((function(t,e,n){return t[e]=1+n,t}),{});function nS(t){var e=bb(t).slice(),n={};return e.length||Ty("Missing time unit."),e.forEach((function(t){Fb(eS,t)?n[t]=1:Ty("Invalid time unit: ".concat(t,"."))})),(n[Gw]||n[qw]?1:0)+(n[Ww]||n[Vw]||n[Xw]?1:0)+(n[Yw]?1:0)>1&&Ty("Incompatible time units: ".concat(t)),e.sort((function(t,e){return eS[t]-eS[e]})),e}var rS=(Tw={},(0,V.Z)(Tw,Hw,"%Y "),(0,V.Z)(Tw,Ww,"Q%q "),(0,V.Z)(Tw,Vw,"%b "),(0,V.Z)(Tw,Xw,"%d "),(0,V.Z)(Tw,Gw,"W%U "),(0,V.Z)(Tw,qw,"%a "),(0,V.Z)(Tw,Yw,"%j "),(0,V.Z)(Tw,$w,"%H:00"),(0,V.Z)(Tw,Kw,"00:%M"),(0,V.Z)(Tw,Jw,":%S"),(0,V.Z)(Tw,Qw,".%L"),(0,V.Z)(Tw,"".concat(Hw,"-").concat(Vw),"%Y-%m "),(0,V.Z)(Tw,"".concat(Hw,"-").concat(Vw,"-").concat(Xw),"%Y-%m-%d "),(0,V.Z)(Tw,"".concat($w,"-").concat(Kw),"%H:%M"),Tw);function iS(t,e){var n,r,i=_b({},rS,e),o=nS(t),a=o.length,c="",l=0;for(l=0;l<a;)for(n=o.length;n>l;--n)if(null!=i[r=o.slice(l,n).join("-")]){c+=i[r],l=n;break}return c.trim()}var oS=new Date;function aS(t){return oS.setFullYear(t),oS.setMonth(0),oS.setDate(1),oS.setHours(0,0,0,0),oS}function cS(t){return uS(new Date(t))}function lS(t){return sS(new Date(t))}function uS(t){return rw.count(aS(t.getFullYear())-1,t)}function sS(t){return cw.count(aS(t.getFullYear())-1,t)}function fS(t){return aS(t).getDay()}function hS(t,e,n,r,i,o,a){if(0<=t&&t<100){var c=new Date(-1,e,n,r,i,o,a);return c.setFullYear(t),c}return new Date(t,e,n,r,i,o,a)}function dS(t){return vS(new Date(t))}function pS(t){return gS(new Date(t))}function vS(t){var e=Date.UTC(t.getUTCFullYear(),0,1);return iw.count(e-1,t)}function gS(t){var e=Date.UTC(t.getUTCFullYear(),0,1);return vw.count(e-1,t)}function mS(t){return oS.setTime(Date.UTC(t,0,1)),oS.getUTCDay()}function yS(t,e,n,r,i,o,a){if(0<=t&&t<100){var c=new Date(Date.UTC(-1,e,n,r,i,o,a));return c.setUTCFullYear(n.y),c}return new Date(Date.UTC(t,e,n,r,i,o,a))}function bS(t,e,n,r,i){var o=e||1,a=tb(t),c=function(t,e,i){return function(t,e,n,r){var i=n<=1?t:r?function(e,i){return r+n*Math.floor((t(e,i)-r)/n)}:function(e,r){return n*Math.floor(t(e,r)/n)};return e?function(t,n){return e(i(t,n),n)}:i}(n[i=i||t],r[i],t===a&&o,e)},l=new Date,u=ox(t),s=u[Hw]?c(Hw):Ab(2012),f=u[Vw]?c(Vw):u[Ww]?c(Ww):Ry,h=u[Gw]&&u[qw]?c(qw,1,Gw+qw):u[Gw]?c(Gw,1):u[qw]?c(qw,1):u[Xw]?c(Xw,1):u[Yw]?c(Yw,1):Ly,d=u[$w]?c($w):Ry,p=u[Kw]?c(Kw):Ry,v=u[Jw]?c(Jw):Ry,g=u[Qw]?c(Qw):Ry;return function(t){l.setTime(+t);var e=s(l);return i(e,f(l),h(l,e),d(l),p(l),v(l),g(l))}}function xS(t,e,n){return e+7*t-(n+6)%7}var wS=(Zw={},(0,V.Z)(Zw,Hw,(function(t){return t.getFullYear()})),(0,V.Z)(Zw,Ww,(function(t){return Math.floor(t.getMonth()/3)})),(0,V.Z)(Zw,Vw,(function(t){return t.getMonth()})),(0,V.Z)(Zw,Xw,(function(t){return t.getDate()})),(0,V.Z)(Zw,$w,(function(t){return t.getHours()})),(0,V.Z)(Zw,Kw,(function(t){return t.getMinutes()})),(0,V.Z)(Zw,Jw,(function(t){return t.getSeconds()})),(0,V.Z)(Zw,Qw,(function(t){return t.getMilliseconds()})),(0,V.Z)(Zw,Yw,(function(t){return uS(t)})),(0,V.Z)(Zw,Gw,(function(t){return sS(t)})),(0,V.Z)(Zw,Gw+qw,(function(t,e){return xS(sS(t),t.getDay(),fS(e))})),(0,V.Z)(Zw,qw,(function(t,e){return xS(1,t.getDay(),fS(e))})),Zw),SS=(Fw={},(0,V.Z)(Fw,Ww,(function(t){return 3*t})),(0,V.Z)(Fw,Gw,(function(t,e){return xS(t,0,fS(e))})),Fw);function kS(t,e){return bS(t,e||1,wS,SS,hS)}var CS=(jw={},(0,V.Z)(jw,Hw,(function(t){return t.getUTCFullYear()})),(0,V.Z)(jw,Ww,(function(t){return Math.floor(t.getUTCMonth()/3)})),(0,V.Z)(jw,Vw,(function(t){return t.getUTCMonth()})),(0,V.Z)(jw,Xw,(function(t){return t.getUTCDate()})),(0,V.Z)(jw,$w,(function(t){return t.getUTCHours()})),(0,V.Z)(jw,Kw,(function(t){return t.getUTCMinutes()})),(0,V.Z)(jw,Jw,(function(t){return t.getUTCSeconds()})),(0,V.Z)(jw,Qw,(function(t){return t.getUTCMilliseconds()})),(0,V.Z)(jw,Yw,(function(t){return vS(t)})),(0,V.Z)(jw,Gw,(function(t){return gS(t)})),(0,V.Z)(jw,qw,(function(t,e){return xS(1,t.getUTCDay(),mS(e))})),(0,V.Z)(jw,Gw+qw,(function(t,e){return xS(gS(t),t.getUTCDay(),mS(e))})),jw),OS=(Iw={},(0,V.Z)(Iw,Ww,(function(t){return 3*t})),(0,V.Z)(Iw,Gw,(function(t,e){return xS(t,0,mS(e))})),Iw);function ES(t,e){return bS(t,e||1,CS,OS,yS)}var MS=(Rw={},(0,V.Z)(Rw,Hw,Sw),(0,V.Z)(Rw,Ww,Cw.every(3)),(0,V.Z)(Rw,Vw,Cw),(0,V.Z)(Rw,Gw,cw),(0,V.Z)(Rw,Xw,rw),(0,V.Z)(Rw,qw,rw),(0,V.Z)(Rw,Yw,rw),(0,V.Z)(Rw,$w,Ew),(0,V.Z)(Rw,Kw,Aw),(0,V.Z)(Rw,Jw,_w),(0,V.Z)(Rw,Qw,Dw),Rw),AS=(Lw={},(0,V.Z)(Lw,Hw,kw),(0,V.Z)(Lw,Ww,Ow.every(3)),(0,V.Z)(Lw,Vw,Ow),(0,V.Z)(Lw,Gw,vw),(0,V.Z)(Lw,Xw,iw),(0,V.Z)(Lw,qw,iw),(0,V.Z)(Lw,Yw,iw),(0,V.Z)(Lw,$w,Mw),(0,V.Z)(Lw,Kw,Pw),(0,V.Z)(Lw,Jw,_w),(0,V.Z)(Lw,Qw,Dw),Lw);function PS(t){return MS[t]}function _S(t){return AS[t]}function DS(t,e,n){return t?t.offset(e,n):void 0}function TS(t,e,n){return DS(PS(t),e,n)}function ZS(t,e,n){return DS(_S(t),e,n)}function FS(t,e,n,r){return t?t.range(e,n,r):void 0}function jS(t,e,n,r){return FS(PS(t),e,n,r)}function IS(t,e,n,r){return FS(_S(t),e,n,r)}var RS=1e3,LS=6e4,NS=36e5,BS=864e5,zS=2592e6,US=31536e6,HS=[Hw,Vw,Xw,$w,Kw,Jw,Qw],WS=HS.slice(0,-1),VS=WS.slice(0,-1),GS=VS.slice(0,-1),XS=GS.slice(0,-1),qS=[Hw,Vw],YS=[Hw],$S=[[WS,1,RS],[WS,5,5e3],[WS,15,15e3],[WS,30,3e4],[VS,1,LS],[VS,5,3e5],[VS,15,9e5],[VS,30,18e5],[GS,1,NS],[GS,3,108e5],[GS,6,216e5],[GS,12,432e5],[XS,1,BS],[[Hw,Gw],1,6048e5],[qS,1,zS],[qS,3,7776e6],[YS,1,US]];function KS(t){var e,n,r=t.extent,i=t.maxbins||40,o=Math.abs(Qb(r))/i,a=zw((function(t){return t[2]})).right($S,o);return a===$S.length?(e=YS,n=Dx(r[0]/US,r[1]/US,i)):a?(e=(a=$S[o/$S[a-1][2]<$S[a][2]/o?a-1:a])[0],n=a[1]):(e=HS,n=Math.max(Dx(r[0],r[1],i),1)),{units:e,step:n}}function JS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function QS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function tk(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ek(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,c=t.months,l=t.shortMonths,u=vk(i),s=gk(i),f=vk(o),h=gk(o),d=vk(a),p=gk(a),v=vk(c),g=gk(c),m=vk(l),y=gk(l),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:null,d:Rk,e:Rk,f:Uk,g:Qk,G:eC,H:Lk,I:Nk,j:Bk,L:zk,m:Hk,M:Wk,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:CC,s:OC,S:Vk,u:Gk,U:Xk,V:Yk,w:$k,W:Kk,x:null,X:null,y:Jk,Y:tC,Z:nC,"%":kC},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return c[t.getUTCMonth()]},c:null,d:rC,e:rC,f:lC,g:bC,G:wC,H:iC,I:oC,j:aC,L:cC,m:uC,M:sC,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:CC,s:OC,S:fC,u:hC,U:dC,V:vC,w:gC,W:mC,x:null,X:null,y:yC,Y:xC,Z:SC,"%":kC},w={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return C(t,e,n,r)},d:Mk,e:Mk,f:Zk,g:kk,G:Sk,H:Pk,I:Pk,j:Ak,L:Tk,m:Ek,M:_k,p:function(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=s.get(r[0].toLowerCase()),n+r[0].length):-1},q:Ok,Q:jk,s:Ik,S:Dk,u:yk,U:bk,V:xk,w:mk,W:wk,x:function(t,e,r){return C(t,n,e,r)},X:function(t,e,n){return C(t,r,e,n)},y:kk,Y:Sk,Z:Ck,"%":Fk};function S(t,e){return function(n){var r,i,o,a=[],c=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++c<u;)37===t.charCodeAt(c)&&(a.push(t.slice(l,c)),null!=(i=uk[r=t.charAt(++c)])?r=t.charAt(++c):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=c+1);return a.push(t.slice(l,c)),a.join("")}}function k(t,e){return function(n){var r,i,o=tk(1900,void 0,1);if(C(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=QS(tk(o.y,0,1))).getUTCDay(),r=i>4||0===i?gw.ceil(r):gw(r),r=iw.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=JS(tk(o.y,0,1))).getDay(),r=i>4||0===i?lw.ceil(r):lw(r),r=rw.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?QS(tk(o.y,0,1)).getUTCDay():JS(tk(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,QS(o)):JS(o)}}function C(t,e,n,r){for(var i,o,a=0,c=e.length,l=n.length;a<c;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in uk?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(e,b),x.x=S(n,x),x.X=S(r,x),x.c=S(e,x),{format:function(t){var e=S(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=S(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}var nk,rk,ik,ok,ak,ck,lk,uk={"-":"",_:" ",0:"0"},sk=/^\s*\d+/,fk=/^%/,hk=/[\\^$*+?|[\]().{}]/g;function dk(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function pk(t){return t.replace(hk,"\\$&")}function vk(t){return new RegExp("^(?:"+t.map(pk).join("|")+")","i")}function gk(t){return new Map(t.map((function(t,e){return[t.toLowerCase(),e]})))}function mk(t,e,n){var r=sk.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function yk(t,e,n){var r=sk.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function bk(t,e,n){var r=sk.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function xk(t,e,n){var r=sk.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function wk(t,e,n){var r=sk.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Sk(t,e,n){var r=sk.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function kk(t,e,n){var r=sk.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ck(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ok(t,e,n){var r=sk.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Ek(t,e,n){var r=sk.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Mk(t,e,n){var r=sk.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ak(t,e,n){var r=sk.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Pk(t,e,n){var r=sk.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function _k(t,e,n){var r=sk.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Dk(t,e,n){var r=sk.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Tk(t,e,n){var r=sk.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Zk(t,e,n){var r=sk.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Fk(t,e,n){var r=fk.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function jk(t,e,n){var r=sk.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ik(t,e,n){var r=sk.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Rk(t,e){return dk(t.getDate(),e,2)}function Lk(t,e){return dk(t.getHours(),e,2)}function Nk(t,e){return dk(t.getHours()%12||12,e,2)}function Bk(t,e){return dk(1+rw.count(Sw(t),t),e,3)}function zk(t,e){return dk(t.getMilliseconds(),e,3)}function Uk(t,e){return zk(t,e)+"000"}function Hk(t,e){return dk(t.getMonth()+1,e,2)}function Wk(t,e){return dk(t.getMinutes(),e,2)}function Vk(t,e){return dk(t.getSeconds(),e,2)}function Gk(t){var e=t.getDay();return 0===e?7:e}function Xk(t,e){return dk(cw.count(Sw(t)-1,t),e,2)}function qk(t){var e=t.getDay();return e>=4||0===e?fw(t):fw.ceil(t)}function Yk(t,e){return t=qk(t),dk(fw.count(Sw(t),t)+(4===Sw(t).getDay()),e,2)}function $k(t){return t.getDay()}function Kk(t,e){return dk(lw.count(Sw(t)-1,t),e,2)}function Jk(t,e){return dk(t.getFullYear()%100,e,2)}function Qk(t,e){return dk((t=qk(t)).getFullYear()%100,e,2)}function tC(t,e){return dk(t.getFullYear()%1e4,e,4)}function eC(t,e){var n=t.getDay();return dk((t=n>=4||0===n?fw(t):fw.ceil(t)).getFullYear()%1e4,e,4)}function nC(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dk(e/60|0,"0",2)+dk(e%60,"0",2)}function rC(t,e){return dk(t.getUTCDate(),e,2)}function iC(t,e){return dk(t.getUTCHours(),e,2)}function oC(t,e){return dk(t.getUTCHours()%12||12,e,2)}function aC(t,e){return dk(1+iw.count(kw(t),t),e,3)}function cC(t,e){return dk(t.getUTCMilliseconds(),e,3)}function lC(t,e){return cC(t,e)+"000"}function uC(t,e){return dk(t.getUTCMonth()+1,e,2)}function sC(t,e){return dk(t.getUTCMinutes(),e,2)}function fC(t,e){return dk(t.getUTCSeconds(),e,2)}function hC(t){var e=t.getUTCDay();return 0===e?7:e}function dC(t,e){return dk(vw.count(kw(t)-1,t),e,2)}function pC(t){var e=t.getUTCDay();return e>=4||0===e?bw(t):bw.ceil(t)}function vC(t,e){return t=pC(t),dk(bw.count(kw(t),t)+(4===kw(t).getUTCDay()),e,2)}function gC(t){return t.getUTCDay()}function mC(t,e){return dk(gw.count(kw(t)-1,t),e,2)}function yC(t,e){return dk(t.getUTCFullYear()%100,e,2)}function bC(t,e){return dk((t=pC(t)).getUTCFullYear()%100,e,2)}function xC(t,e){return dk(t.getUTCFullYear()%1e4,e,4)}function wC(t,e){var n=t.getUTCDay();return dk((t=n>=4||0===n?bw(t):bw.ceil(t)).getUTCFullYear()%1e4,e,4)}function SC(){return"+0000"}function kC(){return"%"}function CC(t){return+t}function OC(t){return Math.floor(+t/1e3)}function EC(t){var e={};return function(n){return e[n]||(e[n]=t(n))}}function MC(t){var e=EC(t.format),n=t.formatPrefix;return{format:e,formatPrefix:n,formatFloat:function(t){var n=Fx(t||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1}return function(t,e){return function(n){var r=t(n),i=r.indexOf(e);if(i<0)return r;for(var o=function(t,e){var n,r=t.lastIndexOf("e");if(r>0)return r;for(r=t.length;--r>e;)if((n=t.charCodeAt(r))>=48&&n<=57)return r+1}(r,i),a=o<r.length?r.slice(o):"";--o>i;)if("0"!==r[o]){++o;break}return r.slice(0,o)+a}}(e(n),e(".1f")(1)[1])}return e(n)},formatSpan:function(t,r,i,o){o=Fx(null==o?",f":o);var a,c=Dx(t,r,i),l=Math.max(Math.abs(t),Math.abs(r));if(null==o.precision)switch(o.type){case"s":return isNaN(a=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Rx(e)/3)))-Rx(Math.abs(t)))}(c,l))||(o.precision=a),n(o,l);case"":case"e":case"g":case"p":case"r":isNaN(a=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rx(e)-Rx(t))+1}(c,l))||(o.precision=a-("e"===o.type));break;case"f":case"%":isNaN(a=function(t){return Math.max(0,-Rx(Math.abs(t)))}(c))||(o.precision=a-2*("%"===o.type))}return e(o)}}}function AC(){return ck=MC({format:Ux,formatPrefix:Hx})}function PC(t){return MC(Gx(t))}function _C(t){return arguments.length?ck=PC(t):ck}function DC(t,e,n){Yy(n=n||{})||Ty("Invalid time multi-format specifier: ".concat(n));var r=e(Jw),i=e(Kw),o=e($w),a=e(Xw),c=e(Gw),l=e(Vw),u=e(Ww),s=e(Hw),f=t(n[Qw]||".%L"),h=t(n[Jw]||":%S"),d=t(n[Kw]||"%I:%M"),p=t(n[$w]||"%I %p"),v=t(n[Xw]||n[qw]||"%a %d"),g=t(n[Gw]||"%b %d"),m=t(n[Vw]||"%B"),y=t(n[Ww]||"%B"),b=t(n[Hw]||"%Y");return function(t){return(r(t)<t?f:i(t)<t?h:o(t)<t?d:a(t)<t?p:l(t)<t?c(t)<t?v:g:s(t)<t?u(t)<t?m:y:b)(t)}}function TC(t){var e=EC(t.format),n=EC(t.utcFormat);return{timeFormat:function(t){return Vb(t)?e(t):DC(e,PS,t)},utcFormat:function(t){return Vb(t)?n(t):DC(n,_S,t)},timeParse:EC(t.parse),utcParse:EC(t.utcParse)}}function ZC(){return lk=TC({format:rk,parse:ik,utcFormat:ok,utcParse:ak})}function FC(t){return TC(ek(t))}function jC(t){return arguments.length?lk=FC(t):lk}!function(t){nk=ek(t),rk=nk.format,ik=nk.parse,ok=nk.utcFormat,ak=nk.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),AC(),ZC();var IC=function(t,e){return _b({},t,e)};function RC(t,e){var n=t?PC(t):_C(),r=e?FC(e):jC();return IC(n,r)}function LC(t,e){var n=arguments.length;return n&&2!==n&&Ty("defaultLocale expects either zero or two arguments."),n?IC(_C(t),jC(e)):IC(_C(),jC())}function NC(){return AC(),ZC(),LC()}var BC=/^(data:|([A-Za-z]+:)?\/\/)/,zC=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,UC=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,HC="file://";function WC(t,e){return VC.apply(this,arguments)}function VC(){return(VC=Gm(q().mark((function t(e,n){var r,i;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sanitize(e,n);case 2:return r=t.sent,i=r.href,t.abrupt("return",r.localFile?this.file(i):this.http(i,n));case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function GC(t,e){return XC.apply(this,arguments)}function XC(){return XC=Gm(q().mark((function t(e,n){var r,i,o,a,c,l,u;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=_b({},this.options,n),r=this.fileAccess,i={href:null},l=zC.test(e.replace(UC,"")),null!=e&&"string"==typeof e&&l||Ty("Sanitize failure, invalid URI: "+tx(e)),u=BC.test(e),(c=n.baseURL)&&!u&&(e.startsWith("/")||c.endsWith("/")||(e="/"+e),e=c+e),a=(o=e.startsWith(HC))||"file"===n.mode||"http"!==n.mode&&!u&&r,o?e=e.slice(HC.length):e.startsWith("//")&&("file"===n.defaultProtocol?(e=e.slice(2),a=!0):e=(n.defaultProtocol||"http")+":"+e),Object.defineProperty(i,"localFile",{value:!!a}),i.href=e,n.target&&(i.target=n.target+""),n.rel&&(i.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(i.crossOrigin=n.crossOrigin+""),t.abrupt("return",i);case 14:case"end":return t.stop()}}),t,this)}))),XC.apply(this,arguments)}function qC(t){return t?function(e){return new Promise((function(n,r){t.readFile(e,(function(t,e){t?r(t):n(e)}))}))}:YC}function YC(){return $C.apply(this,arguments)}function $C(){return($C=Gm(q().mark((function t(){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ty("No file system access.");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function KC(t){return t?function(){var e=Gm(q().mark((function e(n,r){var i,o,a;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_b({},this.options.http,r),o=r&&r.response,e.next=4,t(n,i);case 4:return a=e.sent,e.abrupt("return",a.ok?wb(a[o])?a[o]():a.text():Ty(a.status+""+a.statusText));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}():JC}function JC(){return QC.apply(this,arguments)}function QC(){return(QC=Gm(q().mark((function t(){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ty("No HTTP fetch method available.");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var tO=function(t){return null!=t&&t==t},eO=function(t){return!(Number.isNaN(+t)||t instanceof Date)},nO={boolean:ex,integer:eb,number:eb,date:rx,string:ix,unknown:Iy},rO=[function(t){return"true"===t||"false"===t||!0===t||!1===t},function(t){return eO(t)&&Number.isInteger(+t)},eO,function(t){return!Number.isNaN(Date.parse(t))}],iO=["boolean","integer","number","date"];function oO(t,e){return e.reduce((function(e,n){return e[n]=function(t,e){if(!t||!t.length)return"unknown";for(var n,r,i=t.length,o=rO.length,a=rO.map((function(t,e){return e+1})),c=0,l=0;c<i;++c)for(r=e?t[c][e]:t[c],n=0;n<o;++n)if(a[n]&&tO(r)&&!rO[n](r)&&(a[n]=0,++l===rO.length))return"string";return iO[a.reduce((function(t,e){return 0===t?e:t}),0)-1]}(t,n),e}),{})}function aO(t){var e=function(e,n){var r={delimiter:t};return cO(e,n?_b(n,r):r)};return e.responseType="text",e}function cO(t,e){return e.header&&(t=e.header.map(tx).join(e.delimiter)+"\n"+t),mx(e.delimiter).parse(t+"")}function lO(t,e){var n,r=e&&e.property?Fy(e.property):Iy;return!Yy(t)||(n=t,"function"==typeof Buffer&&wb(Buffer.isBuffer)&&Buffer.isBuffer(n))?r(JSON.parse(t)):function(t,e){!qy(t)&&Ub(t)&&(t=(0,Xm.Z)(t));return e&&e.copy?JSON.parse(JSON.stringify(t)):t}(r(t),e)}cO.responseType="text",lO.responseType="json";var uO={interior:function(t,e){return t!==e},exterior:function(t,e){return t===e}};function sO(t,e){var n,r,i,o;return t=lO(t,e),e&&e.feature?(n=bx,i=e.feature):e&&e.mesh?(n=kx,i=e.mesh,o=uO[e.filter]):Ty("Missing TopoJSON feature or mesh parameter."),(r=(r=t.objects[i])?n(t,r,o):Ty("Invalid TopoJSON object: "+i))&&r.features||[r]}sO.responseType="json";var fO={dsv:cO,csv:aO(","),tsv:aO("\t"),json:lO,topojson:sO};function hO(t,e){return arguments.length>1?(fO[t]=e,this):Fb(fO,t)?fO[t]:null}function dO(t){var e=hO(t);return e&&e.responseType||"text"}function pO(t,e,n,r){var i=hO((e=e||{}).type||"json");return i||Ty("Unknown data format type: "+e.type),t=i(t,e),e.parse&&function(t,e,n,r){if(!t.length)return;var i=jC();n=n||i.timeParse,r=r||i.utcParse;var o,a,c,l,u,s,f=t.columns||Object.keys(t[0]);"auto"===e&&(e=oO(t,f));f=Object.keys(e);var h=f.map((function(t){var i,o,a=e[t];if(a&&(a.startsWith("date:")||a.startsWith("utc:")))return("'"===(o=(i=a.split(/:(.+)?/,2))[1])[0]&&"'"===o[o.length-1]||'"'===o[0]&&'"'===o[o.length-1])&&(o=o.slice(1,-1)),("utc"===i[0]?r:n)(o);if(!nO[a])throw Error("Illegal format pattern: "+t+":"+a);return nO[a]}));for(c=0,u=t.length,s=f.length;c<u;++c)for(o=t[c],l=0;l<s;++l)o[a=f[l]]=h[l](o[a])}(t,e.parse,n,r),Fb(t,"columns")&&delete t.columns,t}var vO=function(t,e){return function(n){return{options:n||{},sanitize:GC,load:WC,fileAccess:!!e,file:qC(e),http:KC(t)}}}("undefined"!=typeof fetch&&fetch,null);function gO(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return mO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mO(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function mO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yO(t){var e=t||Iy,n=[],r={};return n.add=function(t){var i=e(t);return r[i]||(r[i]=1,n.push(t)),n},n.remove=function(t){var i=e(t);if(r[i]){r[i]=0;var o=n.indexOf(t);o>=0&&n.splice(o,1)}return n},n}function bO(t,e){return xO.apply(this,arguments)}function xO(){return xO=Gm(q().mark((function t(e,n){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),e.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),xO.apply(this,arguments)}var wO=Symbol("vega_id"),SO=1;function kO(t){return!(!t||!CO(t))}function CO(t){return t[wO]}function OO(t,e){return t[wO]=e,t}function EO(t){var e=t===Object(t)?t:{data:t};return CO(e)?e:OO(e,SO++)}function MO(t){return AO(t,EO({}))}function AO(t,e){for(var n in t)e[n]=t[n];return e}function PO(t,e){return OO(e,CO(t))}function _O(t,e){return t?e?function(n,r){return t(n,r)||CO(e(n))-CO(e(r))}:function(e,n){return t(e,n)||CO(e)-CO(n)}:null}function DO(t){return t&&t.constructor===TO}function TO(){var t=[],e=[],n=[],r=[],i=[],o=null,a=!1;return{constructor:TO,insert:function(e){for(var n=bb(e),r=n.length,i=0;i<r;++i)t.push(n[i]);return this},remove:function(t){for(var n=wb(t)?r:e,i=bb(t),o=i.length,a=0;a<o;++a)n.push(i[a]);return this},modify:function(t,e,r){var o={field:e,value:Ab(r)};return wb(t)?(o.filter=t,i.push(o)):(o.tuple=t,n.push(o)),this},encode:function(t,e){return wb(t)?i.push({filter:t,field:e}):n.push({tuple:t,field:e}),this},clean:function(t){return o=t,this},reflow:function(){return a=!0,this},pulse:function(c,l){var u,s,f,h,d,p,v={},g={};for(u=0,s=l.length;u<s;++u)v[CO(l[u])]=1;for(u=0,s=e.length;u<s;++u)v[CO(d=e[u])]=-1;for(u=0,s=r.length;u<s;++u)h=r[u],l.forEach((function(t){h(t)&&(v[CO(t)]=-1)}));for(u=0,s=t.length;u<s;++u)p=CO(d=t[u]),v[p]?v[p]=1:c.add.push(EO(t[u]));for(u=0,s=l.length;u<s;++u)d=l[u],v[CO(d)]<0&&c.rem.push(d);function m(t,e,n){n?t[e]=n(t):c.encode=e,a||(g[CO(t)]=t)}for(u=0,s=n.length;u<s;++u)d=(f=n[u]).tuple,h=f.field,(p=v[CO(d)])>0&&(m(d,h,f.value),c.modifies(h));for(u=0,s=i.length;u<s;++u)f=i[u],h=f.filter,l.forEach((function(t){h(t)&&v[CO(t)]>0&&m(t,f.field,f.value)})),c.modifies(f.field);if(a)c.mod=e.length||r.length?l.filter((function(t){return v[CO(t)]>0})):l.slice();else for(p in g)c.mod.push(g[p]);return(o||null==o&&(e.length||r.length))&&c.clean(!0),c}}}var ZO="_:mod:_";function FO(){Object.defineProperty(this,ZO,{writable:!0,value:{}})}FO.prototype={set:function(t,e,n,r){var i=this,o=i[t],a=i[ZO];return null!=e&&e>=0?(o[e]!==n||r)&&(o[e]=n,a[e+":"+t]=-1,a[t]=-1):(o!==n||r)&&(i[t]=n,a[t]=qy(n)?1+n.length:-1),i},modified:function(t,e){var n=this[ZO];if(!arguments.length){for(var r in n)if(n[r])return!0;return!1}if(qy(t)){for(var i=0;i<t.length;++i)if(n[t[i]])return!0;return!1}return null!=e&&e>=0?e+1<n[t]||!!n[e+":"+t]:!!n[t]},clear:function(){return this[ZO]={},this}};var jO=0,IO=new FO;function RO(t,e,n,r){this.id=++jO,this.value=t,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,e&&(this._update=e),n&&this.parameters(n,r)}function LO(t){return function(e){var n=this.flags;return 0===arguments.length?!!(n&t):(this.flags=e?n|t:n&~t,this)}}RO.prototype={targets:function(){return this._targets||(this._targets=yO(jy))},set:function(t){return this.value!==t?(this.value=t,1):0},skip:LO(1),modified:LO(2),parameters:function(t,e,n){var r=this;e=!1!==e;var i,o,a,c,l=this._argval=this._argval||new FO,u=this._argops=this._argops||[],s=[],f=function(t,n,i){i instanceof RO?(i!==r&&(e&&i.targets().add(r),s.push(i)),u.push({op:i,name:t,index:n})):l.set(t,n,i)};for(i in t)if(o=t[i],"pulse"===i)bb(o).forEach((function(t){t instanceof RO?t!==r&&(t.targets().add(r),s.push(t)):Ty("Pulse parameters must be operator instances.")})),this.source=o;else if(qy(o))for(l.set(i,-1,Array(a=o.length)),c=0;c<a;++c)f(i,c,o[c]);else f(i,-1,o);return this.marshall().clear(),n&&(u.initonly=!0),s},marshall:function(t){var e,n,r,i,o=this._argval||IO,a=this._argops;if(a){var c=a.length;for(n=0;n<c;++n)i=(r=(e=a[n]).op).modified()&&r.stamp===t,o.set(e.name,e.index,r.value,i);if(a.initonly){for(n=0;n<c;++n)(e=a[n]).op.targets().remove(this);this._argops=null,this._update=null}}return o},detach:function(){var t,e,n,r=this._argops;if(r)for(t=0,e=r.length;t<e;++t)(n=r[t].op)._targets&&n._targets.remove(this);this.pulse=null,this.source=null},evaluate:function(t){var e=this._update;if(e){var n=this.marshall(t.stamp),r=e.call(this,n,t);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return t.StopPropagation}},run:function(t){return t.stamp<this.stamp?t.StopPropagation:(this.skip()?(this.skip(!1),e=0):e=this.evaluate(t),this.pulse=e||t);var e}};var NO=0;function BO(t,e,n){this.id=++NO,this.value=null,n&&(this.receive=n),t&&(this._filter=t),e&&(this._apply=e)}function zO(t,e,n){return new BO(t,e,n)}function UO(){return UO=Gm(q().mark((function t(e,n){var r,i,o;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this,i=0,t.prev=2,t.next=5,r.loader().load(e,{context:"dataflow",response:dO(n&&n.type)});case 5:o=t.sent;try{o=r.parse(o,n)}catch(a){i=-2,r.warn("Data ingestion failed",e,a)}t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),i=-1,r.warn("Loading failed",e,t.t0);case 13:return t.abrupt("return",{data:o,status:i});case 14:case"end":return t.stop()}}),t,this,[[2,9]])}))),UO.apply(this,arguments)}function HO(){return HO=Gm(q().mark((function t(e,n,r){var i,o,a;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(o=(i=this)._pending||WO(i)).requests+=1,t.next=4,i.request(n,r);case 4:return a=t.sent,i.pulse(e,i.changeset().remove(Ny).insert(a.data||[])),o.done(),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t,this)}))),HO.apply(this,arguments)}function WO(t){var e,n=new Promise((function(t){return e=t}));return n.requests=0,n.done=function(){0==--n.requests&&(t._pending=null,e(t))},t._pending=n}BO.prototype={_filter:Ny,_apply:Iy,targets:function(){return this._targets||(this._targets=yO(jy))},consume:function(t){return arguments.length?(this._consume=!!t,this):!!this._consume},receive:function(t){if(this._filter(t)){for(var e=this.value=this._apply(t),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(e);this._consume&&(t.preventDefault(),t.stopPropagation())}},filter:function(t){var e=zO(t);return this.targets().add(e),e},apply:function(t){var e=zO(null,t);return this.targets().add(e),e},merge:function(){var t=zO();this.targets().add(t);for(var e=0,n=arguments.length;e<n;++e)arguments[e].targets().add(t);return t},throttle:function(t){var e=-1;return this.filter((function(){var n=Date.now();return n-e>t?(e=n,1):0}))},debounce:function(t){var e=zO();return this.targets().add(zO(null,null,Pb(t,(function(t){var n=t.dataflow;e.receive(t),n&&n.run&&n.run()})))),e},between:function(t,e){var n=!1;return t.targets().add(zO(null,null,(function(){return n=!0}))),e.targets().add(zO(null,null,(function(){return n=!1}))),this.filter((function(){return n}))},detach:function(){this._filter=Ny,this._targets=null}};var VO={skip:!0};function GO(t,e,n,r,i,o){var a,c,l=_b({},o,VO);wb(n)||(n=Ab(n)),void 0===r?a=function(e){return t.touch(n(e))}:wb(r)?(c=new RO(null,r,i,!1),a=function(e){c.evaluate(e);var r=n(e),i=c.value;DO(i)?t.pulse(r,i,o):t.update(r,i,l)}):a=function(e){return t.update(n(e),r,l)},e.apply(a)}function XO(t,e,n,r,i,o){if(void 0===r)e.targets().add(n);else{var a=o||{},c=new RO(null,function(t,e){return e=wb(e)?e:Ab(e),t?function(n,r){var i=e(n,r);return t.skip()||(t.skip(i!==this.value).value=i),i}:e}(n,r),i,!1);c.modified(a.force),c.rank=e.rank,e.targets().add(c),n&&(c.skip(!0),c.value=n.value,c.targets().add(n),t.connect(n,[c]))}}var qO={};function YO(t,e,n){this.dataflow=t,this.stamp=null==e?-1:e,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function $O(t,e){var n=[];return cx(t,e,(function(t){return n.push(t)})),n}function KO(t,e){var n={};return t.visit(e,(function(t){n[CO(t)]=1})),function(t){return n[CO(t)]?null:t}}function JO(t,e){return t?function(n,r){return t(n,r)&&e(n,r)}:e}function QO(t,e,n,r){var i=this,o=0;this.dataflow=t,this.stamp=e,this.fields=null,this.encode=r||null,this.pulses=n;var a,c=gO(n);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(l.stamp===e){if(l.fields){var u=i.fields||(i.fields={});for(var s in l.fields)u[s]=1}l.changed(i.ADD)&&(o|=i.ADD),l.changed(i.REM)&&(o|=i.REM),l.changed(i.MOD)&&(o|=i.MOD)}}}catch(f){c.e(f)}finally{c.f()}this.changes=o}function tE(){return tE=Gm(q().mark((function t(e,n,r){var i,o,a,c,l,u,s,f,h;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=[],!(i=this)._pulse){t.next=3;break}return t.abrupt("return",nE(i));case 3:if(!i._pending){t.next=6;break}return t.next=6,i._pending;case 6:if(!n){t.next=9;break}return t.next=9,bO(i,n);case 9:if(i._touched.length){t.next=12;break}return i.debug("Dataflow invoked, but nothing to do."),t.abrupt("return",i);case 12:a=++i._clock,i._pulse=new YO(i,a,e),i._touched.forEach((function(t){return i._enqueue(t,!0)})),i._touched=yO(jy),c=0,t.prev=17;case 18:if(!(i._heap.size()>0)){t.next=35;break}if((l=i._heap.pop()).rank===l.qrank){t.next=23;break}return i._enqueue(l,!0),t.abrupt("continue",18);case 23:if(!(u=l.run(i._getPulse(l,e))).then){t.next=30;break}return t.next=27,u;case 27:u=t.sent,t.next=31;break;case 30:u.async&&(o.push(u.async),u=qO);case 31:u!==qO&&l._targets&&l._targets.forEach((function(t){return i._enqueue(t)})),++c,t.next=18;break;case 35:t.next=41;break;case 37:t.prev=37,t.t0=t.catch(17),i._heap.clear(),s=t.t0;case 41:if(i._input={},i._pulse=null,i.debug("Pulse ".concat(a,": ").concat(c," operators")),s&&(i._postrun=[],i.error(s)),!i._postrun.length){t.next=55;break}f=i._postrun.sort((function(t,e){return e.priority-t.priority})),i._postrun=[],h=0;case 49:if(!(h<f.length)){t.next=55;break}return t.next=52,bO(i,f[h].callback);case 52:++h,t.next=49;break;case 55:if(!r){t.next=58;break}return t.next=58,bO(i,r);case 58:return o.length&&Promise.all(o).then((function(t){return i.runAsync(null,(function(){t.forEach((function(t){try{t(i)}catch(e){i.error(e)}}))}))})),t.abrupt("return",i);case 60:case"end":return t.stop()}}),t,this,[[17,37]])}))),tE.apply(this,arguments)}function eE(){return eE=Gm(q().mark((function t(e,n,r){var i,o=this;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._running){t.next=5;break}return t.next=3,this._running;case 3:t.next=0;break;case 5:return i=function(){return o._running=null},(this._running=this.evaluate(e,n,r)).then(i,i),t.abrupt("return",this._running);case 8:case"end":return t.stop()}}),t,this)}))),eE.apply(this,arguments)}function nE(t){return t.error("Dataflow already running. Use runAsync() to chain invocations."),t}YO.prototype={StopPropagation:qO,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork:function(t){return new YO(this.dataflow).init(this,t)},clone:function(){var t=this.fork(7);return t.add=t.add.slice(),t.rem=t.rem.slice(),t.mod=t.mod.slice(),t.source&&(t.source=t.source.slice()),t.materialize(23)},addAll:function(){var t=this;return!t.source||t.add===t.rem||!t.rem.length&&t.source.length===t.add.length||((t=new YO(this.dataflow).init(this)).add=t.source,t.rem=[]),t},init:function(t,e){var n=this;return n.stamp=t.stamp,n.encode=t.encode,!t.fields||64&e||(n.fields=t.fields),1&e?(n.addF=t.addF,n.add=t.add):(n.addF=null,n.add=[]),2&e?(n.remF=t.remF,n.rem=t.rem):(n.remF=null,n.rem=[]),4&e?(n.modF=t.modF,n.mod=t.mod):(n.modF=null,n.mod=[]),32&e?(n.srcF=null,n.source=null):(n.srcF=t.srcF,n.source=t.source,t.cleans&&(n.cleans=t.cleans)),n},runAfter:function(t){this.dataflow.runAfter(t)},changed:function(t){var e=t||7;return 1&e&&this.add.length||2&e&&this.rem.length||4&e&&this.mod.length},reflow:function(t){if(t)return this.fork(7).reflow();var e=this.add.length,n=this.source&&this.source.length;return n&&n!==e&&(this.mod=this.source,e&&this.filter(4,KO(this,1))),this},clean:function(t){return arguments.length?(this.cleans=!!t,this):this.cleans},modifies:function(t){var e=this.fields||(this.fields={});return qy(t)?t.forEach((function(t){return e[t]=!0})):e[t]=!0,this},modified:function(t,e){var n=this.fields;return!(!e&&!this.mod.length||!n)&&(arguments.length?qy(t)?t.some((function(t){return n[t]})):n[t]:!!n)},filter:function(t,e){var n=this;return 1&t&&(n.addF=JO(n.addF,e)),2&t&&(n.remF=JO(n.remF,e)),4&t&&(n.modF=JO(n.modF,e)),16&t&&(n.srcF=JO(n.srcF,e)),n},materialize:function(t){var e=this;return 1&(t=t||7)&&e.addF&&(e.add=$O(e.add,e.addF),e.addF=null),2&t&&e.remF&&(e.rem=$O(e.rem,e.remF),e.remF=null),4&t&&e.modF&&(e.mod=$O(e.mod,e.modF),e.modF=null),16&t&&e.srcF&&(e.source=e.source.filter(e.srcF),e.srcF=null),e},visit:function(t,e){var n=this,r=e;if(16&t)return cx(n.source,n.srcF,r),n;1&t&&cx(n.add,n.addF,r),2&t&&cx(n.rem,n.remF,r),4&t&&cx(n.mod,n.modF,r);var i=n.source;if(8&t&&i){var o=n.add.length+n.mod.length;o===i.length||cx(i,o?KO(n,5):n.srcF,r)}return n}},Lb(QO,YO,{fork:function(t){var e=new YO(this.dataflow).init(this,t&this.NO_FIELDS);return void 0!==t&&(t&e.ADD&&this.visit(e.ADD,(function(t){return e.add.push(t)})),t&e.REM&&this.visit(e.REM,(function(t){return e.rem.push(t)})),t&e.MOD&&this.visit(e.MOD,(function(t){return e.mod.push(t)}))),e},changed:function(t){return this.changes&t},modified:function(t){var e=this,n=e.fields;return n&&e.changes&e.MOD?qy(t)?t.some((function(t){return n[t]})):n[t]:0},filter:function(){Ty("MultiPulse does not support filtering.")},materialize:function(){Ty("MultiPulse does not support materialization.")},visit:function(t,e){var n=this,r=n.pulses,i=r.length,o=0;if(t&n.SOURCE)for(;o<i;++o)r[o].visit(t,e);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(t,e);return n}});var rE={skip:!1,force:!1};function iE(t){var e=[];return{clear:function(){return e=[]},size:function(){return e.length},peek:function(){return e[0]},push:function(n){return e.push(n),oE(e,0,e.length-1,t)},pop:function(){var n,r=e.pop();return e.length?(n=e[0],e[0]=r,function(t,e,n){var r,i=e,o=t.length,a=t[e],c=1+(e<<1);for(;c<o;)(r=c+1)<o&&n(t[c],t[r])>=0&&(c=r),t[e]=t[c],c=1+((e=c)<<1);t[e]=a,oE(t,i,e,n)}(e,0,t)):n=r,n}}}function oE(t,e,n,r){for(var i,o,a=t[n];n>e&&r(a,i=t[o=n-1>>1])<0;)t[n]=i,n=o;return t[n]=a}function aE(){this.logger(Xy()),this.logLevel(Hy),this._clock=0,this._rank=0,this._locale=LC();try{this._loader=vO()}catch(F2t){}this._touched=yO(jy),this._input={},this._pulse=null,this._heap=iE((function(t,e){return t.qrank-e.qrank})),this._postrun=[]}function cE(t){return function(){return this._log[t].apply(this,arguments)}}function lE(t,e){RO.call(this,t,null,e)}aE.prototype={stamp:function(){return this._clock},loader:function(t){return arguments.length?(this._loader=t,this):this._loader},locale:function(t){return arguments.length?(this._locale=t,this):this._locale},logger:function(t){return arguments.length?(this._log=t,this):this._log},error:cE("error"),warn:cE("warn"),info:cE("info"),debug:cE("debug"),logLevel:cE("level"),cleanThreshold:1e4,add:function(t,e,n,r){var i,o=1;return t instanceof RO?i=t:t&&t.prototype instanceof RO?i=new t:wb(t)?i=new RO(null,t):(o=0,i=new RO(t,e)),this.rank(i),o&&(r=n,n=e),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i},connect:function(t,e){for(var n=t.rank,r=e.length,i=0;i<r;++i)if(n<e[i].rank)return void this.rerank(t)},rank:function(t){t.rank=++this._rank},rerank:function(t){for(var e,n,r,i=[t];i.length;)if(this.rank(e=i.pop()),n=e._targets)for(r=n.length;--r>=0;)i.push(e=n[r]),e===t&&Ty("Cycle detected in dataflow graph.")},pulse:function(t,e,n){this.touch(t,n||rE);var r=new YO(this,this._clock+(this._pulse?0:1)),i=t.pulse&&t.pulse.source||[];return r.target=t,this._input[t.id]=e.pulse(r,i),this},touch:function(t,e){var n=e||rE;return this._pulse?this._enqueue(t):this._touched.add(t),n.skip&&t.skip(!0),this},update:function(t,e,n){var r=n||rE;return(t.set(e)||r.force)&&this.touch(t,r),this},changeset:TO,ingest:function(t,e,n){return e=this.parse(e,n),this.pulse(t,this.changeset().insert(e))},parse:function(t,e){var n=this.locale();return pO(t,e,n.timeParse,n.utcParse)},preload:function(t,e,n){return HO.apply(this,arguments)},request:function(t,e){return UO.apply(this,arguments)},events:function(t,e,n,r){for(var i,o=this,a=zO(n,r),c=function(t){t.dataflow=o;try{a.receive(t)}catch(e){o.error(e)}finally{o.run()}},l=(i="string"==typeof t&&"undefined"!=typeof document?document.querySelectorAll(t):bb(t)).length,u=0;u<l;++u)i[u].addEventListener(e,c);return a},on:function(t,e,n,r,i){return(t instanceof RO?XO:GO)(this,t,e,n,r,i),this},evaluate:function(t,e,n){return tE.apply(this,arguments)},run:function(t,e,n){return this._pulse?nE(this):(this.evaluate(t,e,n),this)},runAsync:function(t,e,n){return eE.apply(this,arguments)},runAfter:function(t,e,n){if(this._pulse||e)this._postrun.push({priority:n||0,callback:t});else try{t(this)}catch(r){this.error(r)}},_enqueue:function(t,e){var n=t.stamp<this._clock;n&&(t.stamp=this._clock),(n||e)&&(t.qrank=t.rank,this._heap.push(t))},_getPulse:function(t,e){var n=t.source,r=this._clock;return n&&qy(n)?new QO(this,r,n.map((function(t){return t.pulse})),e):this._input[t.id]||function(t,e){if(e&&e.stamp===t.stamp)return e;t=t.fork(),e&&e!==qO&&(t.source=e.source);return t}(this._pulse,n&&n.pulse)}},Lb(lE,RO,{run:function(t){var e,n=this;return t.stamp<this.stamp?t.StopPropagation:(this.skip()?this.skip(!1):e=this.evaluate(t),(e=e||t).then?e=e.then((function(t){return n.pulse=t})):e!==t.StopPropagation&&(this.pulse=e),e)},evaluate:function(t){var e=this.marshall(t.stamp),n=this.transform(e,t);return e.clear(),n},transform:function(){}});var uE={};function sE(t){var e=fE(t);return e&&e.Definition||null}function fE(t){return t=t&&t.toLowerCase(),Fb(uE,t)?uE[t]:null}n(84944),n(33792);function hE(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return dE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dE(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function dE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pE(t,e){var n;if(void 0===e){var r,i=hE(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n<o||void 0===n&&o>=o)&&(n=o)}}catch(s){i.e(s)}finally{i.f()}}else{var a,c=-1,l=hE(t);try{for(l.s();!(a=l.n()).done;){var u=a.value;null!=(u=e(u,++c,t))&&(n<u||void 0===n&&u>=u)&&(n=u)}}catch(s){l.e(s)}finally{l.f()}}return n}function vE(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return gE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gE(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function gE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mE(t,e){var n;if(void 0===e){var r,i=vE(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n>o||void 0===n&&o>=o)&&(n=o)}}catch(s){i.e(s)}finally{i.f()}}else{var a,c=-1,l=vE(t);try{for(l.s();!(a=l.n()).done;){var u=a.value;null!=(u=e(u,++c,t))&&(n>u||void 0===n&&u>=u)&&(n=u)}}catch(s){l.e(s)}finally{l.f()}}return n}function yE(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nw;if(t===Nw)return bE;if("function"!=typeof t)throw new TypeError("compare is not a function");return function(e,n){var r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function bE(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function xE(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=void 0===i?bE:yE(i);r>n;){if(r-n>600){var o=r-n+1,a=e-n+1,c=Math.log(o),l=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*l*(o-l)/o)*(a-o/2<0?-1:1);xE(t,e,Math.max(n,Math.floor(e-a*l/o+u)),Math.min(r,Math.floor(e+(o-a)*l/o+u)),i)}var s=t[e],f=n,h=r;for(wE(t,n,e),i(t[r],s)>0&&wE(t,n,r);f<h;){for(wE(t,f,h),++f,--h;i(t[f],s)<0;)++f;for(;i(t[h],s)>0;)--h}0===i(t[n],s)?wE(t,n,h):wE(t,++h,r),h<=e&&(n=h+1),e<=h&&(r=h-1)}return t}function wE(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}var SE=q().mark(EE);function kE(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return CE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function CE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OE(t){return null===t?NaN:+t}function EE(t,e){var n,r,i,o,a,c,l;return q().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(void 0!==e){u.next=21;break}n=kE(t),u.prev=2,n.s();case 4:if((r=n.n()).done){u.next=11;break}if(!(null!=(i=r.value)&&(i=+i)>=i)){u.next=9;break}return u.next=9,i;case 9:u.next=4;break;case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(2),n.e(u.t0);case 16:return u.prev=16,n.f(),u.finish(16);case 19:u.next=40;break;case 21:o=-1,a=kE(t),u.prev=23,a.s();case 25:if((c=a.n()).done){u.next=32;break}if(l=c.value,!(null!=(l=e(l,++o,t))&&(l=+l)>=l)){u.next=30;break}return u.next=30,l;case 30:u.next=25;break;case 32:u.next=37;break;case 34:u.prev=34,u.t1=u.catch(23),a.e(u.t1);case 37:return u.prev=37,a.f(),u.finish(37);case 40:case"end":return u.stop()}}),SE,null,[[2,13,16,19],[23,34,37,40]])}function ME(t,e,n){if((r=(t=Float64Array.from(EE(t,n))).length)&&!isNaN(e=+e)){if(e<=0||r<2)return mE(t);if(e>=1)return pE(t);var r,i=(r-1)*e,o=Math.floor(i),a=pE(xE(t,o).subarray(0,o+1));return a+(mE(t.subarray(o+1))-a)*(i-o)}}function AE(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:OE;if((r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function PE(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _E(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function _E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DE(t,e){var n=function(t,e){var n,r=0,i=0,o=0;if(void 0===e){var a,c=PE(t);try{for(c.s();!(a=c.n()).done;){var l=a.value;null!=l&&(l=+l)>=l&&(o+=(n=l-i)*(l-(i+=n/++r)))}}catch(d){c.e(d)}finally{c.f()}}else{var u,s=-1,f=PE(t);try{for(f.s();!(u=f.n()).done;){var h=u.value;null!=(h=e(h,++s,t))&&(h=+h)>=h&&(o+=(n=h-i)*(h-(i+=n/++r)))}}catch(d){f.e(d)}finally{f.f()}}if(r>1)return o/(r-1)}(t,e);return n?Math.sqrt(n):n}function TE(t,e){return ME(t,.5,e)}var ZE=q().mark(IE);function FE(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return jE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jE(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function jE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IE(t,e){var n,r,i,o,a,c,l;return q().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(null!=e){u.next=21;break}n=FE(t),u.prev=2,n.s();case 4:if((r=n.n()).done){u.next=11;break}if(!(null!=(i=r.value)&&""!==i&&(i=+i)>=i)){u.next=9;break}return u.next=9,i;case 9:u.next=4;break;case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(2),n.e(u.t0);case 16:return u.prev=16,n.f(),u.finish(16);case 19:u.next=41;break;case 21:o=-1,a=FE(t),u.prev=23,a.s();case 25:if((c=a.n()).done){u.next=33;break}if(l=c.value,!(null!=(l=e(l,++o,t))&&""!==l&&(l=+l)>=l)){u.next=31;break}return u.next=31,l;case 31:u.next=25;break;case 33:u.next=38;break;case 35:u.prev=35,u.t1=u.catch(23),a.e(u.t1);case 38:return u.prev=38,a.f(),u.finish(38);case 41:case"end":return u.stop()}}),ZE,null,[[2,13,16,19],[23,35,38,41]])}function RE(t,e,n){var r=Float64Array.from(IE(t,n));return r.sort(Nw),e.map((function(t){return AE(r,t)}))}function LE(t,e){return RE(t,[.25,.5,.75],e)}function NE(t,e){var n=t.length,r=DE(t,e),i=LE(t,e),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function BE(t){var e,n,r,i,o,a,c=t.maxbins||20,l=t.base||10,u=Math.log(l),s=t.divide||[5,2],f=t.extent[0],h=t.extent[1],d=t.span||h-f||Math.abs(f)||1;if(t.step)e=t.step;else if(t.steps){for(i=d/c,o=0,a=t.steps.length;o<a&&t.steps[o]<i;++o);e=t.steps[Math.max(0,o-1)]}else{for(n=Math.ceil(Math.log(c)/u),r=t.minstep||0,e=Math.max(r,Math.pow(l,Math.round(Math.log(d)/u)-n));Math.ceil(d/e)>c;)e*=l;for(o=0,a=s.length;o<a;++o)(i=e/s[o])>=r&&d/i<=c&&(e=i)}var p=(i=Math.log(e))>=0?0:1+~~(-i/u),v=Math.pow(l,-p-1);return(t.nice||void 0===t.nice)&&(f=f<(i=Math.floor(f/e+v)*e)?i-e:i,h=Math.ceil(h/e)*e),{start:f,stop:h===f?f+e:h,step:e}}var zE=Math.random;function UE(t){zE=t}function HE(t,e,n,r){if(!t.length)return[void 0,void 0];var i,o,a,c,l=Float64Array.from(IE(t,r)),u=l.length,s=e;for(a=0,c=Array(s);a<s;++a){for(i=0,o=0;o<u;++o)i+=l[~~(zE()*u)];c[a]=i/u}return c.sort(Nw),[ME(c,n/2),ME(c,1-n/2)]}function WE(t,e,n,r){r=r||function(t){return t};for(var i,o=t.length,a=new Float64Array(o),c=0,l=1,u=r(t[0]),s=u,f=u+e;l<o;++l){if((i=r(t[l]))>=f){for(s=(u+s)/2;c<l;++c)a[c]=s;f=i+e,u=i}s=i}for(s=(u+s)/2;c<l;++c)a[c]=s;return n?function(t,e){var n,r,i=t.length,o=0,a=1;for(;t[o]===t[a];)++a;for(;a<i;){for(n=a+1;t[a]===t[n];)++n;if(t[a]-t[a-1]<e){for(r=a+(o+n-a-a>>1);r<a;)t[r++]=t[a];for(;r>a;)t[r--]=t[o]}o=a,a=n}return t}(a,e+e/4):a}function VE(t){return function(){return(t=(1103515245*t+12345)%2147483647)/2147483647}}function GE(t,e){var n,r,i;null==e&&(e=t,t=0);var o={min:function(t){return arguments.length?(i=r-(n=t||0),o):n},max:function(t){return arguments.length?(i=(r=t||0)-n,o):r},sample:function(){return n+Math.floor(i*zE())},pdf:function(t){return t===Math.floor(t)&&t>=n&&t<r?1/i:0},cdf:function(t){var e=Math.floor(t);return e<n?0:e>=r?1:(e-n+1)/i},icdf:function(t){return t>=0&&t<=1?n-1+Math.floor(t*i):NaN}};return o.min(t).max(e)}var XE=Math.sqrt(2*Math.PI),qE=Math.SQRT2,YE=NaN;function $E(t,e){t=t||0,e=null==e?1:e;var n,r,i=0,o=0;if(YE==YE)i=YE,YE=NaN;else{do{n=(i=2*zE()-1)*i+(o=2*zE()-1)*o}while(0===n||n>1);i*=r=Math.sqrt(-2*Math.log(n)/n),YE=o*r}return t+i*e}function KE(t,e,n){var r=(t-(e||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*XE)}function JE(t,e,n){var r,i=(t-(e=e||0))/(n=null==n?1:n),o=Math.abs(i);if(o>37)r=0;else{var a=Math.exp(-o*o/2);o<7.07106781186547?(r=a*((((((.0352624965998911*o+.700383064443688)*o+6.37396220353165)*o+33.912866078383)*o+112.079291497871)*o+221.213596169931)*o+220.206867912376),r/=((((((.0883883476483184*o+1.75566716318264)*o+16.064177579207)*o+86.7807322029461)*o+296.564248779674)*o+637.333633378831)*o+793.826512519948)*o+440.413735824752):r=a/(o+1/(o+2/(o+3/(o+4/(o+.65)))))/2.506628274631}return i>0?1-r:r}function QE(t,e,n){return t<0||t>1?NaN:(e||0)+(null==n?1:n)*qE*function(t){var e,n=-Math.log((1-t)*(1+t));e=n<6.25?1.6536545626831027+(e=.24015818242558962+(e=(e=(e=.00018673420803405714+(e=(e=(e=4.2347877827932404e-7+(e=(e=(e=1.0512122733215323e-9+(e=(e=(e=26335093153082323e-28+(e=(e=(e=6637638134358324e-30+(e=20972767875968562e-33+(e=(e=11157877678025181e-33+(e=128584807152564e-32+(e=(e=-364441206401782e-35)*(n-=3.125)-16850591381820166e-35)*n)*n)*n-1333171662854621e-31)*n)*n)*n-4054566272975207e-29)*n-8151934197605472e-29)*n)*n-12975133253453532e-27)*n-5415412054294628e-26)*n)*n-4.112633980346984e-9)*n-2.9070369957882005e-8)*n)*n-13654692000834679e-22)*n-13882523362786469e-21)*n)*n-.000740702534166267)*n-.006033670871430149)*n)*n:n<16?3.0838856104922208+(e=1.0052589676941592+(e=.005370914553590064+(e=(e=.002491442096107851+(e=(e=.0009532893797373805+(e=(e=24031110387097894e-21+(e=6828485145957318e-20+(e=(e=12475304481671779e-21+(e=29234449089955446e-22+(e=(e=15027403968909828e-22+(e=1.8239629214389228e-8+(e=(e=9.075656193888539e-8+(e=2.2137376921775787e-9)*(n=Math.sqrt(n)-3.25))*n-2.7517406297064545e-7)*n)*n)*n-4013867526981546e-21)*n)*n)*n-47318229009055734e-21)*n)*n)*n-.0003550375203628475)*n)*n-.0016882755560235047)*n)*n-.003751208507569241)*n)*n)*n:Number.isFinite(n)?4.849906401408584+(e=1.0103004648645344+(e=(e=(e=7599527703001776e-20+(e=(e=4526062597223154e-21+(e=(e=2.2900482228026655e-7+(e=(e=2.914795345090108e-8+(e=(e=7.61570120807834e-9+(e=(e=1.5076572693500548e-9+(e=(e=-27109920616438573e-27)*(n=Math.sqrt(n)-5)-2.555641816996525e-10)*n)*n-3.789465440126737e-9)*n)*n-1.496002662714924e-8)*n)*n-6.771199775845234e-8)*n)*n-9.9298272942317e-7)*n)*n-1968177810553167e-20)*n)*n-.00021503011930044477)*n-.00013871931833623122)*n)*n:1/0;return e*t}(2*t-1)}function tM(t,e){var n,r,i={mean:function(t){return arguments.length?(n=t||0,i):n},stdev:function(t){return arguments.length?(r=null==t?1:t,i):r},sample:function(){return $E(n,r)},pdf:function(t){return KE(t,n,r)},cdf:function(t){return JE(t,n,r)},icdf:function(t){return QE(t,n,r)}};return i.mean(t).stdev(e)}function eM(t,e){var n=tM(),r=0,i={data:function(n){return arguments.length?(t=n,r=n?n.length:0,i.bandwidth(e)):t},bandwidth:function(n){return arguments.length?(!(e=n)&&t&&(e=NE(t)),i):e},sample:function(){return t[~~(zE()*r)]+e*n.sample()},pdf:function(i){for(var o=0,a=0;a<r;++a)o+=n.pdf((i-t[a])/e);return o/e/r},cdf:function(i){for(var o=0,a=0;a<r;++a)o+=n.cdf((i-t[a])/e);return o/r},icdf:function(){throw Error("KDE icdf not supported.")}};return i.data(t)}function nM(t,e){return t=t||0,e=null==e?1:e,Math.exp(t+$E()*e)}function rM(t,e,n){if(t<=0)return 0;e=e||0,n=null==n?1:n;var r=(Math.log(t)-e)/n;return Math.exp(-.5*r*r)/(n*XE*t)}function iM(t,e,n){return JE(Math.log(t),e,n)}function oM(t,e,n){return Math.exp(QE(t,e,n))}function aM(t,e){var n,r,i={mean:function(t){return arguments.length?(n=t||0,i):n},stdev:function(t){return arguments.length?(r=null==t?1:t,i):r},sample:function(){return nM(n,r)},pdf:function(t){return rM(t,n,r)},cdf:function(t){return iM(t,n,r)},icdf:function(t){return oM(t,n,r)}};return i.mean(t).stdev(e)}function cM(t,e){var n,r=0;var i={weights:function(t){return arguments.length?(n=function(t){var e,n=[],i=0;for(e=0;e<r;++e)i+=n[e]=null==t[e]?1:+t[e];for(e=0;e<r;++e)n[e]/=i;return n}(e=t||[]),i):e},distributions:function(n){return arguments.length?(n?(r=n.length,t=n):(r=0,t=[]),i.weights(e)):t},sample:function(){for(var e=zE(),i=t[r-1],o=n[0],a=0;a<r-1;o+=n[++a])if(e<o){i=t[a];break}return i.sample()},pdf:function(e){for(var i=0,o=0;o<r;++o)i+=n[o]*t[o].pdf(e);return i},cdf:function(e){for(var i=0,o=0;o<r;++o)i+=n[o]*t[o].cdf(e);return i},icdf:function(){throw Error("Mixture icdf not supported.")}};return i.distributions(t).weights(e)}function lM(t,e){return null==e&&(e=null==t?1:t,t=0),t+(e-t)*zE()}function uM(t,e,n){return null==n&&(n=null==e?1:e,e=0),t>=e&&t<=n?1/(n-e):0}function sM(t,e,n){return null==n&&(n=null==e?1:e,e=0),t<e?0:t>n?1:(t-e)/(n-e)}function fM(t,e,n){return null==n&&(n=null==e?1:e,e=0),t>=0&&t<=1?e+t*(n-e):NaN}function hM(t,e){var n,r,i={min:function(t){return arguments.length?(n=t||0,i):n},max:function(t){return arguments.length?(r=null==t?1:t,i):r},sample:function(){return lM(n,r)},pdf:function(t){return uM(t,n,r)},cdf:function(t){return sM(t,n,r)},icdf:function(t){return fM(t,n,r)}};return null==e&&(e=null==t?1:t,t=0),i.min(t).max(e)}function dM(t,e,n){var r,i=0,o=0,a=FE(t);try{for(a.s();!(r=a.n()).done;){var c=r.value,l=n(c);null==e(c)||null==l||isNaN(l)||(i+=(l-i)/++o)}}catch(u){a.e(u)}finally{a.f()}return{coef:[i],predict:function(){return i},rSquared:0}}function pM(t,e,n,r){var i=r-t*t,o=Math.abs(i)<1e-24?0:(n-t*e)/i;return[e-o*t,o]}function vM(t,e,n,r){t=t.filter((function(t){var r=e(t),i=n(t);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i})),r&&t.sort((function(t,n){return e(t)-e(n)}));var i,o,a,c,l=t.length,u=new Float64Array(l),s=new Float64Array(l),f=0,h=0,d=0,p=FE(t);try{for(p.s();!(c=p.n()).done;)a=c.value,u[f]=i=+e(a),s[f]=o=+n(a),h+=(i-h)/++f,d+=(o-d)/f}catch(v){p.e(v)}finally{p.f()}for(f=0;f<l;++f)u[f]-=h,s[f]-=d;return[u,s,h,d]}function gM(t,e,n,r){var i,o,a,c=-1,l=FE(t);try{for(l.s();!(a=l.n()).done;){var u=a.value;i=e(u),o=n(u),null!=i&&(i=+i)>=i&&null!=o&&(o=+o)>=o&&r(i,o,++c)}}catch(s){l.e(s)}finally{l.f()}}function mM(t,e,n,r,i){var o=0,a=0;return gM(t,e,n,(function(t,e){var n=e-i(t),c=e-r;o+=n*n,a+=c*c})),1-o/a}function yM(t,e,n){var r=0,i=0,o=0,a=0,c=0;gM(t,e,n,(function(t,e){++c,r+=(t-r)/c,i+=(e-i)/c,o+=(t*e-o)/c,a+=(t*t-a)/c}));var l=pM(r,i,o,a),u=function(t){return l[0]+l[1]*t};return{coef:l,predict:u,rSquared:mM(t,e,n,i,u)}}function bM(t,e,n){var r=0,i=0,o=0,a=0,c=0;gM(t,e,n,(function(t,e){++c,t=Math.log(t),r+=(t-r)/c,i+=(e-i)/c,o+=(t*e-o)/c,a+=(t*t-a)/c}));var l=pM(r,i,o,a),u=function(t){return l[0]+l[1]*Math.log(t)};return{coef:l,predict:u,rSquared:mM(t,e,n,i,u)}}function xM(t,e,n){var r,i,o,a=vM(t,e,n),c=(0,G.Z)(a,4),l=c[0],u=(c[1],c[2]),s=c[3],f=0,h=0,d=0,p=0,v=0;gM(t,e,n,(function(t,e){r=l[v++],i=Math.log(e),f+=(e*i-f)/v,h+=((o=r*e)-h)/v,d+=(o*i-d)/v,p+=(r*o-p)/v}));var g=pM(h/s,f/s,d/s,p/s),m=(0,G.Z)(g,2),y=m[0],b=m[1],x=function(t){return Math.exp(y+b*(t-u))};return{coef:[Math.exp(y-b*u),b],predict:x,rSquared:mM(t,e,n,s,x)}}function wM(t,e,n){var r=0,i=0,o=0,a=0,c=0,l=0;gM(t,e,n,(function(t,e){var n=Math.log(t),u=Math.log(e);++l,r+=(n-r)/l,i+=(u-i)/l,o+=(n*u-o)/l,a+=(n*n-a)/l,c+=(e-c)/l}));var u=pM(r,i,o,a),s=function(t){return u[0]*Math.pow(t,u[1])};return u[0]=Math.exp(u[0]),{coef:u,predict:s,rSquared:mM(t,e,n,c,s)}}function SM(t,e,n){var r,i,o,a,c=vM(t,e,n),l=(0,G.Z)(c,4),u=l[0],s=l[1],f=l[2],h=l[3],d=u.length,p=0,v=0,g=0,m=0,y=0;for(r=0;r<d;)i=u[r],o=s[r++],p+=((a=i*i)-p)/r,v+=(a*i-v)/r,g+=(a*a-g)/r,m+=(i*o-m)/r,y+=(a*o-y)/r;var b=g-p*p,x=p*b-v*v,w=(y*p-m*v)/x,S=(m*b-y*v)/x,k=-w*p,C=function(t){return w*(t-=f)*t+S*t+k+h};return{coef:[k-S*f+w*f*f+h,S-2*w*f,w],predict:C,rSquared:mM(t,e,n,h,C)}}function kM(t,e,n,r){if(0===r)return dM(t,e,n);if(1===r)return yM(t,e,n);if(2===r)return SM(t,e,n);var i,o,a,c,l,u=vM(t,e,n),s=(0,G.Z)(u,4),f=s[0],h=s[1],d=s[2],p=s[3],v=f.length,g=[],m=[],y=r+1;for(i=0;i<y;++i){for(a=0,c=0;a<v;++a)c+=Math.pow(f[a],i)*h[a];for(g.push(c),l=new Float64Array(y),o=0;o<y;++o){for(a=0,c=0;a<v;++a)c+=Math.pow(f[a],i+o);l[o]=c}m.push(l)}m.push(g);var b=function(t){var e,n,r,i,o,a=t.length-1,c=[];for(e=0;e<a;++e){for(i=e,n=e+1;n<a;++n)Math.abs(t[e][n])>Math.abs(t[e][i])&&(i=n);for(r=e;r<a+1;++r)o=t[r][e],t[r][e]=t[r][i],t[r][i]=o;for(n=e+1;n<a;++n)for(r=a;r>=e;r--)t[r][n]-=t[r][e]*t[e][n]/t[e][e]}for(n=a-1;n>=0;--n){for(o=0,r=n+1;r<a;++r)o+=t[r][n]*c[r];c[n]=(t[a][n]-o)/t[n][n]}return c}(m),x=function(t){t-=d;var e=p+b[0]+b[1]*t+b[2]*t*t;for(i=3;i<y;++i)e+=b[i]*Math.pow(t,i);return e};return{coef:CM(y,b,-d,p),predict:x,rSquared:mM(t,e,n,p,x)}}function CM(t,e,n,r){var i,o,a,c,l=Array(t);for(i=0;i<t;++i)l[i]=0;for(i=t-1;i>=0;--i)for(a=e[i],c=1,l[i]+=a,o=1;o<=i;++o)c*=(i+1-o)/o,l[i-o]+=a*Math.pow(n,o)*c;return l[0]+=r,l}var OM=2,EM=1e-12;function MM(t,e,n,r){for(var i=vM(t,e,n,!0),o=(0,G.Z)(i,4),a=o[0],c=o[1],l=o[2],u=o[3],s=a.length,f=Math.max(2,~~(r*s)),h=new Float64Array(s),d=new Float64Array(s),p=new Float64Array(s).fill(1),v=-1;++v<=OM;){for(var g=[0,f-1],m=0;m<s;++m){for(var y=a[m],b=g[0],x=g[1],w=y-a[b]>a[x]-y?b:x,S=0,k=0,C=0,O=0,E=0,M=1/Math.abs(a[w]-y||1),A=b;A<=x;++A){var P=a[A],_=c[A],D=AM(Math.abs(y-P)*M)*p[A],T=P*D;S+=D,k+=T,C+=_*D,O+=_*T,E+=P*T}var Z=pM(k/S,C/S,O/S,E/S),F=(0,G.Z)(Z,2),j=F[0],I=F[1];h[m]=j+I*y,d[m]=Math.abs(c[m]-h[m]),PM(a,m+1,g)}if(v===OM)break;var R=TE(d);if(Math.abs(R)<EM)break;for(var L,N,B=0;B<s;++B)L=d[B]/(6*R),p[B]=L>=1?EM:(N=1-L*L)*N}return function(t,e,n,r){for(var i,o=t.length,a=[],c=0,l=0,u=[];c<o;++c)i=t[c]+n,u[0]===i?u[1]+=(e[c]-u[1])/++l:(l=0,u[1]+=r,u=[i,e[c]],a.push(u));return u[1]+=r,a}(a,h,l,u)}function AM(t){return(t=1-t*t*t)*t*t}function PM(t,e,n){var r=t[e],i=n[0],o=n[1]+1;if(!(o>=t.length))for(;e>i&&t[o]-r<=r-t[i];)n[0]=++i,n[1]=o,++o}var _M=.5*Math.PI/180;function DM(t,e,n,r){n=n||25,r=Math.max(n,r||200);var i=function(e){return[e,t(e)]},o=e[0],a=e[1],c=a-o,l=c/r,u=[i(o)],s=[];if(n===r){for(var f=1;f<r;++f)u.push(i(o+f/n*c));return u.push(i(a)),u}s.push(i(a));for(var h=n;--h>0;)s.push(i(o+h/n*c));for(var d=u[0],p=s[s.length-1],v=1/c,g=function(t,e){for(var n=t,r=t,i=e.length,o=0;o<i;++o){var a=e[o][1];a<n&&(n=a),a>r&&(r=a)}return 1/(r-n)}(d[1],s);p;){var m=i((d[0]+p[0])/2);m[0]-d[0]>=l&&TM(d,m,p,v,g)>_M?s.push(m):(d=p,u.push(p),s.pop()),p=s[s.length-1]}return u}function TM(t,e,n,r,i){var o=Math.atan2(i*(n[1]-t[1]),r*(n[0]-t[0])),a=Math.atan2(i*(e[1]-t[1]),r*(e[0]-t[0]));return Math.abs(o-a)}function ZM(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return FM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FM(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function FM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jM(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function IM(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return RM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RM(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function RM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LM(t){return t&&t.length?1===t.length?t[0]:(e=t,function(t){for(var n=e.length,r=1,i=String(e[0](t));r<n;++r)i+="|"+e[r](t);return i}):function(){return""};var e}function NM(t,e,n){return n||t+(e?"_"+e:"")}var BM=function(){},zM={init:BM,add:BM,rem:BM,idx:0},UM={values:{init:function(t){return t.cell.store=!0},value:function(t){return t.cell.data.values()},idx:-1},count:{value:function(t){return t.cell.num}},__count__:{value:function(t){return t.missing+t.valid}},missing:{value:function(t){return t.missing}},valid:{value:function(t){return t.valid}},sum:{init:function(t){return t.sum=0},value:function(t){return t.sum},add:function(t,e){return t.sum+=+e},rem:function(t,e){return t.sum-=e}},product:{init:function(t){return t.product=1},value:function(t){return t.valid?t.product:void 0},add:function(t,e){return t.product*=e},rem:function(t,e){return t.product/=e}},mean:{init:function(t){return t.mean=0},value:function(t){return t.valid?t.mean:void 0},add:function(t,e){return t.mean_d=e-t.mean,t.mean+=t.mean_d/t.valid},rem:function(t,e){return t.mean_d=e-t.mean,t.mean-=t.valid?t.mean_d/t.valid:t.mean}},average:{value:function(t){return t.valid?t.mean:void 0},req:["mean"],idx:1},variance:{init:function(t){return t.dev=0},value:function(t){return t.valid>1?t.dev/(t.valid-1):void 0},add:function(t,e){return t.dev+=t.mean_d*(e-t.mean)},rem:function(t,e){return t.dev-=t.mean_d*(e-t.mean)},req:["mean"],idx:1},variancep:{value:function(t){return t.valid>1?t.dev/t.valid:void 0},req:["variance"],idx:2},stdev:{value:function(t){return t.valid>1?Math.sqrt(t.dev/(t.valid-1)):void 0},req:["variance"],idx:2},stdevp:{value:function(t){return t.valid>1?Math.sqrt(t.dev/t.valid):void 0},req:["variance"],idx:2},stderr:{value:function(t){return t.valid>1?Math.sqrt(t.dev/(t.valid*(t.valid-1))):void 0},req:["variance"],idx:2},distinct:{value:function(t){return t.cell.data.distinct(t.get)},req:["values"],idx:3},ci0:{value:function(t){return t.cell.data.ci0(t.get)},req:["values"],idx:3},ci1:{value:function(t){return t.cell.data.ci1(t.get)},req:["values"],idx:3},median:{value:function(t){return t.cell.data.q2(t.get)},req:["values"],idx:3},q1:{value:function(t){return t.cell.data.q1(t.get)},req:["values"],idx:3},q3:{value:function(t){return t.cell.data.q3(t.get)},req:["values"],idx:3},min:{init:function(t){return t.min=void 0},value:function(t){return t.min=Number.isNaN(t.min)?t.cell.data.min(t.get):t.min},add:function(t,e){(e<t.min||void 0===t.min)&&(t.min=e)},rem:function(t,e){e<=t.min&&(t.min=NaN)},req:["values"],idx:4},max:{init:function(t){return t.max=void 0},value:function(t){return t.max=Number.isNaN(t.max)?t.cell.data.max(t.get):t.max},add:function(t,e){(e>t.max||void 0===t.max)&&(t.max=e)},rem:function(t,e){e>=t.max&&(t.max=NaN)},req:["values"],idx:4},argmin:{init:function(t){return t.argmin=void 0},value:function(t){return t.argmin||t.cell.data.argmin(t.get)},add:function(t,e,n){e<t.min&&(t.argmin=n)},rem:function(t,e){e<=t.min&&(t.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:function(t){return t.argmax=void 0},value:function(t){return t.argmax||t.cell.data.argmax(t.get)},add:function(t,e,n){e>t.max&&(t.argmax=n)},rem:function(t,e){e>=t.max&&(t.argmax=void 0)},req:["max","values"],idx:3}},HM=Object.keys(UM).filter((function(t){return"__count__"!==t}));function WM(t,e){return UM[t](e)}function VM(t,e){return t.idx-e.idx}function GM(){var t=this;this.valid=0,this.missing=0,this._ops.forEach((function(e){return e.init(t)}))}function XM(t,e){var n=this;null!=t&&""!==t?t==t&&(++this.valid,this._ops.forEach((function(r){return r.add(n,t,e)}))):++this.missing}function qM(t,e){var n=this;null!=t&&""!==t?t==t&&(--this.valid,this._ops.forEach((function(r){return r.rem(n,t,e)}))):--this.missing}function YM(t){var e=this;return this._out.forEach((function(n){return t[n.out]=n.value(e)})),t}function $M(t,e){var n=e||Iy,r=function(t){var e={};return t.forEach((function(t){return e[t.name]=t})),t.forEach((function t(n){n.req&&n.req.forEach((function(n){e[n]||t(e[n]=UM[n]())}))})),Object.values(e).sort(VM)}(t),i=t.slice().sort(VM);function o(t){this._ops=r,this._out=i,this.cell=t,this.init()}return o.prototype.init=GM,o.prototype.add=XM,o.prototype.rem=qM,o.prototype.set=YM,o.prototype.get=n,o.fields=t.map((function(t){return t.out})),o}function KM(t){this._key=t?Fy(t):CO,this.reset()}[].concat((0,Xm.Z)(HM),["__count__"]).forEach((function(t){UM[t]=function(t,e){return function(n){return _b({name:t,out:n||t},zM,e)}}(t,UM[t])}));var JM=KM.prototype;function QM(t){lE.call(this,null,t),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}JM.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},JM.add=function(t){this._add.push(t)},JM.rem=function(t){this._rem.push(t)},JM.values=function(){if(this._get=null,0===this._rem.length)return this._add;var t,e,n,r=this._add,i=this._rem,o=this._key,a=r.length,c=i.length,l=Array(a-c),u={};for(t=0;t<c;++t)u[o(i[t])]=1;for(t=0,e=0;t<a;++t)u[o(n=r[t])]?u[o(n)]=0:l[e++]=n;return this._rem=[],this._add=l},JM.distinct=function(t){for(var e,n=this.values(),r={},i=n.length,o=0;--i>=0;)Fb(r,e=t(n[i])+"")||(r[e]=1,++o);return o},JM.extent=function(t){if(this._get!==t||!this._ext){var e=this.values(),n=Tb(e,t);this._ext=[e[n[0]],e[n[1]]],this._get=t}return this._ext},JM.argmin=function(t){return this.extent(t)[0]||{}},JM.argmax=function(t){return this.extent(t)[1]||{}},JM.min=function(t){var e=this.extent(t)[0];return null!=e?t(e):void 0},JM.max=function(t){var e=this.extent(t)[1];return null!=e?t(e):void 0},JM.quartile=function(t){return this._get===t&&this._q||(this._q=LE(this.values(),t),this._get=t),this._q},JM.q1=function(t){return this.quartile(t)[0]},JM.q2=function(t){return this.quartile(t)[1]},JM.q3=function(t){return this.quartile(t)[2]},JM.ci=function(t){return this._get===t&&this._ci||(this._ci=HE(this.values(),1e3,.05,t),this._get=t),this._ci},JM.ci0=function(t){return this.ci(t)[0]},JM.ci1=function(t){return this.ci(t)[1]},QM.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:HM},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},Lb(QM,lE,{transform:function(t,e){var n=this,r=this,i=e.fork(e.NO_SOURCE|e.NO_FIELDS),o=t.modified();return r.stamp=i.stamp,r.value&&(o||e.modified(r._inputs,!0))?(r._prev=r.value,r.value=o?r.init(t):Object.create(null),e.visit(e.SOURCE,(function(t){return r.add(t)}))):(r.value=r.value||r.init(t),e.visit(e.REM,(function(t){return r.rem(t)})),e.visit(e.ADD,(function(t){return r.add(t)}))),i.modifies(r._outputs),r._drop=!1!==t.drop,t.cross&&r._dims.length>1&&(r._drop=!1,r.cross()),e.clean()&&r._drop&&i.clean(!0).runAfter((function(){return n.clean()})),r.changes(i)},cross:function(){var t=this,e=t.value,n=t._dnames,r=n.map((function(){return{}})),i=n.length;function o(t){var e,o,a,c;for(e in t)for(a=t[e].tuple,o=0;o<i;++o)r[o][c=a[n[o]]]=c}o(t._prev),o(e),function o(a,c,l){var u=n[l],s=r[l++];for(var f in s){var h=a?a+"|"+f:f;c[u]=s[f],l<i?o(h,c,l):e[h]||t.cell(h,c)}}("",{},0)},init:function(t){var e=this._inputs=[],n=this._outputs=[],r={};function i(t){for(var n,i=bb(Ay(t)),o=i.length,a=0;a<o;++a)r[n=i[a]]||(r[n]=1,e.push(n))}this._dims=bb(t.groupby),this._dnames=this._dims.map((function(t){var e=My(t);return i(t),n.push(e),e})),this.cellkey=t.key?t.key:LM(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var o,a,c,l,u,s,f=t.fields||[null],h=t.ops||["count"],d=t.as||[],p=f.length,v={};for(p!==h.length&&Ty("Unmatched number of fields and aggregate ops."),s=0;s<p;++s)o=f[s],a=h[s],null==o&&"count"!==a&&Ty("Null aggregate field specified."),u=NM(a,l=My(o),d[s]),n.push(u),"count"!==a?((c=v[l])||(i(o),(c=v[l]=[]).field=o,this._measures.push(c)),"count"!==a&&(this._countOnly=!1),c.push(WM(a,u))):this._counts.push(u);return this._measures=this._measures.map((function(t){return $M(t,t.field)})),Object.create(null)},cellkey:LM(),cell:function(t,e){var n=this.value[t];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[t]=this.newcell(t,e),this._adds[this._alen++]=n),n},newcell:function(t,e){var n={key:t,num:0,agg:null,tuple:this.newtuple(e,this._prev&&this._prev[t]),stamp:this.stamp,store:!1};if(!this._countOnly){var r=this._measures,i=r.length;n.agg=Array(i);for(var o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new KM),n},newtuple:function(t,e){for(var n=this._dnames,r=this._dims,i=r.length,o={},a=0;a<i;++a)o[n[a]]=r[a](t);return e?PO(e.tuple,o):EO(o)},clean:function(){var t=this.value;for(var e in t)0===t[e].num&&delete t[e]},add:function(t){var e=this.cellkey(t),n=this.cell(e,t);if(n.num+=1,!this._countOnly){n.store&&n.data.add(t);for(var r=n.agg,i=0,o=r.length;i<o;++i)r[i].add(r[i].get(t),t)}},rem:function(t){var e=this.cellkey(t),n=this.cell(e,t);if(n.num-=1,!this._countOnly){n.store&&n.data.rem(t);for(var r=n.agg,i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(t),t)}},celltuple:function(t){var e=t.tuple,n=this._counts;t.store&&t.data.values();for(var r=0,i=n.length;r<i;++r)e[n[r]]=t.num;if(!this._countOnly)for(var o=t.agg,a=0,c=o.length;a<c;++a)o[a].set(e);return e},changes:function(t){var e,n,r,i,o=this._adds,a=this._mods,c=this._prev,l=this._drop,u=t.add,s=t.rem,f=t.mod;if(c)for(n in c)e=c[n],l&&!e.num||s.push(e.tuple);for(r=0,i=this._alen;r<i;++r)u.push(this.celltuple(o[r])),o[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(e=a[r]).num&&l?s:f).push(this.celltuple(e)),a[r]=null;return this._alen=this._mlen=0,this._prev=null,t}});function tA(t){lE.call(this,null,t)}function eA(t,e,n){var r=t,i=e||[],o=n||[],a={},c=0;return{add:function(t){return o.push(t)},remove:function(t){return a[r(t)]=++c},size:function(){return i.length},data:function(t,e){return c&&(i=i.filter((function(t){return!a[r(t)]})),a={},c=0),e&&t&&i.sort(t),o.length&&(i=t?$b(t,i,o.sort(t)):i.concat(o),o=[]),i}}}function nA(t){lE.call(this,[],t)}function rA(t){RO.call(this,null,iA,t)}function iA(t){return this.value&&!t.modified()?this.value:kb(t.fields,t.orders)}function oA(t){lE.call(this,null,t)}function aA(t){lE.call(this,null,t)}tA.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},Lb(tA,lE,{transform:function(t,e){var n,r=!1!==t.interval,i=this._bins(t),o=i.start,a=i.step,c=t.as||["bin0","bin1"],l=c[0],u=c[1];return n=t.modified()?(e=e.reflow(!0)).SOURCE:e.modified(Ay(t.field))?e.ADD_MOD:e.ADD,e.visit(n,r?function(t){var e=i(t);t[l]=e,t[u]=null==e?null:o+a*(1+(e-o)/a)}:function(t){return t[l]=i(t)}),e.modifies(r?c:l)},_bins:function(t){if(this.value&&!t.modified())return this.value;var e,n,r=t.field,i=BE(t),o=i.step,a=i.start,c=a+Math.ceil((i.stop-a)/o)*o;null!=(e=t.anchor)&&(n=e-(a+o*Math.floor((e-a)/o)),a+=n,c+=n);var l=function(t){var e=eb(r(t));return null==e?null:e<a?-1/0:e>c?1/0:(e=Math.max(a,Math.min(e,c-o)),a+o*Math.floor(1e-14+(e-a)/o))};return l.start=a,l.stop=i.stop,l.step=o,this.value=Ey(l,Ay(r),t.name||"bin_"+My(r))}}),nA.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Lb(nA,lE,{transform:function(t,e){var n=e.fork(e.ALL),r=eA(CO,this.value,n.materialize(n.ADD).add),i=t.sort,o=e.changed()||i&&(t.modified("sort")||e.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(_O(i),o),e.source&&e.source.root&&(this.value.root=e.source.root),n}}),Lb(rA,RO),oA.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},Lb(oA,lE,{transform:function(t,e){var n=function(e){return function(n){for(var r,i=function(t,e,n){switch(e){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t.match(n)}(c(n),t.case,o)||[],l=0,u=i.length;l<u;++l)a.test(r=i[l])||e(r)}},r=this._parameterCheck(t,e),i=this._counts,o=this._match,a=this._stop,c=t.field,l=t.as||["text","count"],u=n((function(t){return i[t]=1+(i[t]||0)})),s=n((function(t){return i[t]-=1}));return r?e.visit(e.SOURCE,u):(e.visit(e.ADD,u),e.visit(e.REM,s)),this._finish(e,l)},_parameterCheck:function(t,e){var n=!1;return!t.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(t.stopwords||"")+"$","i"),n=!0),!t.modified("pattern")&&this._match||(this._match=new RegExp(t.pattern||"[\\w']+","g"),n=!0),(t.modified("field")||e.modified(t.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish:function(t,e){var n,r,i,o=this._counts,a=this._tuples||(this._tuples={}),c=e[0],l=e[1],u=t.fork(t.NO_SOURCE|t.NO_FIELDS);for(n in o)r=a[n],i=o[n]||0,!r&&i?(a[n]=r=EO({}),r[c]=n,r[l]=i,u.add.push(r)):0===i?(r&&u.rem.push(r),o[n]=null,a[n]=null):r[l]!==i&&(r[l]=i,u.mod.push(r));return u.modifies(e)}}),aA.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Lb(aA,lE,{transform:function(t,e){var n=e.fork(e.NO_SOURCE),r=t.as||["a","b"],i=r[0],o=r[1],a=!this.value||e.changed(e.ADD_REM)||t.modified("as")||t.modified("filter"),c=this.value;return a?(c&&(n.rem=c),c=e.materialize(e.SOURCE).source,n.add=this.value=function(t,e,n,r){for(var i,o,a=[],c={},l=t.length,u=0;u<l;++u)for(c[e]=o=t[u],i=0;i<l;++i)c[n]=t[i],r(c)&&(a.push(EO(c)),(c={})[e]=o);return a}(c,i,o,t.filter||Ny)):n.mod=c,n.source=this.value,n.modifies(r)}});var cA={kde:eM,mixture:cM,normal:tM,lognormal:aM,uniform:hM},lA="function";function uA(t,e){var n=t[lA];Fb(cA,n)||Ty("Unknown distribution function: "+n);var r=cA[n]();for(var i in t)"field"===i?r.data((t.from||e()).map(t[i])):"distributions"===i?r[i](t[i].map((function(t){return uA(t,e)}))):typeof r[i]===lA&&r[i](t[i]);return r}function sA(t){lE.call(this,null,t)}var fA=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],hA={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:fA},{name:"weights",type:"number",array:!0}]};function dA(t,e){return t?t.map((function(t,n){return e[n]||My(t)})):null}function pA(t,e,n){var r,i,o,a,c,l,u=[],s=function(t){return t(a)};if(null==e)u.push(t.map(n));else for(r={},i=0,o=t.length;i<o;++i)a=t[i],(l=r[c=e.map(s)])||(r[c]=l=[],l.dims=c,u.push(l)),l.push(n(a));return u}sA.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:fA.concat(hA)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Lb(sA,lE,{transform:function(t,e){var n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){var r=uA(t.distribution,function(t){return function(){return t.materialize(t.SOURCE).source}}(e)),i=t.steps||t.minsteps||25,o=t.steps||t.maxsteps||200,a=t.method||"pdf";"pdf"!==a&&"cdf"!==a&&Ty("Invalid density method: "+a),t.extent||r.data||Ty("Missing density extent parameter."),a=r[a];var c=t.as||["value","density"],l=DM(a,t.extent||Db(r.data()),i,o).map((function(t){var e={};return e[c[0]]=t[0],e[c[1]]=t[1],EO(e)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});function vA(t){lE.call(this,null,t)}vA.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]};function gA(t){RO.call(this,null,mA,t),this.modified(!0)}function mA(t){var e=t.expr;return this.value&&!t.modified("expr")?this.value:Ey((function(n){return e(n,t)}),Ay(e),My(e))}function yA(t){lE.call(this,[void 0,void 0],t)}function bA(t,e){RO.call(this,t),this.parent=e,this.count=0}function xA(t){lE.call(this,{},t),this._keys=Ib();var e=this._targets=[];e.active=0,e.forEach=function(t){for(var n=0,r=e.active;n<r;++n)t(e[n],n,e)}}function wA(t){RO.call(this,null,SA,t)}function SA(t){return this.value&&!t.modified()?this.value:qy(t.name)?bb(t.name).map((function(t){return Fy(t)})):Fy(t.name,t.as)}function kA(t){lE.call(this,Ib(),t)}function CA(t){lE.call(this,[],t)}function OA(t){lE.call(this,[],t)}function EA(t){lE.call(this,null,t)}function MA(t){lE.call(this,[],t)}Lb(vA,lE,{transform:function(t,e){if(this.value&&!t.modified()&&!e.changed())return e;for(var n,r=e.materialize(e.SOURCE).source,i=pA(e.source,t.groupby,Iy),o=t.smooth||!1,a=t.field,c=t.step||function(t,e){return Qb(Db(t,e))/30}(r,a),l=_O((function(t,e){return a(t)-a(e)})),u=t.as||"bin",s=i.length,f=1/0,h=-1/0,d=0;d<s;++d){var p=i[d].sort(l);n=-1;var v,g=IM(WE(p,c,o,a));try{for(g.s();!(v=g.n()).done;){var m=v.value;m<f&&(f=m),m>h&&(h=m),p[++n][u]=m}}catch(y){g.e(y)}finally{g.f()}}return this.value={start:f,stop:h,step:c},e.reflow(!0).modifies(u)}}),Lb(gA,RO),yA.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Lb(yA,lE,{transform:function(t,e){var n=this.value,r=t.field,i=e.changed()||e.modified(r.fields)||t.modified("field"),o=n[0],a=n[1];if((i||null==o)&&(o=1/0,a=-1/0),e.visit(i?e.SOURCE:e.ADD,(function(t){var e=eb(r(t));null!=e&&(e<o&&(o=e),e>a&&(a=e))})),!Number.isFinite(o)||!Number.isFinite(a)){var c=My(r);c&&(c=' for field "'.concat(c,'"')),e.dataflow.warn("Infinite extent".concat(c,": [").concat(o,", ").concat(a,"]")),o=a=void 0}this.value=[o,a]}}),Lb(bA,RO,{connect:function(t){return this.detachSubflow=t.detachSubflow,this.targets().add(t),t.source=this},add:function(t){this.count+=1,this.value.add.push(t)},rem:function(t){this.count-=1,this.value.rem.push(t)},mod:function(t){this.value.mod.push(t)},init:function(t){this.value.init(t,t.NO_SOURCE)},evaluate:function(){return this.value}}),Lb(xA,lE,{activate:function(t){this._targets[this._targets.active++]=t},subflow:function(t,e,n,r){var i,o,a=this.value,c=Fb(a,t)&&a[t];return c?c.value.stamp<n.stamp&&(c.init(n),this.activate(c)):(o=r||(o=this._group[t])&&o.tuple,i=n.dataflow,c=new bA(n.fork(n.NO_SOURCE),this),i.add(c).connect(e(i,t,o)),a[t]=c,this.activate(c)),c},clean:function(){var t=this.value,e=0;for(var n in t)if(0===t[n].count){var r=t[n].detachSubflow;r&&r(),delete t[n],++e}if(e){var i=this._targets.filter((function(t){return t&&t.count>0}));this.initTargets(i)}},initTargets:function(t){for(var e=this._targets,n=e.length,r=t?t.length:0,i=0;i<r;++i)e[i]=t[i];for(;i<n&&null!=e[i];++i)e[i]=null;e.active=r},transform:function(t,e){var n=this,r=e.dataflow,i=t.key,o=t.subflow,a=this._keys,c=t.modified("key"),l=function(t){return n.subflow(t,o,e)};return this._group=t.group||{},this.initTargets(),e.visit(e.REM,(function(t){var e=CO(t),n=a.get(e);void 0!==n&&(a.delete(e),l(n).rem(t))})),e.visit(e.ADD,(function(t){var e=i(t);a.set(CO(t),e),l(e).add(t)})),c||e.modified(i.fields)?e.visit(e.MOD,(function(t){var e=CO(t),n=a.get(e),r=i(t);n===r?l(r).mod(t):(a.set(e,r),l(n).rem(t),l(r).add(t))})):e.changed(e.MOD)&&e.visit(e.MOD,(function(t){l(a.get(CO(t))).mod(t)})),c&&e.visit(e.REFLOW,(function(t){var e=CO(t),n=a.get(e),r=i(t);n!==r&&(a.set(e,r),l(n).rem(t),l(r).add(t))})),e.clean()?r.runAfter((function(){n.clean(),a.clean()})):a.empty>r.cleanThreshold&&r.runAfter(a.clean),e}}),Lb(wA,RO),kA.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Lb(kA,lE,{transform:function(t,e){var n=e.dataflow,r=this.value,i=e.fork(),o=i.add,a=i.rem,c=i.mod,l=t.expr,u=!0;function s(e){var n=CO(e),i=l(e,t),s=r.get(n);i&&s?(r.delete(n),o.push(e)):i||s?u&&i&&!s&&c.push(e):(r.set(n,1),a.push(e))}return e.visit(e.REM,(function(t){var e=CO(t);r.has(e)?r.delete(e):a.push(t)})),e.visit(e.ADD,(function(e){l(e,t)?o.push(e):r.set(CO(e),1)})),e.visit(e.MOD,s),t.modified()&&(u=!1,e.visit(e.REFLOW,s)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}}),CA.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},Lb(CA,lE,{transform:function(t,e){var n=e.fork(e.NO_SOURCE),r=t.fields,i=dA(r,t.as||[]),o=t.index||null,a=i.length;return n.rem=this.value,e.visit(e.SOURCE,(function(t){for(var e,c,l,u=r.map((function(e){return e(t)})),s=u.reduce((function(t,e){return Math.max(t,e.length)}),0),f=0;f<s;++f){for(c=MO(t),e=0;e<a;++e)c[i[e]]=null==(l=u[e][f])?null:l;o&&(c[o]=f),n.add.push(c)}})),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}}),OA.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Lb(OA,lE,{transform:function(t,e){var n=e.fork(e.NO_SOURCE),r=t.fields,i=r.map(My),o=t.as||["key","value"],a=o[0],c=o[1],l=r.length;return n.rem=this.value,e.visit(e.SOURCE,(function(t){for(var e,o=0;o<l;++o)(e=MO(t))[a]=i[o],e[c]=r[o](t),n.add.push(e)})),this.value=n.source=n.add,n.modifies(o)}}),EA.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Lb(EA,lE,{transform:function(t,e){var n=t.expr,r=t.as,i=t.modified(),o=t.initonly?e.ADD:i?e.SOURCE:e.modified(n.fields)||e.modified(r)?e.ADD_MOD:e.ADD;return i&&(e=e.materialize().reflow(!0)),t.initonly||e.modifies(r),e.visit(o,(function(e){return e[r]=n(e,t)}))}}),Lb(MA,lE,{transform:function(t,e){var n,r,i,o=e.fork(e.ALL),a=t.generator,c=this.value,l=t.size-c.length;if(l>0){for(n=[];--l>=0;)n.push(i=EO(a(t))),c.push(i);o.add=o.add.length?o.materialize(o.ADD).add.concat(n):n}else r=c.slice(0,-l),o.rem=o.rem.length?o.materialize(o.REM).rem.concat(r):r,c=c.slice(-l);return o.source=this.value=c,o}});var AA={value:"value",median:TE,mean:function(t,e){var n=0,r=0;if(void 0===e){var i,o=ZM(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;null!=a&&(a=+a)>=a&&(++n,r+=a)}}catch(f){o.e(f)}finally{o.f()}}else{var c,l=-1,u=ZM(t);try{for(u.s();!(c=u.n()).done;){var s=c.value;null!=(s=e(s,++l,t))&&(s=+s)>=s&&(++n,r+=s)}}catch(f){u.e(f)}finally{u.f()}}if(n)return r/n},min:mE,max:pE},PA=[];function _A(t){lE.call(this,[],t)}function DA(t){QM.call(this,t)}function TA(t){lE.call(this,null,t)}function ZA(t){RO.call(this,null,FA,t)}function FA(t){return this.value&&!t.modified()?this.value:Gb(t.fields,t.flat)}function jA(t){lE.call(this,[],t),this._pending=null}function IA(t,e,n){n.forEach(EO);var r=e.fork(e.NO_FIELDS&e.NO_SOURCE);return r.rem=t.value,t.value=r.source=r.add=n,t._pending=null,r.rem.length&&r.clean(!0),r}function RA(t){lE.call(this,{},t)}function LA(t){RO.call(this,null,NA,t)}function NA(t){if(this.value&&!t.modified())return this.value;var e,n,r=t.extents,i=r.length,o=1/0,a=-1/0;for(e=0;e<i;++e)(n=r[e])[0]<o&&(o=n[0]),n[1]>a&&(a=n[1]);return[o,a]}function BA(t){RO.call(this,null,zA,t)}function zA(t){return this.value&&!t.modified()?this.value:t.values.reduce((function(t,e){return t.concat(e)}),[])}function UA(t){lE.call(this,null,t)}function HA(t){QM.call(this,t)}function WA(t){xA.call(this,t)}function VA(t){lE.call(this,null,t)}function GA(t){lE.call(this,null,t)}function XA(t){lE.call(this,null,t)}_A.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Lb(_A,lE,{transform:function(t,e){var n,r,i,o,a,c,l,u,s,f,h=e.fork(e.ALL),d=function(t){var e,n=t.method||AA.value;if(null!=AA[n])return n===AA.value?(e=void 0!==t.value?t.value:0,function(){return e}):AA[n];Ty("Unrecognized imputation method: "+n)}(t),p=function(t){var e=t.field;return function(t){return t?e(t):NaN}}(t),v=My(t.field),g=My(t.key),m=(t.groupby||[]).map(My),y=function(t,e,n,r){var i,o,a,c,l,u,s,f,h=function(t){return t(f)},d=[],p=r?r.slice():[],v={},g={};for(p.forEach((function(t,e){return v[t]=e+1})),c=0,s=t.length;c<s;++c)u=n(f=t[c]),l=v[u]||(v[u]=p.push(u)),(a=g[o=(i=e?e.map(h):PA)+""])||(a=g[o]=[],d.push(a),a.values=i),a[l-1]=f;return d.domain=p,d}(e.source,t.groupby,t.key,t.keyvals),b=[],x=this.value,w=y.domain.length;for(a=0,u=y.length;a<u;++a)for(i=(n=y[a]).values,r=NaN,l=0;l<w;++l)if(null==n[l]){for(o=y.domain[l],f={_impute:!0},c=0,s=i.length;c<s;++c)f[m[c]]=i[c];f[g]=o,f[v]=Number.isNaN(r)?r=d(n,p):r,b.push(EO(f))}return b.length&&(h.add=h.materialize(h.ADD).add.concat(b)),x.length&&(h.rem=h.materialize(h.REM).rem.concat(x)),this.value=b,h}}),DA.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:HM},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},Lb(DA,QM,{transform:function(t,e){var n,r=this,i=t.modified();return r.value&&(i||e.modified(r._inputs,!0))?(n=r.value=i?r.init(t):{},e.visit(e.SOURCE,(function(t){return r.add(t)}))):(n=r.value=r.value||this.init(t),e.visit(e.REM,(function(t){return r.rem(t)})),e.visit(e.ADD,(function(t){return r.add(t)}))),r.changes(),e.visit(e.SOURCE,(function(t){_b(t,n[r.cellkey(t)].tuple)})),e.reflow(i).modifies(this._outputs)},changes:function(){var t,e,n=this._adds,r=this._mods;for(t=0,e=this._alen;t<e;++t)this.celltuple(n[t]),n[t]=null;for(t=0,e=this._mlen;t<e;++t)this.celltuple(r[t]),r[t]=null;this._alen=this._mlen=0}}),TA.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Lb(TA,lE,{transform:function(t,e){var n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){var r=e.materialize(e.SOURCE).source,i=pA(r,t.groupby,t.field),o=(t.groupby||[]).map(My),a=t.bandwidth,c=t.cumulative?"cdf":"pdf",l=t.as||["value","density"],u=[],s=t.extent,f=t.steps||t.minsteps||25,h=t.steps||t.maxsteps||200;"pdf"!==c&&"cdf"!==c&&Ty("Invalid density method: "+c),"shared"===t.resolve&&(s||(s=Db(r,t.field)),f=h=t.steps||h),i.forEach((function(e){var n=eM(e,a)[c],r=t.counts?e.length:1;DM(n,s||Db(e),f,h).forEach((function(t){for(var n={},i=0;i<o.length;++i)n[o[i]]=e.dims[i];n[l[0]]=t[0],n[l[1]]=t[1]*r,u.push(EO(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}}),Lb(ZA,RO),Lb(jA,lE,{transform:function(t,e){var n=this,r=e.dataflow;if(this._pending)return IA(this,e,this._pending);if(function(t){return t.modified("async")&&!(t.modified("values")||t.modified("url")||t.modified("format"))}(t))return e.StopPropagation;if(t.values)return IA(this,e,r.parse(t.values,t.format));if(t.async){var i=r.request(t.url,t.format).then((function(t){return n._pending=bb(t.data),function(t){return t.touch(n)}}));return{async:i}}return r.request(t.url,t.format).then((function(t){return IA(n,e,bb(t.data))}))}}),RA.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Lb(RA,lE,{transform:function(t,e){var n,r,i,o=t.fields,a=t.index,c=t.values,l=null==t.default?null:t.default,u=t.modified(),s=o.length,f=u?e.SOURCE:e.ADD,h=e,d=t.as;return c?(r=c.length,s>1&&!d&&Ty('Multi-field lookup requires explicit "as" parameter.'),d&&d.length!==s*r&&Ty('The "as" parameter has too few output field names.'),d=d||c.map(My),n=function(t){for(var e,n,i=0,u=0;i<s;++i)if(null==(n=a.get(o[i](t))))for(e=0;e<r;++e,++u)t[d[u]]=l;else for(e=0;e<r;++e,++u)t[d[u]]=c[e](n)}):(d||Ty("Missing output field names."),n=function(t){for(var e,n=0;n<s;++n)e=a.get(o[n](t)),t[d[n]]=null==e?l:e}),u?h=e.reflow(!0):(i=o.some((function(t){return e.modified(t.fields)})),f|=i?e.MOD:0),e.visit(f,n),h.modifies(d)}}),Lb(LA,RO),Lb(BA,RO),Lb(UA,lE,{transform:function(t,e){return this.modified(t.modified()),this.value=t,e.fork(e.NO_SOURCE|e.NO_FIELDS)}}),HA.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:HM,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},Lb(HA,QM,{_transform:QM.prototype.transform,transform:function(t,e){return this._transform(function(t,e){var n=t.field,r=t.value,i=("count"===t.op?"__count__":t.op)||"sum",o=Ay(n).concat(Ay(r)),a=function(t,e,n){var r={},i=[];return n.visit(n.SOURCE,(function(e){var n=t(e);r[n]||(r[n]=1,i.push(n))})),i.sort(Cb),e?i.slice(0,e):i}(n,t.limit||0,e);e.changed()&&t.set("__pivot__",null,null,!0);return{key:t.key,groupby:t.groupby,ops:a.map((function(){return i})),fields:a.map((function(t){return function(t,e,n,r){return Ey((function(r){return e(r)===t?n(r):NaN}),r,t+"")}(t,n,r,o)})),as:a.map((function(t){return t+""})),modified:t.modified.bind(t)}}(t,e),e)}}),Lb(WA,xA,{transform:function(t,e){var n=this,r=t.subflow,i=t.field,o=function(t){return n.subflow(CO(t),r,e,t)};return(t.modified("field")||i&&e.modified(Ay(i)))&&Ty("PreFacet does not support field modification."),this.initTargets(),i?(e.visit(e.MOD,(function(t){var e=o(t);i(t).forEach((function(t){return e.mod(t)}))})),e.visit(e.ADD,(function(t){var e=o(t);i(t).forEach((function(t){return e.add(EO(t))}))})),e.visit(e.REM,(function(t){var e=o(t);i(t).forEach((function(t){return e.rem(t)}))}))):(e.visit(e.MOD,(function(t){return o(t).mod(t)})),e.visit(e.ADD,(function(t){return o(t).add(t)})),e.visit(e.REM,(function(t){return o(t).rem(t)}))),e.clean()&&e.runAfter((function(){return n.clean()})),e}}),VA.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Lb(VA,lE,{transform:function(t,e){var n,r=e.fork(e.NO_SOURCE),i=t.fields,o=dA(t.fields,t.as||[]),a=i?function(t,e){return function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)e[r[i]]=n[i](t);return e}(t,e,i,o)}:AO;return this.value?n=this.value:(e=e.addAll(),n=this.value={}),e.visit(e.REM,(function(t){var e=CO(t);r.rem.push(n[e]),n[e]=null})),e.visit(e.ADD,(function(t){var e=a(t,EO({}));n[CO(t)]=e,r.add.push(e)})),e.visit(e.MOD,(function(t){r.mod.push(a(t,n[CO(t)]))})),r}}),Lb(GA,lE,{transform:function(t,e){return this.value=t.value,t.modified("value")?e.fork(e.NO_SOURCE|e.NO_FIELDS):e.StopPropagation}}),XA.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};function qA(t){lE.call(this,null,t)}function YA(t){lE.call(this,[],t),this.count=0}function $A(t){lE.call(this,null,t)}function KA(t){lE.call(this,null,t),this.modified(!0)}function JA(t){lE.call(this,null,t)}Lb(XA,lE,{transform:function(t,e){var n=e.fork(e.NO_SOURCE|e.NO_FIELDS),r=t.as||["prob","value"];if(this.value&&!t.modified()&&!e.changed())return n.source=this.value,n;var i=pA(e.materialize(e.SOURCE).source,t.groupby,t.field),o=(t.groupby||[]).map(My),a=[],c=t.step||.01,l=t.probs||jM(c/2,1-1e-14,c),u=l.length;return i.forEach((function(t){for(var e=RE(t,l),n=0;n<u;++n){for(var i={},c=0;c<o.length;++c)i[o[c]]=t.dims[c];i[r[0]]=l[n],i[r[1]]=e[n],a.push(EO(i))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}}),Lb(qA,lE,{transform:function(t,e){var n,r;return this.value?r=this.value:(n=e=e.addAll(),r=this.value={}),t.derive&&(n=e.fork(e.NO_SOURCE),e.visit(e.REM,(function(t){var e=CO(t);n.rem.push(r[e]),r[e]=null})),e.visit(e.ADD,(function(t){var e=MO(t);r[CO(t)]=e,n.add.push(e)})),e.visit(e.MOD,(function(t){var e=r[CO(t)];for(var i in t)e[i]=t[i],n.modifies(i);n.mod.push(e)}))),n}}),YA.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Lb(YA,lE,{transform:function(t,e){var n=e.fork(e.NO_SOURCE),r=t.modified("size"),i=t.size,o=this.value.reduce((function(t,e){return t[CO(e)]=1,t}),{}),a=this.value,c=this.count,l=0;function u(t){var e,r;a.length<i?a.push(t):(r=~~((c+1)*zE()))<a.length&&r>=l&&(e=a[r],o[CO(e)]&&n.rem.push(e),a[r]=t),++c}if(e.rem.length&&(e.visit(e.REM,(function(t){var e=CO(t);o[e]&&(o[e]=-1,n.rem.push(t)),--c})),a=a.filter((function(t){return-1!==o[CO(t)]}))),(e.rem.length||r)&&a.length<i&&e.source&&(l=c=a.length,e.visit(e.SOURCE,(function(t){o[CO(t)]||u(t)})),l=-1),r&&a.length>i){for(var s=a.length-i,f=0;f<s;++f)o[CO(a[f])]=-1,n.rem.push(a[f]);a=a.slice(s)}return e.mod.length&&e.visit(e.MOD,(function(t){o[CO(t)]&&n.mod.push(t)})),e.add.length&&e.visit(e.ADD,u),(e.add.length||l<0)&&(n.add=a.filter((function(t){return!o[CO(t)]}))),this.count=c,this.value=n.source=a,n}}),$A.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Lb($A,lE,{transform:function(t,e){if(!this.value||t.modified()){var n=e.materialize().fork(e.MOD),r=t.as||"data";return n.rem=this.value?e.rem.concat(this.value):e.rem,this.value=jM(t.start,t.stop,t.step||1).map((function(t){var e={};return e[r]=t,EO(e)})),n.add=e.add.concat(this.value),n}}}),Lb(KA,lE,{transform:function(t,e){return this.value=e.source,e.changed()?e.fork(e.NO_SOURCE|e.NO_FIELDS):e.StopPropagation}});var QA=["unit0","unit1"];function tP(t){lE.call(this,Ib(),t)}function eP(t){lE.call(this,null,t)}JA.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:tS,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:QA}]},Lb(JA,lE,{transform:function(t,e){var n=t.field,r=!1!==t.interval,i="utc"===t.timezone,o=this._floor(t,e),a=(i?_S:PS)(o.unit).offset,c=t.as||QA,l=c[0],u=c[1],s=o.step,f=o.start||1/0,h=o.stop||-1/0,d=e.ADD;return(t.modified()||e.changed(e.REM)||e.modified(Ay(n)))&&(d=(e=e.reflow(!0)).SOURCE,f=1/0,h=-1/0),e.visit(d,(function(t){var e,i,c=n(t);null==c?(t[l]=null,r&&(t[u]=null)):(t[l]=e=i=o(c),r&&(t[u]=i=a(e,s)),e<f&&(f=e),i>h&&(h=i))})),o.start=f,o.stop=h,e.modifies(r?c:l)},_floor:function(t,e){var n="utc"===t.timezone,r=t.units?{units:t.units,step:t.step||1}:KS({extent:t.extent||Db(e.materialize(e.SOURCE).source,t.field),maxbins:t.maxbins}),i=r.units,o=r.step,a=nS(i),c=this.value||{},l=(n?ES:kS)(a,o);return l.unit=tb(a),l.units=a,l.step=o,l.start=c.start,l.stop=c.stop,this.value=l}}),Lb(tP,lE,{transform:function(t,e){var n=e.dataflow,r=t.field,i=this.value,o=function(t){return i.set(r(t),t)},a=!0;return t.modified("field")||e.modified(r.fields)?(i.clear(),e.visit(e.SOURCE,o)):e.changed()?(e.visit(e.REM,(function(t){return i.delete(r(t))})),e.visit(e.ADD,o)):a=!1,this.modified(a),i.empty>n.cleanThreshold&&n.runAfter(i.clean),e.fork()}}),Lb(eP,lE,{transform:function(t,e){(!this.value||t.modified("field")||t.modified("sort")||e.changed()||t.sort&&e.modified(t.sort.fields))&&(this.value=(t.sort?e.source.slice().sort(_O(t.sort)):e.source).map(t.field))}});var nP={row_number:function(){return{next:function(t){return t.index+1}}},rank:function(){var t;return{init:function(){return t=1},next:function(e){var n=e.index,r=e.data;return n&&e.compare(r[n-1],r[n])?t=n+1:t}}},dense_rank:function(){var t;return{init:function(){return t=1},next:function(e){var n=e.index,r=e.data;return n&&e.compare(r[n-1],r[n])?++t:t}}},percent_rank:function(){var t=nP.rank(),e=t.next;return{init:t.init,next:function(t){return(e(t)-1)/(t.data.length-1)}}},cume_dist:function(){var t;return{init:function(){return t=0},next:function(e){var n=e.data,r=e.compare,i=e.index;if(t<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;t=i}return(1+t)/n.length}}},ntile:function(t,e){(e=+e)>0||Ty("ntile num must be greater than zero.");var n=nP.cume_dist(),r=n.next;return{init:n.init,next:function(t){return Math.ceil(e*r(t))}}},lag:function(t,e){return e=+e||1,{next:function(n){var r=n.index-e;return r>=0?t(n.data[r]):null}}},lead:function(t,e){return e=+e||1,{next:function(n){var r=n.index+e,i=n.data;return r<i.length?t(i[r]):null}}},first_value:function(t){return{next:function(e){return t(e.data[e.i0])}}},last_value:function(t){return{next:function(e){return t(e.data[e.i1-1])}}},nth_value:function(t,e){return(e=+e)>0||Ty("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(e-1);return r<n.i1?t(n.data[r]):null}}},prev_value:function(t){var e;return{init:function(){return e=null},next:function(n){var r=t(n.data[n.index]);return null!=r?e=r:e}}},next_value:function(t){var e,n;return{init:function(){return e=null,n=-1},next:function(r){var i=r.data;return r.index<=n?e:(n=function(t,e,n){for(var r=e.length;n<r;++n){if(null!=t(e[n]))return n}return-1}(t,i,r.index))<0?(n=i.length,e=null):e=t(i[n])}}}};var rP=Object.keys(nP);function iP(t){var e=bb(t.ops),n=bb(t.fields),r=bb(t.params),i=bb(t.as),o=this.outputs=[],a=this.windows=[],c={},l={},u=[],s=[],f=!0;function h(t){bb(Ay(t)).forEach((function(t){return c[t]=1}))}h(t.sort),e.forEach((function(t,e){var c=n[e],d=My(c),p=NM(t,d,i[e]);if(h(c),o.push(p),Fb(nP,t))a.push(function(t,e,n,r){var i=nP[t](e,n);return{init:i.init||Ry,update:function(t,e){e[r]=i.next(t)}}}(t,n[e],r[e],p));else{if(null==c&&"count"!==t&&Ty("Null aggregate field specified."),"count"===t)return void u.push(p);f=!1;var v=l[d];v||((v=l[d]=[]).field=c,s.push(v)),v.push(WM(t,p))}})),(u.length||s.length)&&(this.cell=function(t,e,n){t=t.map((function(t){return $M(t,t.field)}));var r={num:0,agg:null,store:!1,count:e};if(!n)for(var i=t.length,o=r.agg=Array(i),a=0;a<i;++a)o[a]=new t[a](r);if(r.store)var c=r.data=new KM;return r.add=function(t){if(r.num+=1,!n){c&&c.add(t);for(var e=0;e<i;++e)o[e].add(o[e].get(t),t)}},r.rem=function(t){if(r.num-=1,!n){c&&c.rem(t);for(var e=0;e<i;++e)o[e].rem(o[e].get(t),t)}},r.set=function(t){var i,a;for(c&&c.values(),i=0,a=e.length;i<a;++i)t[e[i]]=r.num;if(!n)for(i=0,a=o.length;i<a;++i)o[i].set(t)},r.init=function(){r.num=0,c&&c.reset();for(var t=0;t<i;++t)o[t].init()},r}(s,u,f)),this.inputs=Object.keys(c)}var oP=iP.prototype;function aP(t){lE.call(this,{},t),this._mlen=0,this._mods=[]}function cP(t,e,n,r){var i=r.sort,o=i&&!r.ignorePeers,a=r.frame||[null,0],c=t.data(n),l=c.length,u=o?zw(i):null,s={i0:0,i1:0,p0:0,p1:0,index:0,data:c,compare:i||Ab(-1)};e.init();for(var f=0;f<l;++f)lP(s,a,f,l),o&&uP(s,u),e.update(s,c[f])}function lP(t,e,n,r){t.p0=t.i0,t.p1=t.i1,t.i0=null==e[0]?0:Math.max(0,n-Math.abs(e[0])),t.i1=null==e[1]?r:Math.min(r,n+Math.abs(e[1])+1),t.index=n}function uP(t,e){var n=t.i0,r=t.i1-1,i=t.compare,o=t.data,a=o.length-1;n>0&&!i(o[n],o[n-1])&&(t.i0=e.left(o,o[n])),r<a&&!i(o[r],o[r+1])&&(t.i1=e.right(o,o[r]))}function sP(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fP(t){this._context=t}function hP(){}function dP(t){this._context=t}function pP(t){this._context=t}function vP(t,e){this._basis=new fP(t),this._beta=e}oP.init=function(){this.windows.forEach((function(t){return t.init()})),this.cell&&this.cell.init()},oP.update=function(t,e){var n,r=this.cell,i=this.windows,o=t.data,a=i&&i.length;if(r){for(n=t.p0;n<t.i0;++n)r.rem(o[n]);for(n=t.p1;n<t.i1;++n)r.add(o[n]);r.set(e)}for(n=0;n<a;++n)i[n].update(t,e)},aP.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:rP.concat(HM)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},Lb(aP,lE,{transform:function(t,e){var n=this;this.stamp=e.stamp;var r=t.modified(),i=_O(t.sort),o=LM(t.groupby),a=function(t){return n.group(o(t))},c=this.state;c&&!r||(c=this.state=new iP(t)),r||e.modified(c.inputs)?(this.value={},e.visit(e.SOURCE,(function(t){return a(t).add(t)}))):(e.visit(e.REM,(function(t){return a(t).remove(t)})),e.visit(e.ADD,(function(t){return a(t).add(t)})));for(var l=0,u=this._mlen;l<u;++l)cP(this._mods[l],c,i,t);return this._mlen=0,this._mods=[],e.reflow(r).modifies(c.outputs)},group:function(t){var e=this.value[t];return e||(e=this.value[t]=eA(CO),e.stamp=-1),e.stamp<this.stamp&&(e.stamp=this.stamp,this._mods[this._mlen++]=e),e}}),fP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sP(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sP(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},dP.prototype={areaStart:hP,areaEnd:hP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:sP(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},pP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sP(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},vP.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,c=e[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(i+r*a),this._beta*e[l]+(1-this._beta)*(o+r*c));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var gP=function t(e){function n(t){return 1===e?new fP(t):new vP(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function mP(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function yP(t,e){this._context=t,this._k=(1-e)/6}yP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:mP(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:mP(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var bP=function t(e){function n(t){return new yP(t,e)}return n.tension=function(e){return t(+e)},n}(0);function xP(t,e){this._context=t,this._k=(1-e)/6}xP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:mP(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var wP=function t(e){function n(t){return new xP(t,e)}return n.tension=function(e){return t(+e)},n}(0);function SP(t,e){this._context=t,this._k=(1-e)/6}SP.prototype={areaStart:hP,areaEnd:hP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:mP(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var kP=function t(e){function n(t){return new SP(t,e)}return n.tension=function(e){return t(+e)},n}(0),CP=Math.abs,OP=Math.atan2,EP=Math.cos,MP=Math.max,AP=Math.min,PP=Math.sin,_P=Math.sqrt,DP=1e-12,TP=Math.PI,ZP=TP/2,FP=2*TP;function jP(t){return t>=1?ZP:t<=-1?-ZP:Math.asin(t)}function IP(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>DP){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>DP){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/s,a=(a*u+t._y1*t._l23_2a-n*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function RP(t,e){this._context=t,this._alpha=e}RP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:IP(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var LP=function t(e){function n(t){return e?new RP(t,e):new yP(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function NP(t,e){this._context=t,this._alpha=e}NP.prototype={areaStart:hP,areaEnd:hP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:IP(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var BP=function t(e){function n(t){return e?new NP(t,e):new SP(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function zP(t,e){this._context=t,this._alpha=e}zP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:IP(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var UP,HP,WP,VP,GP,XP,qP,YP,$P,KP,JP,QP,t_,e_,n_=function t(e){function n(t){return e?new zP(t,e):new xP(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function r_(t){this._context=t}function i_(t){return new r_(t)}function o_(t){this._context=t}function a_(t){return t<0?-1:1}function c_(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),c=(o*i+a*r)/(r+i);return(a_(o)+a_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(c))||0}function l_(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function u_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,i+c*e,o-c,a-c*n,o,a)}function s_(t){this._context=t}function f_(t){this._context=new h_(t)}function h_(t){this._context=t}function d_(t){this._context=t}function p_(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function v_(t,e){this._context=t,this._t=e}function g_(t){return function(){return t}}function m_(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}r_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},o_.prototype={areaStart:hP,areaEnd:hP,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},s_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:u_(this,this._t0,l_(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,u_(this,l_(this,n=c_(this,t,e)),n);break;default:u_(this,this._t0,n=c_(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(f_.prototype=Object.create(s_.prototype)).point=function(t,e){s_.prototype.point.call(this,e,t)},h_.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},d_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=p_(t),i=p_(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},v_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var y_=Math.PI,b_=2*y_,x_=1e-6,w_=b_-x_;function S_(t){this._+=t[0];for(var e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}var k_=function(){function t(e){(0,Rm.Z)(this,t),this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?S_:function(t){var e=Math.floor(t);if(!(e>=0))throw new Error("invalid digits: ".concat(t));if(e>15)return S_;var n=Math.pow(10,e);return function(t){this._+=t[0];for(var e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(e)}return(0,Lm.Z)(t,[{key:"moveTo",value:function(t,e){this._append(UP||(UP=m_(["M",",",""])),this._x0=this._x1=+t,this._y0=this._y1=+e)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(HP||(HP=m_(["Z"]))))}},{key:"lineTo",value:function(t,e){this._append(WP||(WP=m_(["L",",",""])),this._x1=+t,this._y1=+e)}},{key:"quadraticCurveTo",value:function(t,e,n,r){this._append(VP||(VP=m_(["Q",",",",",",",""])),+t,+e,this._x1=+n,this._y1=+r)}},{key:"bezierCurveTo",value:function(t,e,n,r,i,o){this._append(GP||(GP=m_(["C",",",",",",",",",",",""])),+t,+e,+n,+r,this._x1=+i,this._y1=+o)}},{key:"arcTo",value:function(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));var o=this._x1,a=this._y1,c=n-t,l=r-e,u=o-t,s=a-e,f=u*u+s*s;if(null===this._x1)this._append(XP||(XP=m_(["M",",",""])),this._x1=t,this._y1=e);else if(f>x_)if(Math.abs(s*c-l*u)>x_&&i){var h=n-o,d=r-a,p=c*c+l*l,v=h*h+d*d,g=Math.sqrt(p),m=Math.sqrt(f),y=i*Math.tan((y_-Math.acos((p+f-v)/(2*g*m)))/2),b=y/m,x=y/g;Math.abs(b-1)>x_&&this._append(YP||(YP=m_(["L",",",""])),t+b*u,e+b*s),this._append($P||($P=m_(["A",",",",0,0,",",",",",""])),i,i,+(s*h>u*d),this._x1=t+x*c,this._y1=e+x*l)}else this._append(qP||(qP=m_(["L",",",""])),this._x1=t,this._y1=e);else;}},{key:"arc",value:function(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));var a=n*Math.cos(r),c=n*Math.sin(r),l=t+a,u=e+c,s=1^o,f=o?r-i:i-r;null===this._x1?this._append(KP||(KP=m_(["M",",",""])),l,u):(Math.abs(this._x1-l)>x_||Math.abs(this._y1-u)>x_)&&this._append(JP||(JP=m_(["L",",",""])),l,u),n&&(f<0&&(f=f%b_+b_),f>w_?this._append(QP||(QP=m_(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,s,t-a,e-c,n,n,s,this._x1=l,this._y1=u):f>x_&&this._append(t_||(t_=m_(["A",",",",0,",",",",",",",""])),n,n,+(f>=y_),s,this._x1=t+n*Math.cos(i),this._y1=e+n*Math.sin(i)))}},{key:"rect",value:function(t,e,n,r){this._append(e_||(e_=m_(["M",",","h","v","h","Z"])),this._x0=this._x1=+t,this._y0=this._y1=+e,n=+n,+r,-n)}},{key:"toString",value:function(){return this._}}]),t}();function C_(){return new k_}function O_(t){var e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{var r=Math.floor(n);if(!(r>=0))throw new RangeError("invalid digits: ".concat(n));e=r}return t},function(){return new k_(e)}}function E_(t){return t.innerRadius}function M_(t){return t.outerRadius}function A_(t){return t.startAngle}function P_(t){return t.endAngle}function __(t){return t&&t.padAngle}function D_(t,e,n,r,i,o,a){var c=t-n,l=e-r,u=(a?o:-o)/_P(c*c+l*l),s=u*l,f=-u*c,h=t+s,d=e+f,p=n+s,v=r+f,g=(h+p)/2,m=(d+v)/2,y=p-h,b=v-d,x=y*y+b*b,w=i-o,S=h*v-p*d,k=(b<0?-1:1)*_P(MP(0,w*w*x-S*S)),C=(S*b-y*k)/x,O=(-S*y-b*k)/x,E=(S*b+y*k)/x,M=(-S*y+b*k)/x,A=C-g,P=O-m,_=E-g,D=M-m;return A*A+P*P>_*_+D*D&&(C=E,O=M),{cx:C,cy:O,x01:-s,y01:-f,x11:C*(i/w-1),y11:O*(i/w-1)}}C_.prototype=k_.prototype;Array.prototype.slice;function T_(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Z_(t){return t[0]}function F_(t){return t[1]}function j_(t,e){var n=g_(!0),r=null,i=i_,o=null,a=O_(c);function c(c){var l,u,s,f=(c=T_(c)).length,h=!1;for(null==r&&(o=i(s=a())),l=0;l<=f;++l)!(l<f&&n(u=c[l],l,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(u,l,c),+e(u,l,c));if(s)return o=null,s+""||null}return t="function"==typeof t?t:void 0===t?Z_:g_(t),e="function"==typeof e?e:void 0===e?F_:g_(e),c.x=function(e){return arguments.length?(t="function"==typeof e?e:g_(+e),c):t},c.y=function(t){return arguments.length?(e="function"==typeof t?t:g_(+t),c):e},c.defined=function(t){return arguments.length?(n="function"==typeof t?t:g_(!!t),c):n},c.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),c):i},c.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),c):r},c}function I_(t,e,n){var r=null,i=g_(!0),o=null,a=i_,c=null,l=O_(u);function u(u){var s,f,h,d,p,v=(u=T_(u)).length,g=!1,m=new Array(v),y=new Array(v);for(null==o&&(c=a(p=l())),s=0;s<=v;++s){if(!(s<v&&i(d=u[s],s,u))===g)if(g=!g)f=s,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),h=s-1;h>=f;--h)c.point(m[h],y[h]);c.lineEnd(),c.areaEnd()}g&&(m[s]=+t(d,s,u),y[s]=+e(d,s,u),c.point(r?+r(d,s,u):m[s],n?+n(d,s,u):y[s]))}if(p)return c=null,p+""||null}function s(){return j_().defined(i).curve(a).context(o)}return t="function"==typeof t?t:void 0===t?Z_:g_(+t),e="function"==typeof e?e:g_(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?F_:g_(+n),u.x=function(e){return arguments.length?(t="function"==typeof e?e:g_(+e),r=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:g_(+e),u):t},u.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:g_(+t),u):r},u.y=function(t){return arguments.length?(e="function"==typeof t?t:g_(+t),n=null,u):e},u.y0=function(t){return arguments.length?(e="function"==typeof t?t:g_(+t),u):e},u.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:g_(+t),u):n},u.lineX0=u.lineY0=function(){return s().x(t).y(e)},u.lineY1=function(){return s().x(t).y(n)},u.lineX1=function(){return s().x(r).y(e)},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:g_(!!t),u):i},u.curve=function(t){return arguments.length?(a=t,null!=o&&(c=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=c=null:c=a(o=t),u):o},u}_P(3);var R_={draw:function(t,e){var n=_P(e/TP);t.moveTo(n,0),t.arc(0,0,n,0,FP)}},L_=(_P(1/3),PP(TP/10)/PP(7*TP/10));PP(FP/10),EP(FP/10),_P(3),_P(3),_P(3),_P(12);function N_(t,e){if("undefined"!=typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=t,n.height=e,n}return null}var B_=function(){return"undefined"!=typeof Image?Image:null},z_=/^(data:|([A-Za-z]+:)?\/\/)/,U_=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,H_=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,W_="file://";function V_(t,e){return G_.apply(this,arguments)}function G_(){return(G_=Gm(q().mark((function t(e,n){var r,i;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sanitize(e,n);case 2:return r=t.sent,i=r.href,t.abrupt("return",r.localFile?this.file(i):this.http(i,n));case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function X_(t,e){return q_.apply(this,arguments)}function q_(){return q_=Gm(q().mark((function t(e,n){var r,i,o,a,c,l,u;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=_b({},this.options,n),r=this.fileAccess,i={href:null},l=U_.test(e.replace(H_,"")),null!=e&&"string"==typeof e&&l||Ty("Sanitize failure, invalid URI: "+tx(e)),u=z_.test(e),(c=n.baseURL)&&!u&&(e.startsWith("/")||c.endsWith("/")||(e="/"+e),e=c+e),a=(o=e.startsWith(W_))||"file"===n.mode||"http"!==n.mode&&!u&&r,o?e=e.slice(W_.length):e.startsWith("//")&&("file"===n.defaultProtocol?(e=e.slice(2),a=!0):e=(n.defaultProtocol||"http")+":"+e),Object.defineProperty(i,"localFile",{value:!!a}),i.href=e,n.target&&(i.target=n.target+""),n.rel&&(i.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(i.crossOrigin=n.crossOrigin+""),t.abrupt("return",i);case 14:case"end":return t.stop()}}),t,this)}))),q_.apply(this,arguments)}function Y_(t){return t?function(e){return new Promise((function(n,r){t.readFile(e,(function(t,e){t?r(t):n(e)}))}))}:$_}function $_(){return K_.apply(this,arguments)}function K_(){return(K_=Gm(q().mark((function t(){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ty("No file system access.");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J_(t){return t?function(){var e=Gm(q().mark((function e(n,r){var i,o,a;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_b({},this.options.http,r),o=r&&r.response,e.next=4,t(n,i);case 4:return a=e.sent,e.abrupt("return",a.ok?wb(a[o])?a[o]():a.text():Ty(a.status+""+a.statusText));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}():Q_}function Q_(){return tD.apply(this,arguments)}function tD(){return(tD=Gm(q().mark((function t(){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ty("No HTTP fetch method available.");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function eD(t){var e=function(e,n){var r={delimiter:t};return nD(e,n?_b(n,r):r)};return e.responseType="text",e}function nD(t,e){return e.header&&(t=e.header.map(tx).join(e.delimiter)+"\n"+t),mx(e.delimiter).parse(t+"")}function rD(t,e){var n,r=e&&e.property?Fy(e.property):Iy;return!Yy(t)||(n=t,"function"==typeof Buffer&&wb(Buffer.isBuffer)&&Buffer.isBuffer(n))?r(JSON.parse(t)):function(t,e){!qy(t)&&Ub(t)&&(t=(0,Xm.Z)(t));return e&&e.copy?JSON.parse(JSON.stringify(t)):t}(r(t),e)}nD.responseType="text",rD.responseType="json";var iD={interior:function(t,e){return t!==e},exterior:function(t,e){return t===e}};function oD(t,e){var n,r,i,o;return t=rD(t,e),e&&e.feature?(n=bx,i=e.feature):e&&e.mesh?(n=kx,i=e.mesh,o=iD[e.filter]):Ty("Missing TopoJSON feature or mesh parameter."),(r=(r=t.objects[i])?n(t,r,o):Ty("Invalid TopoJSON object: "+i))&&r.features||[r]}oD.responseType="json";eD(","),eD("\t");var aD=function(t,e){return function(n){return{options:n||{},sanitize:X_,load:V_,fileAccess:!!e,file:Y_(e),http:J_(t)}}}("undefined"!=typeof fetch&&fetch,null),cD=zw(Nw),lD=cD.right,uD=cD.left,sD=(zw(OE).center,lD),fD=n(23713),hD=n(44922);function dD(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function pD(t){return+t}var vD=[0,1];function gD(t){return t}function mD(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function yD(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=mD(i,r),o=n(a,o)):(r=mD(r,i),o=n(o,a)),function(t){return o(r(t))}}function bD(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=mD(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=sD(t,e,1,r)-1;return o[n](i[n](e))}}function xD(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function wD(){var t,e,n,r,i,o,a=vD,c=vD,l=fD.Z,u=gD;function s(){var t=Math.min(a.length,c.length);return u!==gD&&(u=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?bD:yD,i=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),c,l)))(t(u(e)))}return f.invert=function(n){return u(e((o||(o=r(c,a.map(t),hD.Z)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,pD),s()):a.slice()},f.range=function(t){return arguments.length?(c=Array.from(t),s()):c.slice()},f.rangeRound=function(t){return c=Array.from(t),l=dD,s()},f.clamp=function(t){return arguments.length?(u=!!t||gD,s()):u!==gD},f.interpolate=function(t){return arguments.length?(l=t,s()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,s()}}function SD(){return wD()(gD,gD)}function kD(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function CD(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}var OD,ED=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function MD(t){if(!(e=ED.exec(t)))throw new Error("invalid format: "+t);var e;return new AD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function AD(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function PD(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function _D(t){return(t=PD(Math.abs(t)))?t[1]:NaN}function DD(t,e){var n=PD(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}MD.prototype=AD.prototype,AD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var TD={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return DD(100*t,e)},r:DD,s:function(t,e){var n=PD(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(OD=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+PD(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ZD(t){return t}var FD,jD,ID,RD=Array.prototype.map,LD=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ND(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?ZD:(e=RD.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,c=e[0],l=0;i>0&&c>0&&(l+c+1>r&&(c=Math.max(1,r-l)),o.push(t.substring(i-=c,i+c)),!((l+=c+1)>r));)c=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",c=void 0===t.numerals?ZD:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(RD.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"−":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=MD(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,v=t.comma,g=t.precision,m=t.trim,y=t.type;"n"===y?(v=!0,y="g"):TD[y]||(void 0===g&&(g=12),m=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===h?o:/[%p]/.test(y)?l:"",w=TD[y],S=/[defgprs%]/.test(y);function k(t){var i,o,l,h=b,k=x;if("c"===y)k=w(t)+k,t="";else{var C=(t=+t)<0||1/t<0;if(t=isNaN(t)?s:w(Math.abs(t),g),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),C&&0==+t&&"+"!==f&&(C=!1),h=(C?"("===f?f:u:"-"===f||"("===f?"":f)+h,k=("s"===y?LD[8+OD/3]:"")+k+(C&&"("===f?")":""),S)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){k=(46===l?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}v&&!d&&(t=r(t,1/0));var O=h.length+t.length+k.length,E=O<p?new Array(p-O+1).join(e):"";switch(v&&d&&(t=r(E+t,E.length?p-k.length:1/0),E=""),n){case"<":t=h+t+k+E;break;case"=":t=h+E+t+k;break;case"^":t=E.slice(0,O=E.length>>1)+h+t+k+E.slice(O);break;default:t=E+h+t+k}return c(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return t+""},k}return{format:f,formatPrefix:function(t,e){var n=f(((t=MD(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(_D(e)/3))),i=Math.pow(10,-r),o=LD[8+r/3];return function(t){return n(i*t)+o}}}}function BD(t,e,n,r){var i,o=Dx(t,e,n);switch((r=MD(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(_D(e)/3)))-_D(Math.abs(t)))}(o,a))||(r.precision=i),ID(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_D(e)-_D(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-_D(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return jD(r)}function zD(t){var e=t.domain;return t.ticks=function(t){var n=e();return Px(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return BD(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,c=o.length-1,l=o[a],u=o[c],s=10;for(u<l&&(i=l,l=u,u=i,i=a,a=c,c=i);s-- >0;){if((i=_x(l,u,n))===r)return o[a]=l,o[c]=u,e(o);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}r=i}return t},t}function UD(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function HD(t){return Math.log(t)}function WD(t){return Math.exp(t)}function VD(t){return-Math.log(-t)}function GD(t){return-Math.exp(-t)}function XD(t){return isFinite(t)?+("1e"+t):t<0?0:t}function qD(t){return function(e,n){return-t(-e,n)}}function YD(t){var e,n,r=t(HD,WD),i=r.domain,o=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?XD:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),i()[0]<0?(e=qD(e),n=qD(n),t(VD,GD)):t(HD,WD),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r=i(),a=r[0],c=r[r.length-1],l=c<a;if(l){var u=[c,a];a=u[0],c=u[1]}var s,f,h=e(a),d=e(c),p=null==t?10:+t,v=[];if(!(o%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),a>0){for(;h<=d;++h)for(s=1;s<o;++s)if(!((f=h<0?s/n(-h):s*n(h))<a)){if(f>c)break;v.push(f)}}else for(;h<=d;++h)for(s=o-1;s>=1;--s)if(!((f=h>0?s/n(-h):s*n(h))<a)){if(f>c)break;v.push(f)}2*v.length<p&&(v=Px(a,c,p))}else v=Px(h,d,Math.min(d-h,p)).map(n);return l?v.reverse():v},r.tickFormat=function(t,i){if(null==t&&(t=10),null==i&&(i=10===o?"s":","),"function"!=typeof i&&(o%1||null!=(i=MD(i)).precision||(i.trim=!0),i=jD(i)),t===1/0)return i;var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(UD(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function $D(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function KD(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function JD(t){return t<0?-t*t:t*t}function QD(t){var e=t(gD,gD),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(gD,gD):.5===n?t(KD,JD):t($D(n),$D(1/n)):n},zD(e)}function tT(){var t=QD(wD());return t.copy=function(){return xD(t,tT()).exponent(t.exponent())},kD.apply(t,arguments),t}function eT(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function nT(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function rT(t){var e=1,n=t(eT(e),nT(e));return n.constant=function(n){return arguments.length?t(eT(e=+n),nT(e)):e},zD(n)}function iT(t,e,n,r,i,o){var a=[[_w,1,$x],[_w,5,5e3],[_w,15,15e3],[_w,30,3e4],[o,1,Kx],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Jx],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Qx],[r,2,1728e5],[n,1,tw],[e,1,ew],[e,3,7776e6],[t,1,nw]];function c(e,n,r){var i=Math.abs(n-e)/r,o=zw((function(t){return(0,G.Z)(t,3)[2]})).right(a,i);if(o===a.length)return t.every(Dx(e/nw,n/nw,r));if(0===o)return Dw.every(Math.max(Dx(e,n,r),1));var c=(0,G.Z)(a[i/a[o-1][2]<a[o][2]/i?o-1:o],2),l=c[0],u=c[1];return l.every(u)}return[function(t,e,n){var r=e<t;if(r){var i=[e,t];t=i[0],e=i[1]}var o=n&&"function"==typeof n.range?n:c(t,e,n),a=o?o.range(t,+e+1):[];return r?a.reverse():a},c]}!function(t){FD=ND(t),jD=FD.format,ID=FD.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var oT=iT(kw,Ow,vw,ow,Mw,Pw),aT=(0,G.Z)(oT,2),cT=aT[0],lT=aT[1],uT=iT(Sw,Cw,cw,rw,Ew,Aw),sT=(0,G.Z)(uT,2),fT=sT[0],hT=sT[1];function dT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vT(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var gT,mT,yT,bT={"-":"",_:" ",0:"0"},xT=/^\s*\d+/,wT=/^%/,ST=/[\\^$*+?|[\]().{}]/g;function kT(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function CT(t){return t.replace(ST,"\\$&")}function OT(t){return new RegExp("^(?:"+t.map(CT).join("|")+")","i")}function ET(t){return new Map(t.map((function(t,e){return[t.toLowerCase(),e]})))}function MT(t,e,n){var r=xT.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function AT(t,e,n){var r=xT.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function PT(t,e,n){var r=xT.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function _T(t,e,n){var r=xT.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function DT(t,e,n){var r=xT.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function TT(t,e,n){var r=xT.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ZT(t,e,n){var r=xT.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function FT(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function jT(t,e,n){var r=xT.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function IT(t,e,n){var r=xT.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function RT(t,e,n){var r=xT.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function LT(t,e,n){var r=xT.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function NT(t,e,n){var r=xT.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function BT(t,e,n){var r=xT.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function zT(t,e,n){var r=xT.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function UT(t,e,n){var r=xT.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function HT(t,e,n){var r=xT.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function WT(t,e,n){var r=wT.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function VT(t,e,n){var r=xT.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function GT(t,e,n){var r=xT.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function XT(t,e){return kT(t.getDate(),e,2)}function qT(t,e){return kT(t.getHours(),e,2)}function YT(t,e){return kT(t.getHours()%12||12,e,2)}function $T(t,e){return kT(1+rw.count(Sw(t),t),e,3)}function KT(t,e){return kT(t.getMilliseconds(),e,3)}function JT(t,e){return KT(t,e)+"000"}function QT(t,e){return kT(t.getMonth()+1,e,2)}function tZ(t,e){return kT(t.getMinutes(),e,2)}function eZ(t,e){return kT(t.getSeconds(),e,2)}function nZ(t){var e=t.getDay();return 0===e?7:e}function rZ(t,e){return kT(cw.count(Sw(t)-1,t),e,2)}function iZ(t){var e=t.getDay();return e>=4||0===e?fw(t):fw.ceil(t)}function oZ(t,e){return t=iZ(t),kT(fw.count(Sw(t),t)+(4===Sw(t).getDay()),e,2)}function aZ(t){return t.getDay()}function cZ(t,e){return kT(lw.count(Sw(t)-1,t),e,2)}function lZ(t,e){return kT(t.getFullYear()%100,e,2)}function uZ(t,e){return kT((t=iZ(t)).getFullYear()%100,e,2)}function sZ(t,e){return kT(t.getFullYear()%1e4,e,4)}function fZ(t,e){var n=t.getDay();return kT((t=n>=4||0===n?fw(t):fw.ceil(t)).getFullYear()%1e4,e,4)}function hZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+kT(e/60|0,"0",2)+kT(e%60,"0",2)}function dZ(t,e){return kT(t.getUTCDate(),e,2)}function pZ(t,e){return kT(t.getUTCHours(),e,2)}function vZ(t,e){return kT(t.getUTCHours()%12||12,e,2)}function gZ(t,e){return kT(1+iw.count(kw(t),t),e,3)}function mZ(t,e){return kT(t.getUTCMilliseconds(),e,3)}function yZ(t,e){return mZ(t,e)+"000"}function bZ(t,e){return kT(t.getUTCMonth()+1,e,2)}function xZ(t,e){return kT(t.getUTCMinutes(),e,2)}function wZ(t,e){return kT(t.getUTCSeconds(),e,2)}function SZ(t){var e=t.getUTCDay();return 0===e?7:e}function kZ(t,e){return kT(vw.count(kw(t)-1,t),e,2)}function CZ(t){var e=t.getUTCDay();return e>=4||0===e?bw(t):bw.ceil(t)}function OZ(t,e){return t=CZ(t),kT(bw.count(kw(t),t)+(4===kw(t).getUTCDay()),e,2)}function EZ(t){return t.getUTCDay()}function MZ(t,e){return kT(gw.count(kw(t)-1,t),e,2)}function AZ(t,e){return kT(t.getUTCFullYear()%100,e,2)}function PZ(t,e){return kT((t=CZ(t)).getUTCFullYear()%100,e,2)}function _Z(t,e){return kT(t.getUTCFullYear()%1e4,e,4)}function DZ(t,e){var n=t.getUTCDay();return kT((t=n>=4||0===n?bw(t):bw.ceil(t)).getUTCFullYear()%1e4,e,4)}function TZ(){return"+0000"}function ZZ(){return"%"}function FZ(t){return+t}function jZ(t){return Math.floor(+t/1e3)}function IZ(t){return new Date(t)}function RZ(t){return t instanceof Date?+t:+new Date(+t)}function LZ(t,e,n,r,i,o,a,c,l,u){var s=SD(),f=s.invert,h=s.domain,d=u(".%L"),p=u(":%S"),v=u("%I:%M"),g=u("%I %p"),m=u("%a %d"),y=u("%b %d"),b=u("%B"),x=u("%Y");function w(t){return(l(t)<t?d:c(t)<t?p:a(t)<t?v:o(t)<t?g:r(t)<t?i(t)<t?m:y:n(t)<t?b:x)(t)}return s.invert=function(t){return new Date(f(t))},s.domain=function(t){return arguments.length?h(Array.from(t,RZ)):h().map(IZ)},s.ticks=function(e){var n=h();return t(n[0],n[n.length-1],null==e?10:e)},s.tickFormat=function(t,e){return null==e?w:u(e)},s.nice=function(t){var n=h();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?h(UD(n,t)):s},s.copy=function(){return xD(s,LZ(t,e,n,r,i,o,a,c,l,u))},s}function NZ(){var t,e,n,r,i,o=0,a=1,c=gD,l=!1;function u(e){return null==e||isNaN(e=+e)?i:c(0===n?.5:(e=(r(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}function s(t){return function(e){var n,r,i;return arguments.length?(r=(n=(0,G.Z)(e,2))[0],i=n[1],c=t(r,i),u):[c(0),c(1)]}}return u.domain=function(i){var c;return arguments.length?(c=(0,G.Z)(i,2),o=c[0],a=c[1],t=r(o=+o),e=r(a=+a),n=t===e?0:1/(e-t),u):[o,a]},u.clamp=function(t){return arguments.length?(l=!!t,u):l},u.interpolator=function(t){return arguments.length?(c=t,u):c},u.range=s(fD.Z),u.rangeRound=s(dD),u.unknown=function(t){return arguments.length?(i=t,u):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),u}}function BZ(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function zZ(){var t=zD(NZ()(gD));return t.copy=function(){return BZ(t,zZ())},CD.apply(t,arguments)}function UZ(){var t=QD(NZ());return t.copy=function(){return BZ(t,UZ()).exponent(t.exponent())},CD.apply(t,arguments)}function HZ(t,e){void 0===e&&(e=t,t=fD.Z);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function WZ(){var t,e,n,r,i,o,a,c=0,l=.5,u=1,s=1,f=gD,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(s*t<s*e?r:i),f(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i,o;return arguments.length?(r=(n=(0,G.Z)(e,3))[0],i=n[1],o=n[2],f=HZ(t,[r,i,o]),d):[f(0),f(.5),f(1)]}}return d.domain=function(a){var f;return arguments.length?(f=(0,G.Z)(a,3),c=f[0],l=f[1],u=f[2],t=o(c=+c),e=o(l=+l),n=o(u=+u),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),s=e<t?-1:1,d):[c,l,u]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(f=t,d):f},d.range=p(fD.Z),d.rangeRound=p(dD),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(c),e=a(l),n=a(u),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),s=e<t?-1:1,d}}function VZ(){var t=QD(WZ());return t.copy=function(){return BZ(t,VZ()).exponent(t.exponent())},CD.apply(t,arguments)}function GZ(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return XZ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XZ(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function XZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qZ(){return qZ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,Um.Z)(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},qZ.apply(this,arguments)}!function(t){gT=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,c=t.months,l=t.shortMonths,u=OT(i),s=ET(i),f=OT(o),h=ET(o),d=OT(a),p=ET(a),v=OT(c),g=ET(c),m=OT(l),y=ET(l),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:null,d:XT,e:XT,f:JT,g:uZ,G:fZ,H:qT,I:YT,j:$T,L:KT,m:QT,M:tZ,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:FZ,s:jZ,S:eZ,u:nZ,U:rZ,V:oZ,w:aZ,W:cZ,x:null,X:null,y:lZ,Y:sZ,Z:hZ,"%":ZZ},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return c[t.getUTCMonth()]},c:null,d:dZ,e:dZ,f:yZ,g:PZ,G:DZ,H:pZ,I:vZ,j:gZ,L:mZ,m:bZ,M:xZ,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:FZ,s:jZ,S:wZ,u:SZ,U:kZ,V:OZ,w:EZ,W:MZ,x:null,X:null,y:AZ,Y:_Z,Z:TZ,"%":ZZ},w={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return C(t,e,n,r)},d:RT,e:RT,f:HT,g:ZT,G:TT,H:NT,I:NT,j:LT,L:UT,m:IT,M:BT,p:function(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=s.get(r[0].toLowerCase()),n+r[0].length):-1},q:jT,Q:VT,s:GT,S:zT,u:AT,U:PT,V:_T,w:MT,W:DT,x:function(t,e,r){return C(t,n,e,r)},X:function(t,e,n){return C(t,r,e,n)},y:ZT,Y:TT,Z:FT,"%":WT};function S(t,e){return function(n){var r,i,o,a=[],c=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++c<u;)37===t.charCodeAt(c)&&(a.push(t.slice(l,c)),null!=(i=bT[r=t.charAt(++c)])?r=t.charAt(++c):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=c+1);return a.push(t.slice(l,c)),a.join("")}}function k(t,e){return function(n){var r,i,o=vT(1900,void 0,1);if(C(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=pT(vT(o.y,0,1))).getUTCDay(),r=i>4||0===i?gw.ceil(r):gw(r),r=iw.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=dT(vT(o.y,0,1))).getDay(),r=i>4||0===i?lw.ceil(r):lw(r),r=rw.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?pT(vT(o.y,0,1)).getUTCDay():dT(vT(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,pT(o)):dT(o)}}function C(t,e,n,r){for(var i,o,a=0,c=e.length,l=n.length;a<c;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in bT?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(e,b),x.x=S(n,x),x.X=S(r,x),x.c=S(e,x),{format:function(t){var e=S(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=S(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}(t),mT=gT.format,gT.parse,yT=gT.utcFormat,gT.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var YZ=n(94785);function $Z(t,e,n){return $Z=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&(0,YZ.Z)(i,n.prototype),i},$Z.apply(null,arguments)}function KZ(t){var e="function"==typeof Map?new Map:void 0;return KZ=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return $Z(t,arguments,(0,Um.Z)(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,YZ.Z)(r,t)},KZ(t)}function JZ(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return QZ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QZ(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function QZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tF(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var eF=function(t){(0,Bm.Z)(n,t);var e=tF(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aF;if((0,Rm.Z)(this,n),r=e.call(this),Object.defineProperties((0,Nm.Z)(r),{_intern:{value:new Map},_key:{value:i}}),null!=t){var o,a=JZ(t);try{for(a.s();!(o=a.n()).done;){var c=(0,G.Z)(o.value,2),l=c[0],u=c[1];r.set(l,u)}}catch(s){a.e(s)}finally{a.f()}}return r}return(0,Lm.Z)(n,[{key:"get",value:function(t){return qZ((0,Um.Z)(n.prototype),"get",this).call(this,rF(this,t))}},{key:"has",value:function(t){return qZ((0,Um.Z)(n.prototype),"has",this).call(this,rF(this,t))}},{key:"set",value:function(t,e){return qZ((0,Um.Z)(n.prototype),"set",this).call(this,iF(this,t),e)}},{key:"delete",value:function(t){return qZ((0,Um.Z)(n.prototype),"delete",this).call(this,oF(this,t))}}]),n}(KZ(Map)),nF=function(t){(0,Bm.Z)(n,t);var e=tF(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aF;if((0,Rm.Z)(this,n),r=e.call(this),Object.defineProperties((0,Nm.Z)(r),{_intern:{value:new Map},_key:{value:i}}),null!=t){var o,a=JZ(t);try{for(a.s();!(o=a.n()).done;){var c=o.value;r.add(c)}}catch(l){a.e(l)}finally{a.f()}}return r}return(0,Lm.Z)(n,[{key:"has",value:function(t){return qZ((0,Um.Z)(n.prototype),"has",this).call(this,rF(this,t))}},{key:"add",value:function(t){return qZ((0,Um.Z)(n.prototype),"add",this).call(this,iF(this,t))}},{key:"delete",value:function(t){return qZ((0,Um.Z)(n.prototype),"delete",this).call(this,oF(this,t))}}]),n}(KZ(Set));function rF(t,e){var n=t._intern,r=(0,t._key)(e);return n.has(r)?n.get(r):e}function iF(t,e){var n=t._intern,r=(0,t._key)(e);return n.has(r)?n.get(r):(n.set(r,e),e)}function oF(t,e){var n=t._intern,r=(0,t._key)(e);return n.has(r)&&(e=n.get(r),n.delete(r)),e}function aF(t){return null!==t&&"object"==typeof t?t.valueOf():t}function cF(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return lF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lF(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function lF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uF=Symbol("implicit");function sF(){var t=new eF,e=[],n=[],r=uF;function i(i){var o=t.get(i);if(void 0===o){if(r!==uF)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new eF;var r,o=cF(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;t.has(a)||t.set(a,e.push(a)-1)}}catch(c){o.e(c)}finally{o.f()}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return sF(e,n).unknown(r)},kD.apply(i,arguments),i}var fF=n(79739),hF=n(49763),dF=n(52283),pF=n(66276);function vF(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var gF=n(4301);function mF(t,e){var n=(0,gF.wx)(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}}var yF,bF=n(3256),xF=n(51861),wF=n(95147),SF=180/Math.PI,kF={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function CF(t,e,n,r,i,o){var a,c,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,l/=c),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*SF,skewX:Math.atan(l)*SF,scaleX:a,scaleY:c}}function OF(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var c=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,c){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);c.push({i:l-4,x:(0,hD.Z)(t,i)},{i:l-2,x:(0,hD.Z)(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,c,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:(0,hD.Z)(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,c,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:(0,hD.Z)(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,c,l),function(t,e,n,r,o,a){if(t!==n||e!==r){var c=o.push(i(o)+"scale(",null,",",null,")");a.push({i:c-4,x:(0,hD.Z)(t,n)},{i:c-2,x:(0,hD.Z)(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,c,l),o=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)c[(e=l[n]).i]=e.x(t);return c.join("")}}}var EF=OF((function(t){var e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?kF:CF(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),MF=OF((function(t){return null==t?kF:(yF||(yF=document.createElementNS("http://www.w3.org/2000/svg","g")),yF.setAttribute("transform",t),(t=yF.transform.baseVal.consolidate())?CF((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):kF)}),", ",")",")");function AF(t){return((t=Math.exp(t))+1/t)/2}var PF=function t(e,n,r){function i(t,i){var o,a,c=t[0],l=t[1],u=t[2],s=i[0],f=i[1],h=i[2],d=s-c,p=f-l,v=d*d+p*p;if(v<1e-12)a=Math.log(h/u)/e,o=function(t){return[c+t*d,l+t*p,u*Math.exp(e*t*a)]};else{var g=Math.sqrt(v),m=(h*h-u*u+r*v)/(2*u*n*g),y=(h*h-u*u-r*v)/(2*h*n*g),b=Math.log(Math.sqrt(m*m+1)-m),x=Math.log(Math.sqrt(y*y+1)-y);a=(x-b)/e,o=function(t){var r=t*a,i=AF(b),o=u/(n*g)*(i*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*r+b)-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[c+o*d,l+o*p,u*i/AF(e*r+b)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4),_F=n(65713),DF=n(34627);function TF(t){return function(e,n){var r=t((e=(0,DF.Ym)(e)).h,(n=(0,DF.Ym)(n)).h),i=(0,gF.ZP)(e.s,n.s),o=(0,gF.ZP)(e.l,n.l),a=(0,gF.ZP)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var ZF=TF(gF.wx),FF=TF(gF.ZP),jF=n(2077),IF=Math.PI/180,RF=180/Math.PI,LF=.96422,NF=1,BF=.82521,zF=4/29,UF=6/29,HF=3*UF*UF,WF=.008856451679035631;function VF(t){if(t instanceof XF)return new XF(t.l,t.a,t.b,t.opacity);if(t instanceof tj)return ej(t);t instanceof DF.Ss||(t=(0,DF.SU)(t));var e,n,r=KF(t.r),i=KF(t.g),o=KF(t.b),a=qF((.2225045*r+.7168786*i+.0606169*o)/NF);return r===i&&i===o?e=n=a:(e=qF((.4360747*r+.3850649*i+.1430804*o)/LF),n=qF((.0139322*r+.0971045*i+.7141733*o)/BF)),new XF(116*a-16,500*(e-a),200*(a-n),t.opacity)}function GF(t,e,n,r){return 1===arguments.length?VF(t):new XF(t,e,n,null==r?1:r)}function XF(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function qF(t){return t>WF?Math.pow(t,1/3):t/HF+zF}function YF(t){return t>UF?t*t*t:HF*(t-zF)}function $F(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function KF(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function JF(t){if(t instanceof tj)return new tj(t.h,t.c,t.l,t.opacity);if(t instanceof XF||(t=VF(t)),0===t.a&&0===t.b)return new tj(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*RF;return new tj(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function QF(t,e,n,r){return 1===arguments.length?JF(t):new tj(t,e,n,null==r?1:r)}function tj(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function ej(t){if(isNaN(t.h))return new XF(t.l,0,0,t.opacity);var e=t.h*IF;return new XF(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function nj(t,e){var n=(0,gF.ZP)((t=GF(t)).l,(e=GF(e)).l),r=(0,gF.ZP)(t.a,e.a),i=(0,gF.ZP)(t.b,e.b),o=(0,gF.ZP)(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function rj(t){return function(e,n){var r=t((e=QF(e)).h,(n=QF(n)).h),i=(0,gF.ZP)(e.c,n.c),o=(0,gF.ZP)(e.l,n.l),a=(0,gF.ZP)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}(0,jF.Z)(XF,GF,(0,jF.l)(DF.Il,{brighter:function(t){return new XF(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new XF(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=LF*YF(e),t=NF*YF(t),n=BF*YF(n),new DF.Ss($F(3.1338561*e-1.6168667*t-.4906146*n),$F(-.9787684*e+1.9161415*t+.033454*n),$F(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),(0,jF.Z)(tj,QF,(0,jF.l)(DF.Il,{brighter:function(t){return new tj(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new tj(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return ej(this).rgb()}}));var ij=rj(gF.wx),oj=rj(gF.ZP),aj=-.14861,cj=1.78277,lj=-.29227,uj=-.90649,sj=1.97294,fj=sj*uj,hj=sj*cj,dj=cj*lj-uj*aj;function pj(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof vj)return new vj(t.h,t.s,t.l,t.opacity);t instanceof DF.Ss||(t=(0,DF.SU)(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(dj*r+fj*e-hj*n)/(dj+fj-hj),o=r-i,a=(sj*(n-i)-lj*o)/uj,c=Math.sqrt(a*a+o*o)/(sj*i*(1-i)),l=c?Math.atan2(a,o)*RF-120:NaN;return new vj(l<0?l+360:l,c,i,t.opacity)}(t):new vj(t,e,n,null==r?1:r)}function vj(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function gj(t){return function e(n){function r(e,r){var i=t((e=pj(e)).h,(r=pj(r)).h),o=(0,gF.ZP)(e.s,r.s),a=(0,gF.ZP)(e.l,r.l),c=(0,gF.ZP)(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=c(t),e+""}}return n=+n,r.gamma=e,r}(1)}(0,jF.Z)(vj,pj,(0,jF.l)(DF.Il,{brighter:function(t){return t=null==t?DF.J5:Math.pow(DF.J5,t),new vj(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?DF.xV:Math.pow(DF.xV,t),new vj(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*IF,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new DF.Ss(255*(e+n*(aj*r+cj*i)),255*(e+n*(lj*r+uj*i)),255*(e+n*(sj*r)),this.opacity)}}));var mj,yj,bj=gj(gF.wx),xj=gj(gF.ZP);function wj(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function Sj(t,e,n){var r=t-e+2*n;return t?r>0?r:1:0}var kj="linear",Cj="log",Oj="pow",Ej="sqrt",Mj="symlog",Aj="time",Pj="utc",_j="sequential",Dj="diverging",Tj="quantile",Zj="quantize",Fj="threshold",jj="ordinal",Ij="point",Rj="band",Lj="bin-ordinal",Nj="continuous",Bj="discrete",zj="discretizing",Uj="interpolating",Hj="temporal";function Wj(){var t,e,n=sF().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,c=0,l=0,u=.5;function s(){var n=r().length,s=o[1]<o[0],f=o[1-s],h=Sj(n,c,l),d=o[s-0];t=(f-d)/(h||1),a&&(t=Math.floor(t)),d+=(f-d-t*(n-c))*u,e=t*(1-c),a&&(d=Math.round(d),e=Math.round(e));var p=jM(n).map((function(e){return d+t*e}));return i(s?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),s()):r()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],s()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,s()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,s()):a},n.padding=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),c=l,s()):c},n.paddingInner=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),s()):c},n.paddingOuter=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),s()):l},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),s()):u},n.invertRange=function(t){if(null!=t[0]&&null!=t[1]){var n,a,c,l=o[1]<o[0],u=l?i().reverse():i(),s=u.length-1,f=+t[0],h=+t[1];if(f==f&&h==h&&(h<f&&(c=f,f=h,h=c),!(h<u[0]||f>o[1-l])))return n=Math.max(0,lD(u,f)-1),a=f===h?n:lD(u,h)-1,f-u[n]>e+1e-10&&++n,l&&(c=n,n=s-a,a=s-c),n>a?void 0:r().slice(n,a+1)}},n.invert=function(t){var e=n.invertRange([t,t]);return e?e[0]:e},n.copy=function(){return Wj().domain(r()).range(o).round(a).paddingInner(c).paddingOuter(l).align(u)},s()}function Vj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return Vj(e())},t}var Gj=Array.prototype.map;var Xj=Array.prototype.slice;var qj=new Map,Yj=Symbol("vega_scale");function $j(t){return t[Yj]=!0,t}function Kj(t,e,n){return arguments.length>1?(qj.set(t,function(t,e,n){var r=function(){var n=e();return n.invertRange||(n.invertRange=n.invert?function(t){return function(e){var n,r=e[0],i=e[1];return i<r&&(n=r,r=i,i=n),[t.invert(r),t.invert(i)]}}(n):n.invertExtent?function(t){return function(e){var n,r,i,o,a=t.range(),c=e[0],l=e[1],u=-1;for(l<c&&(r=c,c=l,l=r),i=0,o=a.length;i<o;++i)a[i]>=c&&a[i]<=l&&(u<0&&(u=i),n=i);if(!(u<0))return c=t.invertExtent(a[u]),l=t.invertExtent(a[n]),[void 0===c[0]?c[1]:c[0],void 0===l[1]?l[0]:l[1]]}}(n):void 0),n.type=t,$j(n)};return r.metadata=ox(bb(n)),r}(t,e,n)),this):Jj(t)?qj.get(t):void 0}function Jj(t){return qj.has(t)}function Qj(t,e){var n=qj.get(t);return n&&n.metadata[e]}function tI(t){return Qj(t,Nj)}function eI(t){return Qj(t,Bj)}function nI(t){return Qj(t,zj)}function rI(t){return Qj(t,Cj)}function iI(t){return Qj(t,Uj)}function oI(t){return Qj(t,Tj)}Kj("identity",(function t(e){var n;function r(t){return null==t||isNaN(t=+t)?n:t}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,pD),r):e.slice()},r.unknown=function(t){return arguments.length?(n=t,r):n},r.copy=function(){return t(e).unknown(n)},e=arguments.length?Array.from(e,pD):[0,1],zD(r)})),Kj(kj,(function t(){var e=SD();return e.copy=function(){return xD(e,t())},kD.apply(e,arguments),zD(e)}),Nj),Kj(Cj,(function t(){var e=YD(wD()).domain([1,10]);return e.copy=function(){return xD(e,t()).base(e.base())},kD.apply(e,arguments),e}),[Nj,Cj]),Kj(Oj,tT,Nj),Kj(Ej,(function(){return tT.apply(null,arguments).exponent(.5)}),Nj),Kj(Mj,(function t(){var e=rT(wD());return e.copy=function(){return xD(e,t()).constant(e.constant())},kD.apply(e,arguments)}),Nj),Kj(Aj,(function(){return kD.apply(LZ(fT,hT,Sw,Cw,cw,rw,Ew,Aw,_w,mT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[Nj,Hj]),Kj(Pj,(function(){return kD.apply(LZ(cT,lT,kw,Ow,vw,iw,Mw,Pw,_w,yT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[Nj,Hj]),Kj(_j,zZ,[Nj,Uj]),Kj("".concat(_j,"-").concat(kj),zZ,[Nj,Uj]),Kj("".concat(_j,"-").concat(Cj),(function t(){var e=YD(NZ()).domain([1,10]);return e.copy=function(){return BZ(e,t()).base(e.base())},CD.apply(e,arguments)}),[Nj,Uj,Cj]),Kj("".concat(_j,"-").concat(Oj),UZ,[Nj,Uj]),Kj("".concat(_j,"-").concat(Ej),(function(){return UZ.apply(null,arguments).exponent(.5)}),[Nj,Uj]),Kj("".concat(_j,"-").concat(Mj),(function t(){var e=rT(NZ());return e.copy=function(){return BZ(e,t()).constant(e.constant())},CD.apply(e,arguments)}),[Nj,Uj]),Kj("".concat(Dj,"-").concat(kj),(function t(){var e=zD(WZ()(gD));return e.copy=function(){return BZ(e,t())},CD.apply(e,arguments)}),[Nj,Uj]),Kj("".concat(Dj,"-").concat(Cj),(function t(){var e=YD(WZ()).domain([.1,1,10]);return e.copy=function(){return BZ(e,t()).base(e.base())},CD.apply(e,arguments)}),[Nj,Uj,Cj]),Kj("".concat(Dj,"-").concat(Oj),VZ,[Nj,Uj]),Kj("".concat(Dj,"-").concat(Ej),(function(){return VZ.apply(null,arguments).exponent(.5)}),[Nj,Uj]),Kj("".concat(Dj,"-").concat(Mj),(function t(){var e=rT(WZ());return e.copy=function(){return BZ(e,t()).constant(e.constant())},CD.apply(e,arguments)}),[Nj,Uj]),Kj(Tj,(function t(){var e,n=[],r=[],i=[];function o(){var t=0,e=Math.max(1,r.length);for(i=new Array(e-1);++t<e;)i[t-1]=AE(n,t/e);return a}function a(t){return null==t||isNaN(t=+t)?e:r[sD(i,t)]}return a.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},a.domain=function(t){if(!arguments.length)return n.slice();n=[];var e,r=GZ(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;null==i||isNaN(i=+i)||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n.sort(Nw),o()},a.range=function(t){return arguments.length?(r=Array.from(t),o()):r.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return i.slice()},a.copy=function(){return t().domain(n).range(r).unknown(e)},kD.apply(a,arguments)}),[zj,Tj]),Kj(Zj,(function t(){var e,n=0,r=1,i=1,o=[.5],a=[0,1];function c(t){return null!=t&&t<=t?a[sD(o,t,0,i)]:e}function l(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*n)/(i+1);return c}return c.domain=function(t){var e;return arguments.length?(e=(0,G.Z)(t,2),n=e[0],r=e[1],n=+n,r=+r,l()):[n,r]},c.range=function(t){return arguments.length?(i=(a=Array.from(t)).length-1,l()):a.slice()},c.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=i?[o[i-1],r]:[o[e-1],o[e]]},c.unknown=function(t){return arguments.length?(e=t,c):c},c.thresholds=function(){return o.slice()},c.copy=function(){return t().domain([n,r]).range(a).unknown(e)},kD.apply(zD(c),arguments)}),zj),Kj(Fj,(function t(){var e,n=[.5],r=[0,1],i=1;function o(t){return null!=t&&t<=t?r[sD(n,t,0,i)]:e}return o.domain=function(t){return arguments.length?(n=Array.from(t),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(t){return arguments.length?(r=Array.from(t),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(r).unknown(e)},kD.apply(o,arguments)}),zj),Kj(Lj,(function t(){var e=[],n=[];function r(t){return null==t||t!=t?void 0:n[(sD(e,t)-1)%n.length]}return r.domain=function(t){return arguments.length?(e=function(t){return Gj.call(t,eb)}(t),r):e.slice()},r.range=function(t){return arguments.length?(n=Xj.call(t),r):n.slice()},r.tickFormat=function(t,n){return BD(e[0],tb(e),null==t?10:t,n)},r.copy=function(){return t().domain(r.domain()).range(r.range())},r}),[Bj,zj]),Kj(jj,sF,Bj),Kj(Rj,Wj,Bj),Kj(Ij,(function(){return Vj(Wj().paddingInner(1))}),Bj);var aI=["clamp","base","constant","exponent"];function cI(t,e){var n=e[0],r=tb(e)-n;return function(e){return t(n+e*r)}}function lI(t,e,n){return HZ(fI(e||"rgb",n),t)}function uI(t,e){for(var n=new Array(e),r=e+1,i=0;i<e;)n[i]=t(++i/r);return n}function sI(t,e,n){var r,i,o,a=n-e;return a&&Number.isFinite(a)?(r=(i=t.type).indexOf("-"),i=r<0?i:i.slice(r+1),o=Kj(i)().domain([e,n]).range([0,1]),aI.forEach((function(e){return t[e]?o[e](t[e]()):0})),o):Ab(.5)}function fI(t,e){var n=a[function(t){return"interpolate"+t.toLowerCase().split("-").map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("")}(t)];return null!=e&&n&&n.gamma?n.gamma(e):n}function hI(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function dI(t,e){for(var n in t)vI(n,e(t[n]))}var pI={};function vI(t,e){return t=t&&t.toLowerCase(),arguments.length>1?(pI[t]=e,this):pI[t]}dI({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},hI),dI({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(function(t){return lI(hI(t))}));var gI="symbol",mI="discrete",yI=function(t){return qy(t)?t.map((function(t){return String(t)})):String(t)},bI=function(t,e){return t[1]-e[1]},xI=function(t,e){return e[1]-t[1]};function wI(t,e,n){var r;return Hb(e)&&(t.bins&&(e=Math.max(e,t.bins.length)),null!=n&&(e=Math.min(e,Math.floor(Qb(t.domain())/n||1)))),Yy(e)&&(r=e.step,e=e.interval),Vb(e)&&(e=t.type===Aj?PS(e):t.type==Pj?_S(e):Ty("Only time and utc scales accept interval strings."),r&&(e=e.every(r))),e}function SI(t,e,n){var r=t.range(),i=r[0],o=tb(r),a=bI;if(i>o&&(r=o,o=i,i=r,a=xI),i=Math.floor(i),o=Math.ceil(o),e=e.map((function(e){return[e,t(e)]})).filter((function(t){return i<=t[1]&&t[1]<=o})).sort(a).map((function(t){return t[0]})),n>0&&e.length>1){for(var c=[e[0],tb(e)];e.length>n&&e.length>=3;)e=e.filter((function(t,e){return!(e%2)}));e.length<3&&(e=c)}return e}function kI(t,e){return t.bins?SI(t,t.bins):t.ticks?t.ticks(e):t.domain()}function CI(t,e,n,r,i,o){var a=e.type,c=yI;if(a===Aj||i===Aj)c=t.timeFormat(r);else if(a===Pj||i===Pj)c=t.utcFormat(r);else if(rI(a)){var l=t.formatFloat(r);if(o||e.bins)c=l;else{var u=OI(e,n,!1);c=function(t){return u(t)?l(t):""}}}else if(e.tickFormat){var s=e.domain();c=t.formatSpan(s[0],s[s.length-1],n,r)}else r&&(c=t.format(r));return c}function OI(t,e,n){var r=kI(t,e),i=t.base(),o=Math.log(i),a=Math.max(1,i*e/r.length),c=function(t){var e=t/Math.pow(i,Math.round(Math.log(t)/o));return e*i<i-.5&&(e*=i),e<=a};return n?r.filter(c):c}var EI=(mj={},(0,V.Z)(mj,Tj,"quantiles"),(0,V.Z)(mj,Zj,"thresholds"),(0,V.Z)(mj,Fj,"domain"),mj),MI=(yj={},(0,V.Z)(yj,Tj,"quantiles"),(0,V.Z)(yj,Zj,"domain"),yj);function AI(t,e){return t.bins?function(t){var e=t.slice(0,-1);return e.max=tb(t),e}(t.bins):t.type===Cj?OI(t,e,!0):EI[t.type]?function(t){var e=[-1/0].concat(t);return e.max=1/0,e}(t[EI[t.type]]()):kI(t,e)}var PI=function(t){return EI[t.type]||t.bins};function _I(t,e,n,r,i,o,a){var c=MI[e.type]&&o!==Aj&&o!==Pj?function(t,e,n){var r,i=e[MI[e.type]](),o=i.length,a=o>1?i[1]-i[0]:i[0];for(r=1;r<o;++r)a=Math.min(a,i[r]-i[r-1]);return t.formatSpan(0,a,30,n)}(t,e,i):CI(t,e,n,i,o,a);return r===gI&&PI(e)?DI(c):r===mI?ZI(c):FI(c)}var DI=function(t){return function(e,n,r){var i=TI(r[n+1],TI(r.max,1/0)),o=jI(e,t),a=jI(i,t);return o&&a?o+" – "+a:a?"< "+a:"≥ "+o}},TI=function(t,e){return null!=t?t:e},ZI=function(t){return function(e,n){return n?t(e):null}},FI=function(t){return function(e){return t(e)}},jI=function(t,e){return Number.isFinite(t)?e(t):null};function II(t,e,n,r){var i=r||e.type;return Vb(n)&&function(t){return Qj(t,Hj)}(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||i!==Aj?n||i!==Pj?_I(t,e,5,null,n,r,!0):t.utcFormat("%A, %d %B %Y, %X UTC"):t.timeFormat("%A, %d %B %Y, %X")}function RI(t,e,n){n=n||{};var r=Math.max(3,n.maxlen||7),i=II(t,e,n.format,n.formatType);if(nI(e.type)){var o=AI(e).slice(1).map(i),a=o.length;return"".concat(a," boundar").concat(1===a?"y":"ies",": ").concat(o.join(", "))}if(eI(e.type)){var c=e.domain(),l=c.length,u=l>r?c.slice(0,r-2).map(i).join(", ")+", ending with "+c.slice(-1).map(i):c.map(i).join(", ");return"".concat(l," value").concat(1===l?"":"s",": ").concat(u)}var s=e.domain();return"values from ".concat(i(s[0])," to ").concat(i(tb(s)))}function LI(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return NI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NI(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function NI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var BI=0;var zI="p_";function UI(t){return t&&t.gradient}function HI(t,e,n){var r=t.gradient,i=t.id,o="radial"===r?zI:"";return i||(i=t.id="gradient_"+BI++,"radial"===r?(t.x1=WI(t.x1,.5),t.y1=WI(t.y1,.5),t.r1=WI(t.r1,0),t.x2=WI(t.x2,.5),t.y2=WI(t.y2,.5),t.r2=WI(t.r2,.5),o=zI):(t.x1=WI(t.x1,0),t.y1=WI(t.y1,0),t.x2=WI(t.x2,1),t.y2=WI(t.y2,0))),e[i]=t,"url("+(n||"")+"#"+o+i+")"}function WI(t,e){return null!=t?t:e}function VI(t,e){var n,r=[];return n={gradient:"linear",x1:t?t[0]:0,y1:t?t[1]:0,x2:e?e[0]:1,y2:e?e[1]:0,stops:r,stop:function(t,e){return r.push({offset:t,color:e}),n}}}var GI={basis:{curve:function(t){return new fP(t)}},"basis-closed":{curve:function(t){return new dP(t)}},"basis-open":{curve:function(t){return new pP(t)}},bundle:{curve:gP,tension:"beta",value:.85},cardinal:{curve:bP,tension:"tension",value:0},"cardinal-open":{curve:wP,tension:"tension",value:0},"cardinal-closed":{curve:kP,tension:"tension",value:0},"catmull-rom":{curve:LP,tension:"alpha",value:.5},"catmull-rom-closed":{curve:BP,tension:"alpha",value:.5},"catmull-rom-open":{curve:n_,tension:"alpha",value:.5},linear:{curve:i_},"linear-closed":{curve:function(t){return new o_(t)}},monotone:{horizontal:function(t){return new f_(t)},vertical:function(t){return new s_(t)}},natural:{curve:function(t){return new d_(t)}},step:{curve:function(t){return new v_(t,.5)}},"step-after":{curve:function(t){return new v_(t,1)}},"step-before":{curve:function(t){return new v_(t,0)}}};function XI(t,e,n){var r=Fb(GI,t)&&GI[t],i=null;return r&&(i=r.curve||r[e||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}var qI={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},YI=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,$I=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,KI=/^((\s+,?\s*)|(,\s*))/,JI=/^[01]/;function QI(t){var e=[];return(t.match(YI)||[]).forEach((function(t){var n=t[0],r=n.toLowerCase(),i=qI[r],o=function(t,e,n){for(var r=[],i=0;e&&i<n.length;)for(var o=0;o<e;++o){var a="a"!==t||3!==o&&4!==o?$I:JI,c=n.slice(i).match(a);if(null===c)throw Error("Invalid SVG path, incorrect parameter type");i+=c[0].length,r.push(+c[0]);var l=n.slice(i).match(KI);null!==l&&(i+=l[0].length)}return r}(r,i,t.slice(1).trim()),a=o.length;if(a<i||a&&a%i!=0)throw Error("Invalid SVG path, incorrect parameter count");if(e.push([n].concat((0,Xm.Z)(o.slice(0,i)))),a!==i){"m"===r&&(n="M"===n?"L":"l");for(var c=i;c<a;c+=i)e.push([n].concat((0,Xm.Z)(o.slice(c,c+i))))}})),e}var tR=Math.PI/180,eR=Math.PI/2,nR=2*Math.PI,rR=Math.sqrt(3)/2,iR={},oR={},aR=[].join;function cR(t){var e=aR.call(t);if(oR[e])return oR[e];var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],c=t[5],l=t[6],u=t[7],s=u*a,f=-l*c,h=l*a,d=u*c,p=Math.cos(i),v=Math.sin(i),g=Math.cos(o),m=Math.sin(o),y=.5*(o-i),b=Math.sin(.5*y),x=8/3*b*b/Math.sin(y),w=n+p-x*v,S=r+v+x*p,k=n+g,C=r+m,O=k+x*m,E=C-x*g;return oR[e]=[s*w+f*S,h*w+d*S,s*O+f*E,h*O+d*E,s*k+f*C,h*k+d*C]}var lR=["l",0,0,0,0,0,0,0];function uR(t,e,n){var r=lR[0]=t[0];if("a"===r||"A"===r)lR[1]=e*t[1],lR[2]=n*t[2],lR[3]=t[3],lR[4]=t[4],lR[5]=t[5],lR[6]=e*t[6],lR[7]=n*t[7];else if("h"===r||"H"===r)lR[1]=e*t[1];else if("v"===r||"V"===r)lR[1]=n*t[1];else for(var i=1,o=t.length;i<o;++i)lR[i]=(i%2==1?e:n)*t[i];return lR}function sR(t,e,n,r,i,o){var a,c,l,u,s,f=null,h=0,d=0,p=0,v=0,g=0,m=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==o&&(o=i),t.beginPath&&t.beginPath();for(var y=0,b=e.length;y<b;++y){switch(a=e[y],1===i&&1===o||(a=uR(a,i,o)),a[0]){case"l":h+=a[1],d+=a[2],t.lineTo(h+n,d+r);break;case"L":h=a[1],d=a[2],t.lineTo(h+n,d+r);break;case"h":h+=a[1],t.lineTo(h+n,d+r);break;case"H":h=a[1],t.lineTo(h+n,d+r);break;case"v":d+=a[1],t.lineTo(h+n,d+r);break;case"V":d=a[1],t.lineTo(h+n,d+r);break;case"m":g=h+=a[1],m=d+=a[2],t.moveTo(h+n,d+r);break;case"M":g=h=a[1],m=d=a[2],t.moveTo(h+n,d+r);break;case"c":c=h+a[5],l=d+a[6],p=h+a[3],v=d+a[4],t.bezierCurveTo(h+a[1]+n,d+a[2]+r,p+n,v+r,c+n,l+r),h=c,d=l;break;case"C":h=a[5],d=a[6],p=a[3],v=a[4],t.bezierCurveTo(a[1]+n,a[2]+r,p+n,v+r,h+n,d+r);break;case"s":c=h+a[3],l=d+a[4],p=2*h-p,v=2*d-v,t.bezierCurveTo(p+n,v+r,h+a[1]+n,d+a[2]+r,c+n,l+r),p=h+a[1],v=d+a[2],h=c,d=l;break;case"S":c=a[3],l=a[4],p=2*h-p,v=2*d-v,t.bezierCurveTo(p+n,v+r,a[1]+n,a[2]+r,c+n,l+r),h=c,d=l,p=a[1],v=a[2];break;case"q":c=h+a[3],l=d+a[4],p=h+a[1],v=d+a[2],t.quadraticCurveTo(p+n,v+r,c+n,l+r),h=c,d=l;break;case"Q":c=a[3],l=a[4],t.quadraticCurveTo(a[1]+n,a[2]+r,c+n,l+r),h=c,d=l,p=a[1],v=a[2];break;case"t":c=h+a[1],l=d+a[2],null===f[0].match(/[QqTt]/)?(p=h,v=d):"t"===f[0]?(p=2*h-u,v=2*d-s):"q"===f[0]&&(p=2*h-p,v=2*d-v),u=p,s=v,t.quadraticCurveTo(p+n,v+r,c+n,l+r),d=l,p=(h=c)+a[1],v=d+a[2];break;case"T":c=a[1],l=a[2],p=2*h-p,v=2*d-v,t.quadraticCurveTo(p+n,v+r,c+n,l+r),h=c,d=l;break;case"a":fR(t,h+n,d+r,[a[1],a[2],a[3],a[4],a[5],a[6]+h+n,a[7]+d+r]),h+=a[6],d+=a[7];break;case"A":fR(t,h+n,d+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),h=a[6],d=a[7];break;case"z":case"Z":h=g,d=m,t.closePath()}f=a}}function fR(t,e,n,r){for(var i=function(t,e,n,r,i,o,a,c,l){var u=aR.call(arguments);if(iR[u])return iR[u];var s=a*tR,f=Math.sin(s),h=Math.cos(s),d=h*(c-t)*.5+f*(l-e)*.5,p=h*(l-e)*.5-f*(c-t)*.5,v=d*d/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);v>1&&(n*=v=Math.sqrt(v),r*=v);var g=h/n,m=f/n,y=-f/r,b=h/r,x=g*c+m*l,w=y*c+b*l,S=g*t+m*e,k=y*t+b*e,C=1/((S-x)*(S-x)+(k-w)*(k-w))-.25;C<0&&(C=0);var O=Math.sqrt(C);o==i&&(O=-O);var E=.5*(x+S)-O*(k-w),M=.5*(w+k)+O*(S-x),A=Math.atan2(w-M,x-E),P=Math.atan2(k-M,S-E)-A;P<0&&1===o?P+=nR:P>0&&0===o&&(P-=nR);for(var _=Math.ceil(Math.abs(P/(eR+.001))),D=[],T=0;T<_;++T){var Z=A+T*P/_,F=A+(T+1)*P/_;D[T]=[E,M,Z,F,n,r,f,h]}return iR[u]=D}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],e,n),o=0;o<i.length;++o){var a=cR(i[o]);t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}var hR=.5773502691896257,dR={circle:{draw:function(t,e){var n=Math.sqrt(e)/2;t.moveTo(n,0),t.arc(0,0,n,0,nR)}},cross:{draw:function(t,e){var n=Math.sqrt(e)/2,r=n/2.5;t.moveTo(-n,-r),t.lineTo(-n,r),t.lineTo(-r,r),t.lineTo(-r,n),t.lineTo(r,n),t.lineTo(r,r),t.lineTo(n,r),t.lineTo(n,-r),t.lineTo(r,-r),t.lineTo(r,-n),t.lineTo(-r,-n),t.lineTo(-r,-r),t.closePath()}},diamond:{draw:function(t,e){var n=Math.sqrt(e)/2;t.moveTo(-n,0),t.lineTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.closePath()}},square:{draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},arrow:{draw:function(t,e){var n=Math.sqrt(e)/2,r=n/7,i=n/2.5,o=n/8;t.moveTo(-r,n),t.lineTo(r,n),t.lineTo(r,-o),t.lineTo(i,-o),t.lineTo(0,-n),t.lineTo(-i,-o),t.lineTo(-r,-o),t.closePath()}},wedge:{draw:function(t,e){var n=Math.sqrt(e)/2,r=rR*n,i=r-n*hR,o=n/4;t.moveTo(0,-r-i),t.lineTo(-o,r-i),t.lineTo(o,r-i),t.closePath()}},triangle:{draw:function(t,e){var n=Math.sqrt(e)/2,r=rR*n,i=r-n*hR;t.moveTo(0,-r-i),t.lineTo(-n,r-i),t.lineTo(n,r-i),t.closePath()}},"triangle-up":{draw:function(t,e){var n=Math.sqrt(e)/2,r=rR*n;t.moveTo(0,-r),t.lineTo(-n,r),t.lineTo(n,r),t.closePath()}},"triangle-down":{draw:function(t,e){var n=Math.sqrt(e)/2,r=rR*n;t.moveTo(0,r),t.lineTo(-n,-r),t.lineTo(n,-r),t.closePath()}},"triangle-right":{draw:function(t,e){var n=Math.sqrt(e)/2,r=rR*n;t.moveTo(r,0),t.lineTo(-r,-n),t.lineTo(-r,n),t.closePath()}},"triangle-left":{draw:function(t,e){var n=Math.sqrt(e)/2,r=rR*n;t.moveTo(-r,0),t.lineTo(r,-n),t.lineTo(r,n),t.closePath()}},stroke:{draw:function(t,e){var n=Math.sqrt(e)/2;t.moveTo(-n,0),t.lineTo(n,0)}}};function pR(t){return Fb(dR,t)?dR[t]:function(t){if(!Fb(vR,t)){var e=QI(t);vR[t]={draw:function(t,n){sR(t,e,0,0,Math.sqrt(n)/2)}}}return vR[t]}(t)}var vR={};var gR=.448084975506;function mR(t){return t.x}function yR(t){return t.y}function bR(t){return t.width}function xR(t){return t.height}function wR(t){return"function"==typeof t?t:function(){return+t}}function SR(t,e,n){return Math.max(e,Math.min(t,n))}function kR(){var t=mR,e=yR,n=bR,r=xR,i=wR(0),o=i,a=i,c=i,l=null;function u(u,s,f){var h,d=null!=s?s:+t.call(this,u),p=null!=f?f:+e.call(this,u),v=+n.call(this,u),g=+r.call(this,u),m=Math.min(v,g)/2,y=SR(+i.call(this,u),0,m),b=SR(+o.call(this,u),0,m),x=SR(+a.call(this,u),0,m),w=SR(+c.call(this,u),0,m);if(l||(l=h=C_()),y<=0&&b<=0&&x<=0&&w<=0)l.rect(d,p,v,g);else{var S=d+v,k=p+g;l.moveTo(d+y,p),l.lineTo(S-b,p),l.bezierCurveTo(S-gR*b,p,S,p+gR*b,S,p+b),l.lineTo(S,k-w),l.bezierCurveTo(S,k-gR*w,S-gR*w,k,S-w,k),l.lineTo(d+x,k),l.bezierCurveTo(d+gR*x,k,d,k-gR*x,d,k-x),l.lineTo(d,p+y),l.bezierCurveTo(d,p+gR*y,d+gR*y,p,d+y,p),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(e){return arguments.length?(t=wR(e),u):t},u.y=function(t){return arguments.length?(e=wR(t),u):e},u.width=function(t){return arguments.length?(n=wR(t),u):n},u.height=function(t){return arguments.length?(r=wR(t),u):r},u.cornerRadius=function(t,e,n,r){return arguments.length?(i=wR(t),o=null!=e?wR(e):i,c=null!=n?wR(n):i,a=null!=r?wR(r):o,u):i},u.context=function(t){return arguments.length?(l=null==t?null:t,u):l},u}function CR(){var t,e,n,r,i,o,a,c,l=null;function u(t,e,n){var r=n/2;if(i){var u=a-e,s=t-o;if(u||s){var f=Math.sqrt(u*u+s*s),h=(u/=f)*c,d=(s/=f)*c,p=Math.atan2(s,u);l.moveTo(o-h,a-d),l.lineTo(t-u*r,e-s*r),l.arc(t,e,r,p-Math.PI,p),l.lineTo(o+h,a+d),l.arc(o,a,c,p,p+Math.PI)}else l.arc(t,e,r,0,nR);l.closePath()}else i=1;o=t,a=e,c=r}function s(o){var a,c,s,f=o.length,h=!1;for(null==l&&(l=s=C_()),a=0;a<=f;++a)!(a<f&&r(c=o[a],a,o))===h&&(h=!h)&&(i=0),h&&u(+t(c,a,o),+e(c,a,o),+n(c,a,o));if(s)return l=null,s+""||null}return s.x=function(e){return arguments.length?(t=e,s):t},s.y=function(t){return arguments.length?(e=t,s):e},s.size=function(t){return arguments.length?(n=t,s):n},s.defined=function(t){return arguments.length?(r=t,s):r},s.context=function(t){return arguments.length?(l=null==t?null:t,s):l},s}function OR(t,e){return null!=t?t:e}var ER=function(t){return t.x||0},MR=function(t){return t.y||0},AR=function(t){return!(!1===t.defined)},PR=function(){var t=E_,e=M_,n=g_(0),r=null,i=A_,o=P_,a=__,c=null,l=O_(u);function u(){var u,s,f=+t.apply(this,arguments),h=+e.apply(this,arguments),d=i.apply(this,arguments)-ZP,p=o.apply(this,arguments)-ZP,v=CP(p-d),g=p>d;if(c||(c=u=l()),h<f&&(s=h,h=f,f=s),h>DP)if(v>FP-DP)c.moveTo(h*EP(d),h*PP(d)),c.arc(0,0,h,d,p,!g),f>DP&&(c.moveTo(f*EP(p),f*PP(p)),c.arc(0,0,f,p,d,g));else{var m,y,b=d,x=p,w=d,S=p,k=v,C=v,O=a.apply(this,arguments)/2,E=O>DP&&(r?+r.apply(this,arguments):_P(f*f+h*h)),M=AP(CP(h-f)/2,+n.apply(this,arguments)),A=M,P=M;if(E>DP){var _=jP(E/f*PP(O)),D=jP(E/h*PP(O));(k-=2*_)>DP?(w+=_*=g?1:-1,S-=_):(k=0,w=S=(d+p)/2),(C-=2*D)>DP?(b+=D*=g?1:-1,x-=D):(C=0,b=x=(d+p)/2)}var T=h*EP(b),Z=h*PP(b),F=f*EP(S),j=f*PP(S);if(M>DP){var I,R=h*EP(x),L=h*PP(x),N=f*EP(w),B=f*PP(w);if(v<TP)if(I=function(t,e,n,r,i,o,a,c){var l=n-t,u=r-e,s=a-i,f=c-o,h=f*l-s*u;if(!(h*h<DP))return[t+(h=(s*(e-o)-f*(t-i))/h)*l,e+h*u]}(T,Z,N,B,R,L,F,j)){var z=T-I[0],U=Z-I[1],H=R-I[0],W=L-I[1],V=1/PP(function(t){return t>1?0:t<-1?TP:Math.acos(t)}((z*H+U*W)/(_P(z*z+U*U)*_P(H*H+W*W)))/2),G=_P(I[0]*I[0]+I[1]*I[1]);A=AP(M,(f-G)/(V-1)),P=AP(M,(h-G)/(V+1))}else A=P=0}C>DP?P>DP?(m=D_(N,B,T,Z,h,P,g),y=D_(R,L,F,j,h,P,g),c.moveTo(m.cx+m.x01,m.cy+m.y01),P<M?c.arc(m.cx,m.cy,P,OP(m.y01,m.x01),OP(y.y01,y.x01),!g):(c.arc(m.cx,m.cy,P,OP(m.y01,m.x01),OP(m.y11,m.x11),!g),c.arc(0,0,h,OP(m.cy+m.y11,m.cx+m.x11),OP(y.cy+y.y11,y.cx+y.x11),!g),c.arc(y.cx,y.cy,P,OP(y.y11,y.x11),OP(y.y01,y.x01),!g))):(c.moveTo(T,Z),c.arc(0,0,h,b,x,!g)):c.moveTo(T,Z),f>DP&&k>DP?A>DP?(m=D_(F,j,R,L,f,-A,g),y=D_(T,Z,N,B,f,-A,g),c.lineTo(m.cx+m.x01,m.cy+m.y01),A<M?c.arc(m.cx,m.cy,A,OP(m.y01,m.x01),OP(y.y01,y.x01),!g):(c.arc(m.cx,m.cy,A,OP(m.y01,m.x01),OP(m.y11,m.x11),!g),c.arc(0,0,f,OP(m.cy+m.y11,m.cx+m.x11),OP(y.cy+y.y11,y.cx+y.x11),g),c.arc(y.cx,y.cy,A,OP(y.y11,y.x11),OP(y.y01,y.x01),!g))):c.arc(0,0,f,S,w,g):c.lineTo(F,j)}else c.moveTo(0,0);if(c.closePath(),u)return c=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-TP/2;return[EP(r)*n,PP(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:g_(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:g_(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:g_(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:g_(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:g_(+t),u):i},u.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:g_(+t),u):o},u.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:g_(+t),u):a},u.context=function(t){return arguments.length?(c=null==t?null:t,u):c},u}().startAngle((function(t){return t.startAngle||0})).endAngle((function(t){return t.endAngle||0})).padAngle((function(t){return t.padAngle||0})).innerRadius((function(t){return t.innerRadius||0})).outerRadius((function(t){return t.outerRadius||0})).cornerRadius((function(t){return t.cornerRadius||0})),_R=I_().x(ER).y1(MR).y0((function(t){return(t.y||0)+(t.height||0)})).defined(AR),DR=I_().y(MR).x1(ER).x0((function(t){return(t.x||0)+(t.width||0)})).defined(AR),TR=j_().x(ER).y(MR).defined(AR),ZR=kR().x(ER).y(MR).width((function(t){return t.width||0})).height((function(t){return t.height||0})).cornerRadius((function(t){return OR(t.cornerRadiusTopLeft,t.cornerRadius)||0}),(function(t){return OR(t.cornerRadiusTopRight,t.cornerRadius)||0}),(function(t){return OR(t.cornerRadiusBottomRight,t.cornerRadius)||0}),(function(t){return OR(t.cornerRadiusBottomLeft,t.cornerRadius)||0})),FR=function(t,e){var n=null,r=O_(i);function i(){var i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return t="function"==typeof t?t:g_(t||R_),e="function"==typeof e?e:g_(void 0===e?64:+e),i.type=function(e){return arguments.length?(t="function"==typeof e?e:g_(e),i):t},i.size=function(t){return arguments.length?(e="function"==typeof t?t:g_(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i}().type((function(t){return pR(t.shape||"circle")})).size((function(t){return OR(t.size,64)})),jR=CR().x(ER).y(MR).defined(AR).size((function(t){return t.size||1}));function IR(t){return t.cornerRadius||t.cornerRadiusTopLeft||t.cornerRadiusTopRight||t.cornerRadiusBottomRight||t.cornerRadiusBottomLeft}function RR(t,e,n,r){return ZR.context(t)(e,n,r)}var LR=1;function NR(){LR=1}function BR(t,e,n){var r=e.clip,i=t._defs,o=e.clip_id||(e.clip_id="clip"+LR++),a=i.clipping[o]||(i.clipping[o]={id:o});return wb(r)?a.path=r(null):IR(n)?a.path=RR(null,n,0,0):(a.width=n.width||0,a.height=n.height||0),"url(#"+o+")"}function zR(t){this.clear(),t&&this.union(t)}function UR(t){this.mark=t,this.bounds=this.bounds||new zR}function HR(t){UR.call(this,t),this.items=this.items||[]}function WR(t){this._pending=0,this._loader=t||aD()}function VR(t){t._pending+=1}function GR(t){t._pending-=1}function XR(t,e,n){if(e.stroke&&0!==e.opacity&&0!==e.strokeOpacity){var r=null!=e.strokeWidth?+e.strokeWidth:1;t.expand(r+(n?function(t,e){return t.strokeJoin&&"miter"!==t.strokeJoin?0:e}(e,r):0))}return t}zR.prototype={clone:function(){return new zR(this)},clear:function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty:function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals:function(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2},set:function(t,e,n,r){return n<t?(this.x2=t,this.x1=n):(this.x1=t,this.x2=n),r<e?(this.y2=e,this.y1=r):(this.y1=e,this.y2=r),this},add:function(t,e){return t<this.x1&&(this.x1=t),e<this.y1&&(this.y1=e),t>this.x2&&(this.x2=t),e>this.y2&&(this.y2=e),this},expand:function(t){return this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t,this},round:function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale:function(t){return this.x1*=t,this.y1*=t,this.x2*=t,this.y2*=t,this},translate:function(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},rotate:function(t,e,n){var r=this.rotatedPoints(t,e,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints:function(t,e,n){var r=this.x1,i=this.y1,o=this.x2,a=this.y2,c=Math.cos(t),l=Math.sin(t),u=e-e*c+n*l,s=n-e*l-n*c;return[c*r-l*i+u,l*r+c*i+s,c*r-l*a+u,l*r+c*a+s,c*o-l*i+u,l*o+c*i+s,c*o-l*a+u,l*o+c*a+s]},union:function(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this},intersect:function(t){return t.x1>this.x1&&(this.x1=t.x1),t.y1>this.y1&&(this.y1=t.y1),t.x2<this.x2&&(this.x2=t.x2),t.y2<this.y2&&(this.y2=t.y2),this},encloses:function(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},alignsWith:function(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},intersects:function(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},contains:function(t,e){return!(t<this.x1||t>this.x2||e<this.y1||e>this.y2)},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1}},Lb(HR,UR),WR.prototype={pending:function(){return this._pending},sanitizeURL:function(t){var e=this;return VR(e),e._loader.sanitize(t,{context:"href"}).then((function(t){return GR(e),t})).catch((function(){return GR(e),null}))},loadImage:function(t){var e=this,n=B_();return VR(e),e._loader.sanitize(t,{context:"image"}).then((function(t){var r=t.href;if(!r||!n)throw{url:r};var i=new n,o=Fb(t,"crossOrigin")?t.crossOrigin:"anonymous";return null!=o&&(i.crossOrigin=o),i.onload=function(){return GR(e)},i.onerror=function(){return GR(e)},i.src=r,i})).catch((function(t){return GR(e),{complete:!1,width:0,height:0,src:t&&t.url||""}}))},ready:function(){var t=this;return new Promise((function(e){!function n(r){t.pending()?setTimeout((function(){n(!0)}),10):e(r)}(!1)}))}};var qR,YR,$R,KR,JR,QR,tL,eL,nL=nR-1e-8,rL=function(t,e){return qR.add(t,e)},iL=function(t,e){return rL(YR=t,$R=e)},oL=function(t){return rL(t,qR.y1)},aL=function(t){return rL(qR.x1,t)},cL=function(t,e){return JR*t+tL*e},lL=function(t,e){return QR*t+eL*e},uL=function(t,e){return rL(cL(t,e),lL(t,e))},sL=function(t,e){return iL(cL(t,e),lL(t,e))};function fL(t,e){return qR=t,e?(KR=e*tR,JR=eL=Math.cos(KR),QR=Math.sin(KR),tL=-QR):(JR=eL=1,KR=QR=tL=0),hL}var hL={beginPath:function(){},closePath:function(){},moveTo:sL,lineTo:sL,rect:function(t,e,n,r){KR?(uL(t+n,e),uL(t+n,e+r),uL(t,e+r),sL(t,e)):(rL(t+n,e+r),iL(t,e))},quadraticCurveTo:function(t,e,n,r){var i=cL(t,e),o=lL(t,e),a=cL(n,r),c=lL(n,r);dL(YR,i,a,oL),dL($R,o,c,aL),iL(a,c)},bezierCurveTo:function(t,e,n,r,i,o){var a=cL(t,e),c=lL(t,e),l=cL(n,r),u=lL(n,r),s=cL(i,o),f=lL(i,o);pL(YR,a,l,s,oL),pL($R,c,u,f,aL),iL(s,f)},arc:function(t,e,n,r,i,o){if(r+=KR,i+=KR,YR=n*Math.cos(i)+t,$R=n*Math.sin(i)+e,Math.abs(i-r)>nL)rL(t-n,e-n),rL(t+n,e+n);else{var a,c,l=function(r){return rL(n*Math.cos(r)+t,n*Math.sin(r)+e)};if(l(r),l(i),i!==r)if((r%=nR)<0&&(r+=nR),(i%=nR)<0&&(i+=nR),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=nR,a=r-r%eR,c=0;c<4&&a>i;++c,a-=eR)l(a);else for(a=r-r%eR+eR,c=0;c<4&&a<i;++c,a+=eR)l(a)}}};function dL(t,e,n,r){var i=(t-e)/(t+n-2*e);0<i&&i<1&&r(t+(e-t)*i)}function pL(t,e,n,r,i){var o,a=r-t+3*e-3*n,c=t+n-2*e,l=t-e,u=0,s=0;Math.abs(a)>1e-14?(o=c*c+l*a)>=0&&(u=(-c+(o=Math.sqrt(o)))/a,s=(-c-o)/a):u=.5*l/c,0<u&&u<1&&i(vL(u,t,e,n,r)),0<s&&s<1&&i(vL(s,t,e,n,r))}function vL(t,e,n,r,i){var o=1-t,a=o*o,c=t*t;return a*o*e+3*a*t*n+3*o*c*r+c*t*i}var gL=(gL=N_(1,1))?gL.getContext("2d"):null,mL=new zR;function yL(t){return function(e,n){if(!gL)return!0;t(gL,e),mL.clear().union(e.bounds).intersect(n).round();for(var r=mL.x1,i=mL.y1,o=mL.x2,a=mL.y2,c=i;c<=a;++c)for(var l=r;l<=o;++l)if(gL.isPointInPath(l,c))return!0;return!1}}function bL(t,e){return e.contains(t.x||0,t.y||0)}function xL(t,e){var n=t.x||0,r=t.y||0,i=t.width||0,o=t.height||0;return e.intersects(mL.set(n,r,n+i,r+o))}function wL(t,e){var n=t.x||0,r=t.y||0;return SL(e,n,r,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r)}function SL(t,e,n,r,i){var o,a,c,l,u=t.x1,s=t.y1,f=t.x2,h=t.y2,d=r-e,p=i-n,v=0,g=1;for(l=0;l<4;++l){if(0===l&&(o=-d,a=-(u-e)),1===l&&(o=d,a=f-e),2===l&&(o=-p,a=-(s-n)),3===l&&(o=p,a=h-n),Math.abs(o)<1e-10&&a<0)return!1;if(c=a/o,o<0){if(c>g)return!1;c>v&&(v=c)}else if(o>0){if(c<v)return!1;c<g&&(g=c)}}return!0}function kL(t,e){t.globalCompositeOperation=e.blend||"source-over"}function CL(t,e){return null==t?e:t}function OL(t,e){for(var n=e.length,r=0;r<n;++r)t.addColorStop(e[r].offset,e[r].color);return t}function EL(t,e,n){return UI(n)?function(t,e,n){var r,i=n.width(),o=n.height();if("radial"===e.gradient)r=t.createRadialGradient(n.x1+CL(e.x1,.5)*i,n.y1+CL(e.y1,.5)*o,Math.max(i,o)*CL(e.r1,0),n.x1+CL(e.x2,.5)*i,n.y1+CL(e.y2,.5)*o,Math.max(i,o)*CL(e.r2,.5));else{var a=CL(e.x1,0),c=CL(e.y1,0),l=CL(e.x2,1),u=CL(e.y2,0);if(a!==l&&c!==u&&i!==o){var s=N_(Math.ceil(i),Math.ceil(o)),f=s.getContext("2d");return f.scale(i,o),f.fillStyle=OL(f.createLinearGradient(a,c,l,u),e.stops),f.fillRect(0,0,i,o),t.createPattern(s,"no-repeat")}r=t.createLinearGradient(n.x1+a*i,n.y1+c*o,n.x1+l*i,n.y1+u*o)}return OL(r,e.stops)}(t,n,e.bounds):n}function ML(t,e,n){return(n*=null==e.fillOpacity?1:e.fillOpacity)>0&&(t.globalAlpha=n,t.fillStyle=EL(t,e,e.fill),!0)}var AL=[];function PL(t,e,n){var r=null!=(r=e.strokeWidth)?r:1;return!(r<=0)&&((n*=null==e.strokeOpacity?1:e.strokeOpacity)>0&&(t.globalAlpha=n,t.strokeStyle=EL(t,e,e.stroke),t.lineWidth=r,t.lineCap=e.strokeCap||"butt",t.lineJoin=e.strokeJoin||"miter",t.miterLimit=e.strokeMiterLimit||10,t.setLineDash&&(t.setLineDash(e.strokeDash||AL),t.lineDashOffset=e.strokeDashOffset||0),!0))}function _L(t,e){return t.zindex-e.zindex||t.index-e.index}function DL(t){if(!t.zdirty)return t.zitems;var e,n,r,i=t.items,o=[];for(n=0,r=i.length;n<r;++n)(e=i[n]).index=n,e.zindex&&o.push(e);return t.zdirty=!1,t.zitems=o.sort(_L)}function TL(t,e){var n,r,i=t.items;if(i&&i.length){var o=DL(t);if(o&&o.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||e(i[n]);i=o}for(n=0,r=i.length;n<r;++n)e(i[n])}}function ZL(t,e){var n,r,i=t.items;if(!i||!i.length)return null;var o=DL(t);for(o&&o.length&&(i=o),r=i.length;--r>=0;)if(n=e(i[r]))return n;if(i===o)for(r=(i=t.items).length;--r>=0;)if(!i[r].zindex&&(n=e(i[r])))return n;return null}function FL(t){return function(e,n,r){TL(n,(function(n){r&&!r.intersects(n.bounds)||IL(t,e,n,n)}))}}function jL(t){return function(e,n,r){!n.items.length||r&&!r.intersects(n.bounds)||IL(t,e,n.items[0],n.items)}}function IL(t,e,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(t(e,r)||(kL(e,n),n.fill&&ML(e,n,i)&&e.fill(),n.stroke&&PL(e,n,i)&&e.stroke()))}function RL(t){return t=t||Ny,function(e,n,r,i,o,a){return r*=e.pixelRatio,i*=e.pixelRatio,ZL(n,(function(n){var c=n.bounds;if((!c||c.contains(o,a))&&c)return t(e,n,r,i,o,a)?n:void 0}))}}function LL(t,e){return function(n,r,i,o){var a,c,l=Array.isArray(r)?r[0]:r,u=null==e?l.fill:e,s=l.stroke&&n.isPointInStroke;return s&&(a=l.strokeWidth,c=l.strokeCap,n.lineWidth=null!=a?a:1,n.lineCap=null!=c?c:"butt"),!t(n,r)&&(u&&n.isPointInPath(i,o)||s&&n.isPointInStroke(i,o))}}function NL(t){return RL(LL(t))}function BL(t,e){return"translate("+t+","+e+")"}function zL(t){return"rotate("+t+")"}function UL(t){return BL(t.x||0,t.y||0)}function HL(t,e,n){function r(t,n){var r=n.x||0,i=n.y||0,o=n.angle||0;t.translate(r,i),o&&t.rotate(o*=tR),t.beginPath(),e(t,n),o&&t.rotate(-o),t.translate(-r,-i)}return{type:t,tag:"path",nested:!1,attr:function(t,n){t("transform",function(t){return BL(t.x||0,t.y||0)+(t.angle?" "+zL(t.angle):"")}(n)),t("d",e(null,n))},bound:function(t,n){return e(fL(t,n.angle),n),XR(t,n).translate(n.x||0,n.y||0)},draw:FL(r),pick:NL(r),isect:n||yL(r)}}var WL=HL("arc",(function(t,e){return PR.context(t)(e)}));function VL(t,e,n){function r(t,n){t.beginPath(),e(t,n)}var i=LL(r);return{type:t,tag:"path",nested:!0,attr:function(t,n){var r=n.mark.items;r.length&&t("d",e(null,r))},bound:function(t,n){var r=n.items;return 0===r.length?t:(e(fL(t),r),XR(t,r[0]))},draw:jL(r),pick:function(t,e,n,r,o,a){var c=e.items,l=e.bounds;return!c||!c.length||l&&!l.contains(o,a)?null:(n*=t.pixelRatio,r*=t.pixelRatio,i(t,c,n,r)?c[0]:null)},isect:bL,tip:n}}var GL=VL("area",(function(t,e){var n=e[0],r=n.interpolate||"linear";return("horizontal"===n.orient?DR:_R).curve(XI(r,n.orient,n.tension)).context(t)(e)}),(function(t,e){for(var n,r,i="horizontal"===t[0].orient?e[1]:e[0],o="horizontal"===t[0].orient?"y":"x",a=t.length,c=1/0;--a>=0;)!1!==t[a].defined&&(r=Math.abs(t[a][o]-i))<c&&(c=r,n=t[a]);return n}));function XL(t,e){t.beginPath(),IR(e)?RR(t,e,0,0):t.rect(0,0,e.width||0,e.height||0),t.clip()}function qL(t){var e=CL(t.strokeWidth,1);return null!=t.strokeOffset?t.strokeOffset:t.stroke&&e>.5&&e<1.5?.5-Math.abs(e-1):0}function YL(t,e){var n=qL(e);t("d",RR(null,e,n,n))}function $L(t,e,n,r){var i=qL(e);t.beginPath(),RR(t,e,(n||0)+i,(r||0)+i)}var KL=LL($L),JL=LL($L,!1),QL=LL($L,!0);var tN={type:"group",tag:"g",nested:!1,attr:function(t,e){t("transform",UL(e))},bound:function(t,e){if(!e.clip&&e.items)for(var n=e.items,r=n.length,i=0;i<r;++i)t.union(n[i].bounds);return(e.clip||e.width||e.height)&&!e.noBound&&t.add(0,0).add(e.width||0,e.height||0),XR(t,e),t.translate(e.x||0,e.y||0)},draw:function(t,e,n){var r=this;TL(e,(function(e){var i=e.x||0,o=e.y||0,a=e.strokeForeground,c=null==e.opacity?1:e.opacity;(e.stroke||e.fill)&&c&&($L(t,e,i,o),kL(t,e),e.fill&&ML(t,e,c)&&t.fill(),e.stroke&&!a&&PL(t,e,c)&&t.stroke()),t.save(),t.translate(i,o),e.clip&&XL(t,e),n&&n.translate(-i,-o),TL(e,(function(e){r.draw(t,e,n)})),n&&n.translate(i,o),t.restore(),a&&e.stroke&&c&&($L(t,e,i,o),kL(t,e),PL(t,e,c)&&t.stroke())}))},pick:function(t,e,n,r,i,o){var a=this;if(e.bounds&&!e.bounds.contains(i,o)||!e.items)return null;var c=n*t.pixelRatio,l=r*t.pixelRatio;return ZL(e,(function(u){var s,f,h,d=u.bounds;if(!d||d.contains(i,o)){f=u.x||0,h=u.y||0;var p=f+(u.width||0),v=h+(u.height||0),g=u.clip;if(!g||!(i<f||i>p||o<h||o>v)){if(t.save(),t.translate(f,h),f=i-f,h=o-h,g&&IR(u)&&!QL(t,u,c,l))return t.restore(),null;var m=u.strokeForeground,y=!1!==e.interactive;return y&&m&&u.stroke&&JL(t,u,c,l)?(t.restore(),u):(!(s=ZL(u,(function(t){return function(t,e,n){return(!1!==t.interactive||"group"===t.marktype)&&t.bounds&&t.bounds.contains(e,n)}(t,f,h)?a.pick(t,n,r,f,h):null})))&&y&&(u.fill||!m&&u.stroke)&&KL(t,u,c,l)&&(s=u),t.restore(),s||null)}}}))},isect:xL,content:function(t,e,n){t("clip-path",e.clip?BR(n,e,e):null)},background:function(t,e){t("class","background"),t("aria-hidden",!0),YL(t,e)},foreground:function(t,e){t("class","foreground"),t("aria-hidden",!0),e.strokeForeground?YL(t,e):t("d","")}},eN={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function nN(t,e){var n=t.image;return(!n||t.url&&t.url!==n.url)&&(n={complete:!1,width:0,height:0},e.loadImage(t.url).then((function(e){t.image=e,t.image.url=t.url}))),n}function rN(t,e){return null!=t.width?t.width:e&&e.width?!1!==t.aspect&&t.height?t.height*e.width/e.height:e.width:0}function iN(t,e){return null!=t.height?t.height:e&&e.height?!1!==t.aspect&&t.width?t.width*e.height/e.width:e.height:0}function oN(t,e){return"center"===t?e/2:"right"===t?e:0}function aN(t,e){return"middle"===t?e/2:"bottom"===t?e:0}var cN={type:"image",tag:"image",nested:!1,attr:function(t,e,n){var r=nN(e,n),i=rN(e,r),o=iN(e,r),a=(e.x||0)-oN(e.align,i),c=(e.y||0)-aN(e.baseline,o);t("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",eN["xmlns:xlink"],"xlink:href"),t("transform",BL(a,c)),t("width",i),t("height",o),t("preserveAspectRatio",!1===e.aspect?"none":"xMidYMid")},bound:function(t,e){var n=e.image,r=rN(e,n),i=iN(e,n),o=(e.x||0)-oN(e.align,r),a=(e.y||0)-aN(e.baseline,i);return t.set(o,a,o+r,a+i)},draw:function(t,e,n){var r=this;TL(e,(function(e){if(!n||n.intersects(e.bounds)){var i=nN(e,r),o=rN(e,i),a=iN(e,i);if(0!==o&&0!==a){var c,l,u,s,f=(e.x||0)-oN(e.align,o),h=(e.y||0)-aN(e.baseline,a);!1!==e.aspect&&(l=i.width/i.height,u=e.width/e.height,l==l&&u==u&&l!==u&&(u<l?(h+=(a-(s=o/l))/2,a=s):(f+=(o-(s=a*l))/2,o=s))),(i.complete||i.toDataURL)&&(kL(t,e),t.globalAlpha=null!=(c=e.opacity)?c:1,t.imageSmoothingEnabled=!1!==e.smooth,t.drawImage(i,f,h,o,a))}}}))},pick:RL(),isect:Ny,get:nN,xOffset:oN,yOffset:aN},lN=VL("line",(function(t,e){var n=e[0],r=n.interpolate||"linear";return TR.curve(XI(r,n.orient,n.tension)).context(t)(e)}),(function(t,e){for(var n,r,i=Math.pow(t[0].strokeWidth||1,2),o=t.length;--o>=0;)if(!1!==t[o].defined&&(n=t[o].x-e[0])*n+(r=t[o].y-e[1])*r<i)return t[o];return null}));function uN(t,e){var n=e.path;if(null==n)return!0;var r=e.x||0,i=e.y||0,o=e.scaleX||1,a=e.scaleY||1,c=(e.angle||0)*tR,l=e.pathCache;l&&l.path===n||((e.pathCache=l=QI(n)).path=n),c&&t.rotate&&t.translate?(t.translate(r,i),t.rotate(c),sR(t,l,0,0,o,a),t.rotate(-c),t.translate(-r,-i)):sR(t,l,r,i,o,a)}var sN={type:"path",tag:"path",nested:!1,attr:function(t,e){var n=e.scaleX||1,r=e.scaleY||1;1===n&&1===r||t("vector-effect","non-scaling-stroke"),t("transform",function(t){return BL(t.x||0,t.y||0)+(t.angle?" "+zL(t.angle):"")+(t.scaleX||t.scaleY?" "+function(t,e){return"scale("+t+","+e+")"}(t.scaleX||1,t.scaleY||1):"")}(e)),t("d",e.path)},bound:function(t,e){return uN(fL(t,e.angle),e)?t.set(0,0,0,0):XR(t,e,!0)},draw:FL(uN),pick:NL(uN),isect:yL(uN)};function fN(t,e){t.beginPath(),RR(t,e)}var hN={type:"rect",tag:"path",nested:!1,attr:function(t,e){t("d",RR(null,e))},bound:function(t,e){var n,r;return XR(t.set(n=e.x||0,r=e.y||0,n+e.width||0,r+e.height||0),e)},draw:FL(fN),pick:NL(fN),isect:xL};function dN(t,e,n){var r,i,o,a;return!(!e.stroke||!PL(t,e,n))&&(r=e.x||0,i=e.y||0,o=null!=e.x2?e.x2:r,a=null!=e.y2?e.y2:i,t.beginPath(),t.moveTo(r,i),t.lineTo(o,a),!0)}var pN={type:"rule",tag:"line",nested:!1,attr:function(t,e){t("transform",UL(e)),t("x2",null!=e.x2?e.x2-(e.x||0):0),t("y2",null!=e.y2?e.y2-(e.y||0):0)},bound:function(t,e){var n,r;return XR(t.set(n=e.x||0,r=e.y||0,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r),e)},draw:function(t,e,n){TL(e,(function(e){if(!n||n.intersects(e.bounds)){var r=null==e.opacity?1:e.opacity;r&&dN(t,e,r)&&(kL(t,e),t.stroke())}}))},pick:RL((function(t,e,n,r){return!!t.isPointInStroke&&(dN(t,e,1)&&t.isPointInStroke(n,r))})),isect:wL},vN=HL("shape",(function(t,e){return(e.mark.shape||e.shape).context(t)(e)})),gN=HL("symbol",(function(t,e){return FR.context(t)(e)}),bL),mN=Yb(),yN={height:CN,measureWidth:SN,estimateWidth:xN,width:xN,canvas:bN};function bN(t){yN.width=t&&gL?SN:xN}function xN(t,e){return wN(AN(t,e),CN(t))}function wN(t,e){return~~(.8*t.length*e)}function SN(t,e){return CN(t)<=0||!(e=AN(t,e))?0:kN(e,_N(t))}function kN(t,e){var n="(".concat(e,") ").concat(t),r=mN.get(n);return void 0===r&&(gL.font=e,r=gL.measureText(t).width,mN.set(n,r)),r}function CN(t){return null!=t.fontSize?+t.fontSize||0:11}function ON(t){return null!=t.lineHeight?t.lineHeight:CN(t)+2}function EN(t){return e=t.lineBreak&&t.text&&!qy(t.text)?t.text.split(t.lineBreak):t.text,qy(e)?e.length>1?e:e[0]:e;var e}function MN(t){var e=EN(t);return(qy(e)?e.length-1:0)*ON(t)}function AN(t,e){var n=null==e?"":(e+"").trim();return t.limit>0&&n.length?function(t,e){var n=+t.limit,r=function(t){if(yN.width===SN){var e=_N(t);return function(t){return kN(t,e)}}var n=CN(t);return function(t){return wN(t,n)}}(t);if(r(e)<n)return e;var i,o=t.ellipsis||"…",a="rtl"===t.dir,c=0,l=e.length;if(n-=r(o),a){for(;c<l;)i=c+l>>>1,r(e.slice(i))>n?c=i+1:l=i;return o+e.slice(c)}for(;c<l;)i=1+(c+l>>>1),r(e.slice(0,i))<n?c=i:l=i-1;return e.slice(0,c)+o}(t,n):n}function PN(t,e){var n=t.font;return(e&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function _N(t,e){return(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+CN(t)+"px "+PN(t,e)}function DN(t){var e=t.baseline,n=CN(t);return Math.round("top"===e?.79*n:"middle"===e?.3*n:"bottom"===e?-.21*n:"line-top"===e?.29*n+.5*ON(t):"line-bottom"===e?.29*n-.5*ON(t):0)}bN(!0);var TN={left:"start",center:"middle",right:"end"},ZN=new zR;function FN(t){var e,n=t.x||0,r=t.y||0,i=t.radius||0;return i&&(e=(t.theta||0)-eR,n+=i*Math.cos(e),r+=i*Math.sin(e)),ZN.x1=n,ZN.y1=r,ZN}function jN(t,e,n){var r,i=yN.height(e),o=e.align,a=FN(e),c=a.x1,l=a.y1,u=e.dx||0,s=(e.dy||0)+DN(e)-Math.round(.8*i),f=EN(e);if(qy(f)?(i+=ON(e)*(f.length-1),r=f.reduce((function(t,n){return Math.max(t,yN.width(e,n))}),0)):r=yN.width(e,f),"center"===o?u-=r/2:"right"===o&&(u-=r),t.set(u+=c,s+=l,u+r,s+i),e.angle&&!n)t.rotate(e.angle*tR,c,l);else if(2===n)return t.rotatedPoints(e.angle*tR,c,l);return t}var IN={type:"text",tag:"text",nested:!1,attr:function(t,e){var n,r=e.dx||0,i=(e.dy||0)+DN(e),o=FN(e),a=o.x1,c=o.y1,l=e.angle||0;t("text-anchor",TN[e.align]||"start"),l?(n=BL(a,c)+" "+zL(l),(r||i)&&(n+=" "+BL(r,i))):n=BL(a+r,c+i),t("transform",n)},bound:jN,draw:function(t,e,n){TL(e,(function(e){var r,i,o,a,c,l,u,s=null==e.opacity?1:e.opacity;if(!(n&&!n.intersects(e.bounds)||0===s||e.fontSize<=0||null==e.text||0===e.text.length)){if(t.font=_N(e),t.textAlign=e.align||"left",i=(r=FN(e)).x1,o=r.y1,e.angle&&(t.save(),t.translate(i,o),t.rotate(e.angle*tR),i=o=0),i+=e.dx||0,o+=(e.dy||0)+DN(e),l=EN(e),kL(t,e),qy(l))for(c=ON(e),a=0;a<l.length;++a)u=AN(e,l[a]),e.fill&&ML(t,e,s)&&t.fillText(u,i,o),e.stroke&&PL(t,e,s)&&t.strokeText(u,i,o),o+=c;else u=AN(e,l),e.fill&&ML(t,e,s)&&t.fillText(u,i,o),e.stroke&&PL(t,e,s)&&t.strokeText(u,i,o);e.angle&&t.restore()}}))},pick:RL((function(t,e,n,r,i,o){if(e.fontSize<=0)return!1;if(!e.angle)return!0;var a=FN(e),c=a.x1,l=a.y1,u=jN(ZN,e,1),s=-e.angle*tR,f=Math.cos(s),h=Math.sin(s),d=f*i-h*o+(c-f*c+h*l),p=h*i+f*o+(l-h*c-f*l);return u.contains(d,p)})),isect:function(t,e){var n=jN(ZN,t,2);return SL(e,n[0],n[1],n[2],n[3])||SL(e,n[0],n[1],n[4],n[5])||SL(e,n[4],n[5],n[6],n[7])||SL(e,n[2],n[3],n[6],n[7])}},RN=VL("trail",(function(t,e){return jR.context(t)(e)}),(function(t,e){for(var n,r,i=t.length;--i>=0;)if(!1!==t[i].defined&&(n=t[i].x-e[0])*n+(r=t[i].y-e[1])*r<(n=t[i].size||1)*n)return t[i];return null})),LN={arc:WL,area:GL,group:tN,image:cN,line:lN,path:sN,rect:hN,rule:pN,shape:vN,symbol:gN,text:IN,trail:RN};function NN(t,e,n){var r=LN[t.mark.marktype],i=e||r.bound;return r.nested&&(t=t.mark),i(t.bounds||(t.bounds=new zR),t,n)}var BN={mark:null};function zN(t,e,n){var r,i,o,a,c=LN[t.marktype],l=c.bound,u=t.items,s=u&&u.length;if(c.nested)return s?o=u[0]:(BN.mark=t,o=BN),a=NN(o,l,n),e=e&&e.union(a)||a;if(e=e||t.bounds&&t.bounds.clear()||new zR,s)for(r=0,i=u.length;r<i;++r)e.union(NN(u[r],l,n));return t.bounds=e}var UN=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function HN(t,e){return JSON.stringify(t,UN,e)}function WN(t){return VN("string"==typeof t?JSON.parse(t):t)}function VN(t){var e,n,r,i=t.marktype,o=t.items;if(o)for(n=0,r=o.length;n<r;++n)e=i?"mark":"group",o[n][e]=t,o[n].zindex&&(o[n][e].zdirty=!0),"group"===(i||e)&&VN(o[n]);return i&&zN(t),t}function GN(t){arguments.length?this.root=WN(t):(this.root=XN({marktype:"group",name:"root",role:"frame"}),this.root.items=[new HR(this.root)])}function XN(t,e){var n={bounds:new zR,clip:!!t.clip,group:e,interactive:!1!==t.interactive,items:[],marktype:t.marktype,name:t.name||void 0,role:t.role||void 0,zindex:t.zindex||0};return null!=t.aria&&(n.aria=t.aria),t.description&&(n.description=t.description),n}function qN(t,e,n){return!t&&"undefined"!=typeof document&&document.createElement&&(t=document),t?n?t.createElementNS(n,e):t.createElement(e):null}function YN(t,e){e=e.toLowerCase();for(var n=t.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===e)return n[r]}function $N(t,e,n,r){var i,o=t.childNodes[e];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(i=o||null,o=qN(t.ownerDocument,n,r),t.insertBefore(o,i)),o}function KN(t,e){for(var n=t.childNodes,r=n.length;r>e;)t.removeChild(n[--r]);return t}function JN(t){return"mark-"+t.marktype+(t.role?" role-"+t.role:"")+(t.name?" "+t.name:"")}function QN(t,e){var n=e.getBoundingClientRect();return[t.clientX-n.left-(e.clientLeft||0),t.clientY-n.top-(e.clientTop||0)]}function tB(t,e){this._active=null,this._handlers={},this._loader=t||aD(),this._tooltip=e||eB}function eB(t,e,n,r){t.element().setAttribute("title",r||"")}function nB(t){this._el=null,this._bgcolor=null,this._loader=new WR(t)}GN.prototype={toJSON:function(t){return HN(this.root,t||0)},mark:function(t,e,n){var r=XN(t,e=e||this.root.items[0]);return e.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}},tB.prototype={initialize:function(t,e,n){return this._el=t,this._obj=n||null,this.origin(e)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},origin:function(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()},scene:function(t){return arguments.length?(this._scene=t,this):this._scene},on:function(){},off:function(){},_handlerIndex:function(t,e,n){for(var r=t?t.length:0;--r>=0;)if(t[r].type===e&&(!n||t[r].handler===n))return r;return-1},handlers:function(t){var e=this._handlers,n=[];if(t)n.push.apply(n,(0,Xm.Z)(e[this.eventName(t)]));else for(var r in e)n.push.apply(n,(0,Xm.Z)(e[r]));return n},eventName:function(t){var e=t.indexOf(".");return e<0?t:t.slice(0,e)},handleHref:function(t,e,n){this._loader.sanitize(n,{context:"href"}).then((function(e){var n=new MouseEvent(t.type,t),r=qN(null,"a");for(var i in e)r.setAttribute(i,e[i]);r.dispatchEvent(n)})).catch((function(){}))},handleTooltip:function(t,e,n){if(e&&null!=e.tooltip){e=function(t,e,n,r){var i,o,a=t&&t.mark;if(a&&(i=LN[a.marktype]).tip){for((o=QN(e,n))[0]-=r[0],o[1]-=r[1];t=t.mark.group;)o[0]-=t.x||0,o[1]-=t.y||0;t=i.tip(a.items,o)}return t}(e,t,this.canvas(),this._origin);var r=n&&e&&e.tooltip||null;this._tooltip.call(this._obj,this,t,e,r)}},getItemBoundingClientRect:function(t){var e=this.canvas();if(e){for(var n=e.getBoundingClientRect(),r=this._origin,i=t.bounds,o=i.width(),a=i.height(),c=i.x1+r[0]+n.left,l=i.y1+r[1]+n.top;t.mark&&(t=t.mark.group);)c+=t.x||0,l+=t.y||0;return{x:c,y:l,width:o,height:a,left:c,top:l,right:c+o,bottom:l+a}}}},nB.prototype={initialize:function(t,e,n,r,i){return this._el=t,this.resize(e,n,r,i)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},background:function(t){return 0===arguments.length?this._bgcolor:(this._bgcolor=t,this)},resize:function(t,e,n,r){return this._width=t,this._height=e,this._origin=n||[0,0],this._scale=r||1,this},dirty:function(){},render:function(t){var e=this;return e._call=function(){e._render(t)},e._call(),e._call=null,e},_render:function(){},renderAsync:function(t){var e=this.render(t);return this._ready?this._ready.then((function(){return e})):Promise.resolve(e)},_load:function(t,e){var n=this,r=n._loader[t](e);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then((function(t){t&&i(),n._ready=null}))}return r},sanitizeURL:function(t){return this._load("sanitizeURL",t)},loadImage:function(t){return this._load("loadImage",t)}};var rB="dragenter",iB="dragleave",oB="dragover",aB="mousedown",cB="mousemove",lB="mouseout",uB="mouseover",sB="click",fB="mousewheel",hB="touchstart",dB="touchmove",pB="touchend",vB=cB,gB=lB,mB=sB;function yB(t,e){tB.call(this,t,e),this._down=null,this._touch=null,this._first=!0,this._events={}}function bB(t,e){(function(t){return t===hB||t===dB||t===pB?[hB,dB,pB]:[t]})(e).forEach((function(e){return function(t,e){var n=t.canvas();n&&!t._events[e]&&(t._events[e]=1,n.addEventListener(e,t[e]?function(n){return t[e](n)}:function(n){return t.fire(e,n)}))}(t,e)}))}function xB(t,e,n){return function(r){var i=this._active,o=this.pickEvent(r);o===i||(i&&i.exit||this.fire(n,r),this._active=o,this.fire(e,r)),this.fire(t,r)}}function wB(t){return function(e){this.fire(t,e),this._active=null}}Lb(yB,tB,{initialize:function(t,e,n){var r=this;return this._canvas=t&&YN(t,"canvas"),[sB,aB,cB,lB,iB].forEach((function(t){return bB(r,t)})),tB.prototype.initialize.call(this,t,e,n)},canvas:function(){return this._canvas},context:function(){return this._canvas.getContext("2d")},events:["keydown","keypress","keyup",rB,iB,oB,aB,"mouseup",cB,lB,uB,sB,"dblclick","wheel",fB,hB,dB,pB],DOMMouseScroll:function(t){this.fire(fB,t)},mousemove:xB(cB,uB,lB),dragover:xB(oB,rB,iB),mouseout:wB(lB),dragleave:wB(iB),mousedown:function(t){this._down=this._active,this.fire(aB,t)},click:function(t){this._down===this._active&&(this.fire(sB,t),this._down=null)},touchstart:function(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(hB,t,!0)},touchmove:function(t){this.fire(dB,t,!0)},touchend:function(t){this.fire(pB,t,!0),this._touch=null},fire:function(t,e,n){var r=n?this._touch:this._active,i=this._handlers[t];if(e.vegaType=t,t===mB&&r&&r.href?this.handleHref(e,r,r.href):t!==vB&&t!==gB||this.handleTooltip(e,r,t!==gB),i)for(var o=0,a=i.length;o<a;++o)i[o].handler.call(this._obj,e,r)},on:function(t,e){var n=this.eventName(t),r=this._handlers;return this._handlerIndex(r[n],t,e)<0&&(bB(this,t),(r[n]||(r[n]=[])).push({type:t,handler:e})),this},off:function(t,e){var n=this.eventName(t),r=this._handlers[n],i=this._handlerIndex(r,t,e);return i>=0&&r.splice(i,1),this},pickEvent:function(t){var e=QN(t,this._canvas),n=this._origin;return this.pick(this._scene,e[0],e[1],e[0]-n[0],e[1]-n[1])},pick:function(t,e,n,r,i){var o=this.context();return LN[t.marktype].pick.call(this,o,t,e,n,r,i)}});var SB="undefined"!=typeof window&&window.devicePixelRatio||1;function kB(t){nB.call(this,t),this._options={},this._redraw=!1,this._dirty=new zR,this._tempb=new zR}var CB=nB.prototype;function OB(t,e){tB.call(this,t,e);var n=this;n._hrefHandler=EB(n,(function(t,e){e&&e.href&&n.handleHref(t,e,e.href)})),n._tooltipHandler=EB(n,(function(t,e){n.handleTooltip(t,e,t.type!==gB)}))}Lb(kB,nB,{initialize:function(t,e,n,r,i,o){return this._options=o||{},this._canvas=this._options.externalContext?null:N_(1,1,this._options.type),t&&this._canvas&&(KN(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),CB.initialize.call(this,t,e,n,r,i)},resize:function(t,e,n,r){if(CB.resize.call(this,t,e,n,r),this._canvas)!function(t,e,n,r,i,o){var a="undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&null!=t.parentNode,c=t.getContext("2d"),l=a?SB:i;for(var u in t.width=e*l,t.height=n*l,o)c[u]=o[u];a&&1!==l&&(t.style.width=e+"px",t.style.height=n+"px"),c.pixelRatio=l,c.setTransform(l,0,0,l,l*r[0],l*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{var i=this._options.externalContext;i||Ty("CanvasRenderer is missing a valid canvas or context"),i.scale(this._scale,this._scale),i.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas:function(){return this._canvas},context:function(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty:function(t){for(var e=this._tempb.clear().union(t.bounds),n=t.mark.group;n;)e.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(e)},_render:function(t){var e=this.context(),n=this._origin,r=this._width,i=this._height,o=this._dirty,a=function(t,e,n){return(new zR).set(0,0,e,n).translate(-t[0],-t[1])}(n,r,i);e.save();var c=this._redraw||o.empty()?(this._redraw=!1,a.expand(1)):function(t,e,n){return e.expand(1).round(),t.pixelRatio%1&&e.scale(t.pixelRatio).round().scale(1/t.pixelRatio),e.translate(-n[0]%1,-n[1]%1),t.beginPath(),t.rect(e.x1,e.y1,e.width(),e.height()),t.clip(),e}(e,a.intersect(o),n);return this.clear(-n[0],-n[1],r,i),this.draw(e,t,c),e.restore(),o.clear(),this},draw:function(t,e,n){var r=LN[e.marktype];e.clip&&function(t,e){var n=e.clip;t.save(),wb(n)?(t.beginPath(),n(t),t.clip()):XL(t,e.group)}(t,e),r.draw.call(this,t,e,n),e.clip&&t.restore()},clear:function(t,e,n,r){var i=this._options,o=this.context();"pdf"===i.type||i.externalContext||o.clearRect(t,e,n,r),null!=this._bgcolor&&(o.fillStyle=this._bgcolor,o.fillRect(t,e,n,r))}});var EB=function(t,e){return function(n){var r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,e.call(t._obj,n,r)}};Lb(OB,tB,{initialize:function(t,e,n){var r=this._svg;return r&&(r.removeEventListener(mB,this._hrefHandler),r.removeEventListener(vB,this._tooltipHandler),r.removeEventListener(gB,this._tooltipHandler)),this._svg=r=t&&YN(t,"svg"),r&&(r.addEventListener(mB,this._hrefHandler),r.addEventListener(vB,this._tooltipHandler),r.addEventListener(gB,this._tooltipHandler)),tB.prototype.initialize.call(this,t,e,n)},canvas:function(){return this._svg},on:function(t,e){var n=this.eventName(t),r=this._handlers;if(this._handlerIndex(r[n],t,e)<0){var i={type:t,handler:e,listener:EB(this,e)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},off:function(t,e){var n=this.eventName(t),r=this._handlers[n],i=this._handlerIndex(r,t,e);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});var MB="aria-hidden",AB="aria-label",PB="role",_B="aria-roledescription",DB="graphics-object",TB="graphics-symbol",ZB=function(t,e,n){var r;return r={},(0,V.Z)(r,PB,t),(0,V.Z)(r,_B,e),(0,V.Z)(r,AB,n||void 0),r},FB=ox(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),jB={axis:{desc:"axis",caption:function(t){var e=t.datum,n=t.orient,r=e.title?BB(t):null,i=t.context,o=i.scales[e.scale].value,a=i.dataflow.locale(),c=o.type,l="left"===n||"right"===n?"Y":"X";return"".concat(l,"-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(eI(c)?"discrete":c," scale")+" with ".concat(RI(a,o,t))}},legend:{desc:"legend",caption:function(t){var e=t.datum,n=e.title?BB(t):null,r="".concat(e.type||""," legend").trim(),i=e.scales,o=Object.keys(i),a=t.context,c=a.scales[i[o[0]]].value,l=a.dataflow.locale();return function(t){return t.length?t[0].toUpperCase()+t.slice(1):t}(r)+(n?" titled '".concat(n,"'"):"")+" for ".concat(function(t){return t=t.map((function(t){return t+("fill"===t||"stroke"===t?" color":"")})),t.length<2?t[0]:t.slice(0,-1).join(", ")+" and "+tb(t)}(o))+" with ".concat(RI(l,c,t))}},"title-text":{desc:"title",caption:function(t){return"Title text '".concat(NB(t),"'")}},"title-subtitle":{desc:"subtitle",caption:function(t){return"Subtitle text '".concat(NB(t),"'")}}},IB={ariaRole:PB,ariaRoleDescription:_B,description:AB};function RB(t,e){var n=!1===e.aria;if(t(MB,n||void 0),n||null==e.description)for(var r in IB)t(IB[r],void 0);else{var i=e.mark.marktype;t(AB,e.description),t(PB,e.ariaRole||("group"===i?DB:TB)),t(_B,e.ariaRoleDescription||"".concat(i," mark"))}}function LB(t){return!1===t.aria?(0,V.Z)({},MB,!0):FB[t.role]?null:jB[t.role]?function(t,e){try{var n=t.items[0],r=e.caption||function(){return""};return ZB(e.role||TB,e.desc,n.description||r(n))}catch(i){return null}}(t,jB[t.role]):function(t){var e=t.marktype,n="group"===e||"text"===e||t.items.some((function(t){return null!=t.description&&!1!==t.aria}));return ZB(n?DB:TB,"".concat(e," mark container"),t.description)}(t)}function NB(t){return bb(t.text).join(" ")}function BB(t){try{return bb(tb(t.items).items[0].text).join(" ")}catch(e){return null}}var zB=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},UB=function(t){return zB(t).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")};function HB(){var t="",e="",n="",r=[],i=function(){return e=n=""},o=function(t,n){return null!=n&&(e+=" ".concat(t,'="').concat(UB(n),'"')),a},a={open:function(c){!function(o){e&&(t+="".concat(e,">").concat(n),i()),r.push(o)}(c),e="<"+c;for(var l=arguments.length,u=new Array(l>1?l-1:0),s=1;s<l;s++)u[s-1]=arguments[s];for(var f=0,h=u;f<h.length;f++){var d=h[f];for(var p in d)o(p,d[p])}return a},close:function(){var o=r.pop();return t+=e?e+(n?">".concat(n,"</").concat(o,">"):"/>"):"</".concat(o,">"),i(),a},attr:o,text:function(t){return n+=zB(t),a},toString:function(){return t}};return a}var WB=function(t){return VB(HB(),t)+""};function VB(t,e){if(t.open(e.tagName),e.hasAttributes())for(var n=e.attributes,r=n.length,i=0;i<r;++i)t.attr(n[i].name,n[i].value);if(e.hasChildNodes()){var o,a=LI(e.childNodes);try{for(a.s();!(o=a.n()).done;){var c=o.value;3===c.nodeType?t.text(c.nodeValue):VB(t,c)}}catch(l){a.e(l)}finally{a.f()}}return t.close()}var GB={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},XB={blend:"mix-blend-mode"},qB={fill:"none","stroke-miterlimit":10},YB="http://www.w3.org/2000/xmlns/",$B=eN.xmlns;function KB(t){nB.call(this,t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var JB=nB.prototype;function QB(t,e){for(;t&&t.dirty!==e;t=t.mark.group){if(t.dirty=e,!t.mark||t.mark.dirty===e)return;t.mark.dirty=e}}function tz(t,e,n){var r,i,o;if("radial"===e.gradient){var a=$N(t,n++,"pattern",$B);lz(a,{id:zI+e.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),lz(a=$N(a,0,"rect",$B),{width:1,height:1,fill:"url(".concat(sz(),"#").concat(e.id,")")}),lz(t=$N(t,n++,"radialGradient",$B),{id:e.id,fx:e.x1,fy:e.y1,fr:e.r1,cx:e.x2,cy:e.y2,r:e.r2})}else lz(t=$N(t,n++,"linearGradient",$B),{id:e.id,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2});for(r=0,i=e.stops.length;r<i;++r)(o=$N(t,r,"stop",$B)).setAttribute("offset",e.stops[r].offset),o.setAttribute("stop-color",e.stops[r].color);return KN(t,r),n}function ez(t,e,n){return(t=$N(t,n,"clipPath",$B)).setAttribute("id",e.id),e.path?$N(t,0,"path",$B).setAttribute("d",e.path):lz($N(t,0,"rect",$B),{x:0,y:0,width:e.width,height:e.height}),KN(t,1),n+1}function nz(t,e,n,r,i){var o,a=t._svg;if(!a&&(a=qN(o=e.ownerDocument,r,$B),t._svg=a,t.mark&&(a.__data__=t,a.__values__={fill:"default"},"g"===r))){var c=qN(o,"path",$B);a.appendChild(c),c.__data__=t;var l=qN(o,"g",$B);a.appendChild(l),l.__data__=t;var u=qN(o,"path",$B);a.appendChild(u),u.__data__=t,u.__values__={fill:"default"}}return(a.ownerSVGElement!==i||function(t,e){return t.parentNode&&t.parentNode.childNodes.length>1&&t.previousSibling!=e}(a,n))&&e.insertBefore(a,n?n.nextSibling:e.firstChild),a}Lb(KB,nB,{initialize:function(t,e,n,r,i){return this._defs={},this._clearDefs(),t&&(this._svg=$N(t,0,"svg",$B),this._svg.setAttributeNS(YB,"xmlns",$B),this._svg.setAttributeNS(YB,"xmlns:xlink",eN["xmlns:xlink"]),this._svg.setAttribute("version",eN.version),this._svg.setAttribute("class","marks"),KN(t,1),this._root=$N(this._svg,0,"g",$B),lz(this._root,qB),KN(this._svg,1)),this.background(this._bgcolor),JB.initialize.call(this,t,e,n,r,i)},background:function(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),JB.background.apply(this,arguments)},resize:function(t,e,n,r){return JB.resize.call(this,t,e,n,r),this._svg&&(lz(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}),this._root.setAttribute("transform","translate(".concat(this._origin,")"))),this._dirty=[],this},canvas:function(){return this._svg},svg:function(){var t,e=this._svg,n=this._bgcolor;if(!e)return null;n&&(e.removeAttribute("style"),lz(t=$N(e,0,"rect",$B),{width:this._width,height:this._height,fill:n}));var r=WB(e);return n&&(e.removeChild(t),this._svg.style.setProperty("background-color",n)),r},_render:function(t){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t),KN(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty:function(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))},isDirty:function(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID},_dirtyCheck:function(){this._dirtyAll=!0;var t=this._dirty;if(!t.length||!this._dirtyID)return!0;var e,n,r,i,o,a,c,l=++this._dirtyID;for(o=0,a=t.length;o<a;++o)(n=(e=t[o]).mark).marktype!==r&&(r=n.marktype,i=LN[r]),n.zdirty&&n.dirty!==l&&(this._dirtyAll=!1,QB(e,l),n.items.forEach((function(t){t.dirty=l}))),n.zdirty||(e.exit?(i.nested&&n.items.length?(c=n.items[0])._svg&&this._update(i,c._svg,c):e._svg&&(c=e._svg.parentNode)&&c.removeChild(e._svg),e._svg=null):(e=i.nested?n.items[0]:e)._update!==l&&(e._svg&&e._svg.ownerSVGElement?this._update(i,e._svg,e):(this._dirtyAll=!1,QB(e,l)),e._update=l));return!this._dirtyAll},mark:function(t,e,n){var r=this;if(!this.isDirty(e))return e._svg;var i=this._svg,o=LN[e.marktype],a=!1===e.interactive?"none":null,c="g"===o.tag,l=nz(e,t,n,"g",i);l.setAttribute("class",JN(e));var u=LB(e);for(var s in u)uz(l,s,u[s]);c||uz(l,"pointer-events",a),uz(l,"clip-path",e.clip?BR(this,e,e.group):null);var f=null,h=0,d=function(t){var e=r.isDirty(t),n=nz(t,l,f,o.tag,i);e&&(r._update(o,n,t),c&&function(t,e,n){e=e.lastChild.previousSibling;var r,i=0;TL(n,(function(n){r=t.mark(e,n,r),++i})),KN(e,1+i)}(r,n,t)),f=n,++h};return o.nested?e.items.length&&d(e.items[0]):TL(e,d),KN(l,h),l},_update:function(t,e,n){rz=e,iz=e.__values__,RB(az,n),t.attr(az,n,this);var r=oz[t.type];r&&r.call(this,t,e,n),rz&&this.style(rz,n)},style:function(t,e){if(null!=e){for(var n in GB){var r="font"===n?PN(e):e[n];if(r!==iz[n]){var i=GB[n];null==r?t.removeAttribute(i):(UI(r)&&(r=HI(r,this._defs.gradient,sz())),t.setAttribute(i,r+"")),iz[n]=r}}for(var o in XB)cz(t,XB[o],e[o])}},defs:function(){var t=this._svg,e=this._defs,n=e.el,r=0;for(var i in e.gradient)n||(e.el=n=$N(t,1,"defs",$B)),r=tz(n,e.gradient[i],r);for(var o in e.clipping)n||(e.el=n=$N(t,1,"defs",$B)),r=ez(n,e.clipping[o],r);n&&(0===r?(t.removeChild(n),e.el=null):KN(n,r))},_clearDefs:function(){var t=this._defs;t.gradient={},t.clipping={}}});var rz=null,iz=null,oz={group:function(t,e,n){var r=rz=e.childNodes[2];iz=r.__values__,t.foreground(az,n,this),iz=e.__values__,rz=e.childNodes[1],t.content(az,n,this);var i=rz=e.childNodes[0];t.background(az,n,this);var o=!1===n.mark.interactive?"none":null;if(o!==iz.events&&(uz(r,"pointer-events",o),uz(i,"pointer-events",o),iz.events=o),n.strokeForeground&&n.stroke){var a=n.fill;uz(r,"display",null),this.style(i,n),uz(i,"stroke",null),a&&(n.fill=null),iz=r.__values__,this.style(r,n),a&&(n.fill=a),rz=null}else uz(r,"display","none")},image:function(t,e,n){!1===n.smooth?(cz(e,"image-rendering","optimizeSpeed"),cz(e,"image-rendering","pixelated")):cz(e,"image-rendering",null)},text:function(t,e,n){var r,i,o,a,c=EN(n);qy(c)?(r=(i=c.map((function(t){return AN(n,t)}))).join("\n"))!==iz.text&&(KN(e,0),o=e.ownerDocument,a=ON(n),i.forEach((function(t,r){var i=qN(o,"tspan",$B);i.__data__=n,i.textContent=t,r&&(i.setAttribute("x",0),i.setAttribute("dy",a)),e.appendChild(i)})),iz.text=r):(i=AN(n,c))!==iz.text&&(e.textContent=i,iz.text=i),uz(e,"font-family",PN(n)),uz(e,"font-size",CN(n)+"px"),uz(e,"font-style",n.fontStyle),uz(e,"font-variant",n.fontVariant),uz(e,"font-weight",n.fontWeight)}};function az(t,e,n){e!==iz[t]&&(n?function(t,e,n,r){null!=n?t.setAttributeNS(r,e,n):t.removeAttributeNS(r,e)}(rz,t,e,n):uz(rz,t,e),iz[t]=e)}function cz(t,e,n){n!==iz[e]&&(null==n?t.style.removeProperty(e):t.style.setProperty(e,n+""),iz[e]=n)}function lz(t,e){for(var n in e)uz(t,n,e[n])}function uz(t,e,n){null!=n?t.setAttribute(e,n):t.removeAttribute(e)}function sz(){var t;return"undefined"==typeof window?"":(t=window.location).hash?t.href.slice(0,-t.hash.length):t.href}function fz(t){nB.call(this,t),this._text=null,this._defs={gradient:{},clipping:{}}}Lb(fz,nB,{svg:function(){return this._text},_render:function(t){var e=HB();e.open("svg",_b({},eN,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 ".concat(this._width," ").concat(this._height)}));var n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&e.open("rect",{width:this._width,height:this._height,fill:n}).close(),e.open("g",qB,{transform:"translate("+this._origin+")"}),this.mark(e,t),e.close(),this.defs(e),this._text=e.close()+"",this},mark:function(t,e){var n=this,r=LN[e.marktype],i=r.tag,o=[RB,r.attr];t.open("g",{class:JN(e),"clip-path":e.clip?BR(this,e,e.group):null},LB(e),{"pointer-events":"g"!==i&&!1===e.interactive?"none":null});var a=function(a){var c=n.href(a);if(c&&t.open("a",c),t.open(i,n.attr(e,a,o,"g"!==i?i:null)),"text"===i){var l=EN(a);if(qy(l))for(var u={x:0,dy:ON(a)},s=0;s<l.length;++s)t.open("tspan",s?u:null).text(AN(a,l[s])).close();else t.text(AN(a,l))}else if("g"===i){var f=a.strokeForeground,h=a.fill,d=a.stroke;f&&d&&(a.stroke=null),t.open("path",n.attr(e,a,r.background,"bgrect")).close(),t.open("g",n.attr(e,a,r.content)),TL(a,(function(e){return n.mark(t,e)})),t.close(),f&&d?(h&&(a.fill=null),a.stroke=d,t.open("path",n.attr(e,a,r.foreground,"bgrect")).close(),h&&(a.fill=h)):t.open("path",n.attr(e,a,r.foreground,"bgfore")).close()}t.close(),c&&t.close()};return r.nested?e.items&&e.items.length&&a(e.items[0]):TL(e,a),t.close()},href:function(t){var e,n=this,r=t.href;if(r){if(e=this._hrefs&&this._hrefs[r])return e;this.sanitizeURL(r).then((function(t){t["xlink:href"]=t.href,t.href=null,(n._hrefs||(n._hrefs={}))[r]=t}))}return null},attr:function(t,e,n,r){var i=this,o={},a=function(t,e,n,r){o[r||t]=e};return Array.isArray(n)?n.forEach((function(t){return t(a,e,i)})):n(a,e,this),r&&function(t,e,n,r,i){var o;if(null==e)return t;"bgrect"===r&&!1===n.interactive&&(t["pointer-events"]="none");if("bgfore"===r&&(!1===n.interactive&&(t["pointer-events"]="none"),t.display="none",null!==e.fill))return t;"image"===r&&!1===e.smooth&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===r&&(t["font-family"]=PN(e),t["font-size"]=CN(e)+"px",t["font-style"]=e.fontStyle,t["font-variant"]=e.fontVariant,t["font-weight"]=e.fontWeight);for(var a in GB){var c=e[a],l=GB[a];("transparent"!==c||"fill"!==l&&"stroke"!==l)&&null!=c&&(UI(c)&&(c=HI(c,i.gradient,"")),t[l]=c)}for(var u in XB){var s=e[u];null!=s&&(o=o||[]).push("".concat(XB[u],": ").concat(s,";"))}o&&(t.style=o.join(" "))}(o,e,t,r,this._defs),o},defs:function(t){var e=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(e).length+Object.keys(n).length){for(var r in t.open("defs"),e){var i=e[r],o=i.stops;"radial"===i.gradient?(t.open("pattern",{id:zI+r,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+r+")"}).close(),t.close(),t.open("radialGradient",{id:r,fx:i.x1,fy:i.y1,fr:i.r1,cx:i.x2,cy:i.y2,r:i.r2})):t.open("linearGradient",{id:r,x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2});for(var a=0;a<o.length;++a)t.open("stop",{offset:o[a].offset,"stop-color":o[a].color}).close();t.close()}for(var c in n){var l=n[c];t.open("clipPath",{id:c}),l.path?t.open("path",{d:l.path}).close():t.open("rect",{x:0,y:0,width:l.width,height:l.height}).close(),t.close()}t.close()}}});var hz="canvas",dz="none",pz={Canvas:hz,PNG:"png",SVG:"svg",None:dz},vz={};function gz(t,e){return t=String(t||"").toLowerCase(),arguments.length>1?(vz[t]=e,this):vz[t]}function mz(t,e,n){var r=[],i=(new zR).union(e),o=t.marktype;return o?yz(t,i,n,r):"group"===o?bz(t,i,n,r):Ty("Intersect scene must be mark node or group item.")}function yz(t,e,n,r){if(function(t,e,n){return t.bounds&&e.intersects(t.bounds)&&("group"===t.marktype||!1!==t.interactive&&(!n||n(t)))}(t,e,n)){var i=t.items,o=t.marktype,a=i.length,c=0;if("group"===o)for(;c<a;++c)bz(i[c],e,n,r);else for(var l=LN[o].isect;c<a;++c){var u=i[c];xz(u,e,l)&&r.push(u)}}return r}function bz(t,e,n,r){n&&n(t.mark)&&xz(t,e,LN.group.isect)&&r.push(t);var i=t.items,o=i&&i.length;if(o){var a=t.x||0,c=t.y||0;e.translate(-a,-c);for(var l=0;l<o;++l)yz(i[l],e,n,r);e.translate(a,c)}return r}function xz(t,e,n){var r=t.bounds;return e.encloses(r)||e.intersects(r)&&n(t,e)}vz[hz]=vz.png={renderer:kB,headless:kB,handler:yB},vz.svg={renderer:KB,headless:fz,handler:OB},vz[dz]={};var wz=new zR;function Sz(t){var e=t.clip;if(wb(e))e(fL(wz.clear()));else{if(!e)return;wz.set(0,0,t.group.width,t.group.height)}t.bounds.intersect(wz)}var kz=1e-9;function Cz(t,e,n){return t===e||("path"===n?Oz(t,e):t instanceof Date&&e instanceof Date?+t==+e:Hb(t)&&Hb(e)?Math.abs(t-e)<=kz:t&&e&&(Yy(t)||Yy(e))?function(t,e){var n,r,i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(i.sort(),o.sort(),r=i.length-1;r>=0;r--)if(i[r]!=o[r])return!1;for(r=i.length-1;r>=0;r--)if(!Cz(t[n=i[r]],e[n],n))return!1;return typeof t==typeof e}(t,e):t==e)}function Oz(t,e){return Cz(QI(t),QI(e))}function Ez(){NR(),BI=0}var Mz="top",Az="left",Pz="right",_z="bottom",Dz="top-left",Tz="top-right",Zz="bottom-left",Fz="bottom-right",jz="start",Iz="middle",Rz="end",Lz="x",Nz="y",Bz="group",zz="axis",Uz="title",Hz="frame",Wz="scope",Vz="legend",Gz="row-header",Xz="row-footer",qz="row-title",Yz="column-header",$z="column-footer",Kz="column-title",Jz="padding",Qz="symbol",tU="fit",eU="fit-x",nU="fit-y",rU="pad",iU="none",oU="all",aU="each",cU="flush",lU="column",uU="row";function sU(t){lE.call(this,null,t)}function fU(t,e,n){return e(t.bounds.clear(),t,n)}Lb(sU,lE,{transform:function(t,e){var n,r=e.dataflow,i=t.mark,o=i.marktype,a=LN[o],c=a.bound,l=i.bounds;if(a.nested)i.items.length&&r.dirty(i.items[0]),l=fU(i,c),i.items.forEach((function(t){t.bounds.clear().union(l)}));else if(o===Bz||t.modified())switch(e.visit(e.MOD,(function(t){return r.dirty(t)})),l.clear(),i.items.forEach((function(t){return l.union(fU(t,c))})),i.role){case zz:case Vz:case Uz:e.reflow()}else n=e.changed(e.REM),e.visit(e.ADD,(function(t){l.union(fU(t,c))})),e.visit(e.MOD,(function(t){n=n||l.alignsWith(t.bounds),r.dirty(t),l.union(fU(t,c))})),n&&(l.clear(),i.items.forEach((function(t){return l.union(t.bounds)})));return Sz(i),e.modifies("bounds")}});var hU=":vega_identifier:";function dU(t){lE.call(this,0,t)}function pU(t){lE.call(this,null,t)}function vU(t){lE.call(this,null,t)}dU.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Lb(dU,lE,{transform:function(t,e){var n=function(t){return t._signals[hU]||(t._signals[hU]=t.add(0))}(e.dataflow),r=t.as,i=n.value;return e.visit(e.ADD,(function(t){return t[r]=t[r]||++i})),n.set(this.value=i),e}}),Lb(pU,lE,{transform:function(t,e){var n=this.value;n||((n=e.dataflow.scenegraph().mark(t.markdef,function(t){var e=t.groups,n=t.parent;return e&&1===e.size?e.get(Object.keys(e.object)[0]):e&&n?e.lookup(n):null}(t),t.index)).group.context=t.context,t.context.group||(t.context.group=n.group),n.source=this.source,n.clip=t.clip,n.interactive=t.interactive,this.value=n);var r=n.marktype===Bz?HR:UR;return e.visit(e.ADD,(function(t){return r.call(t,n)})),(t.modified("clip")||t.modified("interactive"))&&(n.clip=t.clip,n.interactive=!!t.interactive,n.zdirty=!0,e.reflow()),n.items=e.source,e}});var gU={parity:function(t){return t.filter((function(t,e){return e%2?t.opacity=0:1}))},greedy:function(t,e){var n;return t.filter((function(t,r){return r&&mU(n.bounds,t.bounds,e)?t.opacity=0:(n=t,1)}))}},mU=function(t,e,n){return n>Math.max(e.x1-t.x2,t.x1-e.x2,e.y1-t.y2,t.y1-e.y2)},yU=function(t,e){for(var n,r=1,i=t.length,o=t[0].bounds;r<i;o=n,++r)if(mU(o,n=t[r].bounds,e))return!0},bU=function(t){var e=t.bounds;return e.width()>1&&e.height()>1},xU=function(t){return t.forEach((function(t){return t.opacity=1})),t},wU=function(t,e){return t.reflow(e.modified()).modifies("opacity")};function SU(t){lE.call(this,null,t)}Lb(vU,lE,{transform:function(t,e){var n,r,i=gU[t.method]||gU.parity,o=t.separation||0,a=e.materialize(e.SOURCE).source;if(a&&a.length){if(!t.method)return t.modified("method")&&(xU(a),e=wU(e,t)),e;if((a=a.filter(bU)).length){if(t.sort&&(a=a.slice().sort(t.sort)),n=xU(a),e=wU(e,t),n.length>=3&&yU(n,o)){do{n=i(n,o)}while(n.length>=3&&yU(n,o));n.length<3&&!tb(a).opacity&&(n.length>1&&(tb(n).opacity=0),tb(a).opacity=1)}t.boundScale&&t.boundTolerance>=0&&(r=function(t,e,n){var r=t.range(),i=new zR;return e===Mz||e===_z?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),function(t){return i.encloses(t.bounds)}}(t.boundScale,t.boundOrient,+t.boundTolerance),a.forEach((function(t){r(t)||(t.opacity=0)})));var c=n[0].mark.bounds.clear();return a.forEach((function(t){t.opacity&&c.union(t.bounds)})),e}}}}),Lb(SU,lE,{transform:function(t,e){var n=e.dataflow;if(e.visit(e.ALL,(function(t){return n.dirty(t)})),e.fields&&e.fields.zindex){var r=e.source&&e.source[0];r&&(r.mark.zdirty=!0)}}});var kU=new zR;function CU(t,e,n){return t[e]===n?0:(t[e]=n,1)}function OU(t){var e=t.items[0].orient;return e===Az||e===Pz}function EU(t,e,n,r){var i,o,a=e.items[0],c=a.datum,l=null!=a.translate?a.translate:.5,u=a.orient,s=function(t){var e=+t.grid;return[t.ticks?e++:-1,t.labels?e++:-1,e+ +t.domain]}(c),f=a.range,h=a.offset,d=a.position,p=a.minExtent,v=a.maxExtent,g=c.title&&a.items[s[2]].items[0],m=a.titlePadding,y=a.bounds,b=g&&MN(g),x=0,w=0;switch(kU.clear().union(y),y.clear(),(i=s[0])>-1&&y.union(a.items[i].bounds),(i=s[1])>-1&&y.union(a.items[i].bounds),u){case Mz:x=d||0,w=-h,o=Math.max(p,Math.min(v,-y.y1)),y.add(0,-o).add(f,0),g&&MU(t,g,o,m,b,0,-1,y);break;case Az:x=-h,w=d||0,o=Math.max(p,Math.min(v,-y.x1)),y.add(-o,0).add(0,f),g&&MU(t,g,o,m,b,1,-1,y);break;case Pz:x=n+h,w=d||0,o=Math.max(p,Math.min(v,y.x2)),y.add(0,0).add(o,f),g&&MU(t,g,o,m,b,1,1,y);break;case _z:x=d||0,w=r+h,o=Math.max(p,Math.min(v,y.y2)),y.add(0,0).add(f,o),g&&MU(t,g,o,m,0,0,1,y);break;default:x=a.x,w=a.y}return XR(y.translate(x,w),a),CU(a,"x",x+l)|CU(a,"y",w+l)&&(a.bounds=kU,t.dirty(a),a.bounds=y,t.dirty(a)),a.mark.bounds.clear().union(y)}function MU(t,e,n,r,i,o,a,c){var l=e.bounds;if(e.auto){var u=a*(n+i+r),s=0,f=0;t.dirty(e),o?s=(e.x||0)-(e.x=u):f=(e.y||0)-(e.y=u),e.mark.bounds.clear().union(l.translate(-s,-f)),t.dirty(e)}c.union(l)}var AU=function(t,e){return Math.floor(Math.min(t,e))},PU=function(t,e){return Math.ceil(Math.max(t,e))};function _U(t){return(new zR).set(0,0,t.width||0,t.height||0)}function DU(t){var e=t.bounds.clone();return e.empty()?e.set(0,0,0,0):e.translate(-(t.x||0),-(t.y||0))}function TU(t,e,n){var r=Yy(t)?t[e]:t;return null!=r?r:void 0!==n?n:0}function ZU(t){return t<0?Math.ceil(-t):0}function FU(t,e,n){var r,i,o,a,c,l,u,s,f,h,d,p=!n.nodirty,v=n.bounds===cU?_U:DU,g=kU.set(0,0,0,0),m=TU(n.align,lU),y=TU(n.align,uU),b=TU(n.padding,lU),x=TU(n.padding,uU),w=n.columns||e.length,S=w<=0?1:Math.ceil(e.length/w),k=e.length,C=Array(k),O=Array(w),E=0,M=Array(k),A=Array(S),P=0,_=Array(k),D=Array(k),T=Array(k);for(i=0;i<w;++i)O[i]=0;for(i=0;i<S;++i)A[i]=0;for(i=0;i<k;++i)l=e[i],c=T[i]=v(l),l.x=l.x||0,_[i]=0,l.y=l.y||0,D[i]=0,o=i%w,a=~~(i/w),E=Math.max(E,u=Math.ceil(c.x2)),P=Math.max(P,s=Math.ceil(c.y2)),O[o]=Math.max(O[o],u),A[a]=Math.max(A[a],s),C[i]=b+ZU(c.x1),M[i]=x+ZU(c.y1),p&&t.dirty(e[i]);for(i=0;i<k;++i)i%w==0&&(C[i]=0),i<w&&(M[i]=0);if(m===aU)for(o=1;o<w;++o){for(d=0,i=o;i<k;i+=w)d<C[i]&&(d=C[i]);for(i=o;i<k;i+=w)C[i]=d+O[o-1]}else if(m===oU){for(d=0,i=0;i<k;++i)i%w&&d<C[i]&&(d=C[i]);for(i=0;i<k;++i)i%w&&(C[i]=d+E)}else for(m=!1,o=1;o<w;++o)for(i=o;i<k;i+=w)C[i]+=O[o-1];if(y===aU)for(a=1;a<S;++a){for(d=0,r=(i=a*w)+w;i<r;++i)d<M[i]&&(d=M[i]);for(i=a*w;i<r;++i)M[i]=d+A[a-1]}else if(y===oU){for(d=0,i=w;i<k;++i)d<M[i]&&(d=M[i]);for(i=w;i<k;++i)M[i]=d+P}else for(y=!1,a=1;a<S;++a)for(r=(i=a*w)+w;i<r;++i)M[i]+=A[a-1];for(f=0,i=0;i<k;++i)f=C[i]+(i%w?f:0),_[i]+=f-e[i].x;for(o=0;o<w;++o)for(h=0,i=o;i<k;i+=w)h+=M[i],D[i]+=h-e[i].y;if(m&&TU(n.center,lU)&&S>1)for(i=0;i<k;++i)(f=(c=m===oU?E:O[i%w])-T[i].x2-e[i].x-_[i])>0&&(_[i]+=f/2);if(y&&TU(n.center,uU)&&1!==w)for(i=0;i<k;++i)(h=(c=y===oU?P:A[~~(i/w)])-T[i].y2-e[i].y-D[i])>0&&(D[i]+=h/2);for(i=0;i<k;++i)g.union(T[i].translate(_[i],D[i]));switch(f=TU(n.anchor,Lz),h=TU(n.anchor,Nz),TU(n.anchor,lU)){case Rz:f-=g.width();break;case Iz:f-=g.width()/2}switch(TU(n.anchor,uU)){case Rz:h-=g.height();break;case Iz:h-=g.height()/2}for(f=Math.round(f),h=Math.round(h),g.clear(),i=0;i<k;++i)e[i].mark.bounds.clear();for(i=0;i<k;++i)(l=e[i]).x+=_[i]+=f,l.y+=D[i]+=h,g.union(l.mark.bounds.union(l.bounds.translate(_[i],D[i]))),p&&t.dirty(l);return g}function jU(t,e,n){var r,i,o,a,c,l,u,s=function(t){for(var e,n,r,i,o,a,c,l=t.items,u=l.length,s=0,f={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};s<u;++s)if(c=(a=l[s]).items,a.marktype===Bz)switch(a.role){case zz:case Vz:case Uz:break;case Gz:(e=f.rowheaders).push.apply(e,(0,Xm.Z)(c));break;case Xz:(n=f.rowfooters).push.apply(n,(0,Xm.Z)(c));break;case Yz:(r=f.colheaders).push.apply(r,(0,Xm.Z)(c));break;case $z:(i=f.colfooters).push.apply(i,(0,Xm.Z)(c));break;case qz:f.rowtitle=c[0];break;case Kz:f.coltitle=c[0];break;default:(o=f.marks).push.apply(o,(0,Xm.Z)(c))}return f}(e),f=s.marks,h=n.bounds===cU?IU:RU,d=n.offset,p=n.columns||f.length,v=p<=0?1:Math.ceil(f.length/p),g=v*p,m=FU(t,f,n);m.empty()&&m.set(0,0,0,0),s.rowheaders&&(l=TU(n.headerBand,uU,null),r=LU(t,s.rowheaders,f,p,v,-TU(d,"rowHeader"),AU,0,h,"x1",0,p,1,l)),s.colheaders&&(l=TU(n.headerBand,lU,null),i=LU(t,s.colheaders,f,p,p,-TU(d,"columnHeader"),AU,1,h,"y1",0,1,p,l)),s.rowfooters&&(l=TU(n.footerBand,uU,null),o=LU(t,s.rowfooters,f,p,v,TU(d,"rowFooter"),PU,0,h,"x2",p-1,p,1,l)),s.colfooters&&(l=TU(n.footerBand,lU,null),a=LU(t,s.colfooters,f,p,p,TU(d,"columnFooter"),PU,1,h,"y2",g-p,1,p,l)),s.rowtitle&&(c=TU(n.titleAnchor,uU),u=TU(d,"rowTitle"),u=c===Rz?o+u:r-u,l=TU(n.titleBand,uU,.5),NU(t,s.rowtitle,u,0,m,l)),s.coltitle&&(c=TU(n.titleAnchor,lU),u=TU(d,"columnTitle"),u=c===Rz?a+u:i-u,l=TU(n.titleBand,lU,.5),NU(t,s.coltitle,u,1,m,l))}function IU(t,e){return"x1"===e?t.x||0:"y1"===e?t.y||0:"x2"===e?(t.x||0)+(t.width||0):"y2"===e?(t.y||0)+(t.height||0):void 0}function RU(t,e){return t.bounds[e]}function LU(t,e,n,r,i,o,a,c,l,u,s,f,h,d){var p,v,g,m,y,b,x,w,S,k=n.length,C=0,O=0;if(!k)return C;for(p=s;p<k;p+=f)n[p]&&(C=a(C,l(n[p],u)));if(!e.length)return C;for(e.length>i&&(t.warn("Grid headers exceed limit: "+i),e=e.slice(0,i)),C+=o,v=0,m=e.length;v<m;++v)t.dirty(e[v]),e[v].mark.bounds.clear();for(p=s,v=0,m=e.length;v<m;++v,p+=f){for(y=(b=e[v]).mark.bounds,g=p;g>=0&&null==(x=n[g]);g-=h);c?(w=null==d?x.x:Math.round(x.bounds.x1+d*x.bounds.width()),S=C):(w=C,S=null==d?x.y:Math.round(x.bounds.y1+d*x.bounds.height())),y.union(b.bounds.translate(w-(b.x||0),S-(b.y||0))),b.x=w,b.y=S,t.dirty(b),O=a(O,y[u])}return O}function NU(t,e,n,r,i,o){if(e){t.dirty(e);var a=n,c=n;r?a=Math.round(i.x1+o*i.width()):c=Math.round(i.y1+o*i.height()),e.bounds.translate(a-(e.x||0),c-(e.y||0)),e.mark.bounds.clear().union(e.bounds),e.x=a,e.y=c,t.dirty(e)}}function BU(t,e,n,r,i,o,a){var c=function(t,e){var n=t[e]||{};return function(e,r){return null!=n[e]?n[e]:null!=t[e]?t[e]:r}}(n,e),l=function(t,e){var n=-1/0;return t.forEach((function(t){null!=t.offset&&(n=Math.max(n,t.offset))})),n>-1/0?n:e}(t,c("offset",0)),u=c("anchor",jz),s=u===Rz?1:u===Iz?.5:0,f={align:aU,bounds:c("bounds",cU),columns:"vertical"===c("direction")?1:t.length,padding:c("margin",8),center:c("center"),nodirty:!0};switch(e){case Az:f.anchor={x:Math.floor(r.x1)-l,column:Rz,y:s*(a||r.height()+2*r.y1),row:u};break;case Pz:f.anchor={x:Math.ceil(r.x2)+l,y:s*(a||r.height()+2*r.y1),row:u};break;case Mz:f.anchor={y:Math.floor(i.y1)-l,row:Rz,x:s*(o||i.width()+2*i.x1),column:u};break;case _z:f.anchor={y:Math.ceil(i.y2)+l,x:s*(o||i.width()+2*i.x1),column:u};break;case Dz:f.anchor={x:l,y:l};break;case Tz:f.anchor={x:o-l,y:l,column:Rz};break;case Zz:f.anchor={x:l,y:a-l,row:Rz};break;case Fz:f.anchor={x:o-l,y:a-l,column:Rz,row:Rz}}return f}function zU(t,e){var n,r,i=e.items[0],o=i.datum,a=i.orient,c=i.bounds,l=i.x,u=i.y;return i._bounds?i._bounds.clear().union(c):i._bounds=c.clone(),c.clear(),function(t,e,n){var r=e.padding,i=r-n.x,o=r-n.y;if(e.datum.title){var a=e.items[1].items[0],c=a.anchor,l=e.titlePadding||0,u=r-a.x,s=r-a.y;switch(a.orient){case Az:i+=Math.ceil(a.bounds.width())+l;break;case Pz:case _z:break;default:o+=a.bounds.height()+l}switch((i||o)&&HU(t,n,i,o),a.orient){case Az:s+=UU(e,n,a,c,1,1);break;case Pz:u+=UU(e,n,a,Rz,0,0)+l,s+=UU(e,n,a,c,1,1);break;case _z:u+=UU(e,n,a,c,0,0),s+=UU(e,n,a,Rz,-1,0,1)+l;break;default:u+=UU(e,n,a,c,0,0)}(u||s)&&HU(t,a,u,s),(u=Math.round(a.bounds.x1-r))<0&&(HU(t,n,-u,0),HU(t,a,-u,0))}else(i||o)&&HU(t,n,i,o)}(t,i,i.items[0].items[0]),c=function(t,e){return t.items.forEach((function(t){return e.union(t.bounds)})),e.x1=t.padding,e.y1=t.padding,e}(i,c),n=2*i.padding,r=2*i.padding,c.empty()||(n=Math.ceil(c.width()+n),r=Math.ceil(c.height()+r)),o.type===Qz&&function(t){var e=t.reduce((function(t,e){return t[e.column]=Math.max(e.bounds.x2-e.x,t[e.column]||0),t}),{});t.forEach((function(t){t.width=e[t.column],t.height=t.bounds.y2-t.y}))}(i.items[0].items[0].items[0].items),a!==iU&&(i.x=l=0,i.y=u=0),i.width=n,i.height=r,XR(c.set(l,u,l+n,u+r),i),i.mark.bounds.clear().union(c),i}function UU(t,e,n,r,i,o,a){var c="symbol"!==t.datum.type,l=n.datum.vgrad,u=(!c||!o&&l||a?e:e.items[0]).bounds[i?"y2":"x2"]-t.padding,s=l&&o?u:0,f=l&&o?0:u,h=i<=0?0:MN(n);return Math.round(r===jz?s:r===Rz?f-h:.5*(u-h))}function HU(t,e,n,r){e.x+=n,e.y+=r,e.bounds.translate(n,r),e.mark.bounds.translate(n,r),t.dirty(e)}function WU(t){lE.call(this,null,t)}Lb(WU,lE,{transform:function(t,e){var n=e.dataflow;return t.mark.items.forEach((function(e){t.layout&&jU(n,e,t.layout),function(t,e,n){var r,i,o,a,c,l=e.items,u=Math.max(0,e.width||0),s=Math.max(0,e.height||0),f=(new zR).set(0,0,u,s),h=f.clone(),d=f.clone(),p=[];for(a=0,c=l.length;a<c;++a)switch((i=l[a]).role){case zz:(OU(i)?h:d).union(EU(t,i,u,s));break;case Uz:r=i;break;case Vz:p.push(zU(t,i));break;case Hz:case Wz:case Gz:case Xz:case qz:case Yz:case $z:case Kz:h.union(i.bounds),d.union(i.bounds);break;default:f.union(i.bounds)}if(p.length){var v={};for(var g in p.forEach((function(t){(o=t.orient||Pz)!==iU&&(v[o]||(v[o]=[])).push(t)})),v){var m=v[g];FU(t,m,BU(m,g,n.legends,h,d,u,s))}p.forEach((function(e){var r=e.bounds;if(r.equals(e._bounds)||(e.bounds=e._bounds,t.dirty(e),e.bounds=r,t.dirty(e)),!n.autosize||n.autosize.type!==tU&&n.autosize.type!==eU&&n.autosize.type!==nU)f.union(r);else switch(e.orient){case Az:case Pz:f.add(r.x1,0).add(r.x2,0);break;case Mz:case _z:f.add(0,r.y1).add(0,r.y2)}}))}f.union(h).union(d),r&&f.union(function(t,e,n,r,i){var o,a=e.items[0],c=a.frame,l=a.orient,u=a.anchor,s=a.offset,f=a.padding,h=a.items[0].items[0],d=a.items[1]&&a.items[1].items[0],p=l===Az||l===Pz?r:n,v=0,g=0,m=0,y=0,b=0;if(c!==Bz?l===Az?(v=i.y2,p=i.y1):l===Pz?(v=i.y1,p=i.y2):(v=i.x1,p=i.x2):l===Az&&(v=r,p=0),o=u===jz?v:u===Rz?p:(v+p)/2,d&&d.text){switch(l){case Mz:case _z:b=h.bounds.height()+f;break;case Az:y=h.bounds.width()+f;break;case Pz:y=-h.bounds.width()-f}kU.clear().union(d.bounds),kU.translate(y-(d.x||0),b-(d.y||0)),CU(d,"x",y)|CU(d,"y",b)&&(t.dirty(d),d.bounds.clear().union(kU),d.mark.bounds.clear().union(kU),t.dirty(d)),kU.clear().union(d.bounds)}else kU.clear();switch(kU.union(h.bounds),l){case Mz:g=o,m=i.y1-kU.height()-s;break;case Az:g=i.x1-kU.width()-s,m=o;break;case Pz:g=i.x2+kU.width()+s,m=o;break;case _z:g=o,m=i.y2+s;break;default:g=a.x,m=a.y}return CU(a,"x",g)|CU(a,"y",m)&&(kU.translate(g,m),t.dirty(a),a.bounds.clear().union(kU),e.bounds.clear().union(kU),t.dirty(a)),a.bounds}(t,r,u,s,f));e.clip&&f.set(0,0,e.width||0,e.height||0);!function(t,e,n,r){var i=r.autosize||{},o=i.type;if(t._autosize<1||!o)return;var a=t._width,c=t._height,l=Math.max(0,e.width||0),u=Math.max(0,Math.ceil(-n.x1)),s=Math.max(0,e.height||0),f=Math.max(0,Math.ceil(-n.y1)),h=Math.max(0,Math.ceil(n.x2-l)),d=Math.max(0,Math.ceil(n.y2-s));if(i.contains===Jz){var p=t.padding();a-=p.left+p.right,c-=p.top+p.bottom}o===iU?(u=0,f=0,l=a,s=c):o===tU?(l=Math.max(0,a-u-h),s=Math.max(0,c-f-d)):o===eU?(l=Math.max(0,a-u-h),c=s+f+d):o===nU?(a=l+u+h,s=Math.max(0,c-f-d)):o===rU&&(a=l+u+h,c=s+f+d);t._resizeView(a,c,l,s,[u,f],i.resize)}(t,e,f,n)}(n,e,t)})),function(t){return t&&"legend-entry"!==t.mark.role}(t.mark.group)?e.reflow():e}});n(25438);function VU(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return GU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GU(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function GU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XU(t,e){var n=0;if(void 0===e){var r,i=VU(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;(o=+o)&&(n+=o)}}catch(s){i.e(s)}finally{i.f()}}else{var a,c=-1,l=VU(t);try{for(l.s();!(a=l.n()).done;){var u=a.value;(u=+e(u,++c,t))&&(n+=u)}}catch(s){l.e(s)}finally{l.f()}}return n}function qU(t){lE.call(this,null,t)}function YU(t){lE.call(this,null,t)}function $U(){return EO({})}function KU(t){lE.call(this,null,t)}function JU(t){lE.call(this,[],t)}Lb(qU,lE,{transform:function(t,e){if(this.value&&!t.modified())return e.StopPropagation;var n=e.dataflow.locale(),r=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=this.value,o=t.scale,a=wI(o,null==t.count?t.values?t.values.length:10:t.count,t.minstep),c=t.format||CI(n,o,a,t.formatSpecifier,t.formatType,!!t.values),l=t.values?SI(o,t.values,a):kI(o,a);return i&&(r.rem=i),i=l.map((function(t,e){return EO({index:e/(l.length-1||1),value:t,label:c(t)})})),t.extra&&i.length&&i.push(EO({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}}),Lb(YU,lE,{transform:function(t,e){var n=e.dataflow,r=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=t.item||$U,o=t.key||CO,a=this.value;return qy(r.encode)&&(r.encode=null),a&&(t.modified("key")||e.modified(o))&&Ty("DataJoin does not support modified key function or fields."),a||(e=e.addAll(),this.value=a=function(t){var e=Ib().test((function(t){return t.exit}));return e.lookup=function(n){return e.get(t(n))},e}(o)),e.visit(e.ADD,(function(t){var e=o(t),n=a.get(e);n?n.exit?(a.empty--,r.add.push(n)):r.mod.push(n):(n=i(t),a.set(e,n),r.add.push(n)),n.datum=t,n.exit=!1})),e.visit(e.MOD,(function(t){var e=o(t),n=a.get(e);n&&(n.datum=t,r.mod.push(n))})),e.visit(e.REM,(function(t){var e=o(t),n=a.get(e);t!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++a.empty)})),e.changed(e.ADD_MOD)&&r.modifies("datum"),(e.clean()||t.clean&&a.empty>n.cleanThreshold)&&n.runAfter(a.clean),r}}),Lb(KU,lE,{transform:function(t,e){var n=e.fork(e.ADD_REM),r=t.mod||!1,i=t.encoders,o=e.encode;if(qy(o)){if(!n.changed()&&!o.every((function(t){return i[t]})))return e.StopPropagation;o=o[0],n.encode=null}var a="enter"===o,c=i.update||By,l=i.enter||By,u=i.exit||By,s=(o&&!a?i[o]:c)||By;if(e.changed(e.ADD)&&(e.visit(e.ADD,(function(e){l(e,t),c(e,t)})),n.modifies(l.output),n.modifies(c.output),s!==By&&s!==c&&(e.visit(e.ADD,(function(e){s(e,t)})),n.modifies(s.output))),e.changed(e.REM)&&u!==By&&(e.visit(e.REM,(function(e){u(e,t)})),n.modifies(u.output)),a||s!==By){var f=e.MOD|(t.modified()?e.REFLOW:0);a?(e.visit(f,(function(e){var i=l(e,t)||r;(s(e,t)||i)&&n.mod.push(e)})),n.mod.length&&n.modifies(l.output)):e.visit(f,(function(e){(s(e,t)||r)&&n.mod.push(e)})),n.mod.length&&n.modifies(s.output)}return n.changed()?n:e.StopPropagation}}),Lb(JU,lE,{transform:function(t,e){if(null!=this.value&&!t.modified())return e.StopPropagation;var n,r,i,o,a,c=e.dataflow.locale(),l=e.fork(e.NO_SOURCE|e.NO_FIELDS),u=this.value,s=t.type||gI,f=t.scale,h=+t.limit,d=wI(f,null==t.count?5:t.count,t.minstep),p=!!t.values||s===gI,v=t.format||_I(c,f,d,s,t.formatSpecifier,t.formatType,p),g=t.values||AI(f,d);return u&&(l.rem=u),s===gI?(h&&g.length>h?(e.dataflow.warn("Symbol legend count exceeds limit, filtering items."),u=g.slice(0,h-1),a=!0):u=g,wb(i=t.size)?(t.values||0!==f(u[0])||(u=u.slice(1)),o=u.reduce((function(e,n){return Math.max(e,i(n,t))}),0)):i=Ab(o=i||8),u=u.map((function(e,n){return EO({index:n,label:v(e,n,u),value:e,offset:o,size:i(e,t)})})),a&&(a=g[u.length],u.push(EO({index:u.length,label:"…".concat(g.length-u.length," entries"),value:a,offset:o,size:i(a,t)})))):"gradient"===s?(n=f.domain(),r=sI(f,n[0],tb(n)),g.length<3&&!t.values&&n[0]!==tb(n)&&(g=[n[0],tb(n)]),u=g.map((function(t,e){return EO({index:e,label:v(t,e,g),value:t,perc:r(t)})}))):(i=g.length-1,r=function(t){var e=t.domain(),n=e.length-1,r=+e[0],i=+tb(e),o=i-r;if(t.type===Fj){var a=n?o/n:.1;o=(i+=a)-(r-=a)}return function(t){return(t-r)/o}}(f),u=g.map((function(t,e){return EO({index:e,label:v(t,e,g),value:t,perc:e?r(t):0,perc2:e===i?1:r(g[e+1])})}))),l.source=u,l.add=u,this.value=u,l}});var QU=function(t){return t.source.x},tH=function(t){return t.source.y},eH=function(t){return t.target.x},nH=function(t){return t.target.y};function rH(t){lE.call(this,{},t)}rH.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Lb(rH,lE,{transform:function(t,e){var n=t.sourceX||QU,r=t.sourceY||tH,i=t.targetX||eH,o=t.targetY||nH,a=t.as||"path",c=t.orient||"vertical",l=t.shape||"line",u=cH.get(l+"-"+c)||cH.get(l);return u||Ty("LinkPath unsupported type: "+t.shape+(t.orient?"-"+t.orient:"")),e.visit(e.SOURCE,(function(t){t[a]=u(n(t),r(t),i(t),o(t))})),e.reflow(t.modified()).modifies(a)}});var iH=function(t,e,n,r){return"M"+t+","+e+"L"+n+","+r},oH=function(t,e,n,r){var i=n-t,o=r-e,a=Math.hypot(i,o)/2;return"M"+t+","+e+"A"+a+","+a+" "+180*Math.atan2(o,i)/Math.PI+" 0 1 "+n+","+r},aH=function(t,e,n,r){var i=n-t,o=r-e,a=.2*(i+o),c=.2*(o-i);return"M"+t+","+e+"C"+(t+a)+","+(e+c)+" "+(n+c)+","+(r-a)+" "+n+","+r},cH=Ib({line:iH,"line-radial":function(t,e,n,r){return iH(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n))},arc:oH,"arc-radial":function(t,e,n,r){return oH(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n))},curve:aH,"curve-radial":function(t,e,n,r){return aH(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(t,e,n,r){return"M"+t+","+e+"V"+r+"H"+n},"orthogonal-vertical":function(t,e,n,r){return"M"+t+","+e+"H"+n+"V"+r},"orthogonal-radial":function(t,e,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(n),c=Math.sin(n);return"M"+e*i+","+e*o+"A"+e+","+e+" 0 0,"+((Math.abs(n-t)>Math.PI?n<=t:n>t)?1:0)+" "+e*a+","+e*c+"L"+r*a+","+r*c},"diagonal-horizontal":function(t,e,n,r){var i=(t+n)/2;return"M"+t+","+e+"C"+i+","+e+" "+i+","+r+" "+n+","+r},"diagonal-vertical":function(t,e,n,r){var i=(e+r)/2;return"M"+t+","+e+"C"+t+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":function(t,e,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(n),c=Math.sin(n),l=(e+r)/2;return"M"+e*i+","+e*o+"C"+l*i+","+l*o+" "+l*a+","+l*c+" "+r*a+","+r*c}});function lH(t){lE.call(this,null,t)}lH.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Lb(lH,lE,{transform:function(t,e){var n,r,i,o=t.as||["startAngle","endAngle"],a=o[0],c=o[1],l=t.field||Ly,u=t.startAngle||0,s=null!=t.endAngle?t.endAngle:2*Math.PI,f=e.source,h=f.map(l),d=h.length,p=u,v=(s-u)/XU(h),g=jM(d);for(t.sort&&g.sort((function(t,e){return h[t]-h[e]})),n=0;n<d;++n)i=h[g[n]],(r=f[g[n]])[a]=p,r[c]=p+=i*v;return this.value=h,e.reflow(t.modified()).modifies(o)}});var uH=5;function sH(t){return tI(t)&&t!==_j}var fH=ox(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function hH(t){lE.call(this,null,t),this.modified(!0)}function dH(t,e,n){if(rI(t)){var r=Math.abs(e.reduce((function(t,e){return t+(e<0?-1:e>0?1:0)}),0));r!==e.length&&n.warn("Log scale domain includes zero: "+tx(e))}return e}function pH(t,e,n){return wb(t)&&(e||n)?cI(t,vH(e||[0,1],n)):t}function vH(t,e){return e?t.slice().reverse():t}function gH(t){lE.call(this,null,t)}Lb(hH,lE,{transform:function(t,e){var n=e.dataflow,r=this.value,i=function(t){var e,n=t.type,r="";if(n===_j)return _j+"-"+kj;(function(t){var e=t.type;return tI(e)&&e!==Aj&&e!==Pj&&(t.scheme||t.range&&t.range.length&&t.range.every(Vb))})(t)&&(r=2===(e=t.rawDomain?t.rawDomain.length:t.domain?t.domain.length+ +(null!=t.domainMid):0)?_j+"-":3===e?Dj+"-":"");return(r+n||kj).toLowerCase()}(t);for(i in r&&i===r.type||(this.value=r=Kj(i)()),t)if(!fH[i]){if("padding"===i&&sH(r.type))continue;wb(r[i])?r[i](t[i]):n.warn("Unsupported scale property: "+i)}return function(t,e,n){var r=t.type,i=e.round||!1,o=e.range;if(null!=e.rangeStep)o=function(t,e,n){t!==Rj&&t!==Ij&&Ty("Only band and point scales support rangeStep.");var r=(null!=e.paddingOuter?e.paddingOuter:e.padding)||0,i=t===Ij?1:(null!=e.paddingInner?e.paddingInner:e.padding)||0;return[0,e.rangeStep*Sj(n,i,r)]}(r,e,n);else if(e.scheme&&(o=function(t,e,n){var r,i=e.schemeExtent;qy(e.scheme)?r=lI(e.scheme,e.interpolate,e.interpolateGamma):(r=vI(e.scheme.toLowerCase()))||Ty("Unrecognized scheme name: ".concat(e.scheme));return n=t===Fj?n+1:t===Lj?n-1:t===Tj||t===Zj?+e.schemeCount||uH:n,iI(t)?pH(r,i,e.reverse):wb(r)?uI(pH(r,i),n):t===jj?r:r.slice(0,n)}(r,e,n),wb(o))){if(t.interpolator)return t.interpolator(o);Ty("Scale type ".concat(r," does not support interpolating color schemes."))}if(o&&iI(r))return t.interpolator(lI(vH(o,e.reverse),e.interpolate,e.interpolateGamma));o&&e.interpolate&&t.interpolate?t.interpolate(fI(e.interpolate,e.interpolateGamma)):wb(t.round)?t.round(i):wb(t.rangeRound)&&t.interpolate(i?dD:fD.Z);o&&t.range(vH(o,e.reverse))}(r,t,function(t,e,n){var r=e.bins;if(r&&!qy(r)){var i=t.domain(),o=i[0],a=tb(i),c=r.step,l=null==r.start?o:r.start,u=null==r.stop?a:r.stop;c||Ty("Scale bins parameter missing step property."),l<o&&(l=c*Math.ceil(o/c)),u>a&&(u=c*Math.floor(a/c)),r=jM(l,u+c/2,c)}r?t.bins=r:t.bins&&delete t.bins;t.type===Lj&&(r?e.domain||e.domainRaw||(t.domain(r),n=r.length):t.bins=t.domain());return n}(r,t,function(t,e,n){var r=function(t,e,n){return e?(t.domain(dH(t.type,e,n)),e.length):-1}(t,e.domainRaw,n);if(r>-1)return r;var i,o,a=e.domain,c=t.type,l=e.zero||void 0===e.zero&&function(t){var e=t.type;return!t.bins&&(e===kj||e===Oj||e===Ej)}(t);if(!a)return 0;sH(c)&&e.padding&&a[0]!==tb(a)&&(a=function(t,e,n,r,i,o){var a=Math.abs(tb(n)-n[0]),c=a/(a-2*r),l=t===Cj?pb(e,null,c):t===Ej?vb(e,null,c,.5):t===Oj?vb(e,null,c,i||1):t===Mj?gb(e,null,c,o||1):db(e,null,c);return e=e.slice(),e[0]=l[0],e[e.length-1]=l[1],e}(c,a,e.range,e.padding,e.exponent,e.constant));if((l||null!=e.domainMin||null!=e.domainMax||null!=e.domainMid)&&(i=(a=a.slice()).length-1||1,l&&(a[0]>0&&(a[0]=0),a[i]<0&&(a[i]=0)),null!=e.domainMin&&(a[0]=e.domainMin),null!=e.domainMax&&(a[i]=e.domainMax),null!=e.domainMid)){var u=(o=e.domainMid)>a[i]?i+1:o<a[0]?0:i;u!==i&&n.warn("Scale domainMid exceeds domain min or max.",o),a.splice(u,0,o)}t.domain(dH(c,a,n)),c===jj&&t.unknown(e.domainImplicit?uF:void 0);e.nice&&t.nice&&t.nice(!0!==e.nice&&wI(t,e.nice)||null);return a.length}(r,t,n))),e.fork(e.NO_SOURCE|e.NO_FIELDS)}}),Lb(gH,lE,{transform:function(t,e){var n=t.modified("sort")||e.changed(e.ADD)||e.modified(t.sort.fields)||e.modified("datum");return n&&e.source.sort(_O(t.sort)),this.modified(n),e}});var mH="zero",yH="center",bH="normalize",xH=["y0","y1"];function wH(t){lE.call(this,null,t)}function SH(t,e,n,r,i){for(var o,a=(e-t.sum)/2,c=t.length,l=0;l<c;++l)(o=t[l])[r]=a,o[i]=a+=Math.abs(n(o))}function kH(t,e,n,r,i){for(var o,a=1/t.sum,c=0,l=t.length,u=0,s=0;u<l;++u)(o=t[u])[r]=c,o[i]=c=a*(s+=Math.abs(n(o)))}function CH(t,e,n,r,i){for(var o,a,c=0,l=0,u=t.length,s=0;s<u;++s)(o=+n(a=t[s]))<0?(a[r]=l,a[i]=l+=o):(a[r]=c,a[i]=c+=o)}wH.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:mH,values:[mH,yH,bH]},{name:"as",type:"string",array:!0,length:2,default:xH}]},Lb(wH,lE,{transform:function(t,e){var n,r,i,o,a=t.as||xH,c=a[0],l=a[1],u=_O(t.sort),s=t.field||Ly,f=t.offset===yH?SH:t.offset===bH?kH:CH;for(n=function(t,e,n,r){var i,o,a,c,l,u,s,f,h,d=[],p=function(t){return t(l)};if(null==e)d.push(t.slice());else for(i={},o=0,a=t.length;o<a;++o)l=t[o],(s=i[u=e.map(p)])||(i[u]=s=[],d.push(s)),s.push(l);for(u=0,h=0,c=d.length;u<c;++u){for(o=0,f=0,a=(s=d[u]).length;o<a;++o)f+=Math.abs(r(s[o]));s.sum=f,f>h&&(h=f),n&&s.sort(n)}return d.max=h,d}(e.source,t.groupby,u,s),r=0,i=n.length,o=n.max;r<i;++r)f(n[r],o,s,c,l);return e.reflow(t.modified()).modifies(a)}});var OH=function(t){return t};function EH(t,e){t&&AH.hasOwnProperty(t.type)&&AH[t.type](t,e)}var MH={Feature:function(t,e){EH(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)EH(n[r].geometry,e)}},AH={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){PH(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)PH(n[r],e,0)},Polygon:function(t,e){_H(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)_H(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)EH(n[r],e)}};function PH(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function _H(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)PH(t[n],e,1);e.polygonEnd()}function DH(t,e){t&&MH.hasOwnProperty(t.type)?MH[t.type](t,e):EH(t,e)}var TH=function(){function t(){(0,Rm.Z)(this,t),this._partials=new Float64Array(32),this._n=0}return(0,Lm.Z)(t,[{key:"add",value:function(t){for(var e=this._partials,n=0,r=0;r<this._n&&r<32;r++){var i=e[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}},{key:"valueOf",value:function(){var t,e,n,r=this._partials,i=this._n,o=0;if(i>0){for(o=r[--i];i>0&&(t=o,!(n=(e=r[--i])-((o=t+e)-t))););i>0&&(n<0&&r[i-1]<0||n>0&&r[i-1]>0)&&(e=2*n)==(t=o+e)-o&&(o=t)}return o}}]),t}();var ZH=1e-6,FH=1e-12,jH=Math.PI,IH=jH/2,RH=jH/4,LH=2*jH,NH=180/jH,BH=jH/180,zH=Math.abs,UH=Math.atan,HH=Math.atan2,WH=Math.cos,VH=Math.ceil,GH=Math.exp,XH=(Math.floor,Math.hypot),qH=Math.log,YH=Math.pow,$H=Math.sin,KH=Math.sign||function(t){return t>0?1:t<0?-1:0},JH=Math.sqrt,QH=Math.tan;function tW(t){return t>1?0:t<-1?jH:Math.acos(t)}function eW(t){return t>1?IH:t<-1?-IH:Math.asin(t)}function nW(){}var rW,iW,oW,aW,cW=new TH,lW=new TH,uW={point:nW,lineStart:nW,lineEnd:nW,polygonStart:function(){uW.lineStart=sW,uW.lineEnd=dW},polygonEnd:function(){uW.lineStart=uW.lineEnd=uW.point=nW,cW.add(zH(lW)),lW=new TH},result:function(){var t=cW/2;return cW=new TH,t}};function sW(){uW.point=fW}function fW(t,e){uW.point=hW,rW=oW=t,iW=aW=e}function hW(t,e){lW.add(aW*t-oW*e),oW=t,aW=e}function dW(){hW(rW,iW)}var pW=uW,vW=1/0,gW=vW,mW=-vW,yW=mW,bW={point:function(t,e){t<vW&&(vW=t);t>mW&&(mW=t);e<gW&&(gW=e);e>yW&&(yW=e)},lineStart:nW,lineEnd:nW,polygonStart:nW,polygonEnd:nW,result:function(){var t=[[vW,gW],[mW,yW]];return mW=yW=-(gW=vW=1/0),t}};var xW,wW,SW,kW,CW=bW,OW=0,EW=0,MW=0,AW=0,PW=0,_W=0,DW=0,TW=0,ZW=0,FW={point:jW,lineStart:IW,lineEnd:NW,polygonStart:function(){FW.lineStart=BW,FW.lineEnd=zW},polygonEnd:function(){FW.point=jW,FW.lineStart=IW,FW.lineEnd=NW},result:function(){var t=ZW?[DW/ZW,TW/ZW]:_W?[AW/_W,PW/_W]:MW?[OW/MW,EW/MW]:[NaN,NaN];return OW=EW=MW=AW=PW=_W=DW=TW=ZW=0,t}};function jW(t,e){OW+=t,EW+=e,++MW}function IW(){FW.point=RW}function RW(t,e){FW.point=LW,jW(SW=t,kW=e)}function LW(t,e){var n=t-SW,r=e-kW,i=JH(n*n+r*r);AW+=i*(SW+t)/2,PW+=i*(kW+e)/2,_W+=i,jW(SW=t,kW=e)}function NW(){FW.point=jW}function BW(){FW.point=UW}function zW(){HW(xW,wW)}function UW(t,e){FW.point=HW,jW(xW=SW=t,wW=kW=e)}function HW(t,e){var n=t-SW,r=e-kW,i=JH(n*n+r*r);AW+=i*(SW+t)/2,PW+=i*(kW+e)/2,_W+=i,DW+=(i=kW*t-SW*e)*(SW+t),TW+=i*(kW+e),ZW+=3*i,jW(SW=t,kW=e)}var WW=FW;function VW(t){this._context=t}VW.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,LH)}},result:nW};var GW,XW,qW,YW,$W,KW=new TH,JW={point:nW,lineStart:function(){JW.point=QW},lineEnd:function(){GW&&tV(XW,qW),JW.point=nW},polygonStart:function(){GW=!0},polygonEnd:function(){GW=null},result:function(){var t=+KW;return KW=new TH,t}};function QW(t,e){JW.point=tV,XW=YW=t,qW=$W=e}function tV(t,e){YW-=t,$W-=e,KW.add(JH(YW*YW+$W*$W)),YW=t,$W=e}var eV,nV,rV,iV,oV,aV,cV,lV,uV=JW,sV=function(){function t(e){(0,Rm.Z)(this,t),this._append=null==e?fV:function(t){var e=Math.floor(t);if(!(e>=0))throw new RangeError("invalid digits: ".concat(t));if(e>15)return fV;if(e!==oV){var n=Math.pow(10,e);oV=e,aV=function(t){var e=1;this._+=t[0];for(var r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}return aV}(e),this._radius=4.5,this._=""}return(0,Lm.Z)(t,[{key:"pointRadius",value:function(t){return this._radius=+t,this}},{key:"polygonStart",value:function(){this._line=0}},{key:"polygonEnd",value:function(){this._line=NaN}},{key:"lineStart",value:function(){this._point=0}},{key:"lineEnd",value:function(){0===this._line&&(this._+="Z"),this._point=NaN}},{key:"point",value:function(t,e){switch(this._point){case 0:this._append(eV||(eV=m_(["M",",",""])),t,e),this._point=1;break;case 1:this._append(nV||(nV=m_(["L",",",""])),t,e);break;default:if(this._append(rV||(rV=m_(["M",",",""])),t,e),this._radius!==cV||this._append!==aV){var n=this._radius,r=this._;this._="",this._append(iV||(iV=m_(["m0,","a",","," 0 1,1 0,","a",","," 0 1,1 0,","z"])),n,n,n,-2*n,n,n,2*n),cV=n,aV=this._append,lV=this._,this._=r}this._+=lV}}},{key:"result",value:function(){var t=this._;return this._="",t.length?t:null}}]),t}();function fV(t){var e=1;this._+=t[0];for(var n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function hV(t,e){var n,r,i=3,o=4.5;function a(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),DH(t,n(r))),r.result()}return a.area=function(t){return DH(t,n(pW)),pW.result()},a.measure=function(t){return DH(t,n(uV)),uV.result()},a.bounds=function(t){return DH(t,n(CW)),CW.result()},a.centroid=function(t){return DH(t,n(WW)),WW.result()},a.projection=function(e){return arguments.length?(n=null==e?(t=null,OH):(t=e).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(e=null,new sV(i)):new VW(e=t),"function"!=typeof o&&r.pointRadius(o),a):e},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{var n=Math.floor(t);if(!(n>=0))throw new RangeError("invalid digits: ".concat(t));i=n}return null===e&&(r=new sV(i)),a},a.projection(t).digits(i).context(e)}function dV(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:nW,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function pV(t,e){return zH(t[0]-e[0])<ZH&&zH(t[1]-e[1])<ZH}function vV(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function gV(t,e,n,r,i){var o,a,c=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(pV(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*ZH}c.push(n=new vV(r,t,null,!0)),l.push(n.o=new vV(r,null,n,!1)),c.push(n=new vV(a,t,null,!1)),l.push(n.o=new vV(a,null,n,!0))}})),c.length){for(l.sort(e),mV(c),mV(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,s,f=c[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=u.length;o<a;++o)i.point((s=u[o])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((s=u[o])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}u=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function mV(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function yV(t){return[HH(t[1],t[0]),eW(t[2])]}function bV(t){var e=t[0],n=t[1],r=WH(n);return[r*WH(e),r*$H(e),$H(n)]}function xV(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function wV(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function SV(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function kV(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function CV(t){var e=JH(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function OV(t){return zH(t[0])<=jH?t[0]:KH(t[0])*((zH(t[0])+jH)%LH-jH)}var EV=q().mark(PV);function MV(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return AV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AV(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function AV(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PV(t){var e,n,r;return q().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=MV(t),i.prev=1,e.s();case 3:if((n=e.n()).done){i.next=8;break}return r=n.value,i.delegateYield(r,"t0",6);case 6:i.next=3;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),e.e(i.t1);case 13:return i.prev=13,e.f(),i.finish(13);case 16:case"end":return i.stop()}}),EV,null,[[1,10,13,16]])}function _V(t){return Array.from(PV(t))}function DV(t,e,n,r){return function(i){var o,a,c,l=e(i),u=dV(),s=e(u),f=!1,h={point:d,lineStart:v,lineEnd:g,polygonStart:function(){h.point=m,h.lineStart=y,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=g,a=_V(a);var t=function(t,e){var n=OV(e),r=e[1],i=$H(r),o=[$H(n),-WH(n),0],a=0,c=0,l=new TH;1===i?r=IH+ZH:-1===i&&(r=-IH-ZH);for(var u=0,s=t.length;u<s;++u)if(h=(f=t[u]).length)for(var f,h,d=f[h-1],p=OV(d),v=d[1]/2+RH,g=$H(v),m=WH(v),y=0;y<h;++y,p=x,g=S,m=k,d=b){var b=f[y],x=OV(b),w=b[1]/2+RH,S=$H(w),k=WH(w),C=x-p,O=C>=0?1:-1,E=O*C,M=E>jH,A=g*S;if(l.add(HH(A*O*$H(E),m*k+A*WH(E))),a+=M?C+O*LH:C,M^p>=n^x>=n){var P=wV(bV(d),bV(b));CV(P);var _=wV(o,P);CV(_);var D=(M^C>=0?-1:1)*eW(_[2]);(r>D||r===D&&(P[0]||P[1]))&&(c+=M^C>=0?1:-1)}}return(a<-ZH||a<ZH&&l<-FH)^1&c}(o,r);a.length?(f||(i.polygonStart(),f=!0),gV(a,ZV,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){l.point(t,e)}function v(){h.point=p,l.lineStart()}function g(){h.point=d,l.lineEnd()}function m(t,e){c.push([t,e]),s.point(t,e)}function y(){s.lineStart(),c=[]}function b(){m(c[0][0],c[0][1]),s.lineEnd();var t,e,n,r,l=s.clean(),h=u.result(),d=h.length;if(c.pop(),o.push(c),c=null,d)if(1&l){if((e=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(TV))}return h}}function TV(t){return t.length>1}function ZV(t,e){return((t=t.x)[0]<0?t[1]-IH-ZH:IH-t[1])-((e=e.x)[0]<0?e[1]-IH-ZH:IH-e[1])}var FV=DV((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var c=o>0?jH:-jH,l=zH(o-n);zH(l-jH)<ZH?(t.point(n,r=(r+a)/2>0?IH:-IH),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),t.point(o,r),e=0):i!==c&&l>=jH&&(zH(n-i)<ZH&&(n-=i*ZH),zH(o-c)<ZH&&(o-=c*ZH),r=function(t,e,n,r){var i,o,a=$H(t-n);return zH(a)>ZH?UH(($H(e)*(o=WH(r))*$H(n)-$H(r)*(i=WH(e))*$H(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),e=0),t.point(n=o,r=a),i=c},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*IH,r.point(-jH,i),r.point(0,i),r.point(jH,i),r.point(jH,0),r.point(jH,-i),r.point(0,-i),r.point(-jH,-i),r.point(-jH,0),r.point(-jH,i);else if(zH(t[0]-e[0])>ZH){var o=t[0]<e[0]?jH:-jH;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-jH,-IH]);function jV(t,e,n,r,i,o){if(n){var a=WH(e),c=$H(e),l=r*n;null==i?(i=e+r*LH,o=e-l/2):(i=IV(a,i),o=IV(a,o),(r>0?i<o:i>o)&&(i+=r*LH));for(var u,s=i;r>0?s>o:s<o;s-=l)u=yV([a,-c*WH(s),-c*$H(s)]),t.point(u[0],u[1])}}function IV(t,e){(e=bV(e))[0]-=t,CV(e);var n=tW(-e[1]);return((-e[2]<0?-n:n)+LH-ZH)%LH}var RV=1e9,LV=-RV;function NV(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,c,u){var s=0,f=0;if(null==i||(s=a(i,c))!==(f=a(o,c))||l(i,o)<0^c>0)do{u.point(0===s||3===s?t:n,s>1?r:e)}while((s=(s+c+4)%4)!==f);else u.point(o[0],o[1])}function a(r,i){return zH(r[0]-t)<ZH?i>0?0:3:zH(r[0]-n)<ZH?i>0?2:1:zH(r[1]-e)<ZH?i>0?1:0:i>0?3:2}function c(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,u,s,f,h,d,p,v,g,m,y,b=a,x=dV(),w={point:S,lineStart:function(){w.point=k,u&&u.push(s=[]);m=!0,g=!1,p=v=NaN},lineEnd:function(){l&&(k(f,h),d&&g&&x.rejoin(),l.push(x.result()));w.point=S,g&&b.lineEnd()},polygonStart:function(){b=x,l=[],u=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=u.length;n<i;++n)for(var o,a,c=u[n],l=1,s=c.length,f=c[0],h=f[0],d=f[1];l<s;++l)o=h,a=d,h=(f=c[l])[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--e;return e}(),n=y&&e,i=(l=_V(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&gV(l,c,e,o,a),a.polygonEnd());b=a,l=u=s=null}};function S(t,e){i(t,e)&&b.point(t,e)}function k(o,a){var c=i(o,a);if(u&&s.push([o,a]),m)f=o,h=a,d=c,m=!1,c&&(b.lineStart(),b.point(o,a));else if(c&&g)b.point(o,a);else{var l=[p=Math.max(LV,Math.min(RV,p)),v=Math.max(LV,Math.min(RV,v))],x=[o=Math.max(LV,Math.min(RV,o)),a=Math.max(LV,Math.min(RV,a))];!function(t,e,n,r,i,o){var a,c=t[0],l=t[1],u=0,s=1,f=e[0]-c,h=e[1]-l;if(a=n-c,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<s&&(s=a)}else if(f>0){if(a>s)return;a>u&&(u=a)}if(a=i-c,f||!(a<0)){if(a/=f,f<0){if(a>s)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<s&&(s=a)}if(a=r-l,h||!(a>0)){if(a/=h,h<0){if(a<u)return;a<s&&(s=a)}else if(h>0){if(a>s)return;a>u&&(u=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>s)return;a>u&&(u=a)}else if(h>0){if(a<u)return;a<s&&(s=a)}return u>0&&(t[0]=c+u*f,t[1]=l+u*h),s<1&&(e[0]=c+s*f,e[1]=l+s*h),!0}}}}}(l,x,t,e,n,r)?c&&(b.lineStart(),b.point(o,a),y=!1):(g||(b.lineStart(),b.point(l[0],l[1])),b.point(x[0],x[1]),c||b.lineEnd(),y=!1)}p=o,v=a,g=c}return w}}function BV(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function zV(t,e){return zH(t)>jH&&(t-=Math.round(t/LH)*LH),[t,e]}function UV(t,e,n){return(t%=LH)?e||n?BV(WV(t),VV(e,n)):WV(t):e||n?VV(e,n):zV}function HV(t){return function(e,n){return zH(e+=t)>jH&&(e-=Math.round(e/LH)*LH),[e,n]}}function WV(t){var e=HV(t);return e.invert=HV(-t),e}function VV(t,e){var n=WH(t),r=$H(t),i=WH(e),o=$H(e);function a(t,e){var a=WH(e),c=WH(t)*a,l=$H(t)*a,u=$H(e),s=u*n+c*r;return[HH(l*i-s*o,c*n-u*r),eW(s*i+l*o)]}return a.invert=function(t,e){var a=WH(e),c=WH(t)*a,l=$H(t)*a,u=$H(e),s=u*i-l*o;return[HH(l*i+u*o,c*n+s*r),eW(s*n-c*r)]},a}function GV(t){return function(e){var n=new XV;for(var r in t)n[r]=t[r];return n.stream=e,n}}function XV(){}function qV(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),DH(n,t.stream(CW)),e(CW.result()),null!=r&&t.clipExtent(r),t}function YV(t,e,n){return qV(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,c=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,c])}),n)}function $V(t,e,n){return YV(t,[[0,0],e],n)}function KV(t,e,n){return qV(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function JV(t,e,n){return qV(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}zV.invert=zV,XV.prototype={constructor:XV,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var QV=16,tG=WH(30*BH);function eG(t,e){return+e?function(t,e){function n(r,i,o,a,c,l,u,s,f,h,d,p,v,g){var m=u-r,y=s-i,b=m*m+y*y;if(b>4*e&&v--){var x=a+h,w=c+d,S=l+p,k=JH(x*x+w*w+S*S),C=eW(S/=k),O=zH(zH(S)-1)<ZH||zH(o-f)<ZH?(o+f)/2:HH(w,x),E=t(O,C),M=E[0],A=E[1],P=M-r,_=A-i,D=y*P-m*_;(D*D/b>e||zH((m*P+y*_)/b-.5)>.3||a*h+c*d+l*p<tG)&&(n(r,i,o,a,c,l,M,A,O,x/=k,w/=k,S,v,g),g.point(M,A),n(M,A,O,x,w,S,u,s,f,h,d,p,v,g))}}return function(e){var r,i,o,a,c,l,u,s,f,h,d,p,v={point:g,lineStart:m,lineEnd:b,polygonStart:function(){e.polygonStart(),v.lineStart=x},polygonEnd:function(){e.polygonEnd(),v.lineStart=m}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function m(){s=NaN,v.point=y,e.lineStart()}function y(r,i){var o=bV([r,i]),a=t(r,i);n(s,f,u,h,d,p,s=a[0],f=a[1],u=r,h=o[0],d=o[1],p=o[2],QV,e),e.point(s,f)}function b(){v.point=g,e.lineEnd()}function x(){m(),v.point=w,v.lineEnd=S}function w(t,e){y(r=t,e),i=s,o=f,a=h,c=d,l=p,v.point=y}function S(){n(s,f,u,h,d,p,i,o,r,a,c,l,QV,e),v.lineEnd=b,b()}return v}}(t,e):function(t){return GV({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var nG=GV({point:function(t,e){this.stream.point(t*BH,e*BH)}});function rG(t,e,n,r,i,o){if(!o)return function(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}(t,e,n,r,i);var a=WH(o),c=$H(o),l=a*t,u=c*t,s=a/t,f=c/t,h=(c*n-a*e)/t,d=(c*e+a*n)/t;function p(t,o){return[l*(t*=r)-u*(o*=i)+e,n-u*t-l*o]}return p.invert=function(t,e){return[r*(s*t-f*e+h),i*(d-f*t-s*e)]},p}function iG(t){return oG((function(){return t}))()}function oG(t){var e,n,r,i,o,a,c,l,u,s,f=150,h=480,d=250,p=0,v=0,g=0,m=0,y=0,b=0,x=1,w=1,S=null,k=FV,C=null,O=OH,E=.5;function M(t){return l(t[0]*BH,t[1]*BH)}function A(t){return(t=l.invert(t[0],t[1]))&&[t[0]*NH,t[1]*NH]}function P(){var t=rG(f,0,0,x,w,b).apply(null,e(p,v)),r=rG(f,h-t[0],d-t[1],x,w,b);return n=UV(g,m,y),c=BV(e,r),l=BV(n,c),a=eG(c,E),_()}function _(){return u=s=null,M}return M.stream=function(t){return u&&s===t?u:u=nG(function(t){return GV({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(k(a(O(s=t)))))},M.preclip=function(t){return arguments.length?(k=t,S=void 0,_()):k},M.postclip=function(t){return arguments.length?(O=t,C=r=i=o=null,_()):O},M.clipAngle=function(t){return arguments.length?(k=+t?function(t){var e=WH(t),n=6*BH,r=e>0,i=zH(e)>ZH;function o(t,n){return WH(t)*WH(n)>e}function a(t,n,r){var i=[1,0,0],o=wV(bV(t),bV(n)),a=xV(o,o),c=o[0],l=a-c*c;if(!l)return!r&&t;var u=e*a/l,s=-e*c/l,f=wV(i,o),h=kV(i,u);SV(h,kV(o,s));var d=f,p=xV(h,d),v=xV(d,d),g=p*p-v*(xV(h,h)-1);if(!(g<0)){var m=JH(g),y=kV(d,(-p-m)/v);if(SV(y,h),y=yV(y),!r)return y;var b,x=t[0],w=n[0],S=t[1],k=n[1];w<x&&(b=x,x=w,w=b);var C=w-x,O=zH(C-jH)<ZH;if(!O&&k<S&&(b=S,S=k,k=b),O||C<ZH?O?S+k>0^y[1]<(zH(y[0]-x)<ZH?S:k):S<=y[1]&&y[1]<=k:C>jH^(x<=y[0]&&y[0]<=w)){var E=kV(d,(-p+m)/v);return SV(E,h),[y,yV(E)]}}}function c(e,n){var i=r?t:jH-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return DV(o,(function(t){var e,n,l,u,s;return{lineStart:function(){u=l=!1,s=1},point:function(f,h){var d,p=[f,h],v=o(f,h),g=r?v?0:c(f,h):v?c(f+(f<0?jH:-jH),h):0;if(!e&&(u=l=v)&&t.lineStart(),v!==l&&(!(d=a(e,p))||pV(e,d)||pV(p,d))&&(p[2]=1),v!==l)s=0,v?(t.lineStart(),d=a(p,e),t.point(d[0],d[1])):(d=a(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(i&&e&&r^v){var m;g&n||!(m=a(p,e,!0))||(s=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1],3)))}!v||e&&pV(e,p)||t.point(p[0],p[1]),e=p,l=v,n=g},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return s|(u&&l)<<1}}}),(function(e,r,i,o){jV(o,t,n,i,e,r)}),r?[0,-t]:[-jH,t-jH])}(S=t*BH):(S=null,FV),_()):S*NH},M.clipExtent=function(t){return arguments.length?(O=null==t?(C=r=i=o=null,OH):NV(C=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),_()):null==C?null:[[C,r],[i,o]]},M.scale=function(t){return arguments.length?(f=+t,P()):f},M.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],P()):[h,d]},M.center=function(t){return arguments.length?(p=t[0]%360*BH,v=t[1]%360*BH,P()):[p*NH,v*NH]},M.rotate=function(t){return arguments.length?(g=t[0]%360*BH,m=t[1]%360*BH,y=t.length>2?t[2]%360*BH:0,P()):[g*NH,m*NH,y*NH]},M.angle=function(t){return arguments.length?(b=t%360*BH,P()):b*NH},M.reflectX=function(t){return arguments.length?(x=t?-1:1,P()):x<0},M.reflectY=function(t){return arguments.length?(w=t?-1:1,P()):w<0},M.precision=function(t){return arguments.length?(a=eG(c,E=t*t),_()):JH(E)},M.fitExtent=function(t,e){return YV(M,t,e)},M.fitSize=function(t,e){return $V(M,t,e)},M.fitWidth=function(t,e){return KV(M,t,e)},M.fitHeight=function(t,e){return JV(M,t,e)},function(){return e=t.apply(this,arguments),M.invert=e.invert&&A,P()}}function aG(t){var e=0,n=jH/3,r=oG(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*BH,n=t[1]*BH):[e*NH,n*NH]},i}function cG(t,e){var n=$H(t),r=(n+$H(e))/2;if(zH(r)<ZH)return function(t){var e=WH(t);function n(t,n){return[t*e,$H(n)/e]}return n.invert=function(t,n){return[t/e,eW(n*e)]},n}(t);var i=1+n*(2*r-n),o=JH(i)/r;function a(t,e){var n=JH(i-2*r*$H(e))/r;return[n*$H(t*=r),o-n*WH(t)]}return a.invert=function(t,e){var n=o-e,a=HH(t,zH(n))*KH(n);return n*r<0&&(a-=jH*KH(t)*KH(n)),[a/r,eW((i-(t*t+n*n)*r*r)/(2*r))]},a}function lG(){return aG(cG).scale(155.424).center([0,33.6442])}function uG(){return lG().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function sG(t){return function(e,n){var r=WH(e),i=WH(n),o=t(r*i);return o===1/0?[2,0]:[o*i*$H(e),o*$H(n)]}}function fG(t){return function(e,n){var r=JH(e*e+n*n),i=t(r),o=$H(i),a=WH(i);return[HH(e*o,r*a),eW(r&&n*o/r)]}}var hG=sG((function(t){return JH(2/(1+t))}));hG.invert=fG((function(t){return 2*eW(t/2)}));var dG=sG((function(t){return(t=tW(t))&&t/$H(t)}));function pG(t,e){return[t,qH(QH((IH+e)/2))]}function vG(t){var e,n,r,i=iG(t),o=i.center,a=i.scale,c=i.translate,l=i.clipExtent,u=null;function s(){var o=jH*a(),c=i(function(t){function e(e){return(e=t(e[0]*BH,e[1]*BH))[0]*=NH,e[1]*=NH,e}return t=UV(t[0]*BH,t[1]*BH,t.length>2?t[2]*BH:0),e.invert=function(e){return(e=t.invert(e[0]*BH,e[1]*BH))[0]*=NH,e[1]*=NH,e},e}(i.rotate()).invert([0,0]));return l(null==u?[[c[0]-o,c[1]-o],[c[0]+o,c[1]+o]]:t===pG?[[Math.max(c[0]-o,u),e],[Math.min(c[0]+o,n),r]]:[[u,Math.max(c[1]-o,e)],[n,Math.min(c[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),s()):a()},i.translate=function(t){return arguments.length?(c(t),s()):c()},i.center=function(t){return arguments.length?(o(t),s()):o()},i.clipExtent=function(t){return arguments.length?(null==t?u=e=n=r=null:(u=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),s()):null==u?null:[[u,e],[n,r]]},s()}function gG(t){return QH((IH+t)/2)}function mG(t,e){var n=WH(t),r=t===e?$H(t):qH(n/WH(e))/qH(gG(e)/gG(t)),i=n*YH(gG(t),r)/r;if(!r)return pG;function o(t,e){i>0?e<-IH+ZH&&(e=-IH+ZH):e>IH-ZH&&(e=IH-ZH);var n=i/YH(gG(e),r);return[n*$H(r*t),i-n*WH(r*t)]}return o.invert=function(t,e){var n=i-e,o=KH(r)*JH(t*t+n*n),a=HH(t,zH(n))*KH(n);return n*r<0&&(a-=jH*KH(t)*KH(n)),[a/r,2*UH(YH(i/o,1/r))-IH]},o}function yG(t,e){return[t,e]}function bG(t,e){var n=WH(t),r=t===e?$H(t):(n-WH(e))/(e-t),i=n/r+t;if(zH(r)<ZH)return yG;function o(t,e){var n=i-e,o=r*t;return[n*$H(o),i-n*WH(o)]}return o.invert=function(t,e){var n=i-e,o=HH(t,zH(n))*KH(n);return n*r<0&&(o-=jH*KH(t)*KH(n)),[o/r,i-KH(r)*JH(t*t+n*n)]},o}dG.invert=fG((function(t){return t})),pG.invert=function(t,e){return[t,2*UH(GH(e))-IH]},yG.invert=yG;var xG=1.340264,wG=-.081106,SG=893e-6,kG=.003796,CG=JH(3)/2;function OG(t,e){var n=eW(CG*$H(e)),r=n*n,i=r*r*r;return[t*WH(n)/(CG*(xG+3*wG*r+i*(7*SG+9*kG*r))),n*(xG+wG*r+i*(SG+kG*r))]}function EG(t,e){var n=WH(e),r=WH(t)*n;return[n*$H(t)/r,$H(e)/r]}function MG(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function AG(t,e){return[WH(e)*$H(t),$H(e)]}function PG(t,e){var n=WH(e),r=1+WH(t)*n;return[n*$H(t)/r,$H(e)/r]}function _G(t,e){return[qH(QH((IH+e)/2)),-t]}OG.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(xG+wG*i+o*(SG+kG*i))-e)/(xG+3*wG*i+o*(7*SG+9*kG*i)))*r)*i*i,!(zH(n)<FH));++a);return[CG*t*(xG+3*wG*i+o*(7*SG+9*kG*i))/WH(r),eW($H(r)/CG)]},EG.invert=fG(UH),MG.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(zH(n)>ZH&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},AG.invert=fG(eW),PG.invert=fG((function(t){return 2*UH(t)})),_G.invert=function(t,e){return[-e,2*UH(GH(t))-IH]};var DG=Math.abs,TG=(Math.atan,Math.atan2,Math.ceil,Math.cos),ZG=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),FG=(Math.tan,1e-6),jG=Math.PI,IG=jG/2,RG=(Math.SQRT1_2,NG(2));NG(jG);function LG(t){return t>1?IG:t<-1?-IG:Math.asin(t)}function NG(t){return t>0?Math.sqrt(t):0}function BG(t,e){var n,r=t*ZG(e),i=30;do{e-=n=(e+ZG(e)-r)/(1+TG(e))}while(DG(n)>FG&&--i>0);return e/2}var zG=function(t,e,n){function r(r,i){return[t*r*TG(i=BG(n,i)),e*ZG(i)]}return r.invert=function(r,i){return i=LG(i/e),[r/(t*TG(i)),LG((2*i+ZG(2*i))/n)]},r}(RG/IG,RG,jG);var UG=hV(),HG=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function WG(t,e){if(!t||"string"!=typeof t)throw new Error("Projection type must be a name string.");return t=t.toLowerCase(),arguments.length>1?(GG[t]=function(t,e){return function n(){var r=e();return r.type=t,r.path=hV().projection(r),r.copy=r.copy||function(){var t=n();return HG.forEach((function(e){r[e]&&t[e](r[e]())})),t.path.pointRadius(r.path.pointRadius()),t},$j(r)}}(t,e),this):GG[t]||null}function VG(t){return t&&t.path||UG}var GG={albers:uG,albersusa:function(){var t,e,n,r,i,o,a=uG(),c=lG().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=lG().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,e){o=[t,e]}};function s(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function f(){return t=e=null,s}return s.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?c:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:a).invert(t)},s.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),c.stream(n),l.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},s.precision=function(t){return arguments.length?(a.precision(t),c.precision(t),l.precision(t),f()):a.precision()},s.scale=function(t){return arguments.length?(a.scale(t),c.scale(.35*t),l.scale(t),s.translate(a.translate())):a.scale()},s.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],s=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,s-.238*e],[o+.455*e,s+.238*e]]).stream(u),r=c.translate([o-.307*e,s+.201*e]).clipExtent([[o-.425*e+ZH,s+.12*e+ZH],[o-.214*e-ZH,s+.234*e-ZH]]).stream(u),i=l.translate([o-.205*e,s+.212*e]).clipExtent([[o-.214*e+ZH,s+.166*e+ZH],[o-.115*e-ZH,s+.234*e-ZH]]).stream(u),f()},s.fitExtent=function(t,e){return YV(s,t,e)},s.fitSize=function(t,e){return $V(s,t,e)},s.fitWidth=function(t,e){return KV(s,t,e)},s.fitHeight=function(t,e){return JV(s,t,e)},s.scale(1070)},azimuthalequalarea:function(){return iG(hG).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return iG(dG).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return aG(mG).scale(109.5).parallels([30,30])},conicequalarea:lG,conicequidistant:function(){return aG(bG).scale(131.154).center([0,13.9389])},equalEarth:function(){return iG(OG).scale(177.158)},equirectangular:function(){return iG(yG).scale(152.63)},gnomonic:function(){return iG(EG).scale(144.049).clipAngle(60)},identity:function(){var t,e,n,r,i,o,a,c=1,l=0,u=0,s=1,f=1,h=0,d=null,p=1,v=1,g=GV({point:function(t,e){var n=b([t,e]);this.stream.point(n[0],n[1])}}),m=OH;function y(){return p=c*s,v=c*f,o=a=null,b}function b(n){var r=n[0]*p,i=n[1]*v;if(h){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+l,i+u]}return b.invert=function(n){var r=n[0]-l,i=n[1]-u;if(h){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/p,i/v]},b.stream=function(t){return o&&a===t?o:o=g(m(a=t))},b.postclip=function(t){return arguments.length?(m=t,d=n=r=i=null,y()):m},b.clipExtent=function(t){return arguments.length?(m=null==t?(d=n=r=i=null,OH):NV(d=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),y()):null==d?null:[[d,n],[r,i]]},b.scale=function(t){return arguments.length?(c=+t,y()):c},b.translate=function(t){return arguments.length?(l=+t[0],u=+t[1],y()):[l,u]},b.angle=function(n){return arguments.length?(e=$H(h=n%360*BH),t=WH(h),y()):h*NH},b.reflectX=function(t){return arguments.length?(s=t?-1:1,y()):s<0},b.reflectY=function(t){return arguments.length?(f=t?-1:1,y()):f<0},b.fitExtent=function(t,e){return YV(b,t,e)},b.fitSize=function(t,e){return $V(b,t,e)},b.fitWidth=function(t,e){return KV(b,t,e)},b.fitHeight=function(t,e){return JV(b,t,e)},b},mercator:function(){return vG(pG).scale(961/LH)},mollweide:function(){return iG(zG).scale(169.529)},naturalEarth1:function(){return iG(MG).scale(175.295)},orthographic:function(){return iG(AG).scale(249.5).clipAngle(90+ZH)},stereographic:function(){return iG(PG).scale(250).clipAngle(142)},transversemercator:function(){var t=vG(_G),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}};for(var XG in GG)WG(XG,GG[XG]);function qG(t,e,n){var r=jM(t,e-ZH,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function YG(t,e,n){var r=jM(t,e-ZH,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function $G(){var t,e,n,r,i,o,a,c,l,u,s,f,h=10,d=h,p=90,v=360,g=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return jM(VH(r/p)*p,n,p).map(s).concat(jM(VH(c/v)*v,a,v).map(f)).concat(jM(VH(e/h)*h,t,h).filter((function(t){return zH(t%p)>ZH})).map(l)).concat(jM(VH(o/d)*d,i,d).filter((function(t){return zH(t%v)>ZH})).map(u))}return m.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},m.outline=function(){return{type:"Polygon",coordinates:[s(r).concat(f(a).slice(1),s(n).reverse().slice(1),f(c).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],c=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),c>a&&(t=c,c=a,a=t),m.precision(g)):[[r,c],[n,a]]},m.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),m.precision(g)):[[e,o],[t,i]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(p=+t[0],v=+t[1],m):[p,v]},m.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],m):[h,d]},m.precision=function(h){return arguments.length?(g=+h,l=qG(o,i,90),u=YG(e,t,g),s=qG(c,a,90),f=YG(r,n,g),m):g},m.extentMajor([[-180,-90+ZH],[180,90-ZH]]).extentMinor([[-180,-80-ZH],[180,80+ZH]])}function KG(){}var JG=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function QG(){var t=1,e=1,n=a;function r(t,e){return e.map((function(e){return i(t,e)}))}function i(r,i){var a=[],c=[];return function(n,r,i){var a,c,l,u,s,f,h=new Array,d=new Array;a=c=-1,u=n[0]>=r,JG[u<<1].forEach(p);for(;++a<t-1;)l=u,u=n[a+1]>=r,JG[l|u<<1].forEach(p);JG[u<<0].forEach(p);for(;++c<e-1;){for(a=-1,u=n[c*t+t]>=r,s=n[c*t]>=r,JG[u<<1|s<<2].forEach(p);++a<t-1;)l=u,u=n[c*t+t+a+1]>=r,f=s,s=n[c*t+a+1]>=r,JG[l|u<<1|s<<2|f<<3].forEach(p);JG[u|s<<3].forEach(p)}a=-1,s=n[c*t]>=r,JG[s<<2].forEach(p);for(;++a<t-1;)f=s,s=n[c*t+a+1]>=r,JG[s<<2|f<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+a,t[0][1]+c],l=[t[1][0]+a,t[1][1]+c],u=o(r),s=o(l);(e=d[u])?(n=h[s])?(delete d[e.end],delete h[n.start],e===n?(e.ring.push(l),i(e.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete d[e.end],e.ring.push(l),d[e.end=s]=e):(e=h[s])?(n=d[u])?(delete h[e.start],delete d[n.end],e===n?(e.ring.push(l),i(e.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete h[e.start],e.ring.unshift(r),h[e.start=u]=e):h[u]=d[s]={start:u,end:s,ring:[r,l]}}JG[s<<3].forEach(p)}(r,i,(function(t){n(t,r,i),function(t){var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];for(;++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?a.push([t]):c.push(t)})),c.forEach((function(t){for(var e,n=0,r=a.length;n<r;++n)if(-1!==tX((e=a[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:a}}function o(e){return 2*e[0]+e[1]*(t+1)*4}function a(n,r,i){n.forEach((function(n){var o,a=n[0],c=n[1],l=0|a,u=0|c,s=r[u*t+l];a>0&&a<t&&l===a&&(o=r[u*t+l-1],n[0]=a+(i-o)/(s-o)-.5),c>0&&c<e&&u===c&&(o=r[(u-1)*t+l],n[1]=c+(i-o)/(s-o)-.5)}))}return r.contour=i,r.size=function(n){if(!arguments.length)return[t,e];var i=Math.floor(n[0]),o=Math.floor(n[1]);return i>=0&&o>=0||Ty("invalid size"),t=i,e=o,r},r.smooth=function(t){return arguments.length?(n=t?a:KG,r):n===a},r}function tX(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=eX(t,e[r]))return n;return 0}function eX(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,c=a-1;o<a;c=o++){var l=t[o],u=l[0],s=l[1],f=t[c],h=f[0],d=f[1];if(nX(l,f,e))return 0;s>r!=d>r&&n<(h-u)*(r-s)/(d-s)+u&&(i=-i)}return i}function nX(t,e,n){var r,i,o,a;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],o=n[r],a=e[r],i<=o&&o<=a||a<=o&&o<=i)}function rX(t,e,n){return function(r){var i=Db(r),o=n?Math.min(i[0],0):i[0],a=i[1],c=a-o,l=e?Dx(o,a,t):c/(t+1);return jM(o+l,a,l)}}function iX(t){lE.call(this,null,t)}function oX(t,e,n,r,i){var o=t.x1||0,a=t.y1||0,c=e*n<0;function l(t){t.forEach(u)}function u(t){c&&t.reverse(),t.forEach(s)}function s(t){t[0]=(t[0]-o)*e+r,t[1]=(t[1]-a)*n+i}return function(t){return t.coordinates.forEach(l),t}}function aX(t,e,n){var r=t>=0?t:NE(e,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function cX(t){return wb(t)?t:Ab(+t)}function lX(){var t=function(t){return t[0]},e=function(t){return t[1]},n=Ly,r=[-1,-1],i=960,o=500,a=2;function c(c,l){var u=aX(r[0],c,t)>>a,s=aX(r[1],c,e)>>a,f=u?u+2:0,h=s?s+2:0,d=2*f+(i>>a),p=2*h+(o>>a),v=new Float32Array(d*p),g=new Float32Array(d*p),m=v;c.forEach((function(r){var i=f+(+t(r)>>a),o=h+(+e(r)>>a);i>=0&&i<d&&o>=0&&o<p&&(v[i+o*d]+=+n(r))})),u>0&&s>0?(uX(d,p,v,g,u),sX(d,p,g,v,s),uX(d,p,v,g,u),sX(d,p,g,v,s),uX(d,p,v,g,u),sX(d,p,g,v,s)):u>0?(uX(d,p,v,g,u),uX(d,p,g,v,u),uX(d,p,v,g,u),m=g):s>0&&(sX(d,p,v,g,s),sX(d,p,g,v,s),sX(d,p,v,g,s),m=g);for(var y=l?Math.pow(2,-2*a):1/XU(m),b=0,x=d*p;b<x;++b)m[b]*=y;return{values:m,scale:1<<a,width:d,height:p,x1:f,y1:h,x2:f+(i>>a),y2:h+(o>>a)}}return c.x=function(e){return arguments.length?(t=cX(e),c):t},c.y=function(t){return arguments.length?(e=cX(t),c):e},c.weight=function(t){return arguments.length?(n=cX(t),c):n},c.size=function(t){if(!arguments.length)return[i,o];var e=+t[0],n=+t[1];return e>=0&&n>=0||Ty("invalid size"),i=e,o=n,c},c.cellSize=function(t){return arguments.length?((t=+t)>=1||Ty("invalid cell size"),a=Math.floor(Math.log(t)/Math.LN2),c):1<<a},c.bandwidth=function(t){return arguments.length?(1===(t=bb(t)).length&&(t=[+t[0],+t[0]]),2!==t.length&&Ty("invalid bandwidth"),r=t,c):r},c}function uX(t,e,n,r,i){for(var o=1+(i<<1),a=0;a<e;++a)for(var c=0,l=0;c<t+i;++c)c<t&&(l+=n[c+a*t]),c>=i&&(c>=o&&(l-=n[c-o+a*t]),r[c-i+a*t]=l/Math.min(c+1,t-1+o-c,o))}function sX(t,e,n,r,i){for(var o=1+(i<<1),a=0;a<t;++a)for(var c=0,l=0;c<e+i;++c)c<e&&(l+=n[a+c*t]),c>=i&&(c>=o&&(l-=n[a+(c-o)*t]),r[a+(c-i)*t]=l/Math.min(c+1,e-1+o-c,o))}function fX(t){lE.call(this,null,t)}iX.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},Lb(iX,lE,{transform:function(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var n=e.fork(e.NO_SOURCE|e.NO_FIELDS),r=e.materialize(e.SOURCE).source,i=t.field||Iy,o=QG().smooth(!1!==t.smooth),a=t.thresholds||function(t,e,n){var r=rX(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?r:r(t.map((function(t){return pE(e(t).values)})))}(r,i,t),c=null===t.as?null:t.as||"contour",l=[];return r.forEach((function(e){var n=i(e),r=o.size([n.width,n.height])(n.values,qy(a)?a:a(n.values));!function(t,e,n,r){var i=r.scale||e.scale,o=r.translate||e.translate;wb(i)&&(i=i(n,r));wb(o)&&(o=o(n,r));if((1===i||null==i)&&!o)return;var a=(Hb(i)?i:i[0])||1,c=(Hb(i)?i:i[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;t.forEach(oX(e,a,c,l,u))}(r,n,e,t),r.forEach((function(t){l.push(AO(e,EO(null!=c?(0,V.Z)({},c,t):t)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}}),fX.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};var hX=["x","y","weight","size","cellSize","bandwidth"];function dX(t,e){return hX.forEach((function(n){return null!=e[n]?t[n](e[n]):0})),t}function pX(t){lE.call(this,null,t)}Lb(fX,lE,{transform:function(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var n,r=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=function(t,e){var n,r,i,o,a,c,l=[],u=function(t){return t(o)};if(null==e)l.push(t);else for(n={},r=0,i=t.length;r<i;++r)o=t[r],(c=n[a=e.map(u)])||(n[a]=c=[],c.dims=a,l.push(c)),c.push(o);return l}(e.materialize(e.SOURCE).source,t.groupby),o=(t.groupby||[]).map(My),a=dX(lX(),t),c=t.as||"grid";return n=i.map((function(e){return EO(function(t,e){for(var n=0;n<o.length;++n)t[o[n]]=e[n];return t}((0,V.Z)({},c,a(e,t.counts)),e.dims))})),this.value&&(r.rem=this.value),this.value=r.source=r.add=n,r}}),pX.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},Lb(pX,lE,{transform:function(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var n,r,i=e.fork(e.NO_SOURCE|e.NO_FIELDS),o=QG().smooth(!1!==t.smooth),a=t.values,c=t.thresholds||rX(t.count||10,t.nice,!!a),l=t.size;return a||(a=e.materialize(e.SOURCE).source,r=oX(n=dX(lX(),t)(a,!0),n.scale||1,n.scale||1,0,0),l=[n.width,n.height],a=n.values),c=qy(c)?c:c(a),a=o.size(l)(a,c),r&&a.forEach(r),this.value&&(i.rem=this.value),this.value=i.source=i.add=(a||[]).map(EO),i}});var vX="Feature",gX="FeatureCollection";function mX(t){lE.call(this,null,t)}function yX(t){lE.call(this,null,t)}function bX(t){lE.call(this,null,t)}function xX(t){lE.call(this,null,t)}function wX(t){lE.call(this,[],t),this.generator=$G()}function SX(t){lE.call(this,null,t)}function kX(t){if(!wb(t))return!1;var e=ox(Ay(t));return e.$x||e.$y||e.$value||e.$max}function CX(t){lE.call(this,null,t),this.modified(!0)}function OX(t,e,n){wb(t[e])&&t[e](n)}function EX(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,c,l,u,s,f,h,d=t._root,p={data:r},v=t._x0,g=t._y0,m=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((u=e>=(o=(v+m)/2))?v=o:m=o,(s=n>=(a=(g+y)/2))?g=a:y=a,i=d,!(d=d[f=s<<1|u]))return i[f]=p,t;if(c=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===c&&n===l)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(u=e>=(o=(v+m)/2))?v=o:m=o,(s=n>=(a=(g+y)/2))?g=a:y=a}while((f=s<<1|u)==(h=(l>=a)<<1|c>=o));return i[h]=d,i[f]=p,t}function MX(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function AX(t){return t[0]}function PX(t){return t[1]}function _X(t,e,n){var r=new DX(null==e?AX:e,null==n?PX:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function DX(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function TX(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}mX.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Lb(mX,lE,{transform:function(t,e){var n,r=this._features,i=this._points,o=t.fields,a=o&&o[0],c=o&&o[1],l=t.geojson||!o&&Iy,u=e.ADD;n=t.modified()||e.changed(e.REM)||e.modified(Ay(l))||a&&e.modified(Ay(a))||c&&e.modified(Ay(c)),this.value&&!n||(u=e.SOURCE,this._features=r=[],this._points=i=[]),l&&e.visit(u,(function(t){return r.push(l(t))})),a&&c&&(e.visit(u,(function(t){var e=a(t),n=c(t);null!=e&&null!=n&&(e=+e)===e&&(n=+n)===n&&i.push([e,n])})),r=r.concat({type:vX,geometry:{type:"MultiPoint",coordinates:i}})),this.value={type:gX,features:r}}}),yX.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Lb(yX,lE,{transform:function(t,e){var n=e.fork(e.ALL),r=this.value,i=t.field||Iy,o=t.as||"path",a=n.SOURCE;!r||t.modified()?(this.value=r=VG(t.projection),n.materialize().reflow()):a=i===Iy||e.modified(i.fields)?n.ADD_MOD:n.ADD;var c=function(t,e){var n=t.pointRadius();t.context(null),null!=e&&t.pointRadius(e);return n}(r,t.pointRadius);return n.visit(a,(function(t){return t[o]=r(i(t))})),r.pointRadius(c),n.modifies(o)}}),bX.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Lb(bX,lE,{transform:function(t,e){var n,r=t.projection,i=t.fields[0],o=t.fields[1],a=t.as||["x","y"],c=a[0],l=a[1];function u(t){var e=r([i(t),o(t)]);e?(t[c]=e[0],t[l]=e[1]):(t[c]=void 0,t[l]=void 0)}return t.modified()?e=e.materialize().reflow(!0).visit(e.SOURCE,u):(n=e.modified(i.fields)||e.modified(o.fields),e.visit(n?e.ADD_MOD:e.ADD,u)),e.modifies(a)}}),xX.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Lb(xX,lE,{transform:function(t,e){var n=e.fork(e.ALL),r=this.value,i=t.as||"shape",o=n.ADD;return r&&!t.modified()||(this.value=r=function(t,e,n){var r=null==n?function(n){return t(e(n))}:function(r){var i=t.pointRadius(),o=t.pointRadius(n)(e(r));return t.pointRadius(i),o};return r.context=function(e){return t.context(e),r},r}(VG(t.projection),t.field||Fy("datum"),t.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,(function(t){return t[i]=r})),n.modifies(i)}}),wX.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Lb(wX,lE,{transform:function(t,e){var n,r=this.value,i=this.generator;if(!r.length||t.modified())for(var o in t)wb(i[o])&&i[o](t[o]);return n=i(),r.length?e.mod.push(PO(r[0],n)):e.add.push(EO(n)),r[0]=n,e}}),SX.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},Lb(SX,lE,{transform:function(t,e){if(!e.changed()&&!t.modified())return e.StopPropagation;var n=e.materialize(e.SOURCE).source,r="shared"===t.resolve,i=t.field||Iy,o=function(t,e){var n;wb(t)?(n=function(n){return t(n,e)},n.dep=kX(t)):t?n=Ab(t):(n=function(t){return t.$value/t.$max||0},n.dep=!0);return n}(t.opacity,t),a=function(t,e){var n;wb(t)?(n=function(n){return(0,DF.B8)(t(n,e))},n.dep=kX(t)):n=Ab((0,DF.B8)(t||"#888"));return n}(t.color,t),c=t.as||"image",l={$x:0,$y:0,$value:0,$max:r?pE(n.map((function(t){return pE(i(t).values)}))):0};return n.forEach((function(t){var e=i(t),n=_b({},t,l);r||(n.$max=pE(e.values||[])),t[c]=function(t,e,n,r){for(var i=t.width,o=t.height,a=t.x1||0,c=t.y1||0,l=t.x2||i,u=t.y2||o,s=t.values,f=s?function(t){return s[t]}:Ry,h=N_(l-a,u-c),d=h.getContext("2d"),p=d.getImageData(0,0,l-a,u-c),v=p.data,g=c,m=0;g<u;++g){e.$y=g-c;for(var y=a,b=g*i;y<l;++y,m+=4){e.$x=y-a,e.$value=f(y+b);var x=n(e);v[m+0]=x.r,v[m+1]=x.g,v[m+2]=x.b,v[m+3]=~~(255*r(e))}}return d.putImageData(p,0,0),h}(e,n,a.dep?a:Ab(a(n)),o.dep?o:Ab(o(n)))})),e.reflow(!0).modifies(c)}}),Lb(CX,lE,{transform:function(t,e){var n=this.value;return!n||t.modified("type")?(this.value=n=function(t){var e=WG((t||"mercator").toLowerCase());e||Ty("Unrecognized projection type: "+t);return e()}(t.type),HG.forEach((function(e){null!=t[e]&&OX(n,e,t[e])}))):HG.forEach((function(e){t.modified(e)&&OX(n,e,t[e])})),null!=t.pointRadius&&n.path.pointRadius(t.pointRadius),t.fit&&function(t,e){var n=function(t){return t=bb(t),1===t.length?t[0]:{type:gX,features:t.reduce((function(t,e){return t.concat(function(t){return t.type===gX?t.features:bb(t).filter((function(t){return null!=t})).map((function(t){return t.type===vX?t:{type:vX,geometry:t}}))}(e))}),[])}}(e.fit);e.extent?t.fitExtent(e.extent,n):e.size&&t.fitSize(e.size,n)}(n,t),e.fork(e.NO_SOURCE|e.NO_FIELDS)}});var ZX=_X.prototype=DX.prototype;function FX(t){return function(){return t}}function jX(t){return 1e-6*(t()-.5)}function IX(t){return t.x+t.vx}function RX(t){return t.y+t.vy}ZX.copy=function(){var t,e,n=new DX(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=TX(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=TX(e));return n},ZX.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return EX(this.cover(e,n),e,n,t)},ZX.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),c=new Array(o),l=1/0,u=1/0,s=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,c[n]=i,r<l&&(l=r),r>s&&(s=r),i<u&&(u=i),i>f&&(f=i));if(l>s||u>f)return this;for(this.cover(l,u).cover(s,f),n=0;n<o;++n)EX(this,a[n],c[n],t[n]);return this},ZX.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,c,l=i-n||1,u=this._root;n>t||t>=i||r>e||e>=o;)switch(c=(e<r)<<1|t<n,(a=new Array(4))[c]=u,u=a,l*=2,c){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},ZX.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},ZX.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ZX.find=function(t,e,n){var r,i,o,a,c,l,u,s=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new MX(v,s,f,h,d)),null==n?n=1/0:(s=t-n,f=e-n,h=t+n,d=e+n,n*=n);l=p.pop();)if(!(!(v=l.node)||(i=l.x0)>h||(o=l.y0)>d||(a=l.x1)<s||(c=l.y1)<f))if(v.length){var g=(i+a)/2,m=(o+c)/2;p.push(new MX(v[3],g,m,a,c),new MX(v[2],i,m,g,c),new MX(v[1],g,o,a,m),new MX(v[0],i,o,g,m)),(u=(e>=m)<<1|t>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var y=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),x=y*y+b*b;if(x<n){var w=Math.sqrt(n=x);s=t-w,f=e-w,h=t+w,d=e+w,r=v.data}}return r},ZX.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,c,l,u,s,f,h,d=this._root,p=this._x0,v=this._y0,g=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((u=o>=(c=(p+g)/2))?p=c:g=c,(s=a>=(l=(v+m)/2))?v=l:m=l,e=d,!(d=d[f=s<<1|u]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},ZX.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},ZX.root=function(){return this._root},ZX.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},ZX.visit=function(t){var e,n,r,i,o,a,c=[],l=this._root;for(l&&c.push(new MX(l,this._x0,this._y0,this._x1,this._y1));e=c.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&l.length){var u=(r+o)/2,s=(i+a)/2;(n=l[3])&&c.push(new MX(n,u,s,o,a)),(n=l[2])&&c.push(new MX(n,r,s,u,a)),(n=l[1])&&c.push(new MX(n,u,i,o,s)),(n=l[0])&&c.push(new MX(n,r,i,u,s))}return this},ZX.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new MX(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,c=e.y0,l=e.x1,u=e.y1,s=(a+l)/2,f=(c+u)/2;(o=i[0])&&n.push(new MX(o,a,c,s,f)),(o=i[1])&&n.push(new MX(o,s,c,l,f)),(o=i[2])&&n.push(new MX(o,a,f,s,u)),(o=i[3])&&n.push(new MX(o,s,f,l,u))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},ZX.x=function(t){return arguments.length?(this._x=t,this):this._x},ZX.y=function(t){return arguments.length?(this._y=t,this):this._y};var LX={value:function(){}};function NX(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new BX(r)}function BX(t){this._=t}function zX(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function UX(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=LX,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}BX.prototype=NX.prototype={constructor:BX,on:function(t,e){var n,r=this._,i=function(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=UX(r[n],t.name,e);else if(null==e)for(n in r)r[n]=UX(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=zX(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new BX(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var HX,WX,VX=NX,GX=0,XX=0,qX=0,YX=1e3,$X=0,KX=0,JX=0,QX="object"==typeof performance&&performance.now?performance:Date,tq="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function eq(){return KX||(tq(nq),KX=QX.now()+JX)}function nq(){KX=0}function rq(){this._call=this._time=this._next=null}function iq(t,e,n){var r=new rq;return r.restart(t,e,n),r}function oq(){KX=($X=QX.now())+JX,GX=XX=0;try{!function(){eq(),++GX;for(var t,e=HX;e;)(t=KX-e._time)>=0&&e._call.call(void 0,t),e=e._next;--GX}()}finally{GX=0,function(){var t,e,n=HX,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:HX=e);WX=t,cq(r)}(),KX=0}}function aq(){var t=QX.now(),e=t-$X;e>YX&&(JX-=e,$X=t)}function cq(t){GX||(XX&&(XX=clearTimeout(XX)),t-KX>24?(t<1/0&&(XX=setTimeout(oq,t-QX.now()-JX)),qX&&(qX=clearInterval(qX))):(qX||($X=QX.now(),qX=setInterval(aq,YX)),GX=1,tq(oq)))}rq.prototype=iq.prototype={constructor:rq,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?eq():+n)+(null==e?0:+e),this._next||WX===this||(WX?WX._next=this:HX=this,WX=this),this._call=t,this._time=n,cq()},stop:function(){this._call&&(this._call=null,this._time=1/0,cq())}};var lq=1664525,uq=1013904223,sq=4294967296;function fq(t){return t.x}function hq(t){return t.y}var dq=10,pq=Math.PI*(3-Math.sqrt(5));function vq(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,c=new Map,l=iq(f),u=VX("tick","end"),s=function(){var t=1;return function(){return(t=(lq*t+uq)%sq)/sq}}();function f(){h(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function h(r){var l,u,s=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,c.forEach((function(t){t(n)})),l=0;l<s;++l)null==(u=t[l]).fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=dq*Math.sqrt(.5+n),o=n*pq;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,s),e}return null==t&&(t=[]),d(),e={tick:h,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),c.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(s=t,c.forEach(p),e):s},force:function(t,n){return arguments.length>1?(null==n?c.delete(t):c.set(t,p(n)),e):c.get(t)},find:function(e,n,r){var i,o,a,c,l,u=0,s=t.length;for(null==r?r=1/0:r*=r,u=0;u<s;++u)(a=(i=e-(c=t[u]).x)*i+(o=n-c.y)*o)<r&&(l=c,r=a);return l},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}}function gq(t){return t.index}function mq(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}var yq={center:function(t,e){var n,r=1;function i(){var i,o,a=n.length,c=0,l=0;for(i=0;i<a;++i)c+=(o=n[i]).x,l+=o.y;for(c=(c/a-t)*r,l=(l/a-e)*r,i=0;i<a;++i)(o=n[i]).x-=c,o.y-=l}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i},collide:function(t){var e,n,r,i=1,o=1;function a(){for(var t,a,l,u,s,f,h,d=e.length,p=0;p<o;++p)for(a=_X(e,IX,RX).visitAfter(c),t=0;t<d;++t)l=e[t],f=n[l.index],h=f*f,u=l.x+l.vx,s=l.y+l.vy,a.visit(v);function v(t,e,n,o,a){var c=t.data,d=t.r,p=f+d;if(!c)return e>u+p||o<u-p||n>s+p||a<s-p;if(c.index>l.index){var v=u-c.x-c.vx,g=s-c.y-c.vy,m=v*v+g*g;m<p*p&&(0===v&&(m+=(v=jX(r))*v),0===g&&(m+=(g=jX(r))*g),m=(p-(m=Math.sqrt(m)))/m*i,l.vx+=(v*=m)*(p=(d*=d)/(h+d)),l.vy+=(g*=m)*p,c.vx-=v*(p=1-p),c.vy-=g*p)}}}function c(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=FX(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,l()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:FX(+e),l(),a):t},a},nbody:function(){var t,e,n,r,i,o=FX(-30),a=1,c=1/0,l=.81;function u(n){var i,o=t.length,a=_X(t,fq,hq).visitAfter(f);for(r=n,i=0;i<o;++i)e=t[i],a.visit(h)}function s(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function f(t){var e,n,r,o,a,c=0,l=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(c+=e.value,l+=n,r+=n*e.x,o+=n*e.y);t.x=r/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{c+=i[e.data.index]}while(e=e.next)}t.value=c}function h(t,o,u,s){if(!t.value)return!0;var f=t.x-e.x,h=t.y-e.y,d=s-o,p=f*f+h*h;if(d*d/l<p)return p<c&&(0===f&&(p+=(f=jX(n))*f),0===h&&(p+=(h=jX(n))*h),p<a&&(p=Math.sqrt(a*p)),e.vx+=f*t.value*r/p,e.vy+=h*t.value*r/p),!0;if(!(t.length||p>=c)){(t.data!==e||t.next)&&(0===f&&(p+=(f=jX(n))*f),0===h&&(p+=(h=jX(n))*h),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(d=i[t.data.index]*r/p,e.vx+=f*d,e.vy+=h*d)}while(t=t.next)}}return u.initialize=function(e,r){t=e,n=r,s()},u.strength=function(t){return arguments.length?(o="function"==typeof t?t:FX(+t),s(),u):o},u.distanceMin=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.distanceMax=function(t){return arguments.length?(c=t*t,u):Math.sqrt(c)},u.theta=function(t){return arguments.length?(l=t*t,u):Math.sqrt(l)},u},link:function(t){var e,n,r,i,o,a,c=gq,l=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},u=FX(30),s=1;function f(r){for(var i=0,c=t.length;i<s;++i)for(var l,u,f,h,d,p,v,g=0;g<c;++g)u=(l=t[g]).source,h=(f=l.target).x+f.vx-u.x-u.vx||jX(a),d=f.y+f.vy-u.y-u.vy||jX(a),h*=p=((p=Math.sqrt(h*h+d*d))-n[g])/p*r*e[g],d*=p,f.vx-=h*(v=o[g]),f.vy-=d*v,u.vx+=h*(v=1-v),u.vy+=d*v}function h(){if(r){var a,l,u=r.length,s=t.length,f=new Map(r.map((function(t,e){return[c(t,e,r),t]})));for(a=0,i=new Array(u);a<s;++a)(l=t[a]).index=a,"object"!=typeof l.source&&(l.source=mq(f,l.source)),"object"!=typeof l.target&&(l.target=mq(f,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(a=0,o=new Array(s);a<s;++a)l=t[a],o[a]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);e=new Array(s),d(),n=new Array(s),p()}}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+l(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t,e){r=t,a=e,h()},f.links=function(e){return arguments.length?(t=e,h(),f):t},f.id=function(t){return arguments.length?(c=t,f):c},f.iterations=function(t){return arguments.length?(s=+t,f):s},f.strength=function(t){return arguments.length?(l="function"==typeof t?t:FX(+t),d(),f):l},f.distance=function(t){return arguments.length?(u="function"==typeof t?t:FX(+t),p(),f):u},f},x:function(t){var e,n,r,i=FX(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=FX(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:FX(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:FX(+e),a(),o):t},o},y:function(t){var e,n,r,i=FX(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=FX(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:FX(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:FX(+e),a(),o):t},o}},bq="forces",xq=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],wq=["static","iterations"],Sq=["x","y","vx","vy"];function kq(t){lE.call(this,null,t)}function Cq(t,e,n,r){var i,o,a,c,l=bb(e.forces);for(i=0,o=xq.length;i<o;++i)(a=xq[i])!==bq&&e.modified(a)&&t[a](e[a]);for(i=0,o=l.length;i<o;++i)c=bq+i,(a=n||e.modified(bq,i)?Eq(l[i]):r&&Oq(l[i],r)?t.force(c):null)&&t.force(c,a);for(o=t.numForces||0;i<o;++i)t.force(bq+i,null);return t.numForces=l.length,t}function Oq(t,e){var n,r;for(n in t)if(wb(r=t[n])&&e.modified(Ay(r)))return 1;return 0}function Eq(t){var e,n;for(n in Fb(yq,t.force)||Ty("Unrecognized force: "+t.force),e=yq[t.force](),t)wb(e[n])&&Mq(e[n],t[n],t);return e}function Mq(t,e,n){t(wb(e)?function(t){return e(t,n)}:e)}function Aq(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Pq(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _q(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function _q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dq(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Tq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tq(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Tq(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}kq.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Sq}]},Lb(kq,lE,{transform:function(t,e){var n,r,i=this.value,o=e.changed(e.ADD_REM),a=t.modified(xq),c=t.iterations||300;if(i?(o&&(e.modifies("index"),i.nodes(e.source)),(a||e.changed(e.MOD))&&Cq(i,t,0,e)):(this.value=i=function(t,e){var n=vq(t),r=n.stop,i=n.restart,o=!1;return n.stopped=function(){return o},n.restart=function(){return o=!1,i()},n.stop=function(){return o=!0,r()},Cq(n,e,!0).on("end",(function(){return o=!0}))}(e.source,t),i.on("tick",(n=e.dataflow,r=this,function(){return n.touch(r).run()})),t.static||(o=!0,i.tick()),e.modifies("index")),a||o||t.modified(wq)||e.changed()&&t.restart)if(i.alpha(Math.max(i.alpha(),t.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/c)),t.static)for(i.stop();--c>=0;)i.tick();else if(i.stopped()&&i.restart(),!o)return e.StopPropagation;return this.finish(t,e)},finish:function(t,e){for(var n,r=e.dataflow,i=this._argops,o=0,a=i.length;o<a;++o)if((n=i[o]).name===bq&&"link"===n.op._argval.force)for(var c,l=n.op._argops,u=0,s=l.length;u<s;++u)if("links"===l[u].name&&(c=l[u].op.source)){r.pulse(c,r.changeset().reflow());break}return e.reflow(t.modified()).modifies(Sq)}});var Zq=q().mark(Fq);function Fq(){var t,e,n,r,i,o;return q().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=[t=this];case 1:e=n.reverse(),n=[];case 2:if(!(t=e.pop())){a.next=8;break}return a.next=5,t;case 5:if(r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);a.next=2;break;case 8:if(n.length){a.next=1;break}case 9:case"end":return a.stop()}}),Zq,this)}function jq(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Rq)):void 0===e&&(e=Iq);for(var n,r,i,o,a,c=new Bq(t),l=[c];n=l.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)l.push(r=i[o]=new Bq(i[o])),r.parent=n,r.depth=n.depth+1;return c.eachBefore(Nq)}function Iq(t){return t.children}function Rq(t){return Array.isArray(t)?t[1]:null}function Lq(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Nq(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Bq(t){this.data=t,this.depth=this.height=0,this.parent=null}function zq(t){return null==t?null:Uq(t)}function Uq(t){if("function"!=typeof t)throw new Error;return t}function Hq(){return 0}function Wq(t){return function(){return t}}Bq.prototype=jq.prototype=(0,V.Z)({constructor:Bq,count:function(){return this.eachAfter(Aq)},each:function(t,e){var n,r=-1,i=Pq(this);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.call(e,o,++r,this)}}catch(a){i.e(a)}finally{i.f()}return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],c=[],l=-1;o=a.pop();)if(c.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=c.pop();)t.call(e,o,++l,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){var n,r=-1,i=Dq(this);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(t.call(e,o,++r,this))return o}}catch(a){i.e(a)}finally{i.f()}},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return jq(this).eachBefore(Lq)}},Symbol.iterator,Fq);var Vq=1664525,Gq=1013904223,Xq=4294967296;function qq(t,e){for(var n,r,i=0,o=(t=function(t,e){for(var n,r,i=t.length;i;)r=e()*i--|0,n=t[i],t[i]=t[r],t[r]=n;return t}(Array.from(t),e)).length,a=[];i<o;)n=t[i],r&&Kq(r,n)?++i:(r=Qq(a=Yq(a,n)),i=0);return r}function Yq(t,e){var n,r;if(Jq(e,t))return[e];for(n=0;n<t.length;++n)if($q(e,t[n])&&Jq(tY(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if($q(tY(t[n],t[r]),e)&&$q(tY(t[n],e),t[r])&&$q(tY(t[r],e),t[n])&&Jq(eY(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function $q(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Kq(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Jq(t,e){for(var n=0;n<e.length;++n)if(!Kq(t,e[n]))return!1;return!0}function Qq(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return tY(t[0],t[1]);case 3:return eY(t[0],t[1],t[2])}}function tY(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,c=e.r,l=o-n,u=a-r,s=c-i,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*s)/2,y:(r+a+u/f*s)/2,r:(f+i+c)/2}}function eY(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,c=e.y,l=e.r,u=n.x,s=n.y,f=n.r,h=r-a,d=r-u,p=i-c,v=i-s,g=l-o,m=f-o,y=r*r+i*i-o*o,b=y-a*a-c*c+l*l,x=y-u*u-s*s+f*f,w=d*p-h*v,S=(p*x-v*b)/(2*w)-r,k=(v*g-p*m)/w,C=(d*b-h*x)/(2*w)-i,O=(h*m-d*g)/w,E=k*k+O*O-1,M=2*(o+S*k+C*O),A=S*S+C*C-o*o,P=-(Math.abs(E)>1e-6?(M+Math.sqrt(M*M-4*E*A))/(2*E):A/M);return{x:r+S+k*P,y:i+C+O*P,r:P}}function nY(t,e,n){var r,i,o,a,c=t.x-e.x,l=t.y-e.y,u=c*c+l*l;u?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(u+a-i)/(2*u),o=Math.sqrt(Math.max(0,a/u-r*r)),n.x=t.x-r*c-o*l,n.y=t.y-r*l+o*c):(r=(u+i-a)/(2*u),o=Math.sqrt(Math.max(0,i/u-r*r)),n.x=e.x+r*c-o*l,n.y=e.y+r*l+o*c)):(n.x=e.x+n.r,n.y=e.y)}function rY(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function iY(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function oY(t){this._=t,this.next=null,this.previous=null}function aY(t,e){if(!(o=(t=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var n,r,i,o,a,c,l,u,s,f,h;if((n=t[0]).x=0,n.y=0,!(o>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;nY(r,n,i=t[2]),n=new oY(n),r=new oY(r),i=new oY(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(l=3;l<o;++l){nY(n._,r._,i=t[l]),i=new oY(i),u=r.next,s=n.previous,f=r._.r,h=n._.r;do{if(f<=h){if(rY(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue t}f+=u._.r,u=u.next}else{if(rY(s._,i._)){(n=s).next=r,r.previous=n,--l;continue t}h+=s._.r,s=s.previous}}while(u!==s.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,a=iY(n);(i=i.next)!==r;)(c=iY(i))<a&&(n=i,a=c);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=qq(n,e),l=0;l<o;++l)(n=t[l]).x-=i.x,n.y-=i.y;return i.r}function cY(t){return Math.sqrt(t.value)}function lY(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function uY(t,e,n){return function(r){if(i=r.children){var i,o,a,c=i.length,l=t(r)*e||0;if(l)for(o=0;o<c;++o)i[o].r+=l;if(a=aY(i,n),l)for(o=0;o<c;++o)i[o].r-=l;r.r=a+l}}}function sY(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function fY(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function hY(t,e,n,r,i){for(var o,a=t.children,c=-1,l=a.length,u=t.value&&(r-e)/t.value;++c<l;)(o=a[c]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*u}function dY(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return pY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pY(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function pY(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vY={depth:-1},gY={},mY={};function yY(t){return t.id}function bY(t){return t.parentId}function xY(){var t,e=yY,n=bY;function r(r){var i,o,a,c,l,u,s,f,h=Array.from(r),d=e,p=n,v=new Map;if(null!=t){var g,m=h.map((function(e,n){return function(t){t="".concat(t);var e=t.length;SY(t,e-1)&&!SY(t,e-2)&&(t=t.slice(0,-1));return"/"===t[0]?t:"/".concat(t)}(t(e,n,r))})),y=m.map(wY),b=new Set(m).add(""),x=dY(y);try{for(x.s();!(g=x.n()).done;){var w=g.value;b.has(w)||(b.add(w),m.push(w),y.push(wY(w)),h.push(mY))}}catch(k){x.e(k)}finally{x.f()}d=function(t,e){return m[e]},p=function(t,e){return y[e]}}for(a=0,i=h.length;a<i;++a)o=h[a],u=h[a]=new Bq(o),null!=(s=d(o,a,r))&&(s+="")&&(f=u.id=s,v.set(f,v.has(f)?gY:u)),null!=(s=p(o,a,r))&&(s+="")&&(u.parent=s);for(a=0;a<i;++a)if(s=(u=h[a]).parent){if(!(l=v.get(s)))throw new Error("missing: "+s);if(l===gY)throw new Error("ambiguous: "+s);l.children?l.children.push(u):l.children=[u],u.parent=l}else{if(c)throw new Error("multiple roots");c=u}if(!c)throw new Error("no root");if(null!=t){for(;c.data===mY&&1===c.children.length;)c=c.children[0],--i;for(var S=h.length-1;S>=0&&(u=h[S]).data===mY;--S)u.data=null}if(c.parent=vY,c.eachBefore((function(t){t.depth=t.parent.depth+1,--i})).eachBefore(Nq),c.parent=null,i>0)throw new Error("cycle");return c}return r.id=function(t){return arguments.length?(e=zq(t),r):e},r.parentId=function(t){return arguments.length?(n=zq(t),r):n},r.path=function(e){return arguments.length?(t=zq(e),r):t},r}function wY(t){var e=t.length;if(e<2)return"";for(;--e>1&&!SY(t,e););return t.slice(0,e)}function SY(t,e){if("/"===t[e]){for(var n=0;e>0&&"\\"===t[--e];)++n;if(0==(1&n))return!0}return!1}function kY(t,e){return t.parent===e.parent?1:2}function CY(t){var e=t.children;return e?e[0]:t.t}function OY(t){var e=t.children;return e?e[e.length-1]:t.t}function EY(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function MY(t,e,n){return t.a.parent===e.parent?t.a:n}function AY(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function PY(t,e){return t.parent===e.parent?1:2}function _Y(t,e){return t+e.x}function DY(t,e){return Math.max(t,e.y)}function TY(t,e,n,r,i){for(var o,a=t.children,c=-1,l=a.length,u=t.value&&(i-n)/t.value;++c<l;)(o=a[c]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*u}AY.prototype=Object.create(Bq.prototype);var ZY=(1+Math.sqrt(5))/2;function FY(t,e,n,r,i,o){for(var a,c,l,u,s,f,h,d,p,v,g,m=[],y=e.children,b=0,x=0,w=y.length,S=e.value;b<w;){l=i-n,u=o-r;do{s=y[x++].value}while(!s&&x<w);for(f=h=s,g=s*s*(v=Math.max(u/l,l/u)/(S*t)),p=Math.max(h/g,g/f);x<w;++x){if(s+=c=y[x].value,c<f&&(f=c),c>h&&(h=c),g=s*s*v,(d=Math.max(h/g,g/f))>p){s-=c;break}p=d}m.push(a={value:s,dice:l<u,children:y.slice(b,x)}),a.dice?hY(a,n,r,i,S?r+=u*s/S:o):TY(a,n,r,S?n+=l*s/S:i,o),S-=s,b=x}return m}var jY=function t(e){function n(t,n,r,i,o){FY(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(ZY),IY=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,c,l,u,s,f=-1,h=a.length,d=t.value;++f<h;){for(l=(c=a[f]).children,u=c.value=0,s=l.length;u<s;++u)c.value+=l[u].value;c.dice?hY(c,n,r,i,d?r+=(o-r)*c.value/d:o):TY(c,n,r,d?n+=(i-n)*c.value/d:i,o),d-=c.value}else t._squarify=a=FY(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(ZY);function RY(t,e,n){var r={};return t.each((function(t){var i=t.data;n(i)&&(r[e(i)]=t)})),t.lookup=r,t}function LY(t){lE.call(this,null,t)}LY.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};var NY=function(t){return t.values};function BY(){var t=[],e={entries:function(t){return r(n(t,0),0)},key:function(n){return t.push(n),e}};function n(e,r){if(r>=t.length)return e;for(var i,o,a,c=e.length,l=t[r++],u={},s={},f=-1;++f<c;)(a=u[i=l(o=e[f])+""])?a.push(o):u[i]=[o];for(i in u)s[i]=n(u[i],r);return s}function r(e,n){if(++n>t.length)return e;var i=[];for(var o in e)i.push({key:o,values:r(e[o],n)});return i}return e}function zY(t){lE.call(this,null,t)}Lb(LY,lE,{transform:function(t,e){e.source||Ty("Nest transform requires an upstream data source.");var n=t.generate,r=t.modified(),i=e.clone(),o=this.value;return(!o||r||e.changed())&&(o&&o.each((function(t){t.children&&kO(t.data)&&i.rem.push(t.data)})),this.value=o=jq({values:bb(t.keys).reduce((function(t,e){return t.key(e),t}),BY()).entries(i.source)},NY),n&&o.each((function(t){t.children&&(t=EO(t.data),i.add.push(t),i.source.push(t))})),RY(o,CO,CO)),i.source.root=o,i}});var UY=function(t,e){return t.parent===e.parent?1:2};Lb(zY,lE,{transform:function(t,e){e.source&&e.source.root||Ty(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(t.method),r=this.fields,i=e.source.root,o=t.as||r;t.field?i.sum(t.field):i.count(),t.sort&&i.sort(_O(t.sort,(function(t){return t.data}))),function(t,e,n){for(var r,i=0,o=e.length;i<o;++i)(r=e[i])in n&&t[r](n[r])}(n,this.params,t),n.separation&&n.separation(!1!==t.separation?UY:Ly);try{this.value=n(i)}catch(a){Ty(a)}return i.each((function(t){return function(t,e,n){for(var r=t.data,i=e.length-1,o=0;o<i;++o)r[n[o]]=t[e[o]];r[n[i]]=t.children?t.children.length:0}(t,r,o)})),e.reflow(t.modified()).modifies(o).modifies("leaf")}});var HY=["x","y","r","depth","children"];function WY(t){zY.call(this,t)}WY.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:HY.length,default:HY}]},Lb(WY,zY,{layout:function(){var t=null,e=1,n=1,r=Hq;function i(i){var o=function(){var t=1;return function(){return(t=(Vq*t+Gq)%Xq)/Xq}}();return i.x=e/2,i.y=n/2,t?i.eachBefore(lY(t)).eachAfter(uY(r,.5,o)).eachBefore(sY(1)):i.eachBefore(lY(cY)).eachAfter(uY(Hq,1,o)).eachAfter(uY(r,i.r/Math.min(e,n),o)).eachBefore(sY(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=zq(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:Wq(+t),i):r},i},params:["radius","size","padding"],fields:HY});var VY=["x0","y0","x1","y1","depth","children"];function GY(t){zY.call(this,t)}function XY(t){lE.call(this,null,t)}GY.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:VY.length,default:VY}]},Lb(GY,zY,{layout:function(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&hY(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,c=r.y1-n;a<i&&(i=a=(i+a)/2),c<o&&(o=c=(o+c)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=c}}(e,o)),r&&i.eachBefore(fY),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},params:["size","round","padding"],fields:VY}),XY.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Lb(XY,lE,{transform:function(t,e){e.source||Ty("Stratify transform requires an upstream data source.");var n=this.value,r=t.modified(),i=e.fork(e.ALL).materialize(e.SOURCE),o=!n||r||e.changed(e.ADD_REM)||e.modified(t.key.fields)||e.modified(t.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?RY(xY().id(t.key).parentId(t.parentKey)(i.source),t.key,Ny):RY(xY()([{}]),t.key,t.key)),i.source.root=this.value=n,i}});var qY={tidy:function(){var t=kY,e=1,n=1,r=null;function i(i){var l=function(t){for(var e,n,r,i,o,a=new AY(t,0),c=[a];e=c.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)c.push(n=e.children[i]=new AY(r[i],i)),n.parent=e;return(a.parent=new AY(null,0)).children=[a],a}(i);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),r)i.eachBefore(c);else{var u=i,s=i,f=i;i.eachBefore((function(t){t.x<u.x&&(u=t),t.x>s.x&&(s=t),t.depth>f.depth&&(f=t)}));var h=u===s?1:t(u,s)/2,d=h-u.x,p=e/(s.x+h+d),v=n/(f.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*v}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,c=n,l=o.parent.children[0],u=o.m,s=a.m,f=c.m,h=l.m;c=OY(c),o=CY(o),c&&o;)l=CY(l),(a=OY(a)).a=e,(i=c.z+f-o.z-u+t(c._,o._))>0&&(EY(MY(c,e,r),e,i),u+=i,s+=i),f+=c.m,u+=o.m,h+=l.m,s+=a.m;c&&!OY(a)&&(a.t=c,a.m+=f-s),o&&!CY(l)&&(l.t=o,l.m+=u-h,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function c(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},cluster:function(){var t=PY,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(_Y,0)/t.length}(n),e.y=function(t){return 1+t.reduce(DY,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var c=function(t){for(var e;e=t.children;)t=e[0];return t}(i),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),u=c.x-t(c,l)/2,s=l.x+t(l,c)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-u)/(s-u)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}},YY=["x","y","depth","children"];function $Y(t){zY.call(this,t)}function KY(t){lE.call(this,[],t)}$Y.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:YY.length,default:YY}]},Lb($Y,zY,{layout:function(t){var e=t||"tidy";if(Fb(qY,e))return qY[e]();Ty("Unrecognized Tree layout method: "+e)},params:["size","nodeSize"],fields:YY}),KY.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Lb(KY,lE,{transform:function(t,e){var n=this.value,r=e.source&&e.source.root,i=e.fork(e.NO_SOURCE),o={};return r||Ty("TreeLinks transform requires a tree data source."),e.changed(e.ADD_REM)?(i.rem=n,e.visit(e.SOURCE,(function(t){return o[CO(t)]=1})),r.each((function(t){var e=t.data,n=t.parent&&t.parent.data;n&&o[CO(e)]&&o[CO(n)]&&i.add.push(EO({source:n,target:e}))})),this.value=i.add):e.changed(e.MOD)&&(e.visit(e.MOD,(function(t){return o[CO(t)]=1})),n.forEach((function(t){(o[CO(t.source)]||o[CO(t.target)])&&i.mod.push(t)}))),i}});var JY={binary:function(t,e,n,r,i){var o,a,c=t.children,l=c.length,u=new Array(l+1);for(u[0]=a=o=0;o<l;++o)u[o+1]=a+=c[o].value;!function t(e,n,r,i,o,a,l){if(e>=n-1){var s=c[e];return s.x0=i,s.y0=o,s.x1=a,void(s.y1=l)}var f=u[e],h=r/2+f,d=e+1,p=n-1;for(;d<p;){var v=d+p>>>1;u[v]<h?d=v+1:p=v}h-u[d-1]<u[d]-h&&e+1<d&&--d;var g=u[d]-f,m=r-g;if(a-i>l-o){var y=r?(i*m+a*g)/r:a;t(e,d,g,i,o,y,l),t(d,n,m,y,o,a,l)}else{var b=r?(o*m+l*g)/r:l;t(e,d,g,i,o,a,b),t(d,n,m,i,b,a,l)}}(0,l,t.value,e,n,r,i)},dice:hY,slice:TY,slicedice:function(t,e,n,r,i){(1&t.depth?TY:hY)(t,e,n,r,i)},squarify:jY,resquarify:IY},QY=["x0","y0","x1","y1","depth","children"];function t$(t){zY.call(this,t)}function e$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function n$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?e$(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}t$.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:QY.length,default:QY}]},Lb(t$,zY,{layout:function(){var t=function(){var t=jY,e=!1,n=1,r=1,i=[0],o=Hq,a=Hq,c=Hq,l=Hq,u=Hq;function s(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(fY),t}function f(e){var n=i[e.depth],r=e.x0+n,s=e.y0+n,f=e.x1-n,h=e.y1-n;f<r&&(r=f=(r+f)/2),h<s&&(s=h=(s+h)/2),e.x0=r,e.y0=s,e.x1=f,e.y1=h,e.children&&(n=i[e.depth+1]=o(e)/2,r+=u(e)-n,s+=a(e)-n,(f-=c(e)-n)<r&&(r=f=(r+f)/2),(h-=l(e)-n)<s&&(s=h=(s+h)/2),t(e,r,s,f,h))}return s.round=function(t){return arguments.length?(e=!!t,s):e},s.size=function(t){return arguments.length?(n=+t[0],r=+t[1],s):[n,r]},s.tile=function(e){return arguments.length?(t=Uq(e),s):t},s.padding=function(t){return arguments.length?s.paddingInner(t).paddingOuter(t):s.paddingInner()},s.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:Wq(+t),s):o},s.paddingOuter=function(t){return arguments.length?s.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):s.paddingTop()},s.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:Wq(+t),s):a},s.paddingRight=function(t){return arguments.length?(c="function"==typeof t?t:Wq(+t),s):c},s.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:Wq(+t),s):l},s.paddingLeft=function(t){return arguments.length?(u="function"==typeof t?t:Wq(+t),s):u},s}();return t.ratio=function(e){var n=t.tile();n.ratio&&t.tile(n.ratio(e))},t.method=function(e){Fb(JY,e)?t.tile(JY[e]):Ty("Unrecognized Treemap layout method: "+e)},t},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:QY});var r$=4278190080;function i$(t,e,n){return new Uint32Array(t.getImageData(0,0,e,n).data.buffer)}function o$(t,e,n){if(e.length){var r=e[0].mark.marktype;"group"===r?e.forEach((function(e){e.items.forEach((function(e){return o$(t,e.items,n)}))})):LN[r].draw(t,{items:n?e.map(a$):e})}}function a$(t){var e=AO(t,{});return e.stroke&&0!==e.strokeOpacity||e.fill&&0!==e.fillOpacity?n$(n$({},e),{},{strokeOpacity:1,stroke:"#000",fillOpacity:0}):e}var c$=5,l$=31,u$=32,s$=new Uint32Array(u$+1),f$=new Uint32Array(u$+1);f$[0]=0,s$[0]=~f$[0];for(var h$=1;h$<=u$;++h$)f$[h$]=f$[h$-1]<<1|1,s$[h$]=~f$[h$];function d$(t,e,n){var r=Math.max(1,Math.sqrt(t*e/1e6)),i=~~((t+2*n+r)/r),o=~~((e+2*n+r)/r),a=function(t){return~~((t+n)/r)};return a.invert=function(t){return t*r-n},a.bitmap=function(){return function(t,e){var n=new Uint32Array(~~((t*e+u$)/u$));function r(t,e){n[t]|=e}function i(t,e){n[t]&=e}return{array:n,get:function(e,r){var i=r*t+e;return n[i>>>c$]&1<<(i&l$)},set:function(e,n){var i=n*t+e;r(i>>>c$,1<<(i&l$))},clear:function(e,n){var r=n*t+e;i(r>>>c$,~(1<<(r&l$)))},getRange:function(e,r,i,o){for(var a,c,l,u,s=o;s>=r;--s)if((l=(a=s*t+e)>>>c$)==(u=(c=s*t+i)>>>c$)){if(n[l]&s$[a&l$]&f$[1+(c&l$)])return!0}else{if(n[l]&s$[a&l$])return!0;if(n[u]&f$[1+(c&l$)])return!0;for(var f=l+1;f<u;++f)if(n[f])return!0}return!1},setRange:function(e,n,i,o){for(var a,c,l,u,s;n<=o;++n)if((l=(a=n*t+e)>>>c$)==(u=(c=n*t+i)>>>c$))r(l,s$[a&l$]&f$[1+(c&l$)]);else for(r(l,s$[a&l$]),r(u,f$[1+(c&l$)]),s=l+1;s<u;++s)r(s,4294967295)},clearRange:function(e,n,r,o){for(var a,c,l,u,s;n<=o;++n)if((l=(a=n*t+e)>>>c$)==(u=(c=n*t+r)>>>c$))i(l,f$[a&l$]|s$[1+(c&l$)]);else for(i(l,f$[a&l$]),i(u,s$[1+(c&l$)]),s=l+1;s<u;++s)i(s,0)},outOfBounds:function(n,r,i,o){return n<0||r<0||o>=e||i>=t}}}(i,o)},a.ratio=r,a.padding=n,a.width=t,a.height=e,a}function p$(t,e,n,r,i,o){var a=n/2;return t-a<0||t+a>i||e-(a=r/2)<0||e+a>o}function v$(t,e,n,r,i,o,a,c){var l=i*o/(2*r),u=t(e-l),s=t(e+l),f=t(n-(o/=2)),h=t(n+o);return a.outOfBounds(u,f,s,h)||a.getRange(u,f,s,h)||c&&c.getRange(u,f,s,h)}var g$=[-1,-1,1,1],m$=[-1,1,-1,1];var y$=["right","center","left"],b$=["bottom","middle","top"];function x$(t,e,n,r,i,o,a,c,l,u,s,f){return!(i.outOfBounds(t,n,e,r)||(f&&o||i).getRange(t,n,e,r))}var w$={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},S$={naive:function(t,e,n,r){var i=t.width,o=t.height;return function(t){for(var e,n,a,c,l,u,s,f=t.datum.datum.items[r].items,h=f.length,d=t.datum.fontSize,p=yN.width(t.datum,t.datum.text),v=0,g=0;g<h;++g)e=f[g].x,a=f[g].y,l=(e+(n=void 0===f[g].x2?e:f[g].x2))/2,u=(a+(c=void 0===f[g].y2?a:f[g].y2))/2,(s=Math.abs(n-e+c-a))>=v&&(v=s,t.x=l,t.y=u);return l=p/2,u=d/2,e=t.x-l,n=t.x+l,a=t.y-u,c=t.y+u,t.align="center",e<0&&n<=i?t.align="left":0<=e&&i<n&&(t.align="right"),t.baseline="middle",a<0&&c<=o?t.baseline="top":0<=a&&o<c&&(t.baseline="bottom"),!0}},"reduced-search":function(t,e,n,r){var i=t.width,o=t.height,a=e[0],c=e[1];function l(e,n,r,l,u){var s,f=t.invert(e),h=t.invert(n),d=r,p=o;if(!p$(f,h,l,u,i,o)&&!v$(t,f,h,u,l,d,a,c)&&!v$(t,f,h,u,l,u,a,null)){for(;p-d>=1;)v$(t,f,h,u,l,s=(d+p)/2,a,c)?p=s:d=s;if(d>r)return[f,h,d,!0]}}return function(e){for(var c,u,s,f,h,d,p,v,g,m,y,b,x,w,S,k,C,O=e.datum.datum.items[r].items,E=O.length,M=e.datum.fontSize,A=yN.width(e.datum,e.datum.text),P=n?M:0,_=!1,D=!1,T=0,Z=0;Z<E;++Z){for(c=O[Z].x,s=O[Z].y,c>(u=void 0===O[Z].x2?c:O[Z].x2)&&(C=c,c=u,u=C),s>(f=void 0===O[Z].y2?s:O[Z].y2)&&(C=s,s=f,f=C),m=~~(((g=t(c))+(y=t(u)))/2),x=~~(((b=t(s))+(w=t(f)))/2),p=m;p>=g;--p)for(v=x;v>=b;--v)if(k=l(p,v,P,A,M)){var F=k,j=(0,G.Z)(F,4);e.x=j[0],e.y=j[1],P=j[2],_=j[3]}for(p=m;p<=y;++p)for(v=x;v<=w;++v)if(k=l(p,v,P,A,M)){var I=k,R=(0,G.Z)(I,4);e.x=R[0],e.y=R[1],P=R[2],_=R[3]}_||n||(h=(c+u)/2,d=(s+f)/2,(S=Math.abs(u-c+f-s))>=T&&!p$(h,d,A,M,i,o)&&!v$(t,h,d,M,A,M,a,null)&&(T=S,e.x=h,e.y=d,D=!0))}return!(!_&&!D)&&(h=A/2,d=M/2,a.setRange(t(e.x-h),t(e.y-d),t(e.x+h),t(e.y+d)),e.align="center",e.baseline="middle",!0)}},floodfill:function(t,e,n,r){var i=t.width,o=t.height,a=e[0],c=e[1],l=t.bitmap();return function(e){for(var u,s,f,h,d,p,v,g,m,y,b,x,w=e.datum.datum.items[r].items,S=w.length,k=e.datum.fontSize,C=yN.width(e.datum,e.datum.text),O=[],E=n?k:0,M=!1,A=!1,P=0,_=0;_<S;++_){for(u=w[_].x,f=w[_].y,s=void 0===w[_].x2?u:w[_].x2,h=void 0===w[_].y2?f:w[_].y2,O.push([t((u+s)/2),t((f+h)/2)]);O.length;){var D=O.pop(),T=(0,G.Z)(D,2);if(v=T[0],g=T[1],!(a.get(v,g)||c.get(v,g)||l.get(v,g))){l.set(v,g);for(var Z=0;Z<4;++Z)d=v+g$[Z],p=g+m$[Z],l.outOfBounds(d,p,d,p)||O.push([d,p]);if(d=t.invert(v),p=t.invert(g),m=E,y=o,!p$(d,p,C,k,i,o)&&!v$(t,d,p,k,C,m,a,c)&&!v$(t,d,p,k,C,k,a,null)){for(;y-m>=1;)v$(t,d,p,k,C,b=(m+y)/2,a,c)?y=b:m=b;m>E&&(e.x=d,e.y=p,E=m,M=!0)}}}M||n||(d=(u+s)/2,p=(f+h)/2,(x=Math.abs(s-u+h-f))>=P&&!p$(d,p,C,k,i,o)&&!v$(t,d,p,k,C,k,a,null)&&(P=x,e.x=d,e.y=p,A=!0))}return!(!M&&!A)&&(d=C/2,p=k/2,a.setRange(t(e.x-d),t(e.y-p),t(e.x+d),t(e.y+p)),e.align="center",e.baseline="middle",!0)}}};function k$(t,e,n,r,i,o,a,c,l,u,s){if(!t.length)return t;var f,h=Math.max(r.length,i.length),d=function(t,e){for(var n=new Float64Array(e),r=t.length,i=0;i<r;++i)n[i]=t[i]||0;for(var o=r;o<e;++o)n[o]=n[r-1];return n}(r,h),p=function(t,e){for(var n=new Int8Array(e),r=t.length,i=0;i<r;++i)n[i]|=w$[t[i]];for(var o=r;o<e;++o)n[o]=n[r-1];return n}(i,h),v=(f=t[0].datum)&&f.mark&&f.mark.marktype,g="group"===v&&t[0].datum.items[l].marktype,m="area"===g,y=function(t,e,n,r){var i=function(t){return[t.x,t.x,t.x,t.y,t.y,t.y]};return t?"line"===t||"area"===t?function(t){return i(t.datum)}:"line"===e?function(t){var e=t.datum.items[r].items;return i(e.length?e["start"===n?0:e.length-1]:{x:NaN,y:NaN})}:function(t){var e=t.datum.bounds;return[e.x1,(e.x1+e.x2)/2,e.x2,e.y1,(e.y1+e.y2)/2,e.y2]}:i}(v,g,c,l),b=null===u||u===1/0,x=m&&"naive"===s,w=-1,S=-1,k=t.map((function(t){var e=b?yN.width(t,t.text):void 0;return w=Math.max(w,e),S=Math.max(S,t.fontSize),{datum:t,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(t),textWidth:e}}));u=null===u||u===1/0?Math.max(w,S)+Math.max.apply(Math,(0,Xm.Z)(r)):u;var C,O=d$(e[0],e[1],u);if(!x){n&&k.sort((function(t,e){return n(t.datum,e.datum)}));for(var E=!1,M=0;M<p.length&&!E;++M)E=5===p[M]||d[M]<0;var A=(v&&a||m)&&t.map((function(t){return t.datum}));C=o.length||A?function(t,e,n,r,i){var o=t.width,a=t.height,c=r||i,l=N_(o,a).getContext("2d"),u=N_(o,a).getContext("2d"),s=c&&N_(o,a).getContext("2d");n.forEach((function(t){return o$(l,t,!1)})),o$(u,e,!1),c&&o$(s,e,!0);var f,h,d,p,v,g,m,y,b=i$(l,o,a),x=i$(u,o,a),w=c&&i$(s,o,a),S=t.bitmap(),k=c&&t.bitmap();for(h=0;h<a;++h)for(f=0;f<o;++f)g=b[v=h*o+f]&r$,y=x[v]&r$,m=c&&w[v]&r$,(g||m||y)&&(d=t(f),p=t(h),i||!g&&!y||S.set(d,p),c&&(g||m)&&k.set(d,p));return[S,k]}(O,A||[],o,E,m):function(t,e){var n=t.bitmap();return(e||[]).forEach((function(e){return n.set(t(e.boundary[0]),t(e.boundary[3]))})),[n,void 0]}(O,a&&k)}var P=m?S$[s](O,C,a,l):function(t,e,n,r){var i=t.width,o=t.height,a=e[0],c=e[1],l=r.length;return function(e){var u,s=e.boundary,f=e.datum.fontSize;if(s[2]<0||s[5]<0||s[0]>i||s[3]>o)return!1;for(var h,d,p,v,g,m,y,b,x,w,S,k,C,O,E,M=null!==(u=e.textWidth)&&void 0!==u?u:0,A=0;A<l;++A){if(h=(3&n[A])-1,d=(n[A]>>>2&3)-1,p=0===h&&0===d||r[A]<0,v=h&&d?Math.SQRT1_2:1,g=r[A]<0?-1:1,m=s[1+h]+r[A]*h*v,b=(S=s[4+d]+g*f*d/2+r[A]*d*v)-f/2,x=S+f/2,k=t(m),O=t(b),E=t(x),!M){if(!x$(k,k,O,E,a,c,0,0,0,0,0,p))continue;M=yN.width(e.datum,e.datum.text)}if(y=(w=m+g*M*h/2)+M/2,x$(k=t(m=w-M/2),C=t(y),O,E,a,c,0,0,0,0,0,p))return e.x=h?h*g<0?y:m:w,e.y=d?d*g<0?x:b:S,e.align=y$[h*g+1],e.baseline=b$[d*g+1],a.setRange(k,O,C,E),!0}return!1}}(O,C,p,d);return k.forEach((function(t){return t.opacity=+P(t)})),k}var C$=["x","y","opacity","align","baseline"],O$=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function E$(t){lE.call(this,null,t)}function M$(t,e){var n,r,i,o,a,c,l=[],u=function(t){return t(o)};if(null==e)l.push(t);else for(n={},r=0,i=t.length;r<i;++r)o=t[r],(c=n[a=e.map(u)])||(n[a]=c=[],c.dims=a,l.push(c)),c.push(o);return l}function A$(t){lE.call(this,null,t)}E$.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:O$},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:C$.length,default:C$}]},Lb(E$,lE,{transform:function(t,e){var n=t.modified();if(n||e.changed(e.ADD_REM)||function(n){var r=t[n];return wb(r)&&e.modified(r.fields)}("sort")){t.size&&2===t.size.length||Ty("Size parameter should be specified as a [width, height] array.");var r=t.as||C$;return k$(e.materialize(e.SOURCE).source||[],t.size,t.sort,bb(null==t.offset?1:t.offset),bb(t.anchor||O$),t.avoidMarks||[],!1!==t.avoidBaseMark,t.lineAnchor||"end",t.markIndex||0,void 0===t.padding?0:t.padding,t.method||"naive").forEach((function(t){var e=t.datum;e[r[0]]=t.x,e[r[1]]=t.y,e[r[2]]=t.opacity,e[r[3]]=t.align,e[r[4]]=t.baseline})),e.reflow(n).modifies(r)}}}),A$.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Lb(A$,lE,{transform:function(t,e){var n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){var r=M$(e.materialize(e.SOURCE).source,t.groupby),i=(t.groupby||[]).map(My),o=i.length,a=t.as||[My(t.x),My(t.y)],c=[];r.forEach((function(e){MM(e,t.x,t.y,t.bandwidth||.3).forEach((function(t){for(var n={},r=0;r<o;++r)n[i[r]]=e.dims[r];n[a[0]]=t[0],n[a[1]]=t[1],c.push(EO(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});var P$={constant:dM,linear:yM,log:bM,exp:xM,pow:wM,quad:SM,poly:kM};function _$(t){lE.call(this,null,t)}_$.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(P$)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Lb(_$,lE,{transform:function(t,e){var n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){var r=M$(e.materialize(e.SOURCE).source,t.groupby),i=(t.groupby||[]).map(My),o=t.method||"linear",a=null==t.order?3:t.order,c=function(t,e){return"poly"===t?e:"quad"===t?2:1}(o,a),l=t.as||[My(t.x),My(t.y)],u=P$[o],s=[],f=t.extent;Fb(P$,o)||Ty("Invalid regression method: "+o),null!=f&&"log"===o&&f[0]<=0&&(e.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),r.forEach((function(n){if(n.length<=c)e.dataflow.warn("Skipping regression with more parameters than data points.");else{var r=u(n,t.x,t.y,a);if(t.params)s.push(EO({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));else{var h=f||Db(n,t.x),d=function(t){for(var e={},r=0;r<i.length;++r)e[i[r]]=n.dims[r];e[l[0]]=t[0],e[l[1]]=t[1],s.push(EO(e))};"linear"===o||"constant"===o?h.forEach((function(t){return d([t,r.predict(t)])})):DM(r.predict,h,25,200).forEach(d)}}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=s}return n}});var D$=134217729,T$=33306690738754706e-32;function Z$(t,e,n,r,i){var o,a,c,l,u=e[0],s=r[0],f=0,h=0;s>u==s>-u?(o=u,u=e[++f]):(o=s,s=r[++h]);var d=0;if(f<t&&h<n)for(s>u==s>-u?(c=o-((a=u+o)-u),u=e[++f]):(c=o-((a=s+o)-s),s=r[++h]),o=a,0!==c&&(i[d++]=c);f<t&&h<n;)s>u==s>-u?(c=o-((a=o+u)-(l=a-o))+(u-l),u=e[++f]):(c=o-((a=o+s)-(l=a-o))+(s-l),s=r[++h]),o=a,0!==c&&(i[d++]=c);for(;f<t;)c=o-((a=o+u)-(l=a-o))+(u-l),u=e[++f],o=a,0!==c&&(i[d++]=c);for(;h<n;)c=o-((a=o+s)-(l=a-o))+(s-l),s=r[++h],o=a,0!==c&&(i[d++]=c);return 0===o&&0!==d||(i[d++]=o),d}function F$(t){return new Float64Array(t)}var j$=22204460492503146e-32,I$=11093356479670487e-47,R$=F$(4),L$=F$(8),N$=F$(12),B$=F$(16),z$=F$(4);function U$(t,e,n,r,i,o){var a=(e-o)*(n-i),c=(t-i)*(r-o),l=a-c,u=Math.abs(a+c);return Math.abs(l)>=33306690738754716e-32*u?l:-function(t,e,n,r,i,o,a){var c,l,u,s,f,h,d,p,v,g,m,y,b,x,w,S,k,C,O=t-i,E=n-i,M=e-o,A=r-o;f=(w=(p=O-(d=(h=D$*O)-(h-O)))*(g=A-(v=(h=D$*A)-(h-A)))-((x=O*A)-d*v-p*v-d*g))-(m=w-(k=(p=M-(d=(h=D$*M)-(h-M)))*(g=E-(v=(h=D$*E)-(h-E)))-((S=M*E)-d*v-p*v-d*g))),R$[0]=w-(m+f)+(f-k),f=(b=x-((y=x+m)-(f=y-x))+(m-f))-(m=b-S),R$[1]=b-(m+f)+(f-S),f=(C=y+m)-y,R$[2]=y-(C-f)+(m-f),R$[3]=C;var P=function(t,e){for(var n=e[0],r=1;r<t;r++)n+=e[r];return n}(4,R$),_=j$*a;if(P>=_||-P>=_)return P;if(c=t-(O+(f=t-O))+(f-i),u=n-(E+(f=n-E))+(f-i),l=e-(M+(f=e-M))+(f-o),s=r-(A+(f=r-A))+(f-o),0===c&&0===l&&0===u&&0===s)return P;if(_=I$*a+T$*Math.abs(P),(P+=O*s+A*c-(M*u+E*l))>=_||-P>=_)return P;f=(w=(p=c-(d=(h=D$*c)-(h-c)))*(g=A-(v=(h=D$*A)-(h-A)))-((x=c*A)-d*v-p*v-d*g))-(m=w-(k=(p=l-(d=(h=D$*l)-(h-l)))*(g=E-(v=(h=D$*E)-(h-E)))-((S=l*E)-d*v-p*v-d*g))),z$[0]=w-(m+f)+(f-k),f=(b=x-((y=x+m)-(f=y-x))+(m-f))-(m=b-S),z$[1]=b-(m+f)+(f-S),f=(C=y+m)-y,z$[2]=y-(C-f)+(m-f),z$[3]=C;var D=Z$(4,R$,4,z$,L$);f=(w=(p=O-(d=(h=D$*O)-(h-O)))*(g=s-(v=(h=D$*s)-(h-s)))-((x=O*s)-d*v-p*v-d*g))-(m=w-(k=(p=M-(d=(h=D$*M)-(h-M)))*(g=u-(v=(h=D$*u)-(h-u)))-((S=M*u)-d*v-p*v-d*g))),z$[0]=w-(m+f)+(f-k),f=(b=x-((y=x+m)-(f=y-x))+(m-f))-(m=b-S),z$[1]=b-(m+f)+(f-S),f=(C=y+m)-y,z$[2]=y-(C-f)+(m-f),z$[3]=C;var T=Z$(D,L$,4,z$,N$);f=(w=(p=c-(d=(h=D$*c)-(h-c)))*(g=s-(v=(h=D$*s)-(h-s)))-((x=c*s)-d*v-p*v-d*g))-(m=w-(k=(p=l-(d=(h=D$*l)-(h-l)))*(g=u-(v=(h=D$*u)-(h-u)))-((S=l*u)-d*v-p*v-d*g))),z$[0]=w-(m+f)+(f-k),f=(b=x-((y=x+m)-(f=y-x))+(m-f))-(m=b-S),z$[1]=b-(m+f)+(f-S),f=(C=y+m)-y,z$[2]=y-(C-f)+(m-f),z$[3]=C;var Z=Z$(T,N$,4,z$,B$);return B$[Z-1]}(t,e,n,r,i,o,u)}F$(4),F$(4),F$(4),F$(4),F$(4),F$(4),F$(4),F$(4),F$(4),F$(8),F$(8),F$(8),F$(4),F$(8),F$(8),F$(8),F$(12),F$(192),F$(192);F$(4),F$(4),F$(4),F$(4),F$(4),F$(4),F$(4),F$(4),F$(8),F$(8),F$(8),F$(8),F$(8),F$(8),F$(8),F$(8),F$(8),F$(4),F$(4),F$(4),F$(8),F$(16),F$(16),F$(16),F$(32),F$(32),F$(48),F$(64),F$(1152),F$(1152);F$(4),F$(4),F$(4),F$(4),F$(4),F$(4),F$(4),F$(4),F$(4),F$(4),F$(24),F$(24),F$(24),F$(24),F$(24),F$(24),F$(24),F$(24),F$(24),F$(24),F$(1152),F$(1152),F$(1152),F$(1152),F$(1152),F$(2304),F$(2304),F$(3456),F$(5760),F$(8),F$(8),F$(8),F$(16),F$(24),F$(48),F$(48),F$(96),F$(192),F$(384),F$(384),F$(384),F$(768);F$(96),F$(96),F$(96),F$(1152);var H$=Math.pow(2,-52),W$=new Uint32Array(512),V$=function(){function t(e){(0,Rm.Z)(this,t);var n=e.length>>1;if(n>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return(0,Lm.Z)(t,[{key:"update",value:function(){for(var t=this.coords,e=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,o=t.length>>1,a=1/0,c=1/0,l=-1/0,u=-1/0,s=0;s<o;s++){var f=t[2*s],h=t[2*s+1];f<a&&(a=f),h<c&&(c=h),f>l&&(l=f),h>u&&(u=h),this._ids[s]=s}for(var d,p,v,g=(a+l)/2,m=(c+u)/2,y=1/0,b=0;b<o;b++){var x=G$(g,m,t[2*b],t[2*b+1]);x<y&&(d=b,y=x)}var w=t[2*d],S=t[2*d+1];y=1/0;for(var k=0;k<o;k++)if(k!==d){var C=G$(w,S,t[2*k],t[2*k+1]);C<y&&C>0&&(p=k,y=C)}for(var O=t[2*p],E=t[2*p+1],M=1/0,A=0;A<o;A++)if(A!==d&&A!==p){var P=q$(w,S,O,E,t[2*A],t[2*A+1]);P<M&&(v=A,M=P)}var _=t[2*v],D=t[2*v+1];if(M===1/0){for(var T=0;T<o;T++)this._dists[T]=t[2*T]-t[0]||t[2*T+1]-t[1];Y$(this._ids,this._dists,0,o-1);for(var Z=new Uint32Array(o),F=0,j=0,I=-1/0;j<o;j++){var R=this._ids[j];this._dists[R]>I&&(Z[F++]=R,I=this._dists[R])}return this.hull=Z.subarray(0,F),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(U$(w,S,O,E,_,D)<0){var L=p,N=O,B=E;p=v,O=_,E=D,v=L,_=N,D=B}var z=function(t,e,n,r,i,o){var a=n-t,c=r-e,l=i-t,u=o-e,s=a*a+c*c,f=l*l+u*u,h=.5/(a*u-c*l),d=t+(u*s-c*f)*h,p=e+(a*f-l*s)*h;return{x:d,y:p}}(w,S,O,E,_,D);this._cx=z.x,this._cy=z.y;for(var U=0;U<o;U++)this._dists[U]=G$(t[2*U],t[2*U+1],z.x,z.y);Y$(this._ids,this._dists,0,o-1),this._hullStart=d;var H=3;n[d]=e[v]=p,n[p]=e[d]=v,n[v]=e[p]=d,r[d]=0,r[p]=1,r[v]=2,i.fill(-1),i[this._hashKey(w,S)]=d,i[this._hashKey(O,E)]=p,i[this._hashKey(_,D)]=v,this.trianglesLen=0,this._addTriangle(d,p,v,-1,-1,-1);for(var W,V,G=0;G<this._ids.length;G++){var X=this._ids[G],q=t[2*X],Y=t[2*X+1];if(!(G>0&&Math.abs(q-W)<=H$&&Math.abs(Y-V)<=H$)&&(W=q,V=Y,X!==d&&X!==p&&X!==v)){for(var $=0,K=0,J=this._hashKey(q,Y);K<this._hashSize&&(-1===($=i[(J+K)%this._hashSize])||$===n[$]);K++);for(var Q=$=e[$],tt=void 0;tt=n[Q],U$(q,Y,t[2*Q],t[2*Q+1],t[2*tt],t[2*tt+1])>=0;)if((Q=tt)===$){Q=-1;break}if(-1!==Q){var et=this._addTriangle(Q,X,n[Q],-1,-1,r[Q]);r[X]=this._legalize(et+2),r[Q]=et,H++;for(var nt=n[Q];tt=n[nt],U$(q,Y,t[2*nt],t[2*nt+1],t[2*tt],t[2*tt+1])<0;)et=this._addTriangle(nt,X,tt,r[X],-1,r[nt]),r[X]=this._legalize(et+2),n[nt]=nt,H--,nt=tt;if(Q===$)for(;U$(q,Y,t[2*(tt=e[Q])],t[2*tt+1],t[2*Q],t[2*Q+1])<0;)et=this._addTriangle(tt,X,Q,-1,r[Q],r[tt]),this._legalize(et+2),r[tt]=et,n[Q]=Q,H--,Q=tt;this._hullStart=e[X]=Q,n[Q]=e[nt]=X,n[X]=nt,i[this._hashKey(q,Y)]=X,i[this._hashKey(t[2*Q],t[2*Q+1])]=Q}}}this.hull=new Uint32Array(H);for(var rt=0,it=this._hullStart;rt<H;rt++)this.hull[rt]=it,it=n[it];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(t,e){return Math.floor((n=t-this._cx,r=e-this._cy,i=n/(Math.abs(n)+Math.abs(r)),(r>0?3-i:1+i)/4*this._hashSize))%this._hashSize;var n,r,i}},{key:"_legalize",value:function(t){for(var e=this._triangles,n=this._halfedges,r=this.coords,i=0,o=0;;){var a=n[t],c=t-t%3;if(o=c+(t+2)%3,-1!==a){var l=a-a%3,u=c+(t+1)%3,s=l+(a+2)%3,f=e[o],h=e[t],d=e[u],p=e[s];if(X$(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){e[t]=p,e[a]=f;var v=n[s];if(-1===v){var g=this._hullStart;do{if(this._hullTri[g]===s){this._hullTri[g]=t;break}g=this._hullPrev[g]}while(g!==this._hullStart)}this._link(t,v),this._link(a,n[o]),this._link(o,s);var m=l+(a+1)%3;i<W$.length&&(W$[i++]=m)}else{if(0===i)break;t=W$[--i]}}else{if(0===i)break;t=W$[--i]}}return o}},{key:"_link",value:function(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}},{key:"_addTriangle",value:function(t,e,n,r,i,o){var a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}],[{key:"from",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K$,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:J$,i=e.length,o=new Float64Array(2*i),a=0;a<i;a++){var c=e[a];o[2*a]=n(c),o[2*a+1]=r(c)}return new t(o)}}]),t}();function G$(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}function X$(t,e,n,r,i,o,a,c){var l=t-a,u=e-c,s=n-a,f=r-c,h=i-a,d=o-c,p=s*s+f*f,v=h*h+d*d;return l*(f*v-p*d)-u*(s*v-p*h)+(l*l+u*u)*(s*d-f*h)<0}function q$(t,e,n,r,i,o){var a=n-t,c=r-e,l=i-t,u=o-e,s=a*a+c*c,f=l*l+u*u,h=.5/(a*u-c*l),d=(u*s-c*f)*h,p=(a*f-l*s)*h;return d*d+p*p}function Y$(t,e,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var o=t[i],a=e[o],c=i-1;c>=n&&e[t[c]]>a;)t[c+1]=t[c--];t[c+1]=o}else{var l=n+1,u=r;$$(t,n+r>>1,l),e[t[n]]>e[t[r]]&&$$(t,n,r),e[t[l]]>e[t[r]]&&$$(t,l,r),e[t[n]]>e[t[l]]&&$$(t,n,l);for(var s=t[l],f=e[s];;){do{l++}while(e[t[l]]<f);do{u--}while(e[t[u]]>f);if(u<l)break;$$(t,l,u)}t[n+1]=t[u],t[u]=s,r-l+1>=u-n?(Y$(t,e,l,r),Y$(t,e,n,u-1)):(Y$(t,e,n,u-1),Y$(t,e,l,r))}}function $$(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function K$(t){return t[0]}function J$(t){return t[1]}var Q$=1e-6,tK=function(){function t(){(0,Rm.Z)(this,t),this._x0=this._y0=this._x1=this._y1=null,this._=""}return(0,Lm.Z)(t,[{key:"moveTo",value:function(t,e){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(t,e){this._+="L".concat(this._x1=+t,",").concat(this._y1=+e)}},{key:"arc",value:function(t,e,n){var r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>Q$||Math.abs(this._y1-i)>Q$)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(t-n,",").concat(e,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(t,e,n,r){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),t}(),eK=function(){function t(){(0,Rm.Z)(this,t),this._=[]}return(0,Lm.Z)(t,[{key:"moveTo",value:function(t,e){this._.push([t,e])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(t,e){this._.push([t,e])}},{key:"value",value:function(){return this._.length?this._:null}}]),t}();function nK(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return rK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rK(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function rK(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var iK=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=(0,G.Z)(n,4),i=r[0],o=r[1],a=r[2],c=r[3];if((0,Rm.Z)(this,t),!((a=+a)>=(i=+i)&&(c=+c)>=(o=+o)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=a,this.xmin=i,this.ymax=c,this.ymin=o,this._init()}return(0,Lm.Z)(t,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var t,e,n,r,i=this.delaunay,o=i.points,a=i.hull,c=i.triangles,l=this.vectors,u=this.circumcenters=this._circumcenters.subarray(0,c.length/3*2),s=0,f=0,h=c.length;s<h;s+=3,f+=2){var d=2*c[s],p=2*c[s+1],v=2*c[s+2],g=o[d],m=o[d+1],y=o[p],b=o[p+1],x=o[v],w=o[v+1],S=y-g,k=b-m,C=x-g,O=w-m,E=2*(S*O-k*C);if(Math.abs(E)<1e-9){if(void 0===t){t=e=0;var M,A=nK(a);try{for(A.s();!(M=A.n()).done;){var P=M.value;t+=o[2*P],e+=o[2*P+1]}}catch(U){A.e(U)}finally{A.f()}t/=a.length,e/=a.length}var _=1e9*Math.sign((t-g)*O-(e-m)*C);n=(g+x)/2-_*O,r=(m+w)/2+_*C}else{var D=1/E,T=S*S+k*k,Z=C*C+O*O;n=g+(O*T-k*Z)*D,r=m+(S*Z-C*T)*D}u[f]=n,u[f+1]=r}var F,j,I,R=a[a.length-1],L=4*R,N=o[2*R],B=o[2*R+1];l.fill(0);for(var z=0;z<a.length;++z)F=L,j=N,I=B,L=4*(R=a[z]),N=o[2*R],B=o[2*R+1],l[F+2]=l[L]=I-B,l[F+3]=l[L+1]=N-j}},{key:"render",value:function(t){var e=null==t?t=new tK:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,o=n.hull,a=this.circumcenters,c=this.vectors;if(o.length<=1)return null;for(var l=0,u=r.length;l<u;++l){var s=r[l];if(!(s<l)){var f=2*Math.floor(l/3),h=2*Math.floor(s/3),d=a[f],p=a[f+1],v=a[h],g=a[h+1];this._renderSegment(d,p,v,g,t)}}for(var m,y=o[o.length-1],b=0;b<o.length;++b){m=y,y=o[b];var x=2*Math.floor(i[y]/3),w=a[x],S=a[x+1],k=4*m,C=this._project(w,S,c[k+2],c[k+3]);C&&this._renderSegment(w,S,C[0],C[1],t)}return e&&e.value()}},{key:"renderBounds",value:function(t){var e=null==t?t=new tK:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}},{key:"renderCell",value:function(t,e){var n=null==e?e=new tK:void 0,r=this._clip(t);if(null!==r&&r.length){e.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(var o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||e.lineTo(r[o],r[o+1]);return e.closePath(),n&&n.value()}}},{key:"cellPolygons",value:q().mark((function t(){var e,n,r,i;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.delaunay.points,n=0,r=e.length/2;case 2:if(!(n<r)){t.next=11;break}if(!(i=this.cellPolygon(n))){t.next=8;break}return i.index=n,t.next=8,i;case 8:++n,t.next=2;break;case 11:case"end":return t.stop()}}),t,this)}))},{key:"cellPolygon",value:function(t){var e=new eK;return this.renderCell(t,e),e.value()}},{key:"_renderSegment",value:function(t,e,n,r,i){var o,a=this._regioncode(t,e),c=this._regioncode(n,r);0===a&&0===c?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,c))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}},{key:"contains",value:function(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}},{key:"neighbors",value:q().mark((function t(e){var n,r,i,o,a,c,l,u,s;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=this._clip(e))){t.next=33;break}r=nK(this.delaunay.neighbors(e)),t.prev=3,r.s();case 5:if((i=r.n()).done){t.next=25;break}if(o=i.value,!(a=this._clip(o))){t.next=23;break}c=0,l=n.length;case 10:if(!(c<l)){t.next=23;break}u=0,s=a.length;case 12:if(!(u<s)){t.next=20;break}if(n[c]!==a[u]||n[c+1]!==a[u+1]||n[(c+2)%l]!==a[(u+s-2)%s]||n[(c+3)%l]!==a[(u+s-1)%s]){t.next=17;break}return t.next=16,o;case 16:return t.abrupt("break",23);case 17:u+=2,t.next=12;break;case 20:c+=2,t.next=10;break;case 23:t.next=5;break;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(3),r.e(t.t0);case 30:return t.prev=30,r.f(),t.finish(30);case 33:case"end":return t.stop()}}),t,this,[[3,27,30,33]])}))},{key:"_cell",value:function(t){var e=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,o=n.triangles,a=r[t];if(-1===a)return null;var c=[],l=a;do{var u=Math.floor(l/3);if(c.push(e[2*u],e[2*u+1]),o[l=l%3==2?l-2:l+1]!==t)break;l=i[l]}while(l!==a&&-1!==l);return c}},{key:"_clip",value:function(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var e=this._cell(t);if(null===e)return null;var n=this.vectors,r=4*t;return this._simplify(n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e))}},{key:"_clipFinite",value:function(t,e){for(var n,r,i,o,a=e.length,c=null,l=e[a-2],u=e[a-1],s=this._regioncode(l,u),f=0,h=0;h<a;h+=2)if(n=l,r=u,l=e[h],u=e[h+1],i=s,s=this._regioncode(l,u),0===i&&0===s)o=f,f=0,c?c.push(l,u):c=[l,u];else{var d=void 0,p=void 0,v=void 0,g=void 0,m=void 0;if(0===i){if(null===(d=this._clipSegment(n,r,l,u,i,s)))continue;var y=d,b=(0,G.Z)(y,4);p=b[0],v=b[1],g=b[2],m=b[3]}else{if(null===(d=this._clipSegment(l,u,n,r,s,i)))continue;var x=d,w=(0,G.Z)(x,4);g=w[0],m=w[1],p=w[2],v=w[3],o=f,f=this._edgecode(p,v),o&&f&&this._edge(t,o,f,c,c.length),c?c.push(p,v):c=[p,v]}o=f,f=this._edgecode(g,m),o&&f&&this._edge(t,o,f,c,c.length),c?c.push(g,m):c=[g,m]}if(c)o=f,f=this._edgecode(c[0],c[1]),o&&f&&this._edge(t,o,f,c,c.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return c}},{key:"_clipSegment",value:function(t,e,n,r,i,o){var a=i<o;if(a){var c=[n,r,t,e,o,i];t=c[0],e=c[1],n=c[2],r=c[3],i=c[4],o=c[5]}for(;;){if(0===i&&0===o)return a?[n,r,t,e]:[t,e,n,r];if(i&o)return null;var l=void 0,u=void 0,s=i||o;8&s?(l=t+(n-t)*(this.ymax-e)/(r-e),u=this.ymax):4&s?(l=t+(n-t)*(this.ymin-e)/(r-e),u=this.ymin):2&s?(u=e+(r-e)*(this.xmax-t)/(n-t),l=this.xmax):(u=e+(r-e)*(this.xmin-t)/(n-t),l=this.xmin),i?(t=l,e=u,i=this._regioncode(t,e)):(n=l,r=u,o=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(t,e,n,r,i,o){var a,c=Array.from(e);if((a=this._project(c[0],c[1],n,r))&&c.unshift(a[0],a[1]),(a=this._project(c[c.length-2],c[c.length-1],i,o))&&c.push(a[0],a[1]),c=this._clipFinite(t,c))for(var l,u=0,s=c.length,f=this._edgecode(c[s-2],c[s-1]);u<s;u+=2)l=f,f=this._edgecode(c[u],c[u+1]),l&&f&&(u=this._edge(t,l,f,c,u),s=c.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(c=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return c}},{key:"_edge",value:function(t,e,n,r,i){for(;e!==n;){var o=void 0,a=void 0;switch(e){case 5:e=4;continue;case 4:e=6,o=this.xmax,a=this.ymin;break;case 6:e=2;continue;case 2:e=10,o=this.xmax,a=this.ymax;break;case 10:e=8;continue;case 8:e=9,o=this.xmin,a=this.ymax;break;case 9:e=1;continue;case 1:e=5,o=this.xmin,a=this.ymin}r[i]===o&&r[i+1]===a||!this.contains(t,o,a)||(r.splice(i,0,o,a),i+=2)}return i}},{key:"_project",value:function(t,e,n,r){var i,o,a,c=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<c&&(a=this.ymin,o=t+(c=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<c&&(a=this.ymax,o=t+(c=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<c&&(o=this.xmax,a=e+(c=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<c&&(o=this.xmin,a=e+(c=i)*r)}return[o,a]}},{key:"_edgecode",value:function(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}},{key:"_regioncode",value:function(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}},{key:"_simplify",value:function(t){if(t&&t.length>4){for(var e=0;e<t.length;e+=2){var n=(e+2)%t.length,r=(e+4)%t.length;(t[e]===t[n]&&t[n]===t[r]||t[e+1]===t[n+1]&&t[n+1]===t[r+1])&&(t.splice(n,2),e-=2)}t.length||(t=null)}return t}}]),t}(),oK=q().mark(pK);function aK(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return cK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cK(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function cK(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lK=2*Math.PI,uK=Math.pow;function sK(t){return t[0]}function fK(t){return t[1]}function hK(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var dK=function(){function t(e){(0,Rm.Z)(this,t),this._delaunator=new V$(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}return(0,Lm.Z)(t,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){for(var e=t.triangles,n=t.coords,r=0;r<e.length;r+=3){var i=2*e[r],o=2*e[r+1],a=2*e[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},(function(t,e){return e})).sort((function(t,n){return e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[e[2*n],e[2*n+1],e[2*r],e[2*r+1]],o=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]),a=0,c=e.length/2;a<c;++a){var l=hK(e[2*a],e[2*a+1],o);e[2*a]=l[0],e[2*a+1]=l[1]}this._delaunator=new V$(e)}else delete this.collinear;for(var u=this.halfedges=this._delaunator.halfedges,s=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,h=this.inedges.fill(-1),d=this._hullIndex.fill(-1),p=0,v=u.length;p<v;++p){var g=f[p%3==2?p-2:p+1];-1!==u[p]&&-1!==h[g]||(h[g]=p)}for(var m=0,y=s.length;m<y;++m)d[s[m]]=m;s.length<=2&&s.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=s[0],h[s[0]]=1,2===s.length&&(h[s[1]]=0,this.triangles[1]=s[1],this.triangles[2]=s[1]))}},{key:"voronoi",value:function(t){return new iK(this,t)}},{key:"neighbors",value:q().mark((function t(e){var n,r,i,o,a,c,l,u,s,f,h;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,o=this.halfedges,a=this.triangles,!(c=this.collinear)){t.next=10;break}if(!((l=c.indexOf(e))>0)){t.next=6;break}return t.next=6,c[l-1];case 6:if(!(l<c.length-1)){t.next=9;break}return t.next=9,c[l+1];case 9:return t.abrupt("return");case 10:if(-1!==(u=n[e])){t.next=13;break}return t.abrupt("return");case 13:s=u,f=-1;case 14:return t.next=16,f=a[s];case 16:if(a[s=s%3==2?s-2:s+1]===e){t.next=19;break}return t.abrupt("return");case 19:if(-1!==(s=o[s])){t.next=26;break}if((h=r[(i[e]+1)%r.length])===f){t.next=25;break}return t.next=25,h;case 25:return t.abrupt("return");case 26:if(s!==u){t.next=14;break}case 27:case"end":return t.stop()}}),t,this)}))},{key:"find",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((t=+t)!=t||(e=+e)!=e)return-1;for(var r,i=n;(r=this._step(n,t,e))>=0&&r!==n&&r!==i;)n=r;return r}},{key:"_step",value:function(t,e,n){var r=this.inedges,i=this.hull,o=this._hullIndex,a=this.halfedges,c=this.triangles,l=this.points;if(-1===r[t]||!l.length)return(t+1)%(l.length>>1);var u=t,s=uK(e-l[2*t],2)+uK(n-l[2*t+1],2),f=r[t],h=f;do{var d=c[h],p=uK(e-l[2*d],2)+uK(n-l[2*d+1],2);if(p<s&&(s=p,u=d),c[h=h%3==2?h-2:h+1]!==t)break;if(-1===(h=a[h])){if((h=i[(o[t]+1)%i.length])!==d&&uK(e-l[2*h],2)+uK(n-l[2*h+1],2)<s)return h;break}}while(h!==f);return u}},{key:"render",value:function(t){for(var e=null==t?t=new tK:void 0,n=this.points,r=this.halfedges,i=this.triangles,o=0,a=r.length;o<a;++o){var c=r[o];if(!(c<o)){var l=2*i[o],u=2*i[c];t.moveTo(n[l],n[l+1]),t.lineTo(n[u],n[u+1])}}return this.renderHull(t),e&&e.value()}},{key:"renderPoints",value:function(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;for(var n=null==t?t=new tK:void 0,r=this.points,i=0,o=r.length;i<o;i+=2){var a=r[i],c=r[i+1];t.moveTo(a+e,c),t.arc(a,c,e,0,lK)}return n&&n.value()}},{key:"renderHull",value:function(t){var e=null==t?t=new tK:void 0,n=this.hull,r=this.points,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(var a=1;a<o;++a){var c=2*n[a];t.lineTo(r[c],r[c+1])}return t.closePath(),e&&e.value()}},{key:"hullPolygon",value:function(){var t=new eK;return this.renderHull(t),t.value()}},{key:"renderTriangle",value:function(t,e){var n=null==e?e=new tK:void 0,r=this.points,i=this.triangles,o=2*i[t*=3],a=2*i[t+1],c=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[c],r[c+1]),e.closePath(),n&&n.value()}},{key:"trianglePolygons",value:q().mark((function t(){var e,n,r;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.triangles,n=0,r=e.length/3;case 2:if(!(n<r)){t.next=8;break}return t.next=5,this.trianglePolygon(n);case 5:++n,t.next=2;break;case 8:case"end":return t.stop()}}),t,this)}))},{key:"trianglePolygon",value:function(t){var e=new eK;return this.renderTriangle(t,e),e.value()}}],[{key:"from",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sK,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fK,i=arguments.length>3?arguments[3]:void 0;return new t("length"in e?function(t,e,n,r){for(var i=t.length,o=new Float64Array(2*i),a=0;a<i;++a){var c=t[a];o[2*a]=e.call(r,c,a,t),o[2*a+1]=n.call(r,c,a,t)}return o}(e,n,r,i):Float64Array.from(pK(e,n,r,i)))}}]),t}();function pK(t,e,n,r){var i,o,a,c;return q().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:i=0,o=aK(t),l.prev=2,o.s();case 4:if((a=o.n()).done){l.next=13;break}return c=a.value,l.next=8,e.call(r,c,i,t);case 8:return l.next=10,n.call(r,c,i,t);case 10:++i;case 11:l.next=4;break;case 13:l.next=18;break;case 15:l.prev=15,l.t0=l.catch(2),o.e(l.t0);case 18:return l.prev=18,o.f(),l.finish(18);case 21:case"end":return l.stop()}}),oK,null,[[2,15,18,21]])}function vK(t){lE.call(this,null,t)}vK.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var gK=[-1e5,-1e5,1e5,1e5];function mK(t){for(var e=t[0][0],n=t[0][1],r=t.length-1;t[r][0]===e&&t[r][1]===n;--r);return"M"+t.slice(0,r+1).join("L")+"Z"}Lb(vK,lE,{transform:function(t,e){var n=t.as||"path",r=e.source;if(!r||!r.length)return e;var i=t.size;i=i?[0,0,i[0],i[1]]:(i=t.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:gK;for(var o=this.value=dK.from(r,t.x,t.y).voronoi(i),a=0,c=r.length;a<c;++a){var l=o.cellPolygon(a);r[a][n]=l?mK(l):null}return e.reflow(t.modified()).modifies(n)}});var yK=Math.PI/180,bK=64,xK=2048;function wK(){var t,e,n,r,i,o,a,c=[256,256],l=EK,u=[],s=Math.random,f={};function h(t,e,n){for(var r,i,o,a=e.x,u=e.y,f=Math.sqrt(c[0]*c[0]+c[1]*c[1]),h=l(c),d=s()<.5?1:-1,p=-d;(r=h(p+=d))&&(i=~~r[0],o=~~r[1],!(Math.min(Math.abs(i),Math.abs(o))>=f));)if(e.x=a+i,e.y=u+o,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>c[0]||e.y+e.y1>c[1])&&(!n||!kK(e,t,c[0]))&&(!n||OK(e,n))){for(var v,g=e.sprite,m=e.width>>5,y=c[0]>>5,b=e.x-(m<<4),x=127&b,w=32-x,S=e.y1-e.y0,k=(e.y+e.y0)*y+(b>>5),C=0;C<S;C++){v=0;for(var O=0;O<=m;O++)t[k+O]|=v<<w|(O<m?(v=g[C*m+O])>>>x:0);k+=y}return e.sprite=null,!0}return!1}return f.layout=function(){for(var l=function(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(bK<<5)/e,t.height=xK/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}(N_()),f=function(t){var e=[],n=-1;for(;++n<t;)e[n]=0;return e}((c[0]>>5)*c[1]),d=null,p=u.length,v=-1,g=[],m=u.map((function(c){return{text:t(c),font:e(c),style:r(c),weight:i(c),rotate:o(c),size:~~(n(c)+1e-14),padding:a(c),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:c}})).sort((function(t,e){return e.size-t.size}));++v<p;){var y=m[v];y.x=c[0]*(s()+.5)>>1,y.y=c[1]*(s()+.5)>>1,SK(l,y,m,v),y.hasText&&h(f,y,d)&&(g.push(y),d?CK(d,y):d=[{x:y.x+y.x0,y:y.y+y.y0},{x:y.x+y.x1,y:y.y+y.y1}],y.x-=c[0]>>1,y.y-=c[1]>>1)}return g},f.words=function(t){return arguments.length?(u=t,f):u},f.size=function(t){return arguments.length?(c=[+t[0],+t[1]],f):c},f.font=function(t){return arguments.length?(e=MK(t),f):e},f.fontStyle=function(t){return arguments.length?(r=MK(t),f):r},f.fontWeight=function(t){return arguments.length?(i=MK(t),f):i},f.rotate=function(t){return arguments.length?(o=MK(t),f):o},f.text=function(e){return arguments.length?(t=MK(e),f):t},f.spiral=function(t){return arguments.length?(l=AK[t]||t,f):l},f.fontSize=function(t){return arguments.length?(n=MK(t),f):n},f.padding=function(t){return arguments.length?(a=MK(t),f):a},f.random=function(t){return arguments.length?(s=t,f):s},f}function SK(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,(bK<<5)/o,xK/o);var a,c,l,u,s,f=0,h=0,d=0,p=n.length;for(--r;++r<p;){if(e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font,a=i.measureText(e.text+"m").width*o,l=e.size<<1,e.rotate){var v=Math.sin(e.rotate*yK),g=Math.cos(e.rotate*yK),m=a*g,y=a*v,b=l*g,x=l*v;a=Math.max(Math.abs(m+x),Math.abs(m-x))+31>>5<<5,l=~~Math.max(Math.abs(y+b),Math.abs(y-b))}else a=a+31>>5<<5;if(l>d&&(d=l),f+a>=bK<<5&&(f=0,h+=d,d=0),h+l>=xK)break;i.translate((f+(a>>1))/o,(h+(l>>1))/o),e.rotate&&i.rotate(e.rotate*yK),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=a,e.height=l,e.xoff=f,e.yoff=h,e.x1=a>>1,e.y1=l>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,f+=a}for(var w=i.getImageData(0,0,(bK<<5)/o,xK/o).data,S=[];--r>=0;)if((e=n[r]).hasText){for(c=(a=e.width)>>5,l=e.y1-e.y0,u=0;u<l*c;u++)S[u]=0;if(null==(f=e.xoff))return;h=e.yoff;var k=0,C=-1;for(s=0;s<l;s++){for(u=0;u<a;u++){var O=c*s+(u>>5),E=w[(h+s)*(bK<<5)+(f+u)<<2]?1<<31-u%32:0;S[O]|=E,k|=E}k?C=s:(e.y0++,l--,s--,h++)}e.y1=e.y0+C,e.sprite=S.slice(0,(e.y1-e.y0)*c)}}}function kK(t,e,n){n>>=5;for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),c=127&a,l=32-c,u=t.y1-t.y0,s=(t.y+t.y0)*n+(a>>5),f=0;f<u;f++){r=0;for(var h=0;h<=o;h++)if((r<<l|(h<o?(r=i[f*o+h])>>>c:0))&e[s+h])return!0;s+=n}return!1}function CK(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function OK(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function EK(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function MK(t){return"function"==typeof t?t:function(){return t}}var AK={archimedean:EK,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}},PK=["x","y","font","fontSize","fontStyle","fontWeight","angle"],_K=["text","font","rotate","fontSize","fontStyle","fontWeight"];function DK(t){lE.call(this,wK(),t)}DK.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:PK}]},Lb(DK,lE,{transform:function(t,e){!t.size||t.size[0]&&t.size[1]||Ty("Wordcloud size dimensions must be non-zero.");var n=t.modified();if(n||e.changed(e.ADD_REM)||_K.some((function(n){var r=t[n];return wb(r)&&e.modified(r.fields)}))){var r,i=e.materialize(e.SOURCE).source,o=this.value,a=t.as||PK,c=t.fontSize||14;if(wb(c)?r=t.fontSizeRange:c=Ab(c),r){var l=c,u=Kj("sqrt")().domain(Db(i,l)).range(r);c=function(t){return u(l(t))}}i.forEach((function(t){t[a[0]]=NaN,t[a[1]]=NaN,t[a[3]]=0}));for(var s,f,h=o.words(i).text(t.text).size(t.size||[500,500]).padding(t.padding||1).spiral(t.spiral||"archimedean").rotate(t.rotate||0).font(t.font||"sans-serif").fontStyle(t.fontStyle||"normal").fontWeight(t.fontWeight||"normal").fontSize(c).random(zE).layout(),d=o.size(),p=d[0]>>1,v=d[1]>>1,g=h.length,m=0;m<g;++m)(f=(s=h[m]).datum)[a[0]]=s.x+p,f[a[1]]=s.y+v,f[a[2]]=s.font,f[a[3]]=s.size,f[a[4]]=s.style,f[a[5]]=s.weight,f[a[6]]=s.rotate;return e.reflow(n).modifies(a)}}});var TK=function(t){return new Uint8Array(t)},ZK=function(t){return new Uint16Array(t)},FK=function(t){return new Uint32Array(t)};function jK(t,e,n){var r=(e<257?TK:e<65537?ZK:FK)(t);return n&&r.set(n),r}function IK(t,e,n){var r=1<<e;return{one:r,zero:~r,range:n.slice(),bisect:t.bisect,index:t.index,size:t.size,onAdd:function(t,e){var n,i=this,o=i.bisect(i.range,t.value),a=t.index,c=o[0],l=o[1],u=a.length;for(n=0;n<c;++n)e[a[n]]|=r;for(n=l;n<u;++n)e[a[n]]|=r;return i}}}function RK(){var t=FK(0),e=[],n=0;return{insert:function(r,i,o){if(!i.length)return[];var a,c,l,u=n,s=i.length,f=FK(s),h=Array(s);for(l=0;l<s;++l)h[l]=r(i[l]),f[l]=l;if(h=function(t,e){return t.sort.call(e,(function(e,n){var r=t[e],i=t[n];return r<i?-1:r>i?1:0})),function(t,e){return Array.from(e,(function(e){return t[e]}))}(t,e)}(h,f),u)a=e,c=t,e=Array(u+s),t=FK(u+s),function(t,e,n,r,i,o,a,c,l){var u,s=0,f=0;for(u=0;s<r&&f<a;++u)e[s]<i[f]?(c[u]=e[s],l[u]=n[s++]):(c[u]=i[f],l[u]=o[f++]+t);for(;s<r;++s,++u)c[u]=e[s],l[u]=n[s];for(;f<a;++f,++u)c[u]=i[f],l[u]=o[f]+t}(o,a,c,u,h,f,s,e,t);else{if(o>0)for(l=0;l<s;++l)f[l]+=o;e=h,t=f}return n=u+s,{index:f,value:h}},remove:function(r,i){var o,a,c,l=n;for(a=0;!i[t[a]]&&a<l;++a);for(c=a;a<l;++a)i[o=t[a]]||(t[c]=o,e[c]=e[a],++c);n=l-r},bisect:function(t,r){var i;return r?i=r.length:(r=e,i=n),[uD(r,t[0],0,i),lD(r,t[1],0,i)]},reindex:function(e){for(var r=0,i=n;r<i;++r)t[r]=e[t[r]]},index:function(){return t},size:function(){return n}}}function LK(t){lE.call(this,function(){var t=8,e=[],n=FK(0),r=jK(0,t),i=jK(0,t);return{data:function(){return e},seen:function(){return n=function(t,e,n){return t.length>=e?t:((n=n||new t.constructor(e)).set(t),n)}(n,e.length)},add:function(t){for(var n,r=0,i=e.length,o=t.length;r<o;++r)(n=t[r])._index=i++,e.push(n)},remove:function(t,n){var o,a,c,l=e.length,u=Array(l-t),s=e;for(a=0;!n[a]&&a<l;++a)u[a]=e[a],s[a]=a;for(c=a;a<l;++a)o=e[a],n[a]?s[a]=-1:(s[a]=c,r[c]=r[a],i[c]=i[a],u[c]=o,o._index=c++),r[a]=0;return e=u,s},size:function(){return e.length},curr:function(){return r},prev:function(){return i},reset:function(t){return i[t]=r[t]},all:function(){return t<257?255:t<65537?65535:4294967295},set:function(t,e){r[t]|=e},clear:function(t,e){r[t]&=~e},resize:function(e,n){(e>r.length||n>t)&&(t=Math.max(n,t),r=jK(e,t,r),i=jK(e,t))}}}(),t),this._indices=null,this._dims=null}function NK(t){lE.call(this,null,t)}LK.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},Lb(LK,lE,{transform:function(t,e){return this._dims?t.modified("fields")||t.fields.some((function(t){return e.modified(t.fields)}))?this.reinit(t,e):this.eval(t,e):this.init(t,e)},init:function(t,e){for(var n,r,i=t.fields,o=t.query,a=this._indices={},c=this._dims=[],l=o.length,u=0;u<l;++u)r=a[n=i[u].fname]||(a[n]=RK()),c.push(IK(r,u,o[u]));return this.eval(t,e)},reinit:function(t,e){var n,r,i,o,a,c,l,u,s,f=e.materialize().fork(),h=t.fields,d=t.query,p=this._indices,v=this._dims,g=this.value,m=g.curr(),y=g.prev(),b=g.all(),x=f.rem=f.add,w=f.mod,S=d.length,k={};if(y.set(m),e.rem.length&&(a=this.remove(t,e,f)),e.add.length&&g.add(e.add),e.mod.length)for(c={},l=0,u=(o=e.mod).length;l<u;++l)c[o[l]._index]=1;for(l=0;l<S;++l)s=h[l],(!v[l]||t.modified("fields",l)||e.modified(s.fields))&&((n=k[i=s.fname])||(p[i]=r=RK(),k[i]=n=r.insert(s,e.source,0)),v[l]=IK(r,l,d[l]).onAdd(n,m));for(l=0,u=g.data().length;l<u;++l)a[l]||(y[l]!==m[l]?x.push(l):c[l]&&m[l]!==b&&w.push(l));return g.mask=(1<<S)-1,f},eval:function(t,e){var n=e.materialize().fork(),r=this._dims.length,i=0;return e.rem.length&&(this.remove(t,e,n),i|=(1<<r)-1),t.modified("query")&&!t.modified("fields")&&(i|=this.update(t,e,n)),e.add.length&&(this.insert(t,e,n),i|=(1<<r)-1),e.mod.length&&(this.modify(e,n),i|=(1<<r)-1),this.value.mask=i,n},insert:function(t,e,n){var r,i,o,a=e.add,c=this.value,l=this._dims,u=this._indices,s=t.fields,f={},h=n.add,d=c.size()+a.length,p=l.length,v=c.size();c.resize(d,p),c.add(a);var g=c.curr(),m=c.prev(),y=c.all();for(r=0;r<p;++r)o=f[i=s[r].fname]||(f[i]=u[i].insert(s[r],a,v)),l[r].onAdd(o,g);for(;v<d;++v)m[v]=y,g[v]!==y&&h.push(v)},modify:function(t,e){var n,r,i,o=e.mod,a=this.value,c=a.curr(),l=a.all(),u=t.mod;for(n=0,r=u.length;n<r;++n)c[i=u[n]._index]!==l&&o.push(i)},remove:function(t,e,n){var r,i,o,a,c=this._indices,l=this.value,u=l.curr(),s=l.prev(),f=l.all(),h={},d=n.rem,p=e.rem;for(r=0,i=p.length;r<i;++r)h[o=p[r]._index]=1,s[o]=a=u[o],u[o]=f,a!==f&&d.push(o);for(o in c)c[o].remove(i,h);return this.reindex(e,i,h),h},reindex:function(t,e,n){var r=this._indices,i=this.value;t.runAfter((function(){var t=i.remove(e,n);for(var o in r)r[o].reindex(t)}))},update:function(t,e,n){var r,i,o=this._dims,a=t.query,c=e.stamp,l=o.length,u=0;for(n.filters=0,i=0;i<l;++i)t.modified("query",i)&&(r=i,++u);if(1===u)u=o[r].one,this.incrementOne(o[r],a[r],n.add,n.rem);else for(i=0,u=0;i<l;++i)t.modified("query",i)&&(u|=o[i].one,this.incrementAll(o[i],a[i],c,n.add),n.rem=n.add);return u},incrementAll:function(t,e,n,r){var i,o,a,c=this.value,l=c.seen(),u=c.curr(),s=c.prev(),f=t.index(),h=t.bisect(t.range),d=t.bisect(e),p=d[0],v=d[1],g=h[0],m=h[1],y=t.one;if(p<g)for(i=p,o=Math.min(g,v);i<o;++i)l[a=f[i]]!==n&&(s[a]=u[a],l[a]=n,r.push(a)),u[a]^=y;else if(p>g)for(i=g,o=Math.min(p,m);i<o;++i)l[a=f[i]]!==n&&(s[a]=u[a],l[a]=n,r.push(a)),u[a]^=y;if(v>m)for(i=Math.max(p,m),o=v;i<o;++i)l[a=f[i]]!==n&&(s[a]=u[a],l[a]=n,r.push(a)),u[a]^=y;else if(v<m)for(i=Math.max(g,v),o=m;i<o;++i)l[a=f[i]]!==n&&(s[a]=u[a],l[a]=n,r.push(a)),u[a]^=y;t.range=e.slice()},incrementOne:function(t,e,n,r){var i,o,a,c=this.value.curr(),l=t.index(),u=t.bisect(t.range),s=t.bisect(e),f=s[0],h=s[1],d=u[0],p=u[1],v=t.one;if(f<d)for(i=f,o=Math.min(d,h);i<o;++i)c[a=l[i]]^=v,n.push(a);else if(f>d)for(i=d,o=Math.min(f,p);i<o;++i)c[a=l[i]]^=v,r.push(a);if(h>p)for(i=Math.max(f,p),o=h;i<o;++i)c[a=l[i]]^=v,n.push(a);else if(h<p)for(i=Math.max(d,h),o=p;i<o;++i)c[a=l[i]]^=v,r.push(a);t.range=e.slice()}}),NK.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Lb(NK,lE,{transform:function(t,e){var n=~(t.ignore||0),r=t.filter,i=r.mask;if(0==(i&n))return e.StopPropagation;var o=e.fork(e.ALL),a=r.data(),c=r.curr(),l=r.prev(),u=function(t){return c[t]&n?null:a[t]};return o.filter(o.MOD,u),i&i-1?(o.filter(o.ADD,(function(t){var e=c[t]&n;return!e&&e^l[t]&n?a[t]:null})),o.filter(o.REM,(function(t){var e=c[t]&n;return e&&!(e^e^l[t]&n)?a[t]:null}))):(o.filter(o.ADD,u),o.filter(o.REM,(function(t){return(c[t]&n)===i?a[t]:null}))),o.filter(o.SOURCE,(function(t){return u(t._index)}))}});var BK=/^(data:|([A-Za-z]+:)?\/\/)/,zK=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,UK=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,HK="file://";function WK(t,e){return VK.apply(this,arguments)}function VK(){return(VK=Gm(q().mark((function t(e,n){var r,i;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sanitize(e,n);case 2:return r=t.sent,i=r.href,t.abrupt("return",r.localFile?this.file(i):this.http(i,n));case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function GK(t,e){return XK.apply(this,arguments)}function XK(){return XK=Gm(q().mark((function t(e,n){var r,i,o,a,c,l,u;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=_b({},this.options,n),r=this.fileAccess,i={href:null},l=zK.test(e.replace(UK,"")),null!=e&&"string"==typeof e&&l||Ty("Sanitize failure, invalid URI: "+tx(e)),u=BK.test(e),(c=n.baseURL)&&!u&&(e.startsWith("/")||c.endsWith("/")||(e="/"+e),e=c+e),a=(o=e.startsWith(HK))||"file"===n.mode||"http"!==n.mode&&!u&&r,o?e=e.slice(HK.length):e.startsWith("//")&&("file"===n.defaultProtocol?(e=e.slice(2),a=!0):e=(n.defaultProtocol||"http")+":"+e),Object.defineProperty(i,"localFile",{value:!!a}),i.href=e,n.target&&(i.target=n.target+""),n.rel&&(i.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(i.crossOrigin=n.crossOrigin+""),t.abrupt("return",i);case 14:case"end":return t.stop()}}),t,this)}))),XK.apply(this,arguments)}function qK(t){return t?function(e){return new Promise((function(n,r){t.readFile(e,(function(t,e){t?r(t):n(e)}))}))}:YK}function YK(){return $K.apply(this,arguments)}function $K(){return($K=Gm(q().mark((function t(){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ty("No file system access.");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function KK(t){return t?function(){var e=Gm(q().mark((function e(n,r){var i,o,a;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_b({},this.options.http,r),o=r&&r.response,e.next=4,t(n,i);case 4:return a=e.sent,e.abrupt("return",a.ok?wb(a[o])?a[o]():a.text():Ty(a.status+""+a.statusText));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}():JK}function JK(){return QK.apply(this,arguments)}function QK(){return(QK=Gm(q().mark((function t(){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ty("No HTTP fetch method available.");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var tJ=function(t){return null!=t&&t==t},eJ=function(t){return!(Number.isNaN(+t)||t instanceof Date)},nJ={boolean:ex,integer:eb,number:eb,date:rx,string:ix,unknown:Iy},rJ=[function(t){return"true"===t||"false"===t||!0===t||!1===t},function(t){return eJ(t)&&Number.isInteger(+t)},eJ,function(t){return!Number.isNaN(Date.parse(t))}],iJ=["boolean","integer","number","date"];function oJ(t,e){if(!t||!t.length)return"unknown";for(var n,r,i=t.length,o=rJ.length,a=rJ.map((function(t,e){return e+1})),c=0,l=0;c<i;++c)for(r=e?t[c][e]:t[c],n=0;n<o;++n)if(a[n]&&tJ(r)&&!rJ[n](r)&&(a[n]=0,++l===rJ.length))return"string";return iJ[a.reduce((function(t,e){return 0===t?e:t}),0)-1]}function aJ(t,e){return e.reduce((function(e,n){return e[n]=oJ(t,n),e}),{})}function cJ(t){var e=function(e,n){var r={delimiter:t};return lJ(e,n?_b(n,r):r)};return e.responseType="text",e}function lJ(t,e){return e.header&&(t=e.header.map(tx).join(e.delimiter)+"\n"+t),mx(e.delimiter).parse(t+"")}function uJ(t,e){var n,r=e&&e.property?Fy(e.property):Iy;return!Yy(t)||(n=t,"function"==typeof Buffer&&wb(Buffer.isBuffer)&&Buffer.isBuffer(n))?r(JSON.parse(t)):function(t,e){!qy(t)&&Ub(t)&&(t=(0,Xm.Z)(t));return e&&e.copy?JSON.parse(JSON.stringify(t)):t}(r(t),e)}lJ.responseType="text",uJ.responseType="json";var sJ={interior:function(t,e){return t!==e},exterior:function(t,e){return t===e}};function fJ(t,e){var n,r,i,o;return t=uJ(t,e),e&&e.feature?(n=bx,i=e.feature):e&&e.mesh?(n=kx,i=e.mesh,o=sJ[e.filter]):Ty("Missing TopoJSON feature or mesh parameter."),(r=(r=t.objects[i])?n(t,r,o):Ty("Invalid TopoJSON object: "+i))&&r.features||[r]}fJ.responseType="json";var hJ={dsv:lJ,csv:cJ(","),tsv:cJ("\t"),json:uJ,topojson:fJ};function dJ(t,e){return arguments.length>1?(hJ[t]=e,this):Fb(hJ,t)?hJ[t]:null}function pJ(t){var e=dJ(t);return e&&e.responseType||"text"}function vJ(t,e,n,r){var i=dJ((e=e||{}).type||"json");return i||Ty("Unknown data format type: "+e.type),t=i(t,e),e.parse&&function(t,e,n,r){if(!t.length)return;var i=jC();n=n||i.timeParse,r=r||i.utcParse;var o,a,c,l,u,s,f=t.columns||Object.keys(t[0]);"auto"===e&&(e=aJ(t,f));f=Object.keys(e);var h=f.map((function(t){var i,o,a=e[t];if(a&&(a.startsWith("date:")||a.startsWith("utc:")))return("'"===(o=(i=a.split(/:(.+)?/,2))[1])[0]&&"'"===o[o.length-1]||'"'===o[0]&&'"'===o[o.length-1])&&(o=o.slice(1,-1)),("utc"===i[0]?r:n)(o);if(!nJ[a])throw Error("Illegal format pattern: "+t+":"+a);return nJ[a]}));for(c=0,u=t.length,s=f.length;c<u;++c)for(o=t[c],l=0;l<s;++l)o[a=f[l]]=h[l](o[a])}(t,e.parse,n,r),Fb(t,"columns")&&delete t.columns,t}var gJ,mJ,yJ,bJ,xJ,wJ=function(t,e){return function(n){return{options:n||{},sanitize:GK,load:WK,fileAccess:!!e,file:qK(e),http:KK(t)}}}("undefined"!=typeof fetch&&fetch,null),SJ="Literal",kJ="Property",CJ="ArrayExpression",OJ="BinaryExpression",EJ="CallExpression",MJ="ConditionalExpression",AJ="LogicalExpression",PJ="MemberExpression",_J="ObjectExpression",DJ="UnaryExpression";function TJ(t){this.type=t}TJ.prototype.visit=function(t){var e,n,r;if(t(this))return 1;for(n=0,r=(e=function(t){switch(t.type){case CJ:return t.elements;case OJ:case AJ:return[t.left,t.right];case EJ:return[t.callee].concat(t.arguments);case MJ:return[t.test,t.consequent,t.alternate];case PJ:return[t.object,t.property];case _J:return t.properties;case kJ:return[t.key,t.value];case DJ:return[t.argument];default:return[]}}(this)).length;n<r;++n)if(e[n].visit(t))return 1};var ZJ=1,FJ=2,jJ=3,IJ=4,RJ=5,LJ=6,NJ=7,BJ=8;(gJ={})[ZJ]="Boolean",gJ[FJ]="<end>",gJ[jJ]="Identifier",gJ[IJ]="Keyword",gJ[RJ]="Null",gJ[LJ]="Numeric",gJ[NJ]="Punctuator",gJ[BJ]="String",gJ[9]="RegularExpression";var zJ="ArrayExpression",UJ="BinaryExpression",HJ="CallExpression",WJ="ConditionalExpression",VJ="Identifier",GJ="Literal",XJ="LogicalExpression",qJ="MemberExpression",YJ="ObjectExpression",$J="Property",KJ="UnaryExpression",JJ="Unexpected token %0",QJ="Unexpected number",tQ="Unexpected string",eQ="Unexpected identifier",nQ="Unexpected reserved word",rQ="Unexpected end of input",iQ="Invalid regular expression",oQ="Invalid regular expression: missing /",aQ="Octal literals are not allowed in strict mode.",cQ="Duplicate data property in object literal not allowed in strict mode",lQ="ILLEGAL",uQ="Disabled.",sQ=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),fQ=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function hQ(t,e){if(!t)throw new Error("ASSERT: "+e)}function dQ(t){return t>=48&&t<=57}function pQ(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function vQ(t){return"01234567".indexOf(t)>=0}function gQ(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function mQ(t){return 10===t||13===t||8232===t||8233===t}function yQ(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&sQ.test(String.fromCharCode(t))}function bQ(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&fQ.test(String.fromCharCode(t))}var xQ={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function wQ(){for(;yJ<bJ;){var t=mJ.charCodeAt(yJ);if(!gQ(t)&&!mQ(t))break;++yJ}}function SQ(t){var e,n,r,i=0;for(n="u"===t?4:2,e=0;e<n;++e)yJ<bJ&&pQ(mJ[yJ])?(r=mJ[yJ++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):LQ({},JJ,lQ);return String.fromCharCode(i)}function kQ(){var t,e,n,r;for(e=0,"}"===(t=mJ[yJ])&&LQ({},JJ,lQ);yJ<bJ&&pQ(t=mJ[yJ++]);)e=16*e+"0123456789abcdef".indexOf(t.toLowerCase());return(e>1114111||"}"!==t)&&LQ({},JJ,lQ),e<=65535?String.fromCharCode(e):(n=55296+(e-65536>>10),r=56320+(e-65536&1023),String.fromCharCode(n,r))}function CQ(){var t,e;for(t=mJ.charCodeAt(yJ++),e=String.fromCharCode(t),92===t&&(117!==mJ.charCodeAt(yJ)&&LQ({},JJ,lQ),++yJ,(t=SQ("u"))&&"\\"!==t&&yQ(t.charCodeAt(0))||LQ({},JJ,lQ),e=t);yJ<bJ&&bQ(t=mJ.charCodeAt(yJ));)++yJ,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==mJ.charCodeAt(yJ)&&LQ({},JJ,lQ),++yJ,(t=SQ("u"))&&"\\"!==t&&bQ(t.charCodeAt(0))||LQ({},JJ,lQ),e+=t);return e}function OQ(){var t,e;return t=yJ,e=92===mJ.charCodeAt(yJ)?CQ():function(){var t,e;for(t=yJ++;yJ<bJ;){if(92===(e=mJ.charCodeAt(yJ)))return yJ=t,CQ();if(!bQ(e))break;++yJ}return mJ.slice(t,yJ)}(),{type:1===e.length?jJ:xQ.hasOwnProperty(e)?IJ:"null"===e?RJ:"true"===e||"false"===e?ZJ:jJ,value:e,start:t,end:yJ}}function EQ(){var t,e,n,r,i=yJ,o=mJ.charCodeAt(yJ),a=mJ[yJ];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++yJ,{type:NJ,value:String.fromCharCode(o),start:i,end:yJ};default:if(61===(t=mJ.charCodeAt(yJ+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return yJ+=2,{type:NJ,value:String.fromCharCode(o)+String.fromCharCode(t),start:i,end:yJ};case 33:case 61:return yJ+=2,61===mJ.charCodeAt(yJ)&&++yJ,{type:NJ,value:mJ.slice(i,yJ),start:i,end:yJ}}}return">>>="===(r=mJ.substr(yJ,4))?{type:NJ,value:r,start:i,end:yJ+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:NJ,value:n,start:i,end:yJ+=3}:a===(e=n.substr(0,2))[1]&&"+-<>&|".indexOf(a)>=0||"=>"===e?{type:NJ,value:e,start:i,end:yJ+=2}:("//"===e&&LQ({},JJ,lQ),"<>=!+-*%&|^/".indexOf(a)>=0?(++yJ,{type:NJ,value:a,start:i,end:yJ}):void LQ({},JJ,lQ))}function MQ(){var t,e,n;if(hQ(dQ((n=mJ[yJ]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),e=yJ,t="","."!==n){if(t=mJ[yJ++],n=mJ[yJ],"0"===t){if("x"===n||"X"===n)return++yJ,function(t){for(var e="";yJ<bJ&&pQ(mJ[yJ]);)e+=mJ[yJ++];return 0===e.length&&LQ({},JJ,lQ),yQ(mJ.charCodeAt(yJ))&&LQ({},JJ,lQ),{type:LJ,value:parseInt("0x"+e,16),start:t,end:yJ}}(e);if(vQ(n))return function(t){for(var e="0"+mJ[yJ++];yJ<bJ&&vQ(mJ[yJ]);)e+=mJ[yJ++];return(yQ(mJ.charCodeAt(yJ))||dQ(mJ.charCodeAt(yJ)))&&LQ({},JJ,lQ),{type:LJ,value:parseInt(e,8),octal:!0,start:t,end:yJ}}(e);n&&dQ(n.charCodeAt(0))&&LQ({},JJ,lQ)}for(;dQ(mJ.charCodeAt(yJ));)t+=mJ[yJ++];n=mJ[yJ]}if("."===n){for(t+=mJ[yJ++];dQ(mJ.charCodeAt(yJ));)t+=mJ[yJ++];n=mJ[yJ]}if("e"===n||"E"===n)if(t+=mJ[yJ++],"+"!==(n=mJ[yJ])&&"-"!==n||(t+=mJ[yJ++]),dQ(mJ.charCodeAt(yJ)))for(;dQ(mJ.charCodeAt(yJ));)t+=mJ[yJ++];else LQ({},JJ,lQ);return yQ(mJ.charCodeAt(yJ))&&LQ({},JJ,lQ),{type:LJ,value:parseFloat(t),start:e,end:yJ}}function AQ(){var t,e,n,r;return xJ=null,wQ(),t=yJ,e=function(){var t,e,n,r;for(hQ("/"===(t=mJ[yJ]),"Regular expression literal must start with a slash"),e=mJ[yJ++],n=!1,r=!1;yJ<bJ;)if(e+=t=mJ[yJ++],"\\"===t)mQ((t=mJ[yJ++]).charCodeAt(0))&&LQ({},oQ),e+=t;else if(mQ(t.charCodeAt(0)))LQ({},oQ);else if(n)"]"===t&&(n=!1);else{if("/"===t){r=!0;break}"["===t&&(n=!0)}return r||LQ({},oQ),{value:e.substr(1,e.length-2),literal:e}}(),n=function(){var t,e,n;for(e="",n="";yJ<bJ&&bQ((t=mJ[yJ]).charCodeAt(0));)++yJ,"\\"===t&&yJ<bJ?LQ({},JJ,lQ):(n+=t,e+=t);return n.search(/[^gimuy]/g)>=0&&LQ({},iQ,n),{value:n,literal:e}}(),r=function(t,e){var n=t;e.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(t,e){if(parseInt(e,16)<=1114111)return"x";LQ({},iQ)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(F2t){LQ({},iQ)}try{return new RegExp(t,e)}catch(r){return null}}(e.value,n.value),{literal:e.literal+n.literal,value:r,regex:{pattern:e.value,flags:n.value},start:t,end:yJ}}function PQ(){if(wQ(),yJ>=bJ)return{type:FJ,start:yJ,end:yJ};var t=mJ.charCodeAt(yJ);return yQ(t)?OQ():40===t||41===t||59===t?EQ():39===t||34===t?function(){var t,e,n,r,i="",o=!1;for(hQ("'"===(t=mJ[yJ])||'"'===t,"String literal must starts with a quote"),e=yJ,++yJ;yJ<bJ;){if((n=mJ[yJ++])===t){t="";break}if("\\"===n)if((n=mJ[yJ++])&&mQ(n.charCodeAt(0)))"\r"===n&&"\n"===mJ[yJ]&&++yJ;else switch(n){case"u":case"x":"{"===mJ[yJ]?(++yJ,i+=kQ()):i+=SQ(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:vQ(n)?(0!==(r="01234567".indexOf(n))&&(o=!0),yJ<bJ&&vQ(mJ[yJ])&&(o=!0,r=8*r+"01234567".indexOf(mJ[yJ++]),"0123".indexOf(n)>=0&&yJ<bJ&&vQ(mJ[yJ])&&(r=8*r+"01234567".indexOf(mJ[yJ++]))),i+=String.fromCharCode(r)):i+=n}else{if(mQ(n.charCodeAt(0)))break;i+=n}}return""!==t&&LQ({},JJ,lQ),{type:BJ,value:i,octal:o,start:e,end:yJ}}():46===t?dQ(mJ.charCodeAt(yJ+1))?MQ():EQ():dQ(t)?MQ():EQ()}function _Q(){var t=xJ;return yJ=t.end,xJ=PQ(),yJ=t.end,t}function DQ(){var t=yJ;xJ=PQ(),yJ=t}function TQ(t,e,n){var r=new TJ("||"===t||"&&"===t?XJ:UJ);return r.operator=t,r.left=e,r.right=n,r}function ZQ(t,e){var n=new TJ(HJ);return n.callee=t,n.arguments=e,n}function FQ(t){var e=new TJ(VJ);return e.name=t,e}function jQ(t){var e=new TJ(GJ);return e.value=t.value,e.raw=mJ.slice(t.start,t.end),t.regex&&("//"===e.raw&&(e.raw="/(?:)/"),e.regex=t.regex),e}function IQ(t,e,n){var r=new TJ(qJ);return r.computed="["===t,r.object=e,r.property=n,r.computed||(n.member=!0),r}function RQ(t,e,n){var r=new TJ($J);return r.key=e,r.value=n,r.kind=t,r}function LQ(t,e){var n,r=Array.prototype.slice.call(arguments,2),i=e.replace(/%(\d)/g,(function(t,e){return hQ(e<r.length,"Message reference must be in range"),r[e]}));throw(n=new Error(i)).index=yJ,n.description=i,n}function NQ(t){t.type===FJ&&LQ(t,rQ),t.type===LJ&&LQ(t,QJ),t.type===BJ&&LQ(t,tQ),t.type===jJ&&LQ(t,eQ),t.type===IJ&&LQ(t,nQ),LQ(t,JJ,t.value)}function BQ(t){var e=_Q();e.type===NJ&&e.value===t||NQ(e)}function zQ(t){return xJ.type===NJ&&xJ.value===t}function UQ(t){return xJ.type===IJ&&xJ.value===t}function HQ(){var t=[];for(yJ=xJ.start,BQ("[");!zQ("]");)zQ(",")?(_Q(),t.push(null)):(t.push(e0()),zQ("]")||BQ(","));return _Q(),function(t){var e=new TJ(zJ);return e.elements=t,e}(t)}function WQ(){yJ=xJ.start;var t=_Q();return t.type===BJ||t.type===LJ?(t.octal&&LQ(t,aQ),jQ(t)):FQ(t.value)}function VQ(){var t,e,n;return yJ=xJ.start,(t=xJ).type===jJ?(n=WQ(),BQ(":"),RQ("init",n,e0())):t.type!==FJ&&t.type!==NJ?(e=WQ(),BQ(":"),RQ("init",e,e0())):void NQ(t)}function GQ(){var t,e,n=[],r={},i=String;for(yJ=xJ.start,BQ("{");!zQ("}");)e="$"+((t=VQ()).key.type===VJ?t.key.name:i(t.key.value)),Object.prototype.hasOwnProperty.call(r,e)?LQ({},cQ):r[e]=!0,n.push(t),zQ("}")||BQ(",");return BQ("}"),function(t){var e=new TJ(YJ);return e.properties=t,e}(n)}var XQ={if:1};function qQ(){var t,e,n;if(zQ("("))return function(){BQ("(");var t=n0();return BQ(")"),t}();if(zQ("["))return HQ();if(zQ("{"))return GQ();if(t=xJ.type,yJ=xJ.start,t===jJ||XQ[xJ.value])n=FQ(_Q().value);else if(t===BJ||t===LJ)xJ.octal&&LQ(xJ,aQ),n=jQ(_Q());else{if(t===IJ)throw new Error(uQ);t===ZJ?((e=_Q()).value="true"===e.value,n=jQ(e)):t===RJ?((e=_Q()).value=null,n=jQ(e)):zQ("/")||zQ("/=")?(n=jQ(AQ()),DQ()):NQ(_Q())}return n}function YQ(){var t=[];if(BQ("("),!zQ(")"))for(;yJ<bJ&&(t.push(e0()),!zQ(")"));)BQ(",");return BQ(")"),t}function $Q(){yJ=xJ.start;var t=_Q();return function(t){return t.type===jJ||t.type===IJ||t.type===ZJ||t.type===RJ}(t)||NQ(t),FQ(t.value)}function KQ(){BQ("[");var t=n0();return BQ("]"),t}function JQ(){var t=function(){var t;for(t=qQ();;)if(zQ("."))BQ("."),t=IQ(".",t,$Q());else if(zQ("("))t=ZQ(t,YQ());else{if(!zQ("["))break;t=IQ("[",t,KQ())}return t}();if(xJ.type===NJ&&(zQ("++")||zQ("--")))throw new Error(uQ);return t}function QQ(){var t,e;if(xJ.type!==NJ&&xJ.type!==IJ)e=JQ();else{if(zQ("++")||zQ("--"))throw new Error(uQ);if(zQ("+")||zQ("-")||zQ("~")||zQ("!"))t=_Q(),e=QQ(),e=function(t,e){var n=new TJ(KJ);return n.operator=t,n.argument=e,n.prefix=!0,n}(t.value,e);else{if(UQ("delete")||UQ("void")||UQ("typeof"))throw new Error(uQ);e=JQ()}}return e}function t0(t){var e=0;if(t.type!==NJ&&t.type!==IJ)return 0;switch(t.value){case"||":e=1;break;case"&&":e=2;break;case"|":e=3;break;case"^":e=4;break;case"&":e=5;break;case"==":case"!=":case"===":case"!==":e=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":e=7;break;case"<<":case">>":case">>>":e=8;break;case"+":case"-":e=9;break;case"*":case"/":case"%":e=11}return e}function e0(){var t,e;return t=function(){var t,e,n,r,i,o,a,c,l,u;if(t=xJ,l=QQ(),0===(i=t0(r=xJ)))return l;for(r.prec=i,_Q(),e=[t,xJ],o=[l,r,a=QQ()];(i=t0(xJ))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),c=o.pop().value,l=o.pop(),e.pop(),n=TQ(c,l,a),o.push(n);(r=_Q()).prec=i,o.push(r),e.push(xJ),n=QQ(),o.push(n)}for(n=o[u=o.length-1],e.pop();u>1;)e.pop(),n=TQ(o[u-1].value,o[u-2],n),u-=2;return n}(),zQ("?")&&(_Q(),e=e0(),BQ(":"),t=function(t,e,n){var r=new TJ(WJ);return r.test=t,r.consequent=e,r.alternate=n,r}(t,e,e0())),t}function n0(){var t=e0();if(zQ(","))throw new Error(uQ);return t}function r0(t){yJ=0,bJ=(mJ=t).length,xJ=null,DQ();var e=n0();if(xJ.type!==FJ)throw new Error("Unexpect token after expression.");return e}var i0={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function o0(t){function e(e,n,r){return function(i){return function(e,n,r,i){var o=t(n[0]);return r&&(o=r+"("+o+")",0===r.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+e+(i<0?"":0===i?"()":"("+n.slice(1).map(t).join(",")+")")}(e,i,n,r)}}var n="new Date",r="String",i="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(e){e.length<3&&Ty("Missing arguments to clamp function."),e.length>3&&Ty("Too many arguments to clamp function.");var n=e.map(t);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:e("getDate",n,0),day:e("getDay",n,0),year:e("getFullYear",n,0),month:e("getMonth",n,0),hours:e("getHours",n,0),minutes:e("getMinutes",n,0),seconds:e("getSeconds",n,0),milliseconds:e("getMilliseconds",n,0),time:e("getTime",n,0),timezoneoffset:e("getTimezoneOffset",n,0),utcdate:e("getUTCDate",n,0),utcday:e("getUTCDay",n,0),utcyear:e("getUTCFullYear",n,0),utcmonth:e("getUTCMonth",n,0),utchours:e("getUTCHours",n,0),utcminutes:e("getUTCMinutes",n,0),utcseconds:e("getUTCSeconds",n,0),utcmilliseconds:e("getUTCMilliseconds",n,0),length:e("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:e("toUpperCase",r,0),lower:e("toLowerCase",r,0),substring:e("substring",r),split:e("split",r),trim:e("trim",r,0),regexp:i,test:e("test",i),if:function(e){e.length<3&&Ty("Missing arguments to if function."),e.length>3&&Ty("Too many arguments to if function.");var n=e.map(t);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}function a0(t){var e=(t=t||{}).allowed?ox(t.allowed):{},n=t.forbidden?ox(t.forbidden):{},r=t.constants||i0,i=(t.functions||o0)(f),o=t.globalvar,a=t.fieldvar,c=wb(o)?o:function(t){return"".concat(o,'["').concat(t,'"]')},l={},u={},s=0;function f(t){if(Vb(t))return t;var e=h[t.type];return null==e&&Ty("Unsupported type: "+t.type),e(t)}var h={Literal:function(t){return t.raw},Identifier:function(t){var i=t.name;return s>0?i:Fb(n,i)?Ty("Illegal identifier: "+i):Fb(r,i)?r[i]:Fb(e,i)?i:(l[i]=1,c(i))},MemberExpression:function(t){var e=!t.computed,n=f(t.object);e&&(s+=1);var r=f(t.property);return n===a&&(u[function(t){var e=t&&t.length-1;return e&&('"'===t[0]&&'"'===t[e]||"'"===t[0]&&"'"===t[e])?t.slice(1,-1):t}(r)]=1),e&&(s-=1),n+(e?"."+r:"["+r+"]")},CallExpression:function(t){"Identifier"!==t.callee.type&&Ty("Illegal callee type: "+t.callee.type);var e=t.callee.name,n=t.arguments,r=Fb(i,e)&&i[e];return r||Ty("Unrecognized function: "+e),wb(r)?r(n):r+"("+n.map(f).join(",")+")"},ArrayExpression:function(t){return"["+t.elements.map(f).join(",")+"]"},BinaryExpression:function(t){return"("+f(t.left)+" "+t.operator+" "+f(t.right)+")"},UnaryExpression:function(t){return"("+t.operator+f(t.argument)+")"},ConditionalExpression:function(t){return"("+f(t.test)+"?"+f(t.consequent)+":"+f(t.alternate)+")"},LogicalExpression:function(t){return"("+f(t.left)+t.operator+f(t.right)+")"},ObjectExpression:function(t){return"{"+t.properties.map(f).join(",")+"}"},Property:function(t){s+=1;var e=f(t.key);return s-=1,e+":"+f(t.value)}};function d(t){var e={code:f(t),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},e}return d.functions=i,d.constants=r,d}var c0,l0,u0,s0,f0,h0,d0,p0,v0,g0,m0,y0,b0,x0,w0,S0,k0=new TH,C0=new TH,O0={point:nW,lineStart:nW,lineEnd:nW,polygonStart:function(){k0=new TH,O0.lineStart=E0,O0.lineEnd=M0},polygonEnd:function(){var t=+k0;C0.add(t<0?LH+t:t),this.lineStart=this.lineEnd=this.point=nW},sphere:function(){C0.add(LH)}};function E0(){O0.point=A0}function M0(){P0(c0,l0)}function A0(t,e){O0.point=P0,c0=t,l0=e,u0=t*=BH,s0=WH(e=(e*=BH)/2+RH),f0=$H(e)}function P0(t,e){var n=(t*=BH)-u0,r=n>=0?1:-1,i=r*n,o=WH(e=(e*=BH)/2+RH),a=$H(e),c=f0*a,l=s0*o+c*WH(i),u=c*r*$H(i);k0.add(HH(u,l)),u0=t,s0=o,f0=a}var _0,D0,T0,Z0,F0,j0,I0,R0,L0,N0,B0,z0,U0,H0,W0,V0,G0={point:X0,lineStart:Y0,lineEnd:$0,polygonStart:function(){G0.point=K0,G0.lineStart=J0,G0.lineEnd=Q0,x0=new TH,O0.polygonStart()},polygonEnd:function(){O0.polygonEnd(),G0.point=X0,G0.lineStart=Y0,G0.lineEnd=$0,k0<0?(h0=-(p0=180),d0=-(v0=90)):x0>ZH?v0=90:x0<-ZH&&(d0=-90),S0[0]=h0,S0[1]=p0},sphere:function(){h0=-(p0=180),d0=-(v0=90)}};function X0(t,e){w0.push(S0=[h0=t,p0=t]),e<d0&&(d0=e),e>v0&&(v0=e)}function q0(t,e){var n=bV([t*BH,e*BH]);if(b0){var r=wV(b0,n),i=wV([r[1],-r[0],0],r);CV(i),i=yV(i);var o,a=t-g0,c=a>0?1:-1,l=i[0]*NH*c,u=zH(a)>180;u^(c*g0<l&&l<c*t)?(o=i[1]*NH)>v0&&(v0=o):u^(c*g0<(l=(l+360)%360-180)&&l<c*t)?(o=-i[1]*NH)<d0&&(d0=o):(e<d0&&(d0=e),e>v0&&(v0=e)),u?t<g0?t1(h0,t)>t1(h0,p0)&&(p0=t):t1(t,p0)>t1(h0,p0)&&(h0=t):p0>=h0?(t<h0&&(h0=t),t>p0&&(p0=t)):t>g0?t1(h0,t)>t1(h0,p0)&&(p0=t):t1(t,p0)>t1(h0,p0)&&(h0=t)}else w0.push(S0=[h0=t,p0=t]);e<d0&&(d0=e),e>v0&&(v0=e),b0=n,g0=t}function Y0(){G0.point=q0}function $0(){S0[0]=h0,S0[1]=p0,G0.point=X0,b0=null}function K0(t,e){if(b0){var n=t-g0;x0.add(zH(n)>180?n+(n>0?360:-360):n)}else m0=t,y0=e;O0.point(t,e),q0(t,e)}function J0(){O0.lineStart()}function Q0(){K0(m0,y0),O0.lineEnd(),zH(x0)>ZH&&(h0=-(p0=180)),S0[0]=h0,S0[1]=p0,b0=null}function t1(t,e){return(e-=t)<0?e+360:e}function e1(t,e){return t[0]-e[0]}function n1(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var r1,i1={sphere:nW,point:o1,lineStart:c1,lineEnd:s1,polygonStart:function(){i1.lineStart=f1,i1.lineEnd=h1},polygonEnd:function(){i1.lineStart=c1,i1.lineEnd=s1}};function o1(t,e){t*=BH;var n=WH(e*=BH);a1(n*WH(t),n*$H(t),$H(e))}function a1(t,e,n){++_0,T0+=(t-T0)/_0,Z0+=(e-Z0)/_0,F0+=(n-F0)/_0}function c1(){i1.point=l1}function l1(t,e){t*=BH;var n=WH(e*=BH);H0=n*WH(t),W0=n*$H(t),V0=$H(e),i1.point=u1,a1(H0,W0,V0)}function u1(t,e){t*=BH;var n=WH(e*=BH),r=n*WH(t),i=n*$H(t),o=$H(e),a=HH(JH((a=W0*o-V0*i)*a+(a=V0*r-H0*o)*a+(a=H0*i-W0*r)*a),H0*r+W0*i+V0*o);D0+=a,j0+=a*(H0+(H0=r)),I0+=a*(W0+(W0=i)),R0+=a*(V0+(V0=o)),a1(H0,W0,V0)}function s1(){i1.point=o1}function f1(){i1.point=d1}function h1(){p1(z0,U0),i1.point=o1}function d1(t,e){z0=t,U0=e,t*=BH,e*=BH,i1.point=p1;var n=WH(e);H0=n*WH(t),W0=n*$H(t),V0=$H(e),a1(H0,W0,V0)}function p1(t,e){t*=BH;var n=WH(e*=BH),r=n*WH(t),i=n*$H(t),o=$H(e),a=W0*o-V0*i,c=V0*r-H0*o,l=H0*i-W0*r,u=XH(a,c,l),s=eW(u),f=u&&-s/u;L0.add(f*a),N0.add(f*c),B0.add(f*l),D0+=s,j0+=s*(H0+(H0=r)),I0+=s*(W0+(W0=i)),R0+=s*(V0+(V0=o)),a1(H0,W0,V0)}function v1(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function g1(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function m1(){return 0}function y1(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return b1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b1(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function b1(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x1(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return w1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w1(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function w1(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S1(t){return t instanceof nF?t:new nF(t)}var k1="intersect",C1="union",O1="_vgsid_",E1=Fy(O1),M1="E",A1="R",P1="R-E",_1="R-LE",D1="R-RE",T1="index:unit";function Z1(t,e){for(var n,r,i=e.fields,o=e.values,a=i.length,c=0;c<a;++c)if((r=i[c]).getter=Fy.getter||Fy(r.field),zb(n=r.getter(t))&&(n=eb(n)),zb(o[c])&&(o[c]=eb(o[c])),zb(o[c][0])&&(o[c]=o[c].map(eb)),r.type===M1){if(qy(o[c])?o[c].indexOf(n)<0:n!==o[c])return!1}else if(r.type===A1){if(!Nb(n,o[c]))return!1}else if(r.type===D1){if(!Nb(n,o[c],!0,!1))return!1}else if(r.type===P1){if(!Nb(n,o[c],!1,!1))return!1}else if(r.type===_1&&!Nb(n,o[c],!1,!0))return!1;return!0}var F1=function(t){var e,n,r;function i(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==e(r,r))return o;do{var a=i+o>>>1;n(t[a],r)<0?i=a+1:o=a}while(i<o)}return i}return 2!==t.length?(e=v1,n=function(e,n){return v1(t(e),n)},r=function(e,n){return t(e)-n}):(e=t===v1||t===g1?t:m1,n=t,r=t),{left:i,center:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=i(t,e,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length)-1);return o>n&&r(t[o-1],e)>-r(t[o],e)?o-1:o},right:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==e(r,r))return o;do{var a=i+o>>>1;n(t[a],r)<=0?i=a+1:o=a}while(i<o)}return i}}}(E1),j1=F1.left,I1=F1.right;var R1=(r1={},(0,V.Z)(r1,"".concat(O1,"_union"),(function(){for(var t=new nF,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a,c=y1(o[i]);try{for(c.s();!(a=c.n()).done;){var l=a.value;t.add(l)}}catch(u){c.e(u)}finally{c.f()}}return t})),(0,V.Z)(r1,"".concat(O1,"_intersect"),(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t=new nF(t),n=n.map(S1);var i,o=x1(t);try{t:for(o.s();!(i=o.n()).done;){var a,c=i.value,l=x1(n);try{for(l.s();!(a=l.n()).done;){if(!a.value.has(c)){t.delete(c);continue t}}}catch(u){l.e(u)}finally{l.f()}}}catch(u){o.e(u)}finally{o.f()}return t})),(0,V.Z)(r1,"E_union",(function(t,e){if(!t.length)return e;for(var n=0,r=e.length;n<r;++n)t.indexOf(e[n])<0&&t.push(e[n]);return t})),(0,V.Z)(r1,"E_intersect",(function(t,e){return t.length?t.filter((function(t){return e.indexOf(t)>=0})):e})),(0,V.Z)(r1,"R_union",(function(t,e){var n=eb(e[0]),r=eb(e[1]);return n>r&&(n=e[1],r=e[0]),t.length?(t[0]>n&&(t[0]=n),t[1]<r&&(t[1]=r),t):[n,r]})),(0,V.Z)(r1,"R_intersect",(function(t,e){var n=eb(e[0]),r=eb(e[1]);return n>r&&(n=e[1],r=e[0]),t.length?r<t[0]||t[1]<n?[]:(t[0]<n&&(t[0]=n),t[1]>r&&(t[1]=r),t):[n,r]})),r1);function L1(t,e,n,r){e[0].type!==SJ&&Ty("First argument to selection functions must be a string literal.");var i=e[0].value,o="unit",a="@"+o,c=":"+i;(e.length>=2&&tb(e).value)!==k1||Fb(r,a)||(r[a]=n.getData(i).indataRef(n,o)),Fb(r,c)||(r[c]=n.getData(i).tuplesRef())}function N1(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return B1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B1(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function B1(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z1(t){var e=this.context.data[t];return e?e.values.value:[]}var U1=function(t){return function(e,n){return this.context.dataflow.locale()[t](n)(e)}},H1=U1("format"),W1=U1("timeFormat"),V1=U1("utcFormat"),G1=U1("timeParse"),X1=U1("utcParse"),q1=new Date(2e3,0,1);function Y1(t,e,n){return Number.isInteger(t)&&Number.isInteger(e)?(q1.setYear(2e3),q1.setMonth(t),q1.setDate(e),W1.call(this,q1,n)):""}var $1="%",K1="$";function J1(t,e,n,r){e[0].type!==SJ&&Ty("First argument to data functions must be a string literal.");var i=e[0].value,o=":"+i;if(!Fb(o,r))try{r[o]=n.getData(i).tuplesRef()}catch(a){}}function Q1(t,e,n,r){if(e[0].type===SJ)t2(n,r,e[0].value);else for(t in n.scales)t2(n,r,t)}function t2(t,e,n){var r=$1+n;if(!Fb(e,r))try{e[r]=t.scaleRef(n)}catch(i){}}function e2(t,e){if(wb(t))return t;if(Vb(t)){var n=e.scales[t];return n&&function(t){return t&&!0===t[Yj]}(n.value)?n.value:void 0}}function n2(t,e,n){e.__bandwidth=function(t){return t&&t.bandwidth?t.bandwidth():0},n._bandwidth=Q1,n._range=Q1,n._scale=Q1;var r=function(e){return"_["+(e.type===SJ?tx($1+e.value):tx($1)+"+"+t(e))+"]"};return{_bandwidth:function(t){return"this.__bandwidth(".concat(r(t[0]),")")},_range:function(t){return"".concat(r(t[0]),".range()")},_scale:function(e){return"".concat(r(e[0]),"(").concat(t(e[1]),")")}}}function r2(t,e){return function(n,r,i){if(n){var o=e2(n,(i||this).context);return o&&o.path[t](r)}return e(r)}}var i2=r2("area",(function(t){return C0=new TH,DH(t,O0),2*C0})),o2=r2("bounds",(function(t){var e,n,r,i,o,a,c;if(v0=p0=-(h0=d0=1/0),w0=[],DH(t,G0),n=w0.length){for(w0.sort(e1),e=1,o=[r=w0[0]];e<n;++e)n1(r,(i=w0[e])[0])||n1(r,i[1])?(t1(r[0],i[1])>t1(r[0],r[1])&&(r[1]=i[1]),t1(i[0],r[1])>t1(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(c=t1(r[1],i[0]))>a&&(a=c,h0=i[0],p0=r[1])}return w0=S0=null,h0===1/0||d0===1/0?[[NaN,NaN],[NaN,NaN]]:[[h0,d0],[p0,v0]]})),a2=r2("centroid",(function(t){_0=D0=T0=Z0=F0=j0=I0=R0=0,L0=new TH,N0=new TH,B0=new TH,DH(t,i1);var e=+L0,n=+N0,r=+B0,i=XH(e,n,r);return i<FH&&(e=j0,n=I0,r=R0,D0<ZH&&(e=T0,n=Z0,r=F0),(i=XH(e,n,r))<FH)?[NaN,NaN]:[HH(n,e)*NH,eW(r/i)*NH]}));function c2(t,e,n){try{t[e].apply(t,["EXPRESSION"].concat([].slice.call(n)))}catch(r){t.warn(r)}return n[n.length-1]}function l2(t){var e=t/255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function u2(t){var e=(0,DF.B8)(t);return.2126*l2(e.r)+.7152*l2(e.g)+.0722*l2(e.b)}function s2(t,e){return t===e||t!=t&&e!=e||(qy(t)?!(!qy(e)||t.length!==e.length)&&function(t,e){for(var n=0,r=t.length;n<r;++n)if(!s2(t[n],e[n]))return!1;return!0}(t,e):!(!Yy(t)||!Yy(e))&&f2(t,e))}function f2(t,e){for(var n in t)if(!s2(t[n],e[n]))return!1;return!0}function h2(t){return function(e){return f2(t,e)}}var d2={};function p2(t){return qy(t)||ArrayBuffer.isView(t)?t:null}function v2(t){return p2(t)||(Vb(t)?t:null)}var g2=function(t){return t.data};function m2(t,e){var n=z1.call(e,t);return n.root&&n.root.lookup||{}}var y2=function(){return"undefined"!=typeof window&&window||null};function b2(t,e,n){if(!t)return[];var r=(0,G.Z)(t,2),i=r[0],o=r[1],a=(new zR).set(i[0],i[1],o[0],o[1]);return mz(n||this.context.dataflow.scenegraph().root,a,function(t){var e=null;if(t){var n=bb(t.marktype),r=bb(t.markname);e=function(t){return(!n.length||n.some((function(e){return t.marktype===e})))&&(!r.length||r.some((function(e){return t.name===e})))}}return e}(e))}var x2={random:function(){return zE()},cumulativeNormal:JE,cumulativeLogNormal:iM,cumulativeUniform:sM,densityNormal:KE,densityLogNormal:rM,densityUniform:uM,quantileNormal:QE,quantileLogNormal:oM,quantileUniform:fM,sampleNormal:$E,sampleLogNormal:nM,sampleUniform:lM,isArray:qy,isBoolean:Bb,isDate:zb,isDefined:function(t){return void 0!==t},isNumber:Hb,isObject:Yy,isRegExp:Wb,isString:Vb,isTuple:kO,isValid:function(t){return null!=t&&t==t},toBoolean:ex,toDate:function(t){return rx(t)},toNumber:eb,toString:ix,indexof:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=v2(t)).indexOf.apply(e,r)},join:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=p2(t)).join.apply(e,r)},lastindexof:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=v2(t)).lastIndexOf.apply(e,r)},replace:function(t,e,n){return wb(n)&&Ty("Function argument passed to replace."),String(t).replace(e,n)},reverse:function(t){return p2(t).slice().reverse()},slice:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=v2(t)).slice.apply(e,r)},flush:Rb,lerp:Xb,merge:function(){var t=[].slice.call(arguments);return t.unshift({}),_b.apply(void 0,(0,Xm.Z)(t))},pad:Jb,peek:tb,pluck:function(t,e){var n=d2[e]||(d2[e]=Fy(e));return qy(t)?t.map(n):n(t)},span:Qb,inrange:Nb,truncate:ax,rgb:DF.B8,lab:GF,hcl:QF,hsl:DF.Ym,luminance:u2,contrast:function(t,e){var n=u2(t),r=u2(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},sequence:jM,format:H1,utcFormat:V1,utcParse:X1,utcOffset:ZS,utcSequence:IS,timeFormat:W1,timeParse:G1,timeOffset:TS,timeSequence:jS,timeUnitSpecifier:iS,monthFormat:function(t){return Y1.call(this,t,1,"%B")},monthAbbrevFormat:function(t){return Y1.call(this,t,1,"%b")},dayFormat:function(t){return Y1.call(this,0,2+t,"%A")},dayAbbrevFormat:function(t){return Y1.call(this,0,2+t,"%a")},quarter:mb,utcquarter:yb,week:lS,utcweek:pS,dayofyear:cS,utcdayofyear:dS,warn:function(){return c2(this.context.dataflow,"warn",arguments)},info:function(){return c2(this.context.dataflow,"info",arguments)},debug:function(){return c2(this.context.dataflow,"debug",arguments)},extent:function(t){return Db(t)},inScope:function(t){var e=this.context.group,n=!1;if(e)for(;t;){if(t===e){n=!0;break}t=t.mark.group}return n},intersect:b2,clampRange:xb,pinchDistance:function(t){var e=t.touches,n=e[0].clientX-e[1].clientX,r=e[0].clientY-e[1].clientY;return Math.hypot(n,r)},pinchAngle:function(t){var e=t.touches;return Math.atan2(e[0].clientY-e[1].clientY,e[0].clientX-e[1].clientX)},screen:function(){var t=y2();return t?t.screen:{}},containerSize:function(){var t=this.context.dataflow,e=t.container&&t.container();return e?[e.clientWidth,e.clientHeight]:[void 0,void 0]},windowSize:function(){var t=y2();return t?[t.innerWidth,t.innerHeight]:[void 0,void 0]},bandspace:function(t,e,n){return Sj(t||0,e||0,n||0)},setdata:function(t,e){var n=this.context.dataflow,r=this.context.data[t].input;return n.pulse(r,n.changeset().remove(Ny).insert(e)),1},pathShape:function(t){var e=null;return function(n){return n?sR(n,e=e||QI(t)):t}},panLinear:lb,panLog:ub,panPow:sb,panSymlog:fb,zoomLinear:db,zoomLog:pb,zoomPow:vb,zoomSymlog:gb,encode:function(t,e,n){if(t){var r=this.context.dataflow,i=t.mark.source;r.pulse(i,r.changeset().encode(t,e))}return void 0!==n?n:t},modify:function(t,e,n,r,i,o){var a,c,l=this.context.dataflow,u=this.context.data[t],s=u.input,f=l.stamp(),h=u.changes;if(!1===l._trigger||!(s.value.length||e||r))return 0;if((!h||h.stamp<f)&&(u.changes=h=l.changeset(),h.stamp=f,l.runAfter((function(){u.modified=!0,l.pulse(s,h).run()}),!0,1)),n&&(a=!0===n?Ny:qy(n)||kO(n)?n:h2(n),h.remove(a)),e&&h.insert(e),r&&(a=h2(r),s.value.some(a)?h.remove(a):h.insert(r)),i)for(c in o)h.modify(i,c,o[c]);return 1},lassoAppend:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,i=(t=bb(t))[t.length-1];return void 0===i||Math.hypot(i[0]-e,i[1]-n)>r?[].concat((0,Xm.Z)(t),[[e,n]]):t},lassoPath:function(t){return bb(t).reduce((function(e,n,r){var i=(0,G.Z)(n,2),o=i[0],a=i[1];return e+(0==r?"M ".concat(o,",").concat(a," "):r===t.length-1?" Z":"L ".concat(o,",").concat(a," "))}),"")},intersectLasso:function(t,e,n){var r,i=n.x,o=n.y,a=n.mark,c=(new zR).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER),l=N1(e);try{for(l.s();!(r=l.n()).done;){var u=(0,G.Z)(r.value,2),s=u[0],f=u[1];s<c.x1&&(c.x1=s),s>c.x2&&(c.x2=s),f<c.y1&&(c.y1=f),f>c.y2&&(c.y2=f)}}catch(h){l.e(h)}finally{l.f()}return c.translate(i,o),b2([[c.x1,c.y1],[c.x2,c.y2]],t,a).filter((function(t){return function(t,e,n){for(var r=0,i=0,o=n.length-1;i<n.length;o=i++){var a=(0,G.Z)(n[o],2),c=a[0],l=a[1],u=(0,G.Z)(n[i],2),s=u[0],f=u[1];f>e!=l>e&&t<(c-s)*(e-f)/(l-f)+s&&r++}return 1&r}(t.x,t.y,e)}))}},w2=["view","item","group","xy","x","y"],S2="this.",k2={},C2={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:function(t){return"_[".concat(tx(K1+t),"]")},functions:function(t){var e=o0(t);for(var n in w2.forEach((function(t){return e[t]="event.vega."+t})),x2)e[n]=S2+n;return _b(e,n2(t,x2,k2)),e},constants:i0,visitors:k2},O2=a0(C2);function E2(t,e,n){return 1===arguments.length?x2[t]:(x2[t]=e,n&&(k2[t]=n),O2&&(O2.functions[t]=S2+t),this)}function M2(t,e){var n,r={};try{n=r0(t=Vb(t)?t:tx(t)+"")}catch(o){Ty("Expression parse error: "+t)}n.visit((function(t){if(t.type===EJ){var n=t.callee.name,i=C2.visitors[n];i&&i(n,t.arguments,e,r)}}));var i=O2(n);return i.globals.forEach((function(t){var n=K1+t;!Fb(r,n)&&e.getSignal(t)&&(r[n]=e.signalRef(t))})),{$expr:_b({code:i.code},e.options.ast?{ast:n}:null),$fields:i.fields,$params:r}}E2("bandwidth",(function(t,e){var n=e2(t,(e||this).context);return n&&n.bandwidth?n.bandwidth():0}),Q1),E2("copy",(function(t,e){var n=e2(t,(e||this).context);return n?n.copy():void 0}),Q1),E2("domain",(function(t,e){var n=e2(t,(e||this).context);return n?n.domain():[]}),Q1),E2("range",(function(t,e){var n=e2(t,(e||this).context);return n&&n.range?n.range():[]}),Q1),E2("invert",(function(t,e,n){var r=e2(t,(n||this).context);return r?qy(e)?(r.invertRange||r.invert)(e):(r.invert||r.invertExtent)(e):void 0}),Q1),E2("scale",(function(t,e,n){var r=e2(t,(n||this).context);return r?r(e):void 0}),Q1),E2("gradient",(function(t,e,n,r,i){t=e2(t,(i||this).context);var o=VI(e,n),a=t.domain(),c=a[0],l=tb(a),u=Iy;return l-c?u=sI(t,c,l):t=(t.interpolator?Kj("sequential")().interpolator(t.interpolator()):Kj("linear")().interpolate(t.interpolate()).range(t.range())).domain([c=0,l=1]),t.ticks&&(c!==(a=t.ticks(+r||15))[0]&&a.unshift(c),l!==tb(a)&&a.push(l)),a.forEach((function(e){return o.stop(u(e),t(e))})),o}),Q1),E2("geoArea",i2,Q1),E2("geoBounds",o2,Q1),E2("geoCentroid",a2,Q1),E2("geoShape",(function(t,e,n){var r=e2(t,(n||this).context);return function(t){return r?r.path.context(t)(e):""}}),Q1),E2("indata",(function(t,e,n){var r=this.context.data[t]["index:"+e],i=r?r.value.get(n):void 0;return i?i.count:i}),(function(t,e,n,r){e[0].type!==SJ&&Ty("First argument to indata must be a string literal."),e[1].type!==SJ&&Ty("Second argument to indata must be a string literal.");var i=e[0].value,o=e[1].value,a="@"+o;Fb(a,r)||(r[a]=n.getData(i).indataRef(n,o))})),E2("data",z1,J1),E2("treePath",(function(t,e,n){var r=m2(t,this),i=r[e],o=r[n];return i&&o?i.path(o).map(g2):void 0}),J1),E2("treeAncestors",(function(t,e){var n=m2(t,this)[e];return n?n.ancestors().map(g2):void 0}),J1),E2("vlSelectionTest",(function(t,e,n){for(var r,i,o,a,c,l=this.context.data[t],u=l?l.values.value:[],s=l?l[T1]&&l[T1].value:void 0,f=n===k1,h=u.length,d=0;d<h;++d)if(r=u[d],s&&f){if(-1===(o=(i=i||{})[a=r.unit]||0))continue;if(c=Z1(e,r),i[a]=c?-1:++o,c&&1===s.size)return!0;if(!c&&o===s.get(a).count)return!1}else if(f^(c=Z1(e,r)))return c;return h&&f}),L1),E2("vlSelectionIdTest",(function(t,e,n){var r=this.context.data[t],i=r?r.values.value:[],o=r?r[T1]&&r[T1].value:void 0,a=n===k1,c=E1(e),l=j1(i,c);if(l===i.length)return!1;if(E1(i[l])!==c)return!1;if(o&&a){if(1===o.size)return!0;if(I1(i,c)-l<o.size)return!1}return!0}),L1),E2("vlSelectionResolve",(function(t,e,n,r){for(var i,o,a,c,l,u,s,f,h,d,p,v,g=this.context.data[t],m=g?g.values.value:[],y={},b={},x={},w=m.length,S=0;S<w;++S)if(c=(i=m[S]).unit,o=i.fields,a=i.values,o&&a){for(p=0,v=o.length;p<v;++p)l=o[p],f=(s=y[l.field]||(y[l.field]={}))[c]||(s[c]=[]),x[l.field]=h=l.type.charAt(0),d=R1["".concat(h,"_union")],s[c]=d(f,bb(a[p]));n&&(f=b[c]||(b[c]=[])).push(bb(a).reduce((function(t,e,n){return t[o[n].field]=e,t}),{}))}else l=O1,u=E1(i),(f=(s=y[l]||(y[l]={}))[c]||(s[c]=[])).push(u),n&&(f=b[c]||(b[c]=[])).push((0,V.Z)({},O1,u));return e=e||C1,y[O1]?y[O1]=R1["".concat(O1,"_").concat(e)].apply(R1,(0,Xm.Z)(Object.values(y[O1]))):Object.keys(y).forEach((function(t){y[t]=Object.keys(y[t]).map((function(e){return y[t][e]})).reduce((function(n,r){return void 0===n?r:R1["".concat(x[t],"_").concat(e)](n,r)}))})),m=Object.keys(b),n&&m.length&&(y[r?"vlPoint":"vlMulti"]=e===C1?(0,V.Z)({},"or",m.reduce((function(t,e){return t.push.apply(t,(0,Xm.Z)(b[e])),t}),[])):(0,V.Z)({},"and",m.map((function(t){return(0,V.Z)({},"or",b[t])})))),y}),L1),E2("vlSelectionTuples",(function(t,e){return t.map((function(t){return _b(e.fields?{values:e.fields.map((function(e){return(e.getter||(e.getter=Fy(e.field)))(t.datum)}))}:(0,V.Z)({},O1,E1(t.datum)),e)}))}));var A2=ox(["rule"]),P2=ox(["group","image","rect"]);function _2(t){return(t+"").toLowerCase()}function D2(t,e,n){n.endsWith(";")||(n="return("+n+");");var r=Function.apply(void 0,(0,Xm.Z)(e.concat(n)));return t&&t.functions?r.bind(t.functions):r}var T2={operator:function(t,e){return D2(t,["_"],e.code)},parameter:function(t,e){return D2(t,["datum","_"],e.code)},event:function(t,e){return D2(t,["event"],e.code)},handler:function(t,e){return D2(t,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(e.code,";"))},encode:function(t,e){var n=e.marktype,r=e.channels,i="var o=item,datum=o.datum,m=0,$;";for(var o in r){var a="o["+tx(o)+"]";i+="$=".concat(r[o].code,";if(").concat(a,"!==$)").concat(a,"=$,m=1;")}return i+=function(t,e){var n="";return A2[e]||(t.x2&&(t.x?(P2[e]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),t.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),t.y2&&(t.y?(P2[e]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),t.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(r,n),D2(t,["item","_"],i+="return m;")},codegen:{get:function(t){var e="[".concat(t.map(tx).join("]["),"]"),n=Function("_","return _".concat(e,";"));return n.path=e,n},comparator:function(t,e){var n,r=Function("a","b","var u, v; return "+t.map((function(t,r){var i,o,a=e[r];return t.path?(i="a".concat(t.path),o="b".concat(t.path)):((n=n||{})["f"+r]=t,i="this.f".concat(r,"(a)"),o="this.f".concat(r,"(b)")),function(t,e,n,r){return"((u = ".concat(t,") < (v = ").concat(e,") || u == null) && v != null ? ").concat(n,"\n  : (u > v || v == null) && u != null ? ").concat(r,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(n,"\n  : v !== v && u === u ? ").concat(r," : ")}(i,o,-a,a)})).join("")+"0;");return n?r.bind(n):r}}};function Z2(t,e,n){if(!t||!Yy(t))return t;for(var r,i=0,o=F2.length;i<o;++i)if(Fb(t,(r=F2[i]).key))return r.parse(t,e,n);return t}var F2=[{key:"$ref",parse:function(t,e){return e.get(t.$ref)||Ty("Operator not defined: "+t.$ref)}},{key:"$key",parse:function(t,e){var n="k:"+t.$key+"_"+!!t.$flat;return e.fn[n]||(e.fn[n]=Gb(t.$key,t.$flat,e.expr.codegen))}},{key:"$expr",parse:function(t,e,n){t.$params&&e.parseParameters(t.$params,n);var r="e:"+t.$expr.code;return e.fn[r]||(e.fn[r]=Ey(e.parameterExpression(t.$expr),t.$fields))}},{key:"$field",parse:function(t,e){if(!t.$field)return null;var n="f:"+t.$field+"_"+t.$name;return e.fn[n]||(e.fn[n]=Fy(t.$field,t.$name,e.expr.codegen))}},{key:"$encode",parse:function(t,e){var n=t.$encode,r={};for(var i in n){var o=n[i];r[i]=Ey(e.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}},{key:"$compare",parse:function(t,e){var n="c:"+t.$compare+"_"+t.$order,r=bb(t.$compare).map((function(t){return t&&t.$tupleid?CO:t}));return e.fn[n]||(e.fn[n]=kb(r,t.$order,e.expr.codegen))}},{key:"$context",parse:function(t,e){return e}},{key:"$subflow",parse:function(t,e){var n=t.$subflow;return function(t,r,i){var o=e.fork().parse(n),a=o.get(n.operators[0].id),c=o.signals.parent;return c&&c.set(i),a.detachSubflow=function(){return e.detach(o)},a}}},{key:"$tupleid",parse:function(){return CO}}];var j2={skip:!0};function I2(t,e,n,r){return new R2(t,e,n,r)}function R2(t,e,n,r){this.dataflow=t,this.transforms=e,this.events=t.events.bind(t),this.expr=r||T2,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function L2(t){this.dataflow=t.dataflow,this.transforms=t.transforms,this.events=t.events,this.expr=t.expr,this.signals=Object.create(t.signals),this.scales=Object.create(t.scales),this.nodes=Object.create(t.nodes),this.data=Object.create(t.data),this.fn=Object.create(t.fn),t.functions&&(this.functions=Object.create(t.functions),this.functions.context=this)}function N2(t,e){t&&(null==e?t.removeAttribute("aria-label"):t.setAttribute("aria-label",e))}R2.prototype=L2.prototype={fork:function(){var t=new L2(this);return(this.subcontext||(this.subcontext=[])).push(t),t},detach:function(t){this.subcontext=this.subcontext.filter((function(e){return e!==t}));for(var e=Object.keys(t.nodes),n=0,r=e;n<r.length;n++){var i=r[n];t.nodes[i]._targets=null}for(var o=0,a=e;o<a.length;o++){var c=a[o];t.nodes[c].detach()}t.nodes=null},get:function(t){return this.nodes[t]},set:function(t,e){return this.nodes[t]=e},add:function(t,e){var n=this,r=n.dataflow,i=t.value;if(n.set(t.id,e),function(t){return"collect"===_2(t)}(t.type)&&i&&(i.$ingest?r.ingest(e,i.$ingest,i.$format):i.$request?r.preload(e,i.$request,i.$format):r.pulse(e,r.changeset().insert(i))),t.root&&(n.root=e),t.parent){var o=n.get(t.parent.$ref);o?(r.connect(o,[e]),e.targets().add(o)):(n.unresolved=n.unresolved||[]).push((function(){o=n.get(t.parent.$ref),r.connect(o,[e]),e.targets().add(o)}))}if(t.signal&&(n.signals[t.signal]=e),t.scale&&(n.scales[t.scale]=e),t.data){var a=function(){var r=n.data[c]||(n.data[c]={});t.data[c].forEach((function(t){return r[t]=e}))};for(var c in t.data)a()}},resolve:function(){return(this.unresolved||[]).forEach((function(t){return t()})),delete this.unresolved,this},operator:function(t,e){this.add(t,this.dataflow.add(t.value,e))},transform:function(t,e){this.add(t,this.dataflow.add(this.transforms[_2(e)]))},stream:function(t,e){this.set(t.id,e)},update:function(t,e,n,r,i){this.dataflow.on(e,n,r,i,t.options)},operatorExpression:function(t){return this.expr.operator(this,t)},parameterExpression:function(t){return this.expr.parameter(this,t)},eventExpression:function(t){return this.expr.event(this,t)},handlerExpression:function(t){return this.expr.handler(this,t)},encodeExpression:function(t){return this.expr.encode(this,t)},parse:function(t){var e=this,n=t.operators||[];return t.background&&(e.background=t.background),t.eventConfig&&(e.eventConfig=t.eventConfig),t.locale&&(e.locale=t.locale),n.forEach((function(t){return e.parseOperator(t)})),n.forEach((function(t){return e.parseOperatorParameters(t)})),(t.streams||[]).forEach((function(t){return e.parseStream(t)})),(t.updates||[]).forEach((function(t){return e.parseUpdate(t)})),e.resolve()},parseOperator:function(t){var e=this;!function(t){return"operator"===_2(t)}(t.type)&&t.type?e.transform(t,t.type):e.operator(t,t.update?e.operatorExpression(t.update):null)},parseOperatorParameters:function(t){var e=this;if(t.params){var n=e.get(t.id);n||Ty("Invalid operator id: "+t.id),e.dataflow.connect(n,n.parameters(e.parseParameters(t.params),t.react,t.initonly))}},parseParameters:function(t,e){e=e||{};var n=this;for(var r in t){var i=t[r];e[r]=qy(i)?i.map((function(t){return Z2(t,n,e)})):Z2(i,n,e)}return e},parseStream:function(t){var e,n=this,r=null!=t.filter?n.eventExpression(t.filter):void 0,i=null!=t.stream?n.get(t.stream):void 0;t.source?i=n.events(t.source,t.type,r):t.merge&&(i=(e=t.merge.map((function(t){return n.get(t)})))[0].merge.apply(e[0],e.slice(1))),t.between&&(e=t.between.map((function(t){return n.get(t)})),i=i.between(e[0],e[1])),t.filter&&(i=i.filter(r)),null!=t.throttle&&(i=i.throttle(+t.throttle)),null!=t.debounce&&(i=i.debounce(+t.debounce)),null==i&&Ty("Invalid stream definition: "+JSON.stringify(t)),t.consume&&i.consume(!0),n.stream(t,i)},parseUpdate:function(t){var e,n=this,r=Yy(r=t.source)?r.$ref:r,i=n.get(r),o=t.update,a=void 0;i||Ty("Source not defined: "+t.source),e=t.target&&t.target.$expr?n.eventExpression(t.target.$expr):n.get(t.target),o&&o.$expr&&(o.$params&&(a=n.parseParameters(o.$params)),o=n.handlerExpression(o.$expr)),n.update(t,i,e,o,a)},getState:function(t){var e=this,n={};if(t.signals){var r=n.signals={};Object.keys(e.signals).forEach((function(n){var i=e.signals[n];t.signals(n,i)&&(r[n]=i.value)}))}if(t.data){var i=n.data={};Object.keys(e.data).forEach((function(n){var r=e.data[n];t.data(n,r)&&(i[n]=r.input.value)}))}return e.subcontext&&!1!==t.recurse&&(n.subcontext=e.subcontext.map((function(e){return e.getState(t)}))),n},setState:function(t){var e=this,n=e.dataflow,r=t.data,i=t.signals;Object.keys(i||{}).forEach((function(t){n.update(e.signals[t],i[t],j2)})),Object.keys(r||{}).forEach((function(t){n.pulse(e.data[t].input,n.changeset().remove(Ny).insert(r[t]))})),(t.subcontext||[]).forEach((function(t,n){var r=e.subcontext[n];r&&r.setState(t)}))}};var B2="default";function z2(t,e){var n=t.globalCursor()?"undefined"!=typeof document&&document.body:t.container();if(n)return null==e?n.style.removeProperty("cursor"):n.style.cursor=e}function U2(t,e){var n=t._runtime.data;return Fb(n,e)||Ty("Unrecognized data set: "+e),n[e]}function H2(t,e){DO(e)||Ty("Second argument to changes must be a changeset.");var n=U2(this,t);return n.modified=!0,this.pulse(n.input,e)}function W2(t){var e=t.padding();return Math.max(0,t._viewWidth+e.left+e.right)}function V2(t){var e=t.padding();return Math.max(0,t._viewHeight+e.top+e.bottom)}function G2(t){var e=t.padding(),n=t._origin;return[e.left+n[0],e.top+n[1]]}function X2(t){var e=G2(t),n=W2(t),r=V2(t);t._renderer.background(t.background()),t._renderer.resize(n,r,e),t._handler.origin(e),t._resizeListeners.forEach((function(e){try{e(n,r)}catch(i){t.error(i)}}))}function q2(t,e,n){var r,i,o=t._renderer,a=o&&o.canvas();return a&&(i=G2(t),(r=QN(e.changedTouches?e.changedTouches[0]:e,a))[0]-=i[0],r[1]-=i[1]),e.dataflow=t,e.item=n,e.vega=function(t,e,n){var r=e?"group"===e.mark.marktype?e:e.mark.group:null;function i(t){var n,i=r;if(t)for(n=e;n;n=n.mark.group)if(n.mark.name===t){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function o(t){if(!t)return n;Vb(t)&&(t=i(t));for(var e=n.slice();t;)e[0]-=t.x||0,e[1]-=t.y||0,t=t.mark&&t.mark.group;return e}return{view:Ab(t),item:Ab(e||{}),group:i,xy:o,x:function(t){return o(t)[0]},y:function(t){return o(t)[1]}}}(t,n,r),e}var Y2="view",$2={trap:!1};function K2(t,e,n,r){t._eventListeners.push({type:n,sources:bb(e),handler:r})}function J2(t,e,n){var r=t._eventConfig&&t._eventConfig[e];return!(!1===r||Yy(r)&&!r[n])||(t.warn("Blocked ".concat(e," ").concat(n," event listener.")),!1)}function Q2(t){return t.item}function t5(t){return t.item.mark.source}function e5(t){return function(e,n){return n.vega.view().changeset().encode(n.item,t)}}function n5(t,e,n){var r=document.createElement(t);for(var i in e)r.setAttribute(i,e[i]);return null!=n&&(r.textContent=n),r}var r5="vega-bind",i5="vega-bind-name",o5="vega-bind-radio";function a5(t,e,n,r){var i=n.event||"input",o=function(){return t.update(e.value)};r.signal(n.signal,e.value),e.addEventListener(i,o),K2(r,e,i,o),t.set=function(t){e.value=t,e.dispatchEvent(function(t){return"undefined"!=typeof Event?new Event(t):{type:t}}(i))}}function c5(t,e,n,r){var i=r.signal(n.signal),o=n5("div",{class:r5}),a="radio"===n.input?o:o.appendChild(n5("label"));a.appendChild(n5("span",{class:i5},n.name||n.signal)),e.appendChild(o);var c=l5;switch(n.input){case"checkbox":c=u5;break;case"select":c=s5;break;case"radio":c=f5;break;case"range":c=h5}c(t,a,n,i)}function l5(t,e,n,r){var i=n5("input");for(var o in n)"signal"!==o&&"element"!==o&&i.setAttribute("input"===o?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,e.appendChild(i),i.addEventListener("input",(function(){return t.update(i.value)})),t.elements=[i],t.set=function(t){return i.value=t}}function u5(t,e,n,r){var i={type:"checkbox",name:n.signal};r&&(i.checked=!0);var o=n5("input",i);e.appendChild(o),o.addEventListener("change",(function(){return t.update(o.checked)})),t.elements=[o],t.set=function(t){return o.checked=!!t||null}}function s5(t,e,n,r){var i=n5("select",{name:n.signal}),o=n.labels||[];n.options.forEach((function(t,e){var n={value:t};d5(t,r)&&(n.selected=!0),i.appendChild(n5("option",n,(o[e]||t)+""))})),e.appendChild(i),i.addEventListener("change",(function(){t.update(n.options[i.selectedIndex])})),t.elements=[i],t.set=function(t){for(var e=0,r=n.options.length;e<r;++e)if(d5(n.options[e],t))return void(i.selectedIndex=e)}}function f5(t,e,n,r){var i=n5("span",{class:o5}),o=n.labels||[];e.appendChild(i),t.elements=n.options.map((function(e,a){var c={type:"radio",name:n.signal,value:e};d5(e,r)&&(c.checked=!0);var l=n5("input",c);l.addEventListener("change",(function(){return t.update(e)}));var u=n5("label",{},(o[a]||e)+"");return u.prepend(l),i.appendChild(u),l})),t.set=function(e){for(var n=t.elements,r=n.length,i=0;i<r;++i)d5(n[i].value,e)&&(n[i].checked=!0)}}function h5(t,e,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;var i=null!=n.max?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,a=n.step||Dx(o,i,100),c=n5("input",{type:"range",name:n.signal,min:o,max:i,step:a});c.value=r;var l=n5("span",{},+r);e.appendChild(c),e.appendChild(l);var u=function(){l.textContent=c.value,t.update(+c.value)};c.addEventListener("input",u),c.addEventListener("change",u),t.elements=[c],t.set=function(t){c.value=t,l.textContent=t}}function d5(t,e){return t===e||t+""==e+""}function p5(t,e,n,r,i,o){return(e=e||new r(t.loader())).initialize(n,W2(t),V2(t),G2(t),i,o).background(t.background())}function v5(t,e){return e?function(){try{e.apply(this,arguments)}catch(n){t.error(n)}}:null}function g5(t,e,n){if("string"==typeof e){if("undefined"==typeof document)return t.error("DOM document instance not found."),null;if(!(e=document.querySelector(e)))return t.error("Signal bind element not found: "+e),null}if(e&&n)try{e.textContent=""}catch(F2t){e=null,t.error(F2t)}return e}var m5=function(t){return+t||0};function y5(t){return Yy(t)?{top:m5(t.top),bottom:m5(t.bottom),left:m5(t.left),right:m5(t.right)}:function(t){return{top:t,bottom:t,left:t,right:t}}(m5(t))}function b5(t,e,n,r){return x5.apply(this,arguments)}function x5(){return x5=Gm(q().mark((function t(e,n,r,i){var o,a;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=gz(n),(a=o&&o.headless)||Ty("Unrecognized renderer type: "+n),t.next=4,e.runAsync();case 4:return t.abrupt("return",p5(e,null,null,a,r,i).renderAsync(e._scenegraph.root));case 5:case"end":return t.stop()}}),t)}))),x5.apply(this,arguments)}function w5(){return w5=Gm(q().mark((function t(e,n){var r;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e!==pz.Canvas&&e!==pz.SVG&&e!==pz.PNG&&Ty("Unrecognized image type: "+e),t.next=3,b5(this,e,n);case 3:return r=t.sent,t.abrupt("return",e===pz.SVG?S5(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png"));case 5:case"end":return t.stop()}}),t,this)}))),w5.apply(this,arguments)}function S5(t,e){var n=new Blob([t],{type:e});return window.URL.createObjectURL(n)}function k5(){return(k5=Gm(q().mark((function t(e,n){var r;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b5(this,pz.Canvas,e,n);case 2:return r=t.sent,t.abrupt("return",r.canvas());case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function C5(){return(C5=Gm(q().mark((function t(e){var n;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b5(this,pz.SVG,e);case 2:return n=t.sent,t.abrupt("return",n.svg());case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var O5="width",E5="height",M5="padding",A5={skip:!0};function P5(t,e){var n=t.autosize(),r=t.padding();return e-(n&&n.contains===M5?r.left+r.right:0)}function _5(t,e){var n=t.autosize(),r=t.padding();return e-(n&&n.contains===M5?r.top+r.bottom:0)}function D5(t,e){return e.modified&&qy(e.input.value)&&t.indexOf("_:vega:_")}function T5(t,e){return!("parent"===t||e instanceof uE.proxy)}function Z5(t,e,n,r){var i=t.element();i&&i.setAttribute("title",function(t){return null==t?"":qy(t)?F5(t):Yy(t)&&!zb(t)?(e=t,Object.keys(e).map((function(t){var n=e[t];return t+": "+(qy(n)?F5(n):j5(n))})).join("\n")):t+"";var e}(r))}function F5(t){return"["+t.map(j5).join(", ")+"]"}function j5(t){return qy(t)?"[…]":Yy(t)&&!zb(t)?"{…}":t}function I5(t,e){var n=this;if(e=e||{},aE.call(n),e.loader&&n.loader(e.loader),e.logger&&n.logger(e.logger),null!=e.logLevel&&n.logLevel(e.logLevel),e.locale||t.locale){var r=_b({},t.locale,e.locale);n.locale(RC(r.number,r.time))}n._el=null,n._elBind=null,n._renderType=e.renderer||pz.Canvas,n._scenegraph=new GN;var i=n._scenegraph.root;n._renderer=null,n._tooltip=e.tooltip||Z5,n._redraw=!0,n._handler=(new yB).scene(i),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=function(t){var e=_b({defaults:{}},t),n=function(t,e){e.forEach((function(e){qy(t[e])&&(t[e]=ox(t[e]))}))};return n(e.defaults,["prevent","allow"]),n(e,["view","window","selector"]),e}(t.eventConfig),n.globalCursor(n._eventConfig.globalCursor);var o=function(t,e,n){return I2(t,uE,x2,n).parse(e)}(n,t,e.expr);n._runtime=o,n._signals=o.signals,n._bind=(t.bindings||[]).map((function(t){return{state:null,param:_b({},t)}})),o.root&&o.root.set(i),i.source=o.data.root.input,n.pulse(o.data.root.input,n.changeset().insert(i.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=P5(n,n._width),n._viewHeight=_5(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,function(t){var e=t._signals,n=e[O5],r=e[E5],i=e[M5];function o(){t._autosize=t._resize=1}t._resizeWidth=t.add(null,(function(e){t._width=e.size,t._viewWidth=P5(t,e.size),o()}),{size:n}),t._resizeHeight=t.add(null,(function(e){t._height=e.size,t._viewHeight=_5(t,e.size),o()}),{size:r});var a=t.add(null,o,{pad:i});t._resizeWidth.rank=n.rank+1,t._resizeHeight.rank=r.rank+1,a.rank=i.rank+1}(n),function(t){t.add(null,(function(e){return t._background=e.bg,t._resize=1,e.bg}),{bg:t._signals.background})}(n),function(t){var e=t._signals.cursor||(t._signals.cursor=t.add({user:B2,item:null}));t.on(t.events("view","mousemove"),e,(function(t,n){var r=e.value,i=r?Vb(r)?r:r.user:B2,o=n.item&&n.item.cursor||null;return r&&i===r.user&&o==r.item?r:{user:i,item:o}})),t.add(null,(function(e){var n=e.cursor,r=this.value;return Vb(n)||(r=n.item,n=n.user),z2(t,n&&n!==B2?n:r||n),r}),{cursor:e})}(n),n.description(t.description),e.hover&&n.hover(),e.container&&n.initialize(e.container,e.bind)}function R5(t,e){return Fb(t._signals,e)?t._signals[e]:Ty("Unrecognized signal name: "+tx(e))}function L5(t,e){var n=(t._targets||[]).filter((function(t){return t._update&&t._update.handler===e}));return n.length?n[0]:null}function N5(t,e,n,r){var i=L5(n,r);return i||((i=v5(t,(function(){return r(e,n.value)}))).handler=r,t.on(n,null,i)),t}function B5(t,e,n){var r=L5(e,n);return r&&e._targets.remove(r),t}Lb(I5,aE,{evaluate:function(t,e,n){var r=this;return Gm(q().mark((function i(){return q().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,aE.prototype.evaluate.call(r,t,e);case 2:if(!r._redraw&&!r._resize){i.next=14;break}if(i.prev=3,!r._renderer){i.next=8;break}return r._resize&&(r._resize=0,X2(r)),i.next=8,r._renderer.renderAsync(r._scenegraph.root);case 8:r._redraw=!1,i.next=14;break;case 11:i.prev=11,i.t0=i.catch(3),r.error(i.t0);case 14:return n&&bO(r,n),i.abrupt("return",r);case 16:case"end":return i.stop()}}),i,null,[[3,11]])})))()},dirty:function(t){this._redraw=!0,this._renderer&&this._renderer.dirty(t)},description:function(t){if(arguments.length){var e=null!=t?t+"":null;return e!==this._desc&&N2(this._el,this._desc=e),this}return this._desc},container:function(){return this._el},scenegraph:function(){return this._scenegraph},origin:function(){return this._origin.slice()},signal:function(t,e,n){var r=R5(this,t);return 1===arguments.length?r.value:this.update(r,e,n)},width:function(t){return arguments.length?this.signal("width",t):this.signal("width")},height:function(t){return arguments.length?this.signal("height",t):this.signal("height")},padding:function(t){return arguments.length?this.signal("padding",y5(t)):y5(this.signal("padding"))},autosize:function(t){return arguments.length?this.signal("autosize",t):this.signal("autosize")},background:function(t){return arguments.length?this.signal("background",t):this.signal("background")},renderer:function(t){return arguments.length?(gz(t)||Ty("Unrecognized renderer type: "+t),t!==this._renderType&&(this._renderType=t,this._resetRenderer()),this):this._renderType},tooltip:function(t){return arguments.length?(t!==this._tooltip&&(this._tooltip=t,this._resetRenderer()),this):this._tooltip},loader:function(t){return arguments.length?(t!==this._loader&&(aE.prototype.loader.call(this,t),this._resetRenderer()),this):this._loader},resize:function(){return this._autosize=1,this.touch(R5(this,"autosize"))},_resetRenderer:function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(t,e,n,r,i,o){this.runAfter((function(a){var c=0;a._autosize=0,a.width()!==n&&(c=1,a.signal(O5,n,A5),a._resizeWidth.skip(!0)),a.height()!==r&&(c=1,a.signal(E5,r,A5),a._resizeHeight.skip(!0)),a._viewWidth!==t&&(a._resize=1,a._viewWidth=t),a._viewHeight!==e&&(a._resize=1,a._viewHeight=e),a._origin[0]===i[0]&&a._origin[1]===i[1]||(a._resize=1,a._origin=i),c&&a.run("enter"),o&&a.runAfter((function(t){return t.resize()}))}),!1,1)},addEventListener:function(t,e,n){var r=e;return n&&!1===n.trap||((r=v5(this,e)).raw=e),this._handler.on(t,r),this},removeEventListener:function(t,e){for(var n,r,i=this._handler.handlers(t),o=i.length;--o>=0;)if(r=i[o].type,n=i[o].handler,t===r&&(e===n||e===n.raw)){this._handler.off(r,n);break}return this},addResizeListener:function(t){var e=this._resizeListeners;return e.indexOf(t)<0&&e.push(t),this},removeResizeListener:function(t){var e=this._resizeListeners,n=e.indexOf(t);return n>=0&&e.splice(n,1),this},addSignalListener:function(t,e){return N5(this,t,R5(this,t),e)},removeSignalListener:function(t,e){return B5(this,R5(this,t),e)},addDataListener:function(t,e){return N5(this,t,U2(this,t).values,e)},removeDataListener:function(t,e){return B5(this,U2(this,t).values,e)},globalCursor:function(t){if(arguments.length){if(this._globalCursor!==!!t){var e=z2(this,null);this._globalCursor=!!t,e&&z2(this,e)}return this}return this._globalCursor},preventDefault:function(t){return arguments.length?(this._preventDefault=t,this):this._preventDefault},timer:function(t,e){this._timers.push(function(t,e,n){var r=new rq,i=e;return null==e?(r.restart(t,e,n),r):(r._restart=r.restart,r.restart=function(t,e,n){e=+e,n=null==n?eq():+n,r._restart((function o(a){a+=i,r._restart(o,i+=e,n),t(a)}),e,n)},r.restart(t,e,n),r)}((function(e){t({timestamp:Date.now(),elapsed:e})}),e))},events:function(t,e,n){var r,i=this,o=new BO(n),a=function(n,r){i.runAsync(null,(function(){t===Y2&&function(t,e){var n=t._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[e]:i?!i[e]:t.preventDefault()))}(i,e)&&n.preventDefault(),o.receive(q2(i,n,r))}))};if("timer"===t)J2(i,"timer",e)&&i.timer(a,e);else if(t===Y2)J2(i,"view",e)&&i.addEventListener(e,a,$2);else if("window"===t?J2(i,"window",e)&&"undefined"!=typeof window&&(r=[window]):"undefined"!=typeof document&&J2(i,"selector",e)&&(r=Array.from(document.querySelectorAll(t))),r){for(var c=0,l=r.length;c<l;++c)r[c].addEventListener(e,a);K2(i,r,e,a)}else i.warn("Can not resolve event source: "+t);return o},finalize:function(){var t,e,n,r=this._tooltip,i=this._timers,o=this._eventListeners;for(t=i.length;--t>=0;)i[t].stop();for(t=o.length;--t>=0;)for(e=(n=o[t]).sources.length;--e>=0;)n.sources[e].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},hover:function(t,e){return e=[e||"update",(t=[t||"hover"])[0]],this.on(this.events("view","mouseover",Q2),t5,e5(t)),this.on(this.events("view","mouseout",Q2),t5,e5(e)),this},data:function(t,e){return arguments.length<2?U2(this,t).values.value:H2.call(this,t,TO().remove(Ny).insert(e))},change:H2,insert:function(t,e){return H2.call(this,t,TO().insert(e))},remove:function(t,e){return H2.call(this,t,TO().remove(e))},scale:function(t){var e=this._runtime.scales;return Fb(e,t)||Ty("Unrecognized scale or projection: "+t),e[t].value},initialize:function(t,e){var n=this,r=n._renderType,i=n._eventConfig.bind,o=gz(r);t=n._el=t?g5(n,t,!0):null,function(t){var e=t.container();e&&(e.setAttribute("role","graphics-document"),e.setAttribute("aria-roleDescription","visualization"),N2(e,t.description()))}(n),o||n.error("Unrecognized renderer type: "+r);var a=o.handler||yB,c=t?o.renderer:o.headless;return n._renderer=c?p5(n,n._renderer,t,c):null,n._handler=function(t,e,n,r){var i=new r(t.loader(),v5(t,t.tooltip())).scene(t.scenegraph().root).initialize(n,G2(t),t);return e&&e.handlers().forEach((function(t){i.on(t.type,t.handler)})),i}(n,n._handler,t,a),n._redraw=!0,t&&"none"!==i&&(e=e?n._elBind=g5(n,e,!0):t.appendChild(n5("form",{class:"vega-bindings"})),n._bind.forEach((function(t){t.param.element&&"container"!==i&&(t.element=g5(n,t.param.element,!!t.param.input))})),n._bind.forEach((function(t){!function(t,e,n){if(e){var r=n.param,i=n.state;i||(i=n.state={elements:null,active:!1,set:null,update:function(e){e!=t.signal(r.signal)&&t.runAsync(null,(function(){i.source=!0,t.signal(r.signal,e)}))}},r.debounce&&(i.update=Pb(r.debounce,i.update))),(null==r.input&&r.element?a5:c5)(i,e,r,t),i.active||(t.on(t._signals[r.signal],null,(function(){i.source?i.source=!1:i.set(t.signal(r.signal))})),i.active=!0)}}(n,t.element||e,t)}))),n},toImageURL:function(t,e){return w5.apply(this,arguments)},toCanvas:function(t,e){return k5.apply(this,arguments)},toSVG:function(t){return C5.apply(this,arguments)},getState:function(t){return this._runtime.getState(t||{data:D5,signals:T5,recurse:!0})},setState:function(t){return this.runAsync(null,(function(e){e._trigger=!1,e._runtime.setState(t)}),(function(t){t._trigger=!0})),this}});var z5,U5,H5="view",W5="[",V5="]",G5="{",X5="}",q5=":",Y5=",",$5="@",K5=">",J5=/[[\]{}]/,Q5={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function t3(t,e,n){return z5=e||H5,U5=n||Q5,n3(t.trim()).map(r3)}function e3(t,e,n,r,i){for(var o,a=t.length,c=0;e<a;++e){if(o=t[e],!c&&o===n)return e;i&&i.indexOf(o)>=0?--c:r&&r.indexOf(o)>=0&&++c}return e}function n3(t){for(var e=[],n=t.length,r=0,i=0;i<n;)i=e3(t,i,Y5,W5+G5,V5+X5),e.push(t.substring(r,i).trim()),r=++i;if(0===e.length)throw"Empty event selector: "+t;return e}function r3(t){return"["===t[0]?function(t){var e,n=t.length,r=1;if(r=e3(t,r,V5,W5,V5),r===n)throw"Empty between selector: "+t;if(e=n3(t.substring(1,r)),2!==e.length)throw"Between selector must have two elements: "+t;if(t=t.slice(r+1).trim(),t[0]!==K5)throw"Expected '>' after between selector: "+t;e=e.map(r3);var i=r3(t.slice(1).trim());if(i.between)return{between:e,stream:i};i.between=e;return i}(t):function(t){var e,n,r={source:z5},i=[],o=[0,0],a=0,c=0,l=t.length,u=0;if(t[l-1]===X5){if(!((u=t.lastIndexOf(G5))>=0))throw"Unmatched right brace: "+t;try{o=function(t){var e=t.split(Y5);if(!t.length||e.length>2)throw t;return e.map((function(e){var n=+e;if(n!=n)throw t;return n}))}(t.substring(u+1,l-1))}catch(F2t){throw"Invalid throttle specification: "+t}l=(t=t.slice(0,u).trim()).length,u=0}if(!l)throw t;t[0]===$5&&(a=++u);e=e3(t,u,q5),e<l&&(i.push(t.substring(c,e).trim()),c=u=++e);if(u=e3(t,u,W5),u===l)i.push(t.substring(c,l).trim());else if(i.push(t.substring(c,u).trim()),n=[],(c=++u)===l)throw"Unmatched left bracket: "+t;for(;u<l;){if((u=e3(t,u,V5))===l)throw"Unmatched left bracket: "+t;if(n.push(t.substring(c,u).trim()),u<l-1&&t[++u]!==W5)throw"Expected left bracket: "+t;c=++u}if(!(l=i.length)||J5.test(i[l-1]))throw"Invalid event selector: "+t;l>1?(r.type=i[1],a?r.markname=i[0].slice(1):!function(t){return U5[t]}(i[0])?r.source=i[0]:r.marktype=i[0]):r.type=i[0];"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1));null!=n&&(r.filter=n);o[0]&&(r.throttle=o[0]);o[1]&&(r.debounce=o[1]);return r}(t)}function i3(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o3(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function o3(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a3(t){return Yy(t)?t:{type:t||"pad"}}var c3=function(t){return+t||0},l3=function(t){return{top:t,bottom:t,left:t,right:t}};function u3(t){return Yy(t)?t.signal?t:{top:c3(t.top),bottom:c3(t.bottom),left:c3(t.left),right:c3(t.right)}:l3(c3(t))}var s3=function(t){return Yy(t)&&!qy(t)?_b({},t):{value:t}};function f3(t,e,n,r){return null!=n?(Yy(n)&&!qy(n)||qy(n)&&n.length&&Yy(n[0])?t.update[e]=n:t[r||"enter"][e]={value:n},1):0}function h3(t,e,n){for(var r in e)f3(t,r,e[r]);for(var i in n)f3(t,i,n[i],"update")}function d3(t,e,n){for(var r in e)n&&Fb(n,r)||(t[r]=_b(t[r]||{},e[r]));return t}function p3(t,e){return e&&(e.enter&&e.enter[t]||e.update&&e.update[t])}var v3="mark",g3="frame",m3="scope",y3="axis",b3="axis-domain",x3="axis-grid",w3="axis-label",S3="axis-tick",k3="axis-title",C3="legend",O3="legend-band",E3="legend-entry",M3="legend-gradient",A3="legend-label",P3="legend-symbol",_3="legend-title",D3="title",T3="title-text",Z3="title-subtitle";function F3(t,e,n){t[e]=n&&n.signal?{signal:n.signal}:{value:n}}var j3=function(t){return Vb(t)?tx(t):t.signal?"(".concat(t.signal,")"):N3(t)};function I3(t){if(null!=t.gradient)return function(t){var e=[t.start,t.stop,t.count].map((function(t){return null==t?null:tx(t)}));for(;e.length&&null==tb(e);)e.pop();return e.unshift(j3(t.gradient)),"gradient(".concat(e.join(","),")")}(t);var e=t.signal?"(".concat(t.signal,")"):t.color?function(t){return t.c?R3("hcl",t.h,t.c,t.l):t.h||t.s?R3("hsl",t.h,t.s,t.l):t.l||t.a?R3("lab",t.l,t.a,t.b):t.r||t.g||t.b?R3("rgb",t.r,t.g,t.b):null}(t.color):null!=t.field?N3(t.field):void 0!==t.value?tx(t.value):void 0;return null!=t.scale&&(e=function(t,e){var n=j3(t.scale);null!=t.range?e="lerp(_range(".concat(n,"), ").concat(+t.range,")"):(void 0!==e&&(e="_scale(".concat(n,", ").concat(e,")")),t.band&&(e=(e?e+"+":"")+"_bandwidth(".concat(n,")")+(1==+t.band?"":"*"+L3(t.band)),t.extra&&(e="(datum.extra ? _scale(".concat(n,", datum.extra.value) : ").concat(e,")"))),null==e&&(e="0"));return e}(t,e)),void 0===e&&(e=null),null!=t.exponent&&(e="pow(".concat(e,",").concat(L3(t.exponent),")")),null!=t.mult&&(e+="*".concat(L3(t.mult))),null!=t.offset&&(e+="+".concat(L3(t.offset))),t.round&&(e="round(".concat(e,")")),e}var R3=function(t,e,n,r){return"(".concat(t,"(").concat([e,n,r].map(I3).join(","),")+'')")};function L3(t){return Yy(t)?"("+I3(t)+")":t}function N3(t){return B3(Yy(t)?t:{datum:t})}function B3(t){var e,n,r;if(t.signal)e="datum",r=t.signal;else if(t.group||t.parent){for(n=Math.max(1,t.level||1),e="item";n-- >0;)e+=".mark.group";t.parent?(r=t.parent,e+=".datum"):r=t.group}else t.datum?(e="datum",r=t.datum):Ty("Invalid field reference: "+tx(t));return t.signal||(r=Vb(r)?Zy(r).map(tx).join("]["):B3(r)),e+"["+r+"]"}function z3(t,e,n,r,i,o){var a={};for(var c in(o=o||{}).encoders={$encode:a},t=function(t,e,n,r,i){var o,a,c,l={},u={};for(a in a="lineBreak","text"!==e||null==i[a]||p3(a,t)||F3(l,a,i[a]),("legend"==n||String(n).startsWith("axis"))&&(n=null),c=n===g3?i.group:n===v3?_b({},i.mark,i[e]):null)p3(a,t)||("fill"===a||"stroke"===a)&&(p3("fill",t)||p3("stroke",t))||F3(l,a,c[a]);for(a in bb(r).forEach((function(e){var n=i.style&&i.style[e];for(var r in n)p3(r,t)||F3(l,r,n[r])})),t=_b({},t),l)(c=l[a]).signal?(o=o||{})[a]=c:u[a]=c;return t.enter=_b(u,t.enter),o&&(t.update=_b(o,t.update)),t}(t,e,n,r,i.config),t)a[c]=U3(t[c],e,o,i);return o}function U3(t,e,n,r){var i,o={},a={};for(var c in t)null!=t[c]&&(o[c]=H3((i=t[c],qy(i)?function(t){var e="";return t.forEach((function(t){var n=I3(t);e+=t.test?"(".concat(t.test,")?").concat(n,":"):n})),":"===tb(e)&&(e+="null"),e}(i):I3(i)),r,n,a));return{$expr:{marktype:e,channels:o},$fields:Object.keys(a),$output:Object.keys(t)}}function H3(t,e,n,r){var i=M2(t,e);return i.$fields.forEach((function(t){return r[t]=1})),_b(n,i.$params),i.$expr}var W3="outer",V3=["value","update","init","react","bind"];function G3(t,e){Ty(t+' for "outer" push: '+tx(e))}function X3(t,e){var n=t.name;if(t.push===W3)e.signals[n]||G3("No prior signal definition",n),V3.forEach((function(e){void 0!==t[e]&&G3("Invalid property ",e)}));else{var r=e.addSignal(n,t.value);!1===t.react&&(r.react=!1),t.bind&&e.addBinding(n,t.bind)}}function q3(t,e,n,r){this.id=-1,this.type=t,this.value=e,this.params=n,r&&(this.parent=r)}function Y3(t,e,n,r){return new q3(t,e,n,r)}function $3(t,e){return Y3("operator",t,e)}function K3(t){var e={$ref:t.id};return t.id<0&&(t.refs=t.refs||[]).push(e),e}function J3(t,e){return e?{$field:t,$name:e}:{$field:t}}var Q3=J3("key");function t6(t,e){return{$compare:t,$order:e}}var e6="descending";function n6(t,e){return(t&&t.signal?"$"+t.signal:t||"")+(t&&e?"_":"")+(e&&e.signal?"$"+e.signal:e||"")}var r6="scope",i6="view";function o6(t){return t&&t.signal}function a6(t){if(o6(t))return!0;if(Yy(t))for(var e in t)if(a6(t[e]))return!0;return!1}function c6(t,e){return null!=t?t:e}function l6(t){return t&&t.signal||t}var u6="timer";function s6(t,e){return(t.merge?f6:t.stream?h6:t.type?d6:Ty("Invalid stream specification: "+tx(t)))(t,e)}function f6(t,e){var n=t.merge.map((function(t){return s6(t,e)})),r=p6({merge:n},t,e);return e.addStream(r).id}function h6(t,e){var n=p6({stream:s6(t.stream,e)},t,e);return e.addStream(n).id}function d6(t,e){var n;t.type===u6?(n=e.event(u6,t.throttle),t={between:t.between,filter:t.filter}):n=e.event(function(t){return t===r6?i6:t||i6}(t.source),t.type);var r=p6({stream:n},t,e);return 1===Object.keys(r).length?n:e.addStream(r).id}function p6(t,e,n){var r=e.between;return r&&(2!==r.length&&Ty('Stream "between" parameter must have 2 entries: '+tx(e)),t.between=[s6(r[0],n),s6(r[1],n)]),r=e.filter?[].concat(e.filter):[],(e.marktype||e.markname||e.markrole)&&r.push(function(t,e,n){var r="event.item";return r+(t&&"*"!==t?"&&"+r+".mark.marktype==='"+t+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(e?"&&"+r+".mark.name==='"+e+"'":"")}(e.marktype,e.markname,e.markrole)),e.source===r6&&r.push("inScope(event.item)"),r.length&&(t.filter=M2("("+r.join(")&&(")+")",n).$expr),null!=(r=e.throttle)&&(t.throttle=+r),null!=(r=e.debounce)&&(t.debounce=+r),e.consume&&(t.consume=!0),t}var v6={code:"_.$value",ast:{type:"Identifier",value:"value"}};function g6(t,e,n){var r=t.encode,i={target:n},o=t.events,a=t.update,c=[];o||Ty("Signal update missing events specification."),Vb(o)&&(o=t3(o,e.isSubscope()?r6:i6)),o=bb(o).filter((function(t){return t.signal||t.scale?(c.push(t),0):1})),c.length>1&&(c=[m6(c)]),o.length&&c.push(o.length>1?{merge:o}:o[0]),null!=r&&(a&&Ty("Signal encode and update are mutually exclusive."),a="encode(item(),"+tx(r)+")"),i.update=Vb(a)?M2(a,e):null!=a.expr?M2(a.expr,e):null!=a.value?a.value:null!=a.signal?{$expr:v6,$params:{$value:e.signalRef(a.signal)}}:Ty("Invalid signal update specification."),t.force&&(i.options={force:!0}),c.forEach((function(t){return e.addUpdate(_b(function(t,e){return{source:t.signal?e.signalRef(t.signal):t.scale?e.scaleRef(t.scale):s6(t,e)}}(t,e),i))}))}function m6(t){return{signal:"["+t.map((function(t){return t.scale?'scale("'+t.scale+'")':t.signal}))+"]"}}var y6=function(t){return function(e,n,r){return Y3(t,n,e||void 0,r)}},b6=y6("aggregate"),x6=y6("axisticks"),w6=y6("bound"),S6=y6("collect"),k6=y6("compare"),C6=y6("datajoin"),O6=y6("encode"),E6=y6("expression"),M6=y6("facet"),A6=y6("field"),P6=y6("key"),_6=y6("legendentries"),D6=y6("load"),T6=y6("mark"),Z6=y6("multiextent"),F6=y6("multivalues"),j6=y6("overlap"),I6=y6("params"),R6=y6("prefacet"),L6=y6("projection"),N6=y6("proxy"),B6=y6("relay"),z6=y6("render"),U6=y6("scale"),H6=y6("sieve"),W6=y6("sortitems"),V6=y6("viewlayout"),G6=y6("values"),X6=0,q6={min:"min",max:"max",count:"sum"};function Y6(t,e){var n,r=e.getScale(t.name).params;for(n in r.domain=Q6(t.domain,t,e),null!=t.range&&(r.range=c4(t,e,r)),null!=t.interpolate&&function(t,e){e.interpolate=$6(t.type||t),null!=t.gamma&&(e.interpolateGamma=$6(t.gamma))}(t.interpolate,r),null!=t.nice&&(r.nice=function(t){return Yy(t)?{interval:$6(t.interval),step:$6(t.step)}:$6(t)}(t.nice)),null!=t.bins&&(r.bins=function(t,e){return t.signal||qy(t)?K6(t,e):e.objectProperty(t)}(t.bins,e)),t)Fb(r,n)||"name"===n||(r[n]=$6(t[n],e))}function $6(t,e){return Yy(t)?t.signal?e.signalRef(t.signal):Ty("Unsupported object: "+tx(t)):t}function K6(t,e){return t.signal?e.signalRef(t.signal):t.map((function(t){return $6(t,e)}))}function J6(t){Ty("Can not find data set: "+tx(t))}function Q6(t,e,n){if(t)return t.signal?n.signalRef(t.signal):(qy(t)?t4:t.fields?n4:e4)(t,e,n);null==e.domainMin&&null==e.domainMax||Ty("No scale domain defined for domainMin/domainMax to override.")}function t4(t,e,n){return t.map((function(t){return $6(t,n)}))}function e4(t,e,n){var r=n.getData(t.data);return r||J6(t.data),eI(e.type)?r.valuesRef(n,t.field,i4(t.sort,!1)):oI(e.type)?r.domainRef(n,t.field):r.extentRef(n,t.field)}function n4(t,e,n){var r=t.data,i=t.fields.reduce((function(t,e){return e=Vb(e)?{data:r,field:e}:qy(e)||e.signal?function(t,e){var n="_:vega:_"+X6++,r=S6({});if(qy(t))r.value={$ingest:t};else if(t.signal){var i="setdata("+tx(n)+","+t.signal+")";r.params.input=e.signalRef(i)}return e.addDataPipeline(n,[r,H6({})]),{data:n,field:"data"}}(e,n):e,t.push(e),t}),[]);return(eI(e.type)?r4:oI(e.type)?o4:a4)(t,n,i)}function r4(t,e,n){var r,i,o=i4(t.sort,!0),a=n.map((function(t){var n=e.getData(t.data);return n||J6(t.data),n.countsRef(e,t.field,o)})),c={groupby:Q3,pulse:a};o&&(r=o.op||"count",i=o.field?n6(r,o.field):"count",c.ops=[q6[r]],c.fields=[e.fieldRef(i)],c.as=[i]),r=e.add(b6(c));var l=e.add(S6({pulse:K3(r)}));return i=e.add(G6({field:Q3,sort:e.sortRef(o),pulse:K3(l)})),K3(i)}function i4(t,e){return t&&(t.field||t.op?t.field||"count"===t.op?e&&t.field&&t.op&&!q6[t.op]&&Ty("Multiple domain scales can not be sorted using "+t.op):Ty("No field provided for sort aggregate op: "+t.op):Yy(t)?t.field="key":t={field:"key"}),t}function o4(t,e,n){var r=n.map((function(t){var n=e.getData(t.data);return n||J6(t.data),n.domainRef(e,t.field)}));return K3(e.add(F6({values:r})))}function a4(t,e,n){var r=n.map((function(t){var n=e.getData(t.data);return n||J6(t.data),n.extentRef(e,t.field)}));return K3(e.add(Z6({extents:r})))}function c4(t,e,n){var r=e.config.range,i=t.range;if(i.signal)return e.signalRef(i.signal);if(Vb(i)){if(r&&Fb(r,i))return c4(t=_b({},t,{range:r[i]}),e,n);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=eI(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Ty("Unrecognized scale range value: "+tx(i))}else{if(i.scheme)return n.scheme=qy(i.scheme)?K6(i.scheme,e):$6(i.scheme,e),i.extent&&(n.schemeExtent=K6(i.extent,e)),void(i.count&&(n.schemeCount=$6(i.count,e)));if(i.step)return void(n.rangeStep=$6(i.step,e));if(eI(t.type)&&!qy(i))return Q6(i,t,e);qy(i)||Ty("Unsupported range type: "+tx(i))}return i.map((function(t){return(qy(t)?K6:$6)(t,e)}))}function l4(t,e,n){return qy(t)?t.map((function(t){return l4(t,e,n)})):Yy(t)?t.signal?n.signalRef(t.signal):"fit"===e?t:Ty("Unsupported parameter object: "+tx(t)):t}var u4="top",s4="left",f4="right",h4="bottom",d4="center",p4="vertical",v4="start",g4="end",m4="index",y4="label",b4="offset",x4="perc",w4="perc2",S4="value",k4="guide-label",C4="guide-title",O4="group-title",E4="group-subtitle",M4="symbol",A4="gradient",P4="discrete",_4="size",D4=[_4,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],T4={name:1,style:1,interactive:1},Z4={value:0},F4={value:1},j4="group",I4="rect",R4="rule",L4="symbol",N4="text";function B4(t){return t.type=j4,t.interactive=t.interactive||!1,t}function z4(t,e){var n=function(n,r){return c6(t[n],c6(e[n],r))};return n.isVertical=function(n){return p4===c6(t.direction,e.direction||(n?e.symbolDirection:e.gradientDirection))},n.gradientLength=function(){return c6(t.gradientLength,e.gradientLength||e.gradientWidth)},n.gradientThickness=function(){return c6(t.gradientThickness,e.gradientThickness||e.gradientHeight)},n.entryColumns=function(){return c6(t.columns,c6(e.columns,+n.isVertical(!0)))},n}function U4(t,e){var n=e&&(e.update&&e.update[t]||e.enter&&e.enter[t]);return n&&n.signal?n:n?n.value:null}function H4(t,e,n){return"item.anchor === '".concat(v4,"' ? ").concat(t," : item.anchor === '").concat(g4,"' ? ").concat(e," : ").concat(n)}var W4=H4(tx(s4),tx(f4),tx(d4));function V4(t,e){return e?t?Yy(t)?Object.assign({},t,{offset:V4(t.offset,e)}):{value:t,offset:e}:e:t}function G4(t,e){return e?(t.name=e.name,t.style=e.style||t.style,t.interactive=!!e.interactive,t.encode=d3(t.encode,e,T4)):t.interactive=!1,t}function X4(t,e,n,r){var i,o,a,c,l,u=z4(t,n),s=u.isVertical(),f=u.gradientThickness(),h=u.gradientLength();s?(o=[0,1],a=[0,0],c=f,l=h):(o=[0,0],a=[1,0],c=h,l=f);var d={enter:i={opacity:Z4,x:Z4,y:Z4,width:s3(c),height:s3(l)},update:_b({},i,{opacity:F4,fill:{gradient:e,start:o,stop:a}}),exit:{opacity:Z4}};return h3(d,{stroke:u("gradientStrokeColor"),strokeWidth:u("gradientStrokeWidth")},{opacity:u("gradientOpacity")}),G4({type:I4,role:M3,encode:d},r)}function q4(t,e,n,r,i){var o,a,c,l,u=z4(t,n),s=u.isVertical(),f=u.gradientThickness(),h=u.gradientLength(),d="";s?(o="y",c="y2",a="x",l="width",d="1-"):(o="x",c="x2",a="y",l="height");var p={opacity:Z4,fill:{scale:e,field:S4}};p[o]={signal:d+"datum."+x4,mult:h},p[a]=Z4,p[c]={signal:d+"datum."+w4,mult:h},p[l]=s3(f);var v={enter:p,update:_b({},p,{opacity:F4}),exit:{opacity:Z4}};return h3(v,{stroke:u("gradientStrokeColor"),strokeWidth:u("gradientStrokeWidth")},{opacity:u("gradientOpacity")}),G4({type:I4,role:O3,key:S4,from:i,encode:v},r)}var Y4="datum.".concat(x4,'<=0?"').concat(s4,'":datum.').concat(x4,'>=1?"').concat(f4,'":"').concat(d4,'"'),$4="datum.".concat(x4,'<=0?"').concat(h4,'":datum.').concat(x4,'>=1?"').concat(u4,'":"').concat("middle",'"');function K4(t,e,n,r){var i,o,a,c,l=z4(t,e),u=l.isVertical(),s=s3(l.gradientThickness()),f=l.gradientLength(),h=l("labelOverlap"),d="",p={enter:i={opacity:Z4},update:o={opacity:F4,text:{field:y4}},exit:{opacity:Z4}};return h3(p,{fill:l("labelColor"),fillOpacity:l("labelOpacity"),font:l("labelFont"),fontSize:l("labelFontSize"),fontStyle:l("labelFontStyle"),fontWeight:l("labelFontWeight"),limit:c6(t.labelLimit,e.gradientLabelLimit)}),u?(i.align={value:"left"},i.baseline=o.baseline={signal:$4},a="y",c="x",d="1-"):(i.align=o.align={signal:Y4},i.baseline={value:"top"},a="x",c="y"),i[a]=o[a]={signal:d+"datum."+x4,mult:f},i[c]=o[c]=s,s.offset=c6(t.labelOffset,e.gradientLabelOffset)||0,h=h?{separation:l("labelSeparation"),method:h,order:"datum."+m4}:void 0,G4({type:N4,role:A3,style:k4,key:S4,from:r,encode:p,overlap:h},n)}function J4(t,e,n,r,i){var o,a,c,l,u,s=z4(t,e),f=n.entries,h=!(!f||!f.interactive),d=f?f.name:void 0,p=s("clipHeight"),v=s("symbolOffset"),g={data:"value"},m="(".concat(i,") ? datum.").concat(b4," : datum.").concat(_4),y=p?s3(p):{field:_4},b="datum.".concat(m4),x="max(1, ".concat(i,")");y.mult=.5,o={enter:a={opacity:Z4,x:{signal:m,mult:.5,offset:v},y:y},update:c={opacity:F4,x:a.x,y:a.y},exit:{opacity:Z4}};var w=null,S=null;t.fill||(w=e.symbolBaseFillColor,S=e.symbolBaseStrokeColor),h3(o,{fill:s("symbolFillColor",w),shape:s("symbolType"),size:s("symbolSize"),stroke:s("symbolStrokeColor",S),strokeDash:s("symbolDash"),strokeDashOffset:s("symbolDashOffset"),strokeWidth:s("symbolStrokeWidth")},{opacity:s("symbolOpacity")}),D4.forEach((function(e){t[e]&&(c[e]=a[e]={scale:t[e],field:S4})}));var k=G4({type:L4,role:P3,key:S4,from:g,clip:!!p||void 0,encode:o},n.symbols),C=s3(v);C.offset=s("labelOffset"),h3(o={enter:a={opacity:Z4,x:{signal:m,offset:C},y:y},update:c={opacity:F4,text:{field:y4},x:a.x,y:a.y},exit:{opacity:Z4}},{align:s("labelAlign"),baseline:s("labelBaseline"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:s("labelLimit")});var O=G4({type:N4,role:A3,style:k4,key:S4,from:g,encode:o},n.labels);return o={enter:{noBound:{value:!p},width:Z4,height:p?s3(p):Z4,opacity:Z4},exit:{opacity:Z4},update:c={opacity:F4,row:{signal:null},column:{signal:null}}},s.isVertical(!0)?(l="ceil(item.mark.items.length / ".concat(x,")"),c.row.signal="".concat(b,"%").concat(l),c.column.signal="floor(".concat(b," / ").concat(l,")"),u={field:["row",b]}):(c.row.signal="floor(".concat(b," / ").concat(x,")"),c.column.signal="".concat(b," % ").concat(x),u={field:b}),c.column.signal="(".concat(i,")?").concat(c.column.signal,":").concat(b),B4({role:m3,from:r={facet:{data:r,name:"value",groupby:m4}},encode:d3(o,f,T4),marks:[k,O],name:d,interactive:h,sort:u})}var Q4='item.orient === "left"',t8='item.orient === "right"',e8="(".concat(Q4," || ").concat(t8,")"),n8="datum.vgrad && ".concat(e8),r8=H4('"top"','"bottom"','"middle"'),i8=H4('"right"','"left"','"center"'),o8="datum.vgrad && ".concat(t8," ? (").concat(i8,") : (").concat(e8," && !(datum.vgrad && ").concat(Q4,')) ? "left" : ').concat(W4),a8="item._anchor || (".concat(e8,' ? "middle" : "start")'),c8="".concat(n8," ? (").concat(Q4," ? -90 : 90) : 0"),l8="".concat(e8," ? (datum.vgrad ? (").concat(t8,' ? "bottom" : "top") : ').concat(r8,') : "top"');function u8(t,e){var n;return Yy(t)&&(t.signal?n=t.signal:t.path?n="pathShape("+s8(t.path)+")":t.sphere&&(n="geoShape("+s8(t.sphere)+', {type: "Sphere"})')),n?e.signalRef(n):!!t}function s8(t){return Yy(t)&&t.signal?t.signal:tx(t)}function f8(t){var e=t.role||"";return e.indexOf("axis")&&e.indexOf("legend")&&e.indexOf("title")?t.type===j4?m3:e||v3:e}function h8(t){return{marktype:t.type,name:t.name||void 0,role:t.role||f8(t),zindex:+t.zindex||void 0,aria:t.aria,description:t.description}}function d8(t,e){return t&&t.signal?e.signalRef(t.signal):!1!==t}function p8(t,e){var n=sE(t.type);n||Ty("Unrecognized transform type: "+tx(t.type));var r=Y3(n.type.toLowerCase(),null,v8(n,t,e));return t.signal&&e.addSignal(t.signal,e.proxy(r)),r.metadata=n.metadata||{},r}function v8(t,e,n){for(var r={},i=t.params.length,o=0;o<i;++o){var a=t.params[o];r[a.name]=g8(a,e,n)}return r}function g8(t,e,n){var r=t.type,i=e[t.name];return"index"===r?function(t,e,n){Vb(e.from)||Ty('Lookup "from" parameter must be a string literal.');return n.getData(e.from).lookupRef(n,e.key)}(0,e,n):void 0!==i?"param"===r?function(t,e,n){var r=e[t.name];return t.array?(qy(r)||Ty("Expected an array of sub-parameters. Instead: "+tx(r)),r.map((function(e){return y8(t,e,n)}))):y8(t,r,n)}(t,e,n):"projection"===r?n.projectionRef(e[t.name]):t.array&&!o6(i)?i.map((function(e){return m8(t,e,n)})):m8(t,i,n):void(t.required&&Ty("Missing required "+tx(e.type)+" parameter: "+tx(t.name)))}function m8(t,e,n){var r=t.type;if(o6(e))return S8(r)?Ty("Expression references can not be signals."):k8(r)?n.fieldRef(e):C8(r)?n.compareRef(e):n.signalRef(e.signal);var i=t.expr||k8(r);return i&&b8(e)?n.exprRef(e.expr,e.as):i&&x8(e)?J3(e.field,e.as):S8(r)?M2(e,n):w8(r)?K3(n.getData(e).values):k8(r)?J3(e):C8(r)?n.compareRef(e):e}function y8(t,e,n){for(var r,i=t.params.length,o=0;o<i;++o){for(var a in(r=t.params[o]).key)if(r.key[a]!==e[a]){r=null;break}if(r)break}r||Ty("Unsupported parameter: "+tx(e));var c=_b(v8(r,e,n),r.key);return K3(n.add(I6(c)))}var b8=function(t){return t&&t.expr},x8=function(t){return t&&t.field},w8=function(t){return"data"===t},S8=function(t){return"expr"===t},k8=function(t){return"field"===t},C8=function(t){return"compare"===t};function O8(t,e){return t.$ref?t:t.data&&t.data.$ref?t.data:K3(e.getData(t.data).output)}function E8(t,e,n,r,i){this.scope=t,this.input=e,this.output=n,this.values=r,this.aggregate=i,this.index={}}function M8(t){return Vb(t)?t:null}function A8(t,e,n){var r,i=n6(n.op,n.field);if(e.ops){for(var o=0,a=e.as.length;o<a;++o)if(e.as[o]===i)return}else e.ops=["count"],e.fields=[null],e.as=["count"];n.op&&(e.ops.push((r=n.op.signal)?t.signalRef(r):n.op),e.fields.push(t.fieldRef(n.field)),e.as.push(i))}function P8(t,e,n,r,i,o,a){var c,l,u=e[n]||(e[n]={}),s=function(t){return Yy(t)?(t.order===e6?"-":"+")+n6(t.op,t.field):""}(o),f=M8(i);if(null!=f&&(t=e.scope,c=u[f+=s?"|"+s:""]),!c){var h=o?{field:Q3,pulse:e.countsRef(t,i,o)}:{field:t.fieldRef(i),pulse:K3(e.output)};s&&(h.sort=t.sortRef(o)),l=t.add(Y3(r,void 0,h)),a&&(e.index[i]=l),c=K3(l),null!=f&&(u[f]=c)}return c}function _8(t,e,n){var r=t.remove,i=t.insert,o=t.toggle,a=t.modify,c=t.values,l=e.add($3()),u=M2("if("+t.trigger+',modify("'+n+'",'+[i,r,o,a,c].map((function(t){return null==t?"null":t})).join(",")+"),0)",e);l.update=u.$expr,l.params=u.$params}function D8(t,e){var n,r,i,o,a,c,l,u=f8(t),s=t.type===j4,f=t.from&&t.from.facet,h=t.overlap,d=t.layout||u===m3||u===g3,p=u===v3||d||f,v=function(t,e,n){var r,i,o,a,c;return t?(r=t.facet)&&(e||Ty("Only group marks can be faceted."),null!=r.field?a=c=O8(r,n):(t.data?c=K3(n.getData(t.data).aggregate):((o=p8(_b({type:"aggregate",groupby:bb(r.groupby)},r.aggregate),n)).params.key=n.keyRef(r.groupby),o.params.pulse=O8(r,n),a=c=K3(n.add(o))),i=n.keyRef(r.groupby,!0))):a=K3(n.add(S6(null,[{}]))),a||(a=O8(t,n)),{key:i,pulse:a,parent:c}}(t.from,s,e),g=K3(r=e.add(C6({key:v.key||(t.key?J3(t.key):void 0),pulse:v.pulse,clean:!s})));r=i=e.add(S6({pulse:g})),r=e.add(T6({markdef:h8(t),interactive:d8(t.interactive,e),clip:u8(t.clip,e),context:{$context:!0},groups:e.lookup(),parent:e.signals.parent?e.signalRef("parent"):null,index:e.markpath(),pulse:K3(r)}));var m=K3(r);(r=o=e.add(O6(z3(t.encode,t.type,u,t.style,e,{mod:!1,pulse:m})))).params.parent=e.encode(),t.transform&&t.transform.forEach((function(t){var n=p8(t,e),i=n.metadata;(i.generates||i.changes)&&Ty("Mark transforms should not generate new data."),i.nomod||(o.params.mod=!0),n.params.pulse=K3(r),e.add(r=n)})),t.sort&&(r=e.add(W6({sort:e.compareRef(t.sort),pulse:K3(r)})));var y=K3(r);(f||d)&&(c=K3(d=e.add(V6({layout:e.objectProperty(t.layout),legends:e.legends,mark:m,pulse:y}))));var b=e.add(w6({mark:m,pulse:c||y}));l=K3(b),s&&(p&&((n=e.operators).pop(),d&&n.pop()),e.pushState(y,c||l,g),f?function(t,e,n){var r,i=t.from.facet,o=i.name,a=O8(i,e);i.name||Ty("Facet must have a name: "+tx(i)),i.data||Ty("Facet must reference a data set: "+tx(i)),i.field?r=e.add(R6({field:e.fieldRef(i.field),pulse:a})):i.groupby?r=e.add(M6({key:e.keyRef(i.groupby),group:K3(e.proxy(n.parent)),pulse:a})):Ty("Facet must specify groupby or field: "+tx(i));var c=e.fork(),l=c.add(S6()),u=c.add(H6({pulse:K3(l)}));c.addData(o,new E8(c,l,l,u)),c.addSignal("parent",null),r.params.subflow={$subflow:c.parse(t).toRuntime()}}(t,e,v):p?function(t,e,n){var r=e.add(R6({pulse:n.pulse})),i=e.fork();i.add(H6()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(t).toRuntime()}}(t,e,v):e.parse(t),e.popState(),p&&(d&&n.push(d),n.push(b))),h&&(l=function(t,e,n){var r=t.method,i=t.bound,o=t.separation,a={separation:o6(o)?n.signalRef(o.signal):o,method:o6(r)?n.signalRef(r.signal):r,pulse:e};t.order&&(a.sort=n.compareRef({field:t.order}));if(i){var c=i.tolerance;a.boundTolerance=o6(c)?n.signalRef(c.signal):+c,a.boundScale=n.scaleRef(i.scale),a.boundOrient=i.orient}return K3(n.add(j6(a)))}(h,l,e));var x=e.add(z6({pulse:l})),w=e.add(H6({pulse:K3(x)},void 0,e.parent()));null!=t.name&&(a=t.name,e.addData(a,new E8(e,i,x,w)),t.on&&t.on.forEach((function(t){(t.insert||t.remove||t.toggle)&&Ty("Marks only support modify triggers."),_8(t,e,a)})))}function T8(t,e){var n,r,i,o=e.config.legend,a=t.encode||{},c=z4(t,o),l=a.legend||{},u=l.name||void 0,s=l.interactive,f=l.style,h={},d=0;D4.forEach((function(e){return t[e]?(h[e]=t[e],d=d||t[e]):0})),d||Ty("Missing valid scale for legend.");var p=function(t,e){var n=t.type||M4;t.type||1!==function(t){return D4.reduce((function(e,n){return e+(t[n]?1:0)}),0)}(t)||!t.fill&&!t.stroke||(n=tI(e)?A4:nI(e)?P4:M4);return n!==A4?n:nI(e)?P4:A4}(t,e.scaleType(d)),v={title:null!=t.title,scales:h,type:p,vgrad:"symbol"!==p&&c.isVertical()},g=K3(e.add(S6(null,[v]))),m=K3(e.add(_6(r={type:p,scale:e.scaleRef(d),count:e.objectProperty(c("tickCount")),limit:e.property(c("symbolLimit")),values:e.objectProperty(t.values),minstep:e.property(t.tickMinStep),formatType:e.property(t.formatType),formatSpecifier:e.property(t.format)})));return p===A4?(i=[X4(t,d,o,a.gradient),K4(t,o,a.labels,m)],r.count=r.count||e.signalRef("max(2,2*floor((".concat(l6(c.gradientLength()),")/100))"))):p===P4?i=[q4(t,d,o,a.gradient,m),K4(t,o,a.labels,m)]:(n=function(t,e){var n=z4(t,e);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(t,o),i=[J4(t,o,a,m,l6(n.columns))],r.size=function(t,e,n){var r=l6(F8("size",t,n)),i=l6(F8("strokeWidth",t,n)),o=l6(function(t,e,n){return U4("fontSize",t)||function(t,e,n){var r=e.config.style[n];return r&&r[t]}("fontSize",e,n)}(n[1].encode,e,k4));return M2("max(ceil(sqrt(".concat(r,")+").concat(i,"),").concat(o,")"),e)}(t,e,i[0].marks)),i=[B4({role:E3,from:g,encode:{enter:{x:{value:0},y:{value:0}}},marks:i,layout:n,interactive:s})],v.title&&i.push(function(t,e,n,r){var i=z4(t,e),o={enter:{opacity:Z4},update:{opacity:F4,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Z4}};return h3(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:a8},angle:{signal:c8},align:{signal:o8},baseline:{signal:l8},text:t.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),G4({type:N4,role:_3,style:C4,from:r,encode:o},n)}(t,o,a.title,g)),D8(B4({role:C3,from:g,encode:d3(Z8(c,t,o),l,T4),marks:i,aria:c("aria"),description:c("description"),zindex:c("zindex"),name:u,interactive:s,style:f}),e)}function Z8(t,e,n){var r={enter:{},update:{}};return h3(r,{orient:t("orient"),offset:t("offset"),padding:t("padding"),titlePadding:t("titlePadding"),cornerRadius:t("cornerRadius"),fill:t("fillColor"),stroke:t("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:t("legendX"),y:t("legendY"),format:e.format,formatType:e.formatType}),r}function F8(t,e,n){return e[t]?'scale("'.concat(e[t],'",datum)'):U4(t,n[0].encode)}E8.fromEntries=function(t,e){var n=e.length,r=e[n-1],i=e[n-2],o=e[0],a=null,c=1;for(o&&"load"===o.type&&(o=e[1]),t.add(e[0]);c<n;++c)e[c].params.pulse=K3(e[c-1]),t.add(e[c]),"aggregate"===e[c].type&&(a=e[c]);return new E8(t,o,i,r,a)},E8.prototype={countsRef:function(t,e,n){var r,i,o,a=this,c=a.counts||(a.counts={}),l=M8(e);return null!=l&&(t=a.scope,r=c[l]),r?n&&n.field&&A8(t,r.agg.params,n):(o={groupby:t.fieldRef(e,"key"),pulse:K3(a.output)},n&&n.field&&A8(t,o,n),i=t.add(b6(o)),r=t.add(S6({pulse:K3(i)})),r={agg:i,ref:K3(r)},null!=l&&(c[l]=r)),r.ref},tuplesRef:function(){return K3(this.values)},extentRef:function(t,e){return P8(t,this,"extent","extent",e,!1)},domainRef:function(t,e){return P8(t,this,"domain","values",e,!1)},valuesRef:function(t,e,n){return P8(t,this,"vals","values",e,n||!0)},lookupRef:function(t,e){return P8(t,this,"lookup","tupleindex",e,!1)},indataRef:function(t,e){return P8(t,this,"indata","tupleindex",e,!0,!0)}};var j8='item.orient==="'.concat(s4,'"?-90:item.orient==="').concat(f4,'"?90:0');function I8(t,e){var n=z4(t=Vb(t)?{text:t}:t,e.config.title),r=t.encode||{},i=r.group||{},o=i.name||void 0,a=i.interactive,c=i.style,l=[],u=K3(e.add(S6(null,[{}])));return l.push(function(t,e,n,r){var i={value:0},o=t.text,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return h3(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:e("dx"),dy:e("dy"),fill:e("color"),font:e("font"),fontSize:e("fontSize"),fontStyle:e("fontStyle"),fontWeight:e("fontWeight"),lineHeight:e("lineHeight")},{align:e("align"),angle:e("angle"),baseline:e("baseline")}),G4({type:N4,role:T3,style:O4,from:r,encode:a},n)}(t,n,function(t){var e=t.encode;return e&&e.title||_b({name:t.name,interactive:t.interactive,style:t.style},e)}(t),u)),t.subtitle&&l.push(function(t,e,n,r){var i={value:0},o=t.subtitle,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return h3(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:e("dx"),dy:e("dy"),fill:e("subtitleColor"),font:e("subtitleFont"),fontSize:e("subtitleFontSize"),fontStyle:e("subtitleFontStyle"),fontWeight:e("subtitleFontWeight"),lineHeight:e("subtitleLineHeight")},{align:e("align"),angle:e("angle"),baseline:e("baseline")}),G4({type:N4,role:Z3,style:E4,from:r,encode:a},n)}(t,n,r.subtitle,u)),D8(B4({role:D3,from:u,encode:R8(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:a,style:c}),e)}function R8(t,e){var n={enter:{},update:{}};return h3(n,{orient:t("orient"),anchor:t("anchor"),align:{signal:W4},angle:{signal:j8},limit:t("limit"),frame:t("frame"),offset:t("offset")||0,padding:t("subtitlePadding")}),d3(n,e,T4)}function L8(t,e){var n=[];t.transform&&t.transform.forEach((function(t){n.push(p8(t,e))})),t.on&&t.on.forEach((function(n){_8(n,e,t.name)})),e.addDataPipeline(t.name,function(t,e,n){var r,i,o,a,c,l=[],u=null,s=!1,f=!1;t.values?o6(t.values)||a6(t.format)?(l.push(B8(e,t)),l.push(u=N8())):l.push(u=N8({$ingest:t.values,$format:t.format})):t.url?a6(t.url)||a6(t.format)?(l.push(B8(e,t)),l.push(u=N8())):l.push(u=N8({$request:t.url,$format:t.format})):t.source&&(u=r=bb(t.source).map((function(t){return K3(e.getData(t).output)})),l.push(null));for(i=0,o=n.length;i<o;++i)c=(a=n[i]).metadata,u||c.source||l.push(u=N8()),l.push(a),c.generates&&(f=!0),c.modifies&&!f&&(s=!0),c.source?u=a:c.changes&&(u=null);r&&(o=r.length-1,l[0]=B6({derive:s,pulse:o?r:r[0]}),(s||o)&&l.splice(1,0,N8()));u||l.push(N8());return l.push(H6({})),l}(t,e,n))}function N8(t){var e=S6({},t);return e.metadata={source:!0},e}function B8(t,e){return D6({url:e.url?t.property(e.url):void 0,async:e.async?t.property(e.async):void 0,values:e.values?t.property(e.values):void 0,format:t.objectProperty(e.format)})}var z8=function(t){return t===h4||t===u4},U8=function(t,e,n){return o6(t)?Y8(t.signal,e,n):t===s4||t===u4?e:n},H8=function(t,e,n){return o6(t)?X8(t.signal,e,n):z8(t)?e:n},W8=function(t,e,n){return o6(t)?q8(t.signal,e,n):z8(t)?n:e},V8=function(t,e,n){return o6(t)?$8(t.signal,e,n):t===u4?{value:e}:{value:n}},G8=function(t,e,n){return o6(t)?K8(t.signal,e,n):t===f4?{value:e}:{value:n}},X8=function(t,e,n){return J8("".concat(t," === '").concat(u4,"' || ").concat(t," === '").concat(h4,"'"),e,n)},q8=function(t,e,n){return J8("".concat(t," !== '").concat(u4,"' && ").concat(t," !== '").concat(h4,"'"),e,n)},Y8=function(t,e,n){return t7("".concat(t," === '").concat(s4,"' || ").concat(t," === '").concat(u4,"'"),e,n)},$8=function(t,e,n){return t7("".concat(t," === '").concat(u4,"'"),e,n)},K8=function(t,e,n){return t7("".concat(t," === '").concat(f4,"'"),e,n)},J8=function(t,e,n){return e=null!=e?s3(e):e,n=null!=n?s3(n):n,Q8(e)&&Q8(n)?(e=e?e.signal||tx(e.value):null,n=n?n.signal||tx(n.value):null,{signal:"".concat(t," ? (").concat(e,") : (").concat(n,")")}):[_b({test:t},e)].concat(n||[])},Q8=function(t){return null==t||1===Object.keys(t).length},t7=function(t,e,n){return{signal:"".concat(t," ? (").concat(n7(e),") : (").concat(n7(n),")")}},e7=function(t,e,n,r,i){return{signal:(null!=r?"".concat(t," === '").concat(s4,"' ? (").concat(n7(r),") : "):"")+(null!=n?"".concat(t," === '").concat(h4,"' ? (").concat(n7(n),") : "):"")+(null!=i?"".concat(t," === '").concat(f4,"' ? (").concat(n7(i),") : "):"")+(null!=e?"".concat(t," === '").concat(u4,"' ? (").concat(n7(e),") : "):"")+"(null)"}},n7=function(t){return o6(t)?t.signal:null==t?null:tx(t)},r7=function(t,e){return 0===e?0:o6(t)?{signal:"(".concat(t.signal,") * ").concat(e)}:{value:t*e}},i7=function(t,e){var n=t.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+e.signal}:t};function o7(t,e,n,r){var i;if(e&&Fb(e,t))return e[t];if(Fb(n,t))return n[t];if(t.startsWith("title")){switch(t){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=t[5].toLowerCase()+t.slice(6)}return r[C4][i]}if(t.startsWith("label")){switch(t){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=t[5].toLowerCase()+t.slice(6)}return r[k4][i]}return null}function a7(t){var e,n={},r=i3(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(i)for(var o in i)n[o]=1}}catch(a){r.e(a)}finally{r.f()}return Object.keys(n)}function c7(t,e){return{scale:t.scale,range:e}}function l7(t,e,n,r,i){var o,a,c,l=z4(t,e),u=t.orient,s=t.gridScale,f=U8(u,1,-1),h=function(t,e){if(1===e);else if(Yy(t)){for(var n=t=_b({},t);null!=n.mult;){if(!Yy(n.mult))return n.mult=o6(e)?{signal:"(".concat(n.mult,") * (").concat(e.signal,")")}:n.mult*e,t;n=n.mult=_b({},n.mult)}n.mult=e}else t=o6(e)?{signal:"(".concat(e.signal,") * (").concat(t||0,")")}:e*(t||0);return t}(t.offset,f),d={enter:o={opacity:Z4},update:c={opacity:F4},exit:a={opacity:Z4}};h3(d,{stroke:l("gridColor"),strokeCap:l("gridCap"),strokeDash:l("gridDash"),strokeDashOffset:l("gridDashOffset"),strokeOpacity:l("gridOpacity"),strokeWidth:l("gridWidth")});var p={scale:t.scale,field:S4,band:i.band,extra:i.extra,offset:i.offset,round:l("tickRound")},v=H8(u,{signal:"height"},{signal:"width"}),g=s?{scale:s,range:0,mult:f,offset:h}:{value:0,offset:h},m=s?{scale:s,range:1,mult:f,offset:h}:_b(v,{mult:f,offset:h});return o.x=c.x=H8(u,p,g),o.y=c.y=W8(u,p,g),o.x2=c.x2=W8(u,m),o.y2=c.y2=H8(u,m),a.x=H8(u,p),a.y=W8(u,p),G4({type:R4,role:x3,key:S4,from:r,encode:d},n)}function u7(t,e,n,r,i){return{signal:'flush(range("'+t+'"), scale("'+t+'", datum.value), '+e+","+n+","+r+","+i+")"}}function s7(t,e,n,r){var i,o,a=z4(t,e),c=t.orient,l=U8(c,-1,1),u={enter:i={opacity:Z4,anchor:s3(a("titleAnchor",null)),align:{signal:W4}},update:o=_b({},i,{opacity:F4,text:s3(t.title)}),exit:{opacity:Z4}},s={signal:'lerp(range("'.concat(t.scale,'"), ').concat(H4(0,1,.5),")")};return o.x=H8(c,s),o.y=W8(c,s),i.angle=H8(c,Z4,r7(l,90)),i.baseline=H8(c,V8(c,h4,u4),{value:h4}),o.angle=i.angle,o.baseline=i.baseline,h3(u,{fill:a("titleColor"),fillOpacity:a("titleOpacity"),font:a("titleFont"),fontSize:a("titleFontSize"),fontStyle:a("titleFontStyle"),fontWeight:a("titleFontWeight"),limit:a("titleLimit"),lineHeight:a("titleLineHeight")},{align:a("titleAlign"),angle:a("titleAngle"),baseline:a("titleBaseline")}),function(t,e,n,r){var i=function(t,e){return null!=t?(n.update[e]=i7(s3(t),n.update[e]),!1):!p3(e,r)},o=i(t("titleX"),"x"),a=i(t("titleY"),"y");n.enter.auto=a===o?s3(a):H8(e,s3(a),s3(o))}(a,c,u,n),u.update.align=i7(u.update.align,i.align),u.update.angle=i7(u.update.angle,i.angle),u.update.baseline=i7(u.update.baseline,i.baseline),G4({type:N4,role:k3,style:C4,from:r,encode:u},n)}function f7(t,e){var n,r=function(t,e){var n,r,i,o=e.config,a=o.style,c=o.axis,l="band"===e.scaleType(t.scale)&&o.axisBand,u=t.orient;if(o6(u)){var s=a7([o.axisX,o.axisY]),f=a7([o.axisTop,o.axisBottom,o.axisLeft,o.axisRight]);n={};var h,d=i3(s);try{for(d.s();!(h=d.n()).done;)n[i=h.value]=H8(u,o7(i,o.axisX,c,a),o7(i,o.axisY,c,a))}catch(g){d.e(g)}finally{d.f()}r={};var p,v=i3(f);try{for(v.s();!(p=v.n()).done;)r[i=p.value]=e7(u.signal,o7(i,o.axisTop,c,a),o7(i,o.axisBottom,c,a),o7(i,o.axisLeft,c,a),o7(i,o.axisRight,c,a))}catch(g){v.e(g)}finally{v.f()}}else n=u===u4||u===h4?o.axisX:o.axisY,r=o["axis"+u[0].toUpperCase()+u.slice(1)];return n||r||l?_b({},c,n,r,l):c}(t,e),i=t.encode||{},o=i.axis||{},a=o.name||void 0,c=o.interactive,l=o.style,u=z4(t,r),s=function(t){var e,n,r=t("tickBand"),i=t("tickOffset");return r?r.signal?(e={signal:"(".concat(r.signal,") === 'extent' ? 1 : 0.5")},n={signal:"(".concat(r.signal,") === 'extent'")},Yy(i)||(i={signal:"(".concat(r.signal,") === 'extent' ? 0 : ").concat(i)})):"extent"===r?(e=1,n=!0,i=0):(e=.5,n=!1):(e=t("bandPosition"),n=t("tickExtra")),{extra:n,band:e,offset:i}}(u),f={scale:t.scale,ticks:!!u("ticks"),labels:!!u("labels"),grid:!!u("grid"),domain:!!u("domain"),title:null!=t.title},h=K3(e.add(S6({},[f]))),d=K3(e.add(x6({scale:e.scaleRef(t.scale),extra:e.property(s.extra),count:e.objectProperty(t.tickCount),values:e.objectProperty(t.values),minstep:e.property(t.tickMinStep),formatType:e.property(t.formatType),formatSpecifier:e.property(t.format)}))),p=[];return f.grid&&p.push(l7(t,r,i.grid,d,s)),f.ticks&&(n=u("tickSize"),p.push(function(t,e,n,r,i,o){var a,c,l,u=z4(t,e),s=t.orient,f=U8(s,-1,1),h={enter:a={opacity:Z4},update:l={opacity:F4},exit:c={opacity:Z4}};h3(h,{stroke:u("tickColor"),strokeCap:u("tickCap"),strokeDash:u("tickDash"),strokeDashOffset:u("tickDashOffset"),strokeOpacity:u("tickOpacity"),strokeWidth:u("tickWidth")});var d=s3(i);d.mult=f;var p={scale:t.scale,field:S4,band:o.band,extra:o.extra,offset:o.offset,round:u("tickRound")};return l.y=a.y=H8(s,Z4,p),l.y2=a.y2=H8(s,d),c.x=H8(s,p),l.x=a.x=W8(s,Z4,p),l.x2=a.x2=W8(s,d),c.y=W8(s,p),G4({type:R4,role:S3,key:S4,from:r,encode:h},n)}(t,r,i.ticks,d,n,s))),f.labels&&(n=f.ticks?n:0,p.push(function(t,e,n,r,i,o){var a,c=z4(t,e),l=t.orient,u=t.scale,s=U8(l,-1,1),f=l6(c("labelFlush")),h=l6(c("labelFlushOffset")),d=c("labelAlign"),p=c("labelBaseline"),v=0===f||!!f,g=s3(i);g.mult=s,g.offset=s3(c("labelPadding")||0),g.offset.mult=s;var m={scale:u,field:S4,band:.5,offset:V4(o.offset,c("labelOffset"))},y=H8(l,v?u7(u,f,'"left"','"right"','"center"'):{value:"center"},G8(l,"left","right")),b=H8(l,V8(l,"bottom","top"),v?u7(u,f,'"top"','"bottom"','"middle"'):{value:"middle"}),x=u7(u,f,"-(".concat(h,")"),h,0);v=v&&h;var w={opacity:Z4,x:H8(l,m,g),y:W8(l,m,g)},S={enter:w,update:a={opacity:F4,text:{field:y4},x:w.x,y:w.y,align:y,baseline:b},exit:{opacity:Z4,x:w.x,y:w.y}};h3(S,{dx:!d&&v?H8(l,x):null,dy:!p&&v?W8(l,x):null}),h3(S,{angle:c("labelAngle"),fill:c("labelColor"),fillOpacity:c("labelOpacity"),font:c("labelFont"),fontSize:c("labelFontSize"),fontWeight:c("labelFontWeight"),fontStyle:c("labelFontStyle"),limit:c("labelLimit"),lineHeight:c("labelLineHeight")},{align:d,baseline:p});var k=c("labelBound"),C=c("labelOverlap");return C=C||k?{separation:c("labelSeparation"),method:C,order:"datum.index",bound:k?{scale:u,orient:l,tolerance:k}:null}:void 0,a.align!==y&&(a.align=i7(a.align,y)),a.baseline!==b&&(a.baseline=i7(a.baseline,b)),G4({type:N4,role:w3,style:k4,key:S4,from:r,encode:S,overlap:C},n)}(t,r,i.labels,d,n,s))),f.domain&&p.push(function(t,e,n,r){var i,o,a=z4(t,e),c=t.orient,l={enter:i={opacity:Z4},update:o={opacity:F4},exit:{opacity:Z4}};h3(l,{stroke:a("domainColor"),strokeCap:a("domainCap"),strokeDash:a("domainDash"),strokeDashOffset:a("domainDashOffset"),strokeWidth:a("domainWidth"),strokeOpacity:a("domainOpacity")});var u=c7(t,0),s=c7(t,1);return i.x=o.x=H8(c,u,Z4),i.x2=o.x2=H8(c,s),i.y=o.y=W8(c,u,Z4),i.y2=o.y2=W8(c,s),G4({type:R4,role:b3,from:r,encode:l},n)}(t,r,i.domain,h)),f.title&&p.push(s7(t,r,i.title,h)),D8(B4({role:y3,from:h,encode:d3(h7(u,t),o,T4),marks:p,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:a,interactive:c,style:l}),e)}function h7(t,e){var n={enter:{},update:{}};return h3(n,{orient:t("orient"),offset:t("offset")||0,position:c6(e.position,0),titlePadding:t("titlePadding"),minExtent:t("minExtent"),maxExtent:t("maxExtent"),range:{signal:'abs(span(range("'.concat(e.scale,'")))')},translate:t("translate"),format:e.format,formatType:e.formatType}),n}function d7(t,e,n){var r=bb(t.signals),i=bb(t.scales);return n||r.forEach((function(t){return X3(t,e)})),bb(t.projections).forEach((function(t){return function(t,e){var n=e.config.projection||{},r={};for(var i in t)"name"!==i&&(r[i]=l4(t[i],i,e));for(var o in n)null==r[o]&&(r[o]=l4(n[o],o,e));e.addProjection(t.name,r)}(t,e)})),i.forEach((function(t){return function(t,e){var n=t.type||"linear";Jj(n)||Ty("Unrecognized scale type: "+tx(n)),e.addScale(t.name,{type:n,domain:void 0})}(t,e)})),bb(t.data).forEach((function(t){return L8(t,e)})),i.forEach((function(t){return Y6(t,e)})),(n||r).forEach((function(t){return function(t,e){var n=e.getSignal(t.name),r=t.update;t.init&&(r?Ty("Signals can not include both init and update expressions."):(r=t.init,n.initonly=!0)),r&&(r=M2(r,e),n.update=r.$expr,n.params=r.$params),t.on&&t.on.forEach((function(t){return g6(t,e,n.id)}))}(t,e)})),bb(t.axes).forEach((function(t){return f7(t,e)})),bb(t.marks).forEach((function(t){return D8(t,e)})),bb(t.legends).forEach((function(t){return T8(t,e)})),t.title&&I8(t.title,e),e.parseLambdas(),e}var p7=function(t){return d3({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},t)};function v7(t,e){var n=e.config,r=K3(e.root=e.add($3())),i=function(t,e){var n=function(n){return c6(t[n],e[n])},r=[g7("background",n("background")),g7("autosize",a3(n("autosize"))),g7("padding",u3(n("padding"))),g7("width",n("width")||0),g7("height",n("height")||0)],i=r.reduce((function(t,e){return t[e.name]=e,t}),{}),o={};return bb(t.signals).forEach((function(t){Fb(i,t.name)?t=_b(i[t.name],t):r.push(t),o[t.name]=t})),bb(e.signals).forEach((function(t){Fb(o,t.name)||Fb(i,t.name)||r.push(t)})),r}(t,n);i.forEach((function(t){return X3(t,e)})),e.description=t.description||n.description,e.eventConfig=n.events,e.legends=e.objectProperty(n.legend&&n.legend.layout),e.locale=n.locale;var o=e.add(S6()),a=e.add(O6(z3(p7(t.encode),j4,g3,t.style,e,{pulse:K3(o)}))),c=e.add(V6({layout:e.objectProperty(t.layout),legends:e.legends,autosize:e.signalRef("autosize"),mark:r,pulse:K3(a)}));e.operators.pop(),e.pushState(K3(a),K3(c),null),d7(t,e,i),e.operators.push(c);var l=e.add(w6({mark:r,pulse:K3(c)}));return l=e.add(z6({pulse:K3(l)})),l=e.add(H6({pulse:K3(l)})),e.addData("root",new E8(e,o,o,l)),e}function g7(t,e){return e&&e.signal?{name:t,update:e.signal}:{name:t,value:e}}function m7(t,e){this.config=t||{},this.options=e||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function y7(t){this.config=t.config,this.options=t.options,this.legends=t.legends,this.field=Object.create(t.field),this.signals=Object.create(t.signals),this.lambdas=Object.create(t.lambdas),this.scales=Object.create(t.scales),this.events=Object.create(t.events),this.data=Object.create(t.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++t._nextsub[0],this._nextsub=t._nextsub,this._parent=t._parent.slice(),this._encode=t._encode.slice(),this._lookup=t._lookup.slice(),this._markpath=t._markpath}function b7(t){return(qy(t)?x7:w7)(t)}function x7(t){for(var e=t.length,n="[",r=0;r<e;++r){var i=t[r];n+=(r>0?",":"")+(Yy(i)?i.signal||b7(i):tx(i))}return n+"]"}function w7(t){var e,n,r="{",i=0;for(e in t)n=t[e],r+=(++i>1?",":"")+tx(e)+":"+(Yy(n)?n.signal||b7(n):tx(n));return r+"}"}function S7(t,e,n){return Yy(t)||Ty("Input Vega specification must be an object."),e=Ky(function(){var t="sans-serif",e="#4c78a8",n="#000",r="#888",i="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:e},area:{fill:e},image:null,line:{stroke:e,strokeWidth:2},path:{stroke:e},rect:{fill:e},rule:{stroke:n},shape:{stroke:e},symbol:{fill:e,size:64},text:{fill:n,font:t,fontSize:11},trail:{fill:e,size:2},style:{"guide-label":{fill:n,font:t,fontSize:10},"guide-title":{fill:n,font:t,fontSize:11,fontWeight:"bold"},"group-title":{fill:n,font:t,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:n,font:t,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:i},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:r,grid:!1,gridWidth:1,gridColor:i,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:r,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:i,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:r,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),e,t.config),v7(t,new m7(e,n)).toRuntime()}m7.prototype=y7.prototype={parse:function(t){return d7(t,this)},fork:function(){return new y7(this)},isSubscope:function(){return this._subid>0},toRuntime:function(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id:function(){return(this._subid?this._subid+":":0)+this._id++},add:function(t){return this.operators.push(t),t.id=this.id(),t.refs&&(t.refs.forEach((function(e){e.$ref=t.id})),t.refs=null),t},proxy:function(t){var e=t instanceof q3?K3(t):t;return this.add(N6({value:e}))},addStream:function(t){return this.streams.push(t),t.id=this.id(),t},addUpdate:function(t){return this.updates.push(t),t},finish:function(){var t,e;for(t in this.root&&(this.root.root=!0),this.signals)this.signals[t].signal=t;for(t in this.scales)this.scales[t].scale=t;function n(t,e,n){var r;t&&((r=t.data||(t.data={}))[e]||(r[e]=[])).push(n)}for(t in this.data)for(var r in n((e=this.data[t]).input,t,"input"),n(e.output,t,"output"),n(e.values,t,"values"),e.index)n(e.index[r],t,"index:"+r);return this},pushState:function(t,e,n){this._encode.push(K3(this.add(H6({pulse:t})))),this._parent.push(e),this._lookup.push(n?K3(this.proxy(n)):null),this._markpath.push(-1)},popState:function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent:function(){return tb(this._parent)},encode:function(){return tb(this._encode)},lookup:function(){return tb(this._lookup)},markpath:function(){var t=this._markpath;return++t[t.length-1]},fieldRef:function(t,e){if(Vb(t))return J3(t,e);t.signal||Ty("Unsupported field reference: "+tx(t));var n=t.signal,r=this.field[n];if(!r){var i={name:this.signalRef(n)};e&&(i.as=e),this.field[n]=r=K3(this.add(A6(i)))}return r},compareRef:function(t){var e=this,n=!1,r=function(t){return o6(t)?(n=!0,e.signalRef(t.signal)):function(t){return t&&t.expr}(t)?(n=!0,e.exprRef(t.expr)):t},i=bb(t.field).map(r),o=bb(t.order).map(r);return n?K3(this.add(k6({fields:i,orders:o}))):t6(i,o)},keyRef:function(t,e){var n=!1,r=this.signals;return t=bb(t).map((function(t){return o6(t)?(n=!0,K3(r[t.signal])):t})),n?K3(this.add(P6({fields:t,flat:e}))):function(t,e){var n={$key:t};return e&&(n.$flat=!0),n}(t,e)},sortRef:function(t){if(!t)return t;var e=n6(t.op,t.field),n=t.order||"ascending";return n.signal?K3(this.add(k6({fields:e,orders:this.signalRef(n.signal)}))):t6(e,n)},event:function(t,e){var n=t+":"+e;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:t,type:e}),this.events[n]=r}return this.events[n]},hasOwnSignal:function(t){return Fb(this.signals,t)},addSignal:function(t,e){this.hasOwnSignal(t)&&Ty("Duplicate signal name: "+tx(t));var n=e instanceof q3?e:this.add($3(e));return this.signals[t]=n},getSignal:function(t){return this.signals[t]||Ty("Unrecognized signal name: "+tx(t)),this.signals[t]},signalRef:function(t){return this.signals[t]?K3(this.signals[t]):(Fb(this.lambdas,t)||(this.lambdas[t]=this.add($3(null))),K3(this.lambdas[t]))},parseLambdas:function(){for(var t=Object.keys(this.lambdas),e=0,n=t.length;e<n;++e){var r=t[e],i=M2(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property:function(t){return t&&t.signal?this.signalRef(t.signal):t},objectProperty:function(t){return t&&Yy(t)?this.signalRef(t.signal||b7(t)):t},exprRef:function(t,e){var n={expr:M2(t,this)};return e&&(n.expr.$name=e),K3(this.add(E6(n)))},addBinding:function(t,e){this.bindings||Ty("Nested signals do not support binding: "+tx(t)),this.bindings.push(_b({signal:t},e))},addScaleProj:function(t,e){Fb(this.scales,t)&&Ty("Duplicate scale or projection name: "+tx(t)),this.scales[t]=this.add(e)},addScale:function(t,e){this.addScaleProj(t,U6(e))},addProjection:function(t,e){this.addScaleProj(t,L6(e))},getScale:function(t){return this.scales[t]||Ty("Unrecognized scale name: "+tx(t)),this.scales[t]},scaleRef:function(t){return K3(this.getScale(t))},scaleType:function(t){return this.getScale(t).params.type},projectionRef:function(t){return this.scaleRef(t)},projectionType:function(t){return this.scaleType(t)},addData:function(t,e){return Fb(this.data,t)&&Ty("Duplicate data set name: "+tx(t)),this.data[t]=e},getData:function(t){return this.data[t]||Ty("Undefined data set name: "+tx(t)),this.data[t]},addDataPipeline:function(t,e){return Fb(this.data,t)&&Ty("Duplicate data set name: "+tx(t)),this.addData(t,E8.fromEntries(this,e))}};var k7="5.25.0";_b(uE,o,c,l,u,s,h,f,d,p,v,g);var C7={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},O7={"*":function(t,e){return t*e},"+":function(t,e){return t+e},"-":function(t,e){return t-e},"/":function(t,e){return t/e},"%":function(t,e){return t%e},">":function(t,e){return t>e},"<":function(t,e){return t<e},"<=":function(t,e){return t<=e},">=":function(t,e){return t>=e},"==":function(t,e){return t==e},"!=":function(t,e){return t!=e},"===":function(t,e){return t===e},"!==":function(t,e){return t!==e},"&":function(t,e){return t&e},"|":function(t,e){return t|e},"^":function(t,e){return t^e},"<<":function(t,e){return t<<e},">>":function(t,e){return t>>e},">>>":function(t,e){return t>>>e}},E7={"+":function(t){return+t},"-":function(t){return-t},"~":function(t){return~t},"!":function(t){return!t}},M7=Array.prototype.slice,A7=function(t,e,n){var r=n?n(e[0]):e[0];return r[t].apply(r,M7.call(e,1))},P7={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},now:Date.now,utc:Date.UTC,datetime:function(t,e,n,r,i,o,a){return new Date(t,e||0,null!=n?n:1,r||0,i||0,o||0,a||0)},date:function(t){return new Date(t).getDate()},day:function(t){return new Date(t).getDay()},year:function(t){return new Date(t).getFullYear()},month:function(t){return new Date(t).getMonth()},hours:function(t){return new Date(t).getHours()},minutes:function(t){return new Date(t).getMinutes()},seconds:function(t){return new Date(t).getSeconds()},milliseconds:function(t){return new Date(t).getMilliseconds()},time:function(t){return new Date(t).getTime()},timezoneoffset:function(t){return new Date(t).getTimezoneOffset()},utcdate:function(t){return new Date(t).getUTCDate()},utcday:function(t){return new Date(t).getUTCDay()},utcyear:function(t){return new Date(t).getUTCFullYear()},utcmonth:function(t){return new Date(t).getUTCMonth()},utchours:function(t){return new Date(t).getUTCHours()},utcminutes:function(t){return new Date(t).getUTCMinutes()},utcseconds:function(t){return new Date(t).getUTCSeconds()},utcmilliseconds:function(t){return new Date(t).getUTCMilliseconds()},length:function(t){return t.length},join:function(){return A7("join",arguments)},indexof:function(){return A7("indexOf",arguments)},lastindexof:function(){return A7("lastIndexOf",arguments)},slice:function(){return A7("slice",arguments)},reverse:function(t){return t.slice().reverse()},parseFloat:parseFloat,parseInt:parseInt,upper:function(t){return String(t).toUpperCase()},lower:function(t){return String(t).toLowerCase()},substring:function(){return A7("substring",arguments,String)},split:function(){return A7("split",arguments,String)},replace:function(){return A7("replace",arguments,String)},trim:function(t){return String(t).trim()},regexp:RegExp,test:function(t,e){return RegExp(t).test(e)}},_7=["view","item","group","xy","x","y"],D7=new Set([Function,eval,setTimeout,setInterval]);"function"==typeof setImmediate&&D7.add(setImmediate);var T7={Literal:function(t,e){return e.value},Identifier:function(t,e){var n=e.name;return t.memberDepth>0?n:"datum"===n?t.datum:"event"===n?t.event:"item"===n?t.item:C7[n]||t.params["$"+n]},MemberExpression:function(t,e){var n=!e.computed,r=t(e.object);n&&(t.memberDepth+=1);var i=t(e.property);if(n&&(t.memberDepth-=1),!D7.has(r[i]))return r[i];console.error('Prevented interpretation of member "'.concat(i,'" which could lead to insecure code execution'))},CallExpression:function(t,e){var n=e.arguments,r=e.callee.name;return r.startsWith("_")&&(r=r.slice(1)),"if"===r?t(n[0])?t(n[1]):t(n[2]):(t.fn[r]||P7[r]).apply(t.fn,n.map(t))},ArrayExpression:function(t,e){return e.elements.map(t)},BinaryExpression:function(t,e){return O7[e.operator](t(e.left),t(e.right))},UnaryExpression:function(t,e){return E7[e.operator](t(e.argument))},ConditionalExpression:function(t,e){return t(e.test)?t(e.consequent):t(e.alternate)},LogicalExpression:function(t,e){return"&&"===e.operator?t(e.left)&&t(e.right):t(e.left)||t(e.right)},ObjectExpression:function(t,e){return e.properties.reduce((function(e,n){t.memberDepth+=1;var r=t(n.key);return t.memberDepth-=1,D7.has(t(n.value))?console.error('Prevented interpretation of property "'.concat(r,'" which could lead to insecure code execution')):e[r]=t(n.value),e}),{})}};function Z7(t,e,n,r,i,o){var a=function t(e){return T7[e.type](t,e)};return a.memberDepth=0,a.fn=Object.create(e),a.params=n,a.datum=r,a.event=i,a.item=o,_7.forEach((function(t){return a.fn[t]=function(){var e;return(e=i.vega)[t].apply(e,arguments)}})),a(t)}var F7={operator:function(t,e){var n=e.ast,r=t.functions;return function(t){return Z7(n,r,t)}},parameter:function(t,e){var n=e.ast,r=t.functions;return function(t,e){return Z7(n,r,e,t)}},event:function(t,e){var n=e.ast,r=t.functions;return function(t){return Z7(n,r,void 0,void 0,t)}},handler:function(t,e){var n=e.ast,r=t.functions;return function(t,e){var i=e.item&&e.item.datum;return Z7(n,r,t,i,e)}},encode:function(t,e){var n=e.marktype,r=e.channels,i=t.functions,o="group"===n||"image"===n||"rect"===n;return function(t,e){var a,c=t.datum,l=0;for(var u in r)a=Z7(r[u].ast,i,e,c,void 0,t),t[u]!==a&&(t[u]=a,l=1);return"rule"!==n&&function(t,e,n){var r;e.x2&&(e.x?(n&&t.x>t.x2&&(r=t.x,t.x=t.x2,t.x2=r),t.width=t.x2-t.x):t.x=t.x2-(t.width||0)),e.xc&&(t.x=t.xc-(t.width||0)/2),e.y2&&(e.y?(n&&t.y>t.y2&&(r=t.y,t.y=t.y2,t.y2=r),t.height=t.y2-t.y):t.y=t.y2-(t.height||0)),e.yc&&(t.y=t.yc-(t.height||0)/2)}(t,r,o),l}}},j7=n(53746),I7=n.n(j7),R7=n(2412),L7=n.n(R7),N7=n(16726),B7=n.n(N7);function z7(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return U7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U7(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function U7(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H7(t){return!!t.or}function W7(t){return!!t.and}function V7(t){return!!t.not}function G7(t,e){if(V7(t))G7(t.not,e);else if(W7(t)){var n,r=z7(t.and);try{for(r.s();!(n=r.n()).done;){G7(n.value,e)}}catch(a){r.e(a)}finally{r.f()}}else if(H7(t)){var i,o=z7(t.or);try{for(o.s();!(i=o.n()).done;){G7(i.value,e)}}catch(a){o.e(a)}finally{o.f()}}else e(t)}function X7(t,e){return V7(t)?{not:X7(t.not,e)}:W7(t)?{and:t.and.map((function(t){return X7(t,e)}))}:H7(t)?{or:t.or.map((function(t){return X7(t,e)}))}:e(t)}function q7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Y7(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $7(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function $7(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var K7=L7(),J7=I7();function Q7(t){throw new Error(t)}function t9(t,e){var n,r={},i=Y7(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;Fb(t,o)&&(r[o]=t[o])}}catch(a){i.e(a)}finally{i.f()}return r}function e9(t,e){var n,r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q7(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q7(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t),i=Y7(e);try{for(i.s();!(n=i.n()).done;){delete r[n.value]}}catch(o){i.e(o)}finally{i.f()}return r}Set.prototype.toJSON=function(){return"Set(".concat((0,Xm.Z)(this).map((function(t){return B7()(t)})).join(","),")")};var n9=B7();function r9(t){if(Hb(t))return t;var e=Vb(t)?t:B7()(t);if(e.length<250)return e;for(var n=0,r=0;r<e.length;r++){n=(n<<5)-n+e.charCodeAt(r),n&=n}return n}function i9(t){return!1===t||null===t}function o9(t,e){return t.includes(e)}function a9(t,e){var n,r=0,i=Y7(t.entries());try{for(i.s();!(n=i.n()).done;){var o=(0,G.Z)(n.value,2),a=o[0];if(e(o[1],a,r++))return!0}}catch(c){i.e(c)}finally{i.f()}return!1}function c9(t,e){var n,r=0,i=Y7(t.entries());try{for(i.s();!(n=i.n()).done;){var o=(0,G.Z)(n.value,2),a=o[0];if(!e(o[1],a,r++))return!1}}catch(c){i.e(c)}finally{i.f()}return!0}function l9(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];u9(t,null!=a?a:{})}return t}function u9(t,e){var n,r=Y7(m9(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;Jy(t,i,e[i],!0)}}catch(o){r.e(o)}finally{r.f()}}function s9(t,e){var n,r,i=[],o={},a=Y7(t);try{for(a.s();!(r=a.n()).done;){var c=r.value;(n=e(c))in o||(o[n]=1,i.push(c))}}catch(l){a.e(l)}finally{a.f()}return i}function f9(t,e){var n=m9(t),r=m9(e);if(n.length!==r.length)return!1;var i,o=Y7(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t[a]!==e[a])return!1}}catch(c){o.e(c)}finally{o.f()}return!0}function h9(t,e){if(t.size!==e.size)return!1;var n,r=Y7(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!e.has(i))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}function d9(t,e){var n,r=Y7(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e.has(i))return!0}}catch(o){r.e(o)}finally{r.f()}return!1}function p9(t){var e,n=new Set,r=Y7(t);try{var i=function(){var t,r=Zy(e.value).map((function(t,e){return 0===e?t:"[".concat(t,"]")})),i=r.map((function(t,e){return r.slice(0,e+1).join("")})),o=Y7(i);try{for(o.s();!(t=o.n()).done;){var a=t.value;n.add(a)}}catch(c){o.e(c)}finally{o.f()}};for(r.s();!(e=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return n}function v9(t,e){return void 0===t||void 0===e||d9(p9(t),p9(e))}function g9(t){return 0===m9(t).length}var m9=Object.keys,y9=Object.values,b9=Object.entries;function x9(t){return!0===t||!1===t}function w9(t){var e=t.replace(/\W/g,"_");return(t.match(/^\d+/)?"_":"")+e}function S9(t,e){return V7(t)?"!(".concat(S9(t.not,e),")"):W7(t)?"(".concat(t.and.map((function(t){return S9(t,e)})).join(") && ("),")"):H7(t)?"(".concat(t.or.map((function(t){return S9(t,e)})).join(") || ("),")"):e(t)}function k9(t,e){if(0===e.length)return!0;var n=e.shift();return n in t&&k9(t[n],e)&&delete t[n],g9(t)}function C9(t){return t.charAt(0).toUpperCase()+t.substr(1)}function O9(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum",n=Zy(t),r=[],i=1;i<=n.length;i++){var o="[".concat(n.slice(0,i).map(tx).join("]["),"]");r.push("".concat(e).concat(o))}return r.join(" && ")}function E9(t){return"".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum","[").concat(tx(Zy(t).join(".")),"]")}function M9(t){return t.replace(/(\[|\]|\.|'|")/g,"\\$1")}function A9(t){return"".concat(Zy(t).map(M9).join("\\."))}function P9(t,e,n){return t.replace(new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function _9(t){return"".concat(Zy(t).join("."))}function D9(t){return t?Zy(t).length:0}function T9(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];if(void 0!==o)return o}}var Z9=42;function F9(t){var e=++Z9;return t?String(t)+e:e}function j9(){Z9=42}function I9(t){return R9(t)?t:"__".concat(t)}function R9(t){return t.startsWith("__")}function L9(t){if(void 0!==t)return(t%360+360)%360}function N9(t){return!!Hb(t)||!isNaN(t)&&!isNaN(parseFloat(t))}function B9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z9(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B9(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B9(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var U9="row",H9="column",W9="facet",V9="x",G9="y",X9="x2",q9="y2",Y9="xOffset",$9="yOffset",K9="radius",J9="radius2",Q9="theta",ttt="theta2",ett="latitude",ntt="longitude",rtt="latitude2",itt="longitude2",ott="color",att="fill",ctt="stroke",ltt="shape",utt="size",stt="angle",ftt="opacity",htt="fillOpacity",dtt="strokeOpacity",ptt="strokeWidth",vtt="strokeDash",gtt="text",mtt="order",ytt="detail",btt="key",xtt="tooltip",wtt="href",Stt="url",ktt="description",Ctt={theta:1,theta2:1,radius:1,radius2:1};function Ott(t){return t in Ctt}var Ett={longitude:1,longitude2:1,latitude:1,latitude2:1};function Mtt(t){switch(t){case ett:return"y";case rtt:return"y2";case ntt:return"x";case itt:return"x2"}}function Att(t){return t in Ett}var Ptt=m9(Ett),_tt=z9(z9(z9(z9({},{x:1,y:1,x2:1,y2:1}),Ctt),Ett),{},{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function Dtt(t){return t===ott||t===att||t===ctt}var Ttt={row:1,column:1,facet:1},Ztt=m9(Ttt),Ftt=z9(z9({},_tt),Ttt),jtt=m9(Ftt),Itt=(Ftt.order,Ftt.detail,Ftt.tooltip,(0,I.Z)(Ftt,["order","detail","tooltip"])),Rtt=(Itt.row,Itt.column,Itt.facet,(0,I.Z)(Itt,["row","column","facet"]));m9(Itt),m9(Rtt);function Ltt(t){return!!Rtt[t]}function Ntt(t){return!!Ftt[t]}var Btt=[X9,q9,rtt,itt,ttt,J9];function ztt(t){return Utt(t)!==t}function Utt(t){switch(t){case X9:return V9;case q9:return G9;case rtt:return ett;case itt:return ntt;case ttt:return Q9;case J9:return K9}return t}function Htt(t){if(Ott(t))switch(t){case Q9:return"startAngle";case ttt:return"endAngle";case K9:return"outerRadius";case J9:return"innerRadius"}return t}function Wtt(t){switch(t){case V9:return X9;case G9:return q9;case ett:return rtt;case ntt:return itt;case Q9:return ttt;case K9:return J9}}function Vtt(t){switch(t){case V9:case X9:return"width";case G9:case q9:return"height"}}function Gtt(t){switch(t){case V9:return"xOffset";case G9:return"yOffset";case X9:return"x2Offset";case q9:return"y2Offset";case Q9:return"thetaOffset";case K9:return"radiusOffset";case ttt:return"theta2Offset";case J9:return"radius2Offset"}}function Xtt(t){switch(t){case V9:return"xOffset";case G9:return"yOffset"}}function qtt(t){switch(t){case"xOffset":return"x";case"yOffset":return"y"}}var Ytt=m9(_tt),$tt=(_tt.x,_tt.y,_tt.x2,_tt.y2,_tt.xOffset,_tt.yOffset,_tt.latitude,_tt.longitude,_tt.latitude2,_tt.longitude2,_tt.theta,_tt.theta2,_tt.radius,_tt.radius2,(0,I.Z)(_tt,["x","y","x2","y2","xOffset","yOffset","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"])),Ktt=m9($tt),Jtt={x:1,y:1},Qtt=m9(Jtt);function tet(t){return t in Jtt}var eet={theta:1,radius:1},net=m9(eet);function ret(t){return"width"===t?V9:G9}var iet={xOffset:1,yOffset:1};m9(iet);function oet(t){return t in iet}$tt.text,$tt.tooltip,$tt.href,$tt.url,$tt.description,$tt.detail,$tt.key,$tt.order;var aet=(0,I.Z)($tt,["text","tooltip","href","url","description","detail","key","order"]),cet=m9(aet);var uet=z9(z9(z9(z9({},Jtt),eet),iet),aet),set=m9(uet);function fet(t){return!!uet[t]}function het(t,e){return function(t){switch(t){case ott:case att:case ctt:case ktt:case ytt:case btt:case xtt:case wtt:case mtt:case ftt:case htt:case dtt:case ptt:case W9:case U9:case H9:return det;case V9:case G9:case Y9:case $9:case ett:case ntt:return pet;case X9:case q9:case rtt:case itt:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case utt:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case vtt:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case ltt:return{point:"always",geoshape:"always"};case gtt:return{text:"always"};case stt:return{point:"always",square:"always",text:"always"};case Stt:return{image:"always"};case Q9:case K9:return{text:"always",arc:"always"};case ttt:case J9:return{arc:"always"}}}(t)[e]}var det={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},pet=(det.geoshape,(0,I.Z)(det,["geoshape"]));function vet(t){switch(t){case V9:case G9:case Q9:case K9:case Y9:case $9:case utt:case stt:case ptt:case ftt:case htt:case dtt:case X9:case q9:case ttt:case J9:return;case W9:case U9:case H9:case ltt:case vtt:case gtt:case xtt:case wtt:case Stt:case ktt:return"discrete";case ott:case att:case ctt:return"flexible";case ett:case ntt:case rtt:case itt:case ytt:case btt:case mtt:return}}var get={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},met={count:1,min:1,max:1};function yet(t){return!!t&&!!t.argmin}function bet(t){return!!t&&!!t.argmax}function xet(t){return Vb(t)&&!!get[t]}var wet=new Set(["count","valid","missing","distinct"]);function ket(t){return Vb(t)&&wet.has(t)}var Cet=new Set(["count","sum","distinct","valid","missing"]),Oet=new Set(["mean","average","median","q1","q3","min","max"]);function Eet(t){return Bb(t)&&(t=iat(t,void 0)),"bin"+m9(t).map((function(e){return _et(t[e])?w9("_".concat(e,"_").concat(b9(t[e]))):w9("_".concat(e,"_").concat(t[e]))})).join("")}function Met(t){return!0===t||Pet(t)&&!t.binned}function Aet(t){return"binned"===t||Pet(t)&&!0===t.binned}function Pet(t){return Yy(t)}function _et(t){return null==t?void 0:t.param}function Det(t){switch(t){case U9:case H9:case utt:case ott:case att:case ctt:case ptt:case ftt:case htt:case dtt:case ltt:return 6;case vtt:return 4;default:return 10}}function Tet(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Zet(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zet(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Zet(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fet(t){return!(null==t||!t.expr)}function jet(t){var e,n={},r=Tet(m9(t||{}));try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i]=ent(t[i])}}catch(o){r.e(o)}finally{r.f()}return n}var Iet=["anchor","frame","offset","orient","angle","limit","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"];function Ret(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Let(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ret(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ret(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Net(t){var e=t.anchor,n=t.frame,r=t.offset,i=t.orient,o=t.angle,a=t.limit,c=t.color,l=t.subtitleColor,u=t.subtitleFont,s=t.subtitleFontSize,f=t.subtitleFontStyle,h=t.subtitleFontWeight,d=t.subtitleLineHeight,p=t.subtitlePadding,v=Let(Let({},(0,I.Z)(t,Iet)),c?{fill:c}:{}),g=Let(Let(Let(Let(Let(Let({},e?{anchor:e}:{}),n?{frame:n}:{}),r?{offset:r}:{}),i?{orient:i}:{}),void 0!==o?{angle:o}:{}),void 0!==a?{limit:a}:{}),m=Let(Let(Let(Let(Let(Let(Let({},l?{subtitleColor:l}:{}),u?{subtitleFont:u}:{}),s?{subtitleFontSize:s}:{}),f?{subtitleFontStyle:f}:{}),h?{subtitleFontWeight:h}:{}),d?{subtitleLineHeight:d}:{}),p?{subtitlePadding:p}:{});return{titleMarkConfig:v,subtitleMarkConfig:t9(t,["align","baseline","dx","dy","limit"]),nonMarkTitleProperties:g,subtitle:m}}function Bet(t){return Vb(t)||qy(t)&&Vb(t[0])}function zet(t){return!(null==t||!t.signal)}function Uet(t){return!!t.step}function Het(t){return!qy(t)&&("field"in t&&"data"in t)}var Wet=m9({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Vet={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Get=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Xet=["expr"],qet=["expr"],Yet=["expr"];function $et(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ket(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ket(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Ket(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jet(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qet(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jet(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jet(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tnt(t){var e=qy(t.condition)?t.condition.map(nnt):nnt(t.condition);return Qet(Qet({},ent(t)),{},{condition:e})}function ent(t){return Fet(t)?Qet({signal:t.expr},(0,I.Z)(t,Xet)):t}function nnt(t){return Fet(t)?Qet({signal:t.expr},(0,I.Z)(t,qet)):t}function rnt(t){return Fet(t)?Qet({signal:t.expr},(0,I.Z)(t,Yet)):zet(t)?t:void 0!==t?{value:t}:void 0}function int(t){return zet(t)?t.signal:tx(t)}function ont(t){return zet(t)?t.signal:tx(t.value)}function ant(t){return zet(t)?t.signal:null==t?null:tx(t)}function cnt(t){var e;return[].concat(t.type,null!==(e=t.style)&&void 0!==e?e:[])}function lnt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel,o=r.ignoreVgConfig;return i&&void 0!==e[i]?e[i]:void 0!==e[t]?e[t]:!o||i&&i!==t?unt(t,e,n,r):void 0}function unt(t,e,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).vgChannel;return T9(r?snt(t,e,n.style):void 0,snt(t,e,n.style),r?n[e.type][r]:void 0,n[e.type][t],r?n.mark[r]:n.mark[t])}function snt(t,e,n){return fnt(t,cnt(e),n)}function fnt(t,e,n){var r,i,o=$et(e=bb(e));try{for(o.s();!(i=o.n()).done;){var a=n[i.value];a&&void 0!==a[t]&&(r=a[t])}}catch(c){o.e(c)}finally{o.f()}return r}function hnt(t,e){return bb(t).reduce((function(t,n){var r;return t.field.push(Wot(n,e)),t.order.push(null!==(r=n.sort)&&void 0!==r?r:"ascending"),t}),{field:[],order:[]})}function dnt(t,e){var n=(0,Xm.Z)(t);return e.forEach((function(t){var e,r=$et(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(K7(i,t))return}}catch(o){r.e(o)}finally{r.f()}n.push(t)})),n}function pnt(t,e){return K7(t,e)||!e?t:t?[].concat((0,Xm.Z)(bb(t)),(0,Xm.Z)(bb(e))).join(", "):e}function vnt(t,e){var n=t.value,r=e.value;if(null==n||null===r)return{explicit:t.explicit,value:null};if((Bet(n)||zet(n))&&(Bet(r)||zet(r)))return{explicit:t.explicit,value:pnt(n,r)};if(Bet(n)||zet(n))return{explicit:t.explicit,value:n};if(Bet(r)||zet(r))return{explicit:t.explicit,value:r};if(!(Bet(n)||zet(n)||Bet(r)||zet(r)))return{explicit:t.explicit,value:dnt(n,r)};throw new Error("It should never reach here")}function gnt(t){return"Invalid specification ".concat(n9(t),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}var mnt='Autosize "fit" only works for single views and layered views.';function ynt(t){return"".concat("width"==t?"Width":"Height",' "container" only works for single views and layered views.')}function bnt(t){var e="width"==t?"x":"y";return"".concat("width"==t?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(e,'".')}function xnt(t){return t?'Dropping "fit-'.concat(t,'" because spec has discrete ').concat(Vtt(t),"."):'Dropping "fit" because spec has discrete size.'}function wnt(t){return"Unknown field for ".concat(t,". Cannot calculate view size.")}function Snt(t){return'Cannot project a selection on encoding channel "'.concat(t,'", which has no field.')}function knt(t,e){return'Cannot project a selection on encoding channel "'.concat(t,'" as it uses an aggregate function ("').concat(e,'").')}function Cnt(t){return"Selection not supported for ".concat(t," yet.")}var Ont="The same selection must be used to override scale domains in a layered view.";function Ent(t){return'The "columns" property cannot be used when "'.concat(t,'" has nested row/column.')}function Mnt(t,e,n){return'An ancestor parsed field "'.concat(t,'" as ').concat(n," but a child wants to parse the field as ").concat(e,".")}function Ant(t){return"Ignoring an invalid transform: ".concat(n9(t),".")}function Pnt(t){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(t," are dropped.")}function _nt(t){return'Invalid field type "'.concat(t,'".')}function Dnt(t,e){var n=e.fill,r=e.stroke;return"Dropping color ".concat(t," as the plot also has ").concat(n&&r?"fill and stroke":n?"fill":"stroke",".")}function Tnt(t,e){return"Dropping ".concat(n9(t),' from channel "').concat(e,'" since it does not contain any data field, datum, value, or signal.')}function Znt(t,e,n){return"".concat(t,' dropped as it is incompatible with "').concat(e,'"').concat(n?" when ".concat(n):"",".")}function Fnt(t){return"".concat(t," encoding has no scale, so specified scale is ignored.")}function jnt(t){return"".concat(t," encoding should be discrete (ordinal / nominal / binned).")}function Int(t){return"".concat(t," encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).")}function Rnt(t,e){return'Using discrete channel "'.concat(t,'" to encode "').concat(e,'" field can be misleading as it does not encode ').concat("ordinal"===e?"order":"magnitude",".")}function Lnt(t){return"Using unaggregated domain with raw field has no effect (".concat(n9(t),").")}function Nnt(t){return'Unaggregated domain not applicable for "'.concat(t,'" since it produces values outside the origin domain of the source data.')}function Bnt(t){return"Unaggregated domain is currently unsupported for log scale (".concat(n9(t),").")}function znt(t,e,n){return"".concat(n,"-scale's \"").concat(e,'" is dropped as it does not work with ').concat(t," scale.")}function Unt(t){return'The step for "'.concat(t,'" is dropped because the ').concat("width"===t?"x":"y"," is continuous.")}var Hnt="Domains that should be unioned has conflicting sort properties. Sort will be set to true.";function Wnt(t,e){return"Invalid ".concat(t,": ").concat(n9(e),".")}function Vnt(t){return"1D error band does not support ".concat(t,".")}function Gnt(t){return"Channel ".concat(t,' is required for "binned" bin.')}var Xnt=Xy(Wy),qnt=Xnt;function Ynt(){return qnt=Xnt}function $nt(){var t;(t=qnt).warn.apply(t,arguments)}function Knt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Jnt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jnt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Jnt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qnt(t){if(t&&Yy(t)){var e,n=Knt(hrt);try{for(n.s();!(e=n.n()).done;){if(e.value in t)return!0}}catch(r){n.e(r)}finally{n.f()}}return!1}new WeakMap;var trt=["january","february","march","april","may","june","july","august","september","october","november","december"],ert=trt.map((function(t){return t.substr(0,3)})),nrt=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],rrt=nrt.map((function(t){return t.substr(0,3)}));function irt(t,e){var n=[];if(e&&void 0!==t.day&&m9(t).length>1&&($nt(function(t){return"Dropping day from datetime ".concat(n9(t)," as day cannot be combined with other units.")}(t)),delete(t=J7(t)).day),void 0!==t.year?n.push(t.year):n.push(2012),void 0!==t.month){var r=e?function(t){if(N9(t)&&(t=+t),Hb(t))return t-1;var e=t.toLowerCase(),n=trt.indexOf(e);if(-1!==n)return n;var r=e.substr(0,3),i=ert.indexOf(r);if(-1!==i)return i;throw new Error(Wnt("month",t))}(t.month):t.month;n.push(r)}else if(void 0!==t.quarter){var i=e?function(t){if(N9(t)&&(t=+t),Hb(t))return t>4&&$nt(Wnt("quarter",t)),t-1;throw new Error(Wnt("quarter",t))}(t.quarter):t.quarter;n.push(Hb(i)?3*i:"".concat(i,"*3"))}else n.push(0);if(void 0!==t.date)n.push(t.date);else if(void 0!==t.day){var o=e?function(t){if(N9(t)&&(t=+t),Hb(t))return t%7;var e=t.toLowerCase(),n=nrt.indexOf(e);if(-1!==n)return n;var r=e.substr(0,3),i=rrt.indexOf(r);if(-1!==i)return i;throw new Error(Wnt("day",t))}(t.day):t.day;n.push(Hb(o)?o+1:"".concat(o,"+1"))}else n.push(1);for(var a=0,c=["hours","minutes","seconds","milliseconds"];a<c.length;a++){var l=t[c[a]];n.push(void 0===l?0:l)}return n}function ort(t){var e=irt(t,!0).join(", ");return t.utc?"utc(".concat(e,")"):"datetime(".concat(e,")")}var art=["utc"];function crt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return lrt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lrt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function lrt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function urt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function srt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?urt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):urt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var frt={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},hrt=m9(frt);srt(srt({},{binnedyear:1,binnedyearquarter:1,binnedyearquartermonth:1,binnedyearmonth:1,binnedyearmonthdate:1,binnedyearmonthdatehours:1,binnedyearmonthdatehoursminutes:1,binnedyearmonthdatehoursminutesseconds:1,binnedyearweek:1,binnedyearweekday:1,binnedyearweekdayhours:1,binnedyearweekdayhoursminutes:1,binnedyearweekdayhoursminutesseconds:1,binnedyeardayofyear:1}),{binnedutcyear:1,binnedutcyearquarter:1,binnedutcyearquartermonth:1,binnedutcyearmonth:1,binnedutcyearmonthdate:1,binnedutcyearmonthdatehours:1,binnedutcyearmonthdatehoursminutes:1,binnedutcyearmonthdatehoursminutesseconds:1,binnedutcyearweek:1,binnedutcyearweekday:1,binnedutcyearweekdayhours:1,binnedutcyearweekdayhoursminutes:1,binnedutcyearweekdayhoursminutesseconds:1,binnedutcyeardayofyear:1});function drt(t){return Yy(t)?t.binned:prt(t)}function prt(t){return t&&t.startsWith("binned")}function vrt(t){return t.startsWith("utc")}var grt={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function mrt(t){return hrt.filter((function(e){return brt(t,e)}))}function yrt(t){var e=mrt(t);return e[e.length-1]}function brt(t,e){var n=t.indexOf(e);return!(n<0)&&(!(n>0&&"seconds"===e&&"i"===t.charAt(n-1))&&(!(t.length>n+3&&"day"===e&&"o"===t.charAt(n+3))&&!(n>0&&"year"===e&&"f"===t.charAt(n-1))))}function xrt(t,e){var n,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{end:!1}).end,i=O9(e),o=vrt(t)?"utc":"";var a,c,l={},u=crt(hrt);try{for(u.s();!(a=u.n()).done;){var s=a.value;brt(t,s)&&(l[s]="quarter"===(c=s)?"(".concat(o,"quarter(").concat(i,")-1)"):"".concat(o).concat(c,"(").concat(i,")"),n=s)}}catch(f){u.e(f)}finally{u.f()}return r&&(l[n]+="+1"),function(t){var e=irt(t,!1).join(", ");return t.utc?"utc(".concat(e,")"):"datetime(".concat(e,")")}(l)}function wrt(t){if(t){var e=mrt(t);return"timeUnitSpecifier(".concat(n9(e),", ").concat(n9(grt),")")}}function Srt(t){var e;if(t)return Vb(t)?e=prt(t)?{unit:t.substring(6),binned:!0}:{unit:t}:Yy(t)&&(e=srt(srt({},t),t.unit?{unit:t.unit}:{})),vrt(e.unit)&&(e.utc=!0,e.unit=function(t){return t.substring(3)}(e.unit)),e}function krt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=Srt(t),r=yrt(n.unit);if(r&&"day"!==r){var i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},o=Ort(r,n.step),a=o.step,c=o.part,l=srt(srt({},i),{},(0,V.Z)({},c,+i[c]+a));return"".concat(e(ort(l))," - ").concat(e(ort(i)))}}var Crt={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function Ort(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(function(t){return!!Crt[t]}(t))return{part:t,step:e};switch(t){case"day":case"dayofyear":return{part:"date",step:e};case"quarter":return{part:"month",step:3*e};case"week":return{part:"date",step:7*e}}}function Ert(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mrt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ert(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ert(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Art(t){return!(null==t||!t.field)&&void 0!==t.equal}function Prt(t){return!(null==t||!t.field)&&void 0!==t.lt}function _rt(t){return!(null==t||!t.field)&&void 0!==t.lte}function Drt(t){return!(null==t||!t.field)&&void 0!==t.gt}function Trt(t){return!(null==t||!t.field)&&void 0!==t.gte}function Zrt(t){if(null!=t&&t.field){if(qy(t.range)&&2===t.range.length)return!0;if(zet(t.range))return!0}return!1}function Frt(t){return!(null==t||!t.field)&&(qy(t.oneOf)||qy(t.in))}function jrt(t){return Frt(t)||Art(t)||Zrt(t)||Prt(t)||Drt(t)||_rt(t)||Trt(t)}function Irt(t,e){return cat(t,{timeUnit:e,wrapTime:!0})}function Rrt(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.field,r=Srt(t.timeUnit)||{},i=r.unit,o=r.binned,a=Wot(t,{expr:"datum"}),c=i?"time(".concat(o?a:xrt(i,n),")"):a;if(Art(t))return"".concat(c,"===").concat(Irt(t.equal,i));if(Prt(t)){var l=t.lt;return"".concat(c,"<").concat(Irt(l,i))}if(Drt(t)){var u=t.gt;return"".concat(c,">").concat(Irt(u,i))}if(_rt(t)){var s=t.lte;return"".concat(c,"<=").concat(Irt(s,i))}if(Trt(t)){var f=t.gte;return"".concat(c,">=").concat(Irt(f,i))}if(Frt(t))return"indexof([".concat(function(t,e){return t.map((function(t){return Irt(t,e)}))}(t.oneOf,i).join(","),"], ").concat(c,") !== -1");if(function(t){return!(null==t||!t.field)&&void 0!==t.valid}(t))return Lrt(c,t.valid);if(Zrt(t)){var h=t.range,d=zet(h)?{signal:"".concat(h.signal,"[0]")}:h[0],p=zet(h)?{signal:"".concat(h.signal,"[1]")}:h[1];if(null!==d&&null!==p&&e)return"inrange("+c+", ["+Irt(d,i)+", "+Irt(p,i)+"])";var v=[];return null!==d&&v.push("".concat(c," >= ").concat(Irt(d,i))),null!==p&&v.push("".concat(c," <= ").concat(Irt(p,i))),v.length>0?v.join(" && "):"true"}throw new Error("Invalid field predicate: ".concat(n9(t)))}function Lrt(t){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?"isValid(".concat(t,") && isFinite(+").concat(t,")"):"!isValid(".concat(t,") || !isFinite(+").concat(t,")")}function Nrt(t){return jrt(t)&&t.timeUnit?Mrt(Mrt({},t),{},{timeUnit:Srt(t.timeUnit)}):t}var Brt={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function zrt(t){return"ordinal"===t||"nominal"===t}var Urt=Brt.quantitative,Hrt=Brt.ordinal,Wrt=Brt.temporal,Vrt=Brt.nominal,Grt=Brt.geojson;m9(Brt);var Xrt={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},qrt={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};m9(qrt);function Yrt(t,e){var n=qrt[t],r=qrt[e];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}var $rt={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Krt(t){return $rt[t]}var Jrt=new Set(["linear","log","pow","sqrt","symlog"]),Qrt=new Set([].concat((0,Xm.Z)(Jrt),["time","utc"]));function tit(t){return Jrt.has(t)}var eit=new Set(["quantile","quantize","threshold"]),nit=new Set([].concat((0,Xm.Z)(Qrt),(0,Xm.Z)(eit),["sequential","identity"])),rit=new Set(["ordinal","bin-ordinal","point","band"]);new Set(["time","utc"]);function iit(t){return rit.has(t)}function oit(t){return nit.has(t)}function ait(t){return Qrt.has(t)}function cit(t){return eit.has(t)}function lit(t){return null==t?void 0:t.param}var uit={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},sit=(m9(uit),(0,I.Z)(uit,["type","domain","range","rangeMax","rangeMin","scheme"])),fit=m9(sit);function hit(t,e){switch(e){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(t);case"bins":return!["point","band","identity","ordinal"].includes(t);case"round":return ait(t)||"band"===t||"point"===t;case"padding":case"rangeMin":case"rangeMax":return ait(t)||["point","band"].includes(t);case"paddingOuter":case"align":return["point","band"].includes(t);case"paddingInner":return"band"===t;case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return ait(t);case"nice":return ait(t)||"quantize"===t||"threshold"===t;case"exponent":return"pow"===t;case"base":return"log"===t;case"constant":return"symlog"===t;case"zero":return oit(t)&&!o9(["log","time","utc","threshold","quantile"],t)}}function dit(t,e){switch(e){case"interpolate":case"scheme":case"domainMid":return Dtt(t)?void 0:'Cannot use the scale property "'.concat(e,'" with non-color channel.');case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}var pit={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},vit=pit.arc,git=pit.area,mit=pit.bar,yit=pit.image,bit=pit.line,xit=pit.point,wit=pit.rect,Sit=pit.rule,kit=pit.text,Cit=pit.tick,Oit=pit.trail,Eit=pit.circle,Mit=pit.square,Ait=pit.geoshape;function Pit(t){return["line","area","trail"].includes(t)}function _it(t){return["rect","bar","image","arc"].includes(t)}var Dit=new Set(m9(pit));function Tit(t){return t.type}var Zit=[].concat(["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],["fill","fillOpacity"]),Fit=m9({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),jit=m9({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function Iit(t){return t&&null!=t.band}var Rit={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Lit={binSpacing:1,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},Nit={binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5};function Bit(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zit(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bit(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bit(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Uit(t){var e=t.channel,n=t.channelDef,r=t.markDef,i=t.scale,o=t.config,a=Xit(t);return _ot(n)&&!ket(n.aggregate)&&i&&ait(i.get("type"))?function(t){var e=t.fieldDef,n=t.channel,r=t.markDef,i=t.ref,o=t.config;if(Pit(r.type))return i;var a=lnt("invalid",r,o);if(null===a)return[Hit(e,n),i];return i}({fieldDef:n,channel:e,markDef:r,ref:a,config:o}):a}function Hit(t,e){return zit({test:Wit(t,!0)},"y"===Utt(e)?{field:{group:"height"}}:{value:0})}function Wit(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Lrt(Vb(t)?t:Wot(t,{expr:"datum"}),!e)}function Vit(t,e,n,r){var i={};if(e&&(i.scale=e),Tot(t)){var o=t.datum;Qnt(o)?i.signal=ort(o):zet(o)?i.signal=o.signal:Fet(o)?i.signal=o.expr:i.value=o}else i.field=Wot(t,n);if(r){var a=r.offset,c=r.band;a&&(i.offset=a),c&&(i.band=c)}return i}function Git(t){var e=t.scaleName,n=t.fieldOrDatumDef,r=t.fieldOrDatumDef2,i=t.offset,o=t.startSuffix,a=t.bandPosition,c=void 0===a?.5:a,l=0<c&&c<1?"datum":void 0,u=Wot(n,{expr:l,suffix:o}),s=void 0!==r?Wot(r,{expr:l}):Wot(n,{suffix:"end",expr:l}),f={};if(0===c||1===c){f.scale=e;var h=0===c?u:s;f.field=h}else{var d=zet(c)?"".concat(c.signal," * ").concat(u," + (1-").concat(c.signal,") * ").concat(s):"".concat(c," * ").concat(u," + ").concat(1-c," * ").concat(s);f.signal='scale("'.concat(e,'", ').concat(d,")")}return i&&(f.offset=i),f}function Xit(t){var e=t.channel,n=t.channelDef,r=t.channel2Def,i=t.markDef,o=t.config,a=t.scaleName,c=t.scale,l=t.stack,u=t.offset,s=t.defaultRef,f=t.bandPosition;if(n){if(Iot(n)){var h,d,p=null==c?void 0:c.get("type");if(Rot(n)){var v;null!==(v=f)&&void 0!==v||(f=kot({fieldDef:n,fieldDef2:r,markDef:i,config:o}));var g=n.bin,m=n.timeUnit,y=n.type;if(Met(g)||f&&m&&y===Wrt)return null!=l&&l.impute?Vit(n,a,{binSuffix:"mid"},{offset:u}):f&&!iit(p)?Git({scaleName:a,fieldOrDatumDef:n,bandPosition:f,offset:u}):Vit(n,a,uat(n,e)?{binSuffix:"range"}:{},{offset:u});if(Aet(g)){if(_ot(r))return Git({scaleName:a,fieldOrDatumDef:n,fieldOrDatumDef2:r,bandPosition:f,offset:u});$nt(Gnt(e===V9?X9:q9))}}return Vit(n,a,iit(p)?{binSuffix:"range"}:{},{offset:u,band:"band"===p?null!==(h=null!==(d=f)&&void 0!==d?d:n.bandPosition)&&void 0!==h?h:.5:void 0})}if(Lot(n)){var b=u?{offset:u}:{};return zit(zit({},qit(e,n.value)),b)}}return wb(s)&&(s=s()),s?zit(zit({},s),u?{offset:u}:{}):s}function qit(t,e){return o9(["x","x2"],t)&&"width"===e?{field:{group:"width"}}:o9(["y","y2"],t)&&"height"===e?{field:{group:"height"}}:rnt(e)}function Yit(t){return t&&"number"!==t&&"time"!==t}function $it(t,e,n){return"".concat(t,"(").concat(e).concat(n?", ".concat(n9(n)):"",")")}var Kit=" – ";function Jit(t){var e=t.fieldOrDatumDef,n=t.format,r=t.formatType,i=t.expr,o=t.normalizeStack,a=t.config;if(Yit(r))return tot({fieldOrDatumDef:e,format:n,formatType:r,expr:i,config:a});var c=Qit(e,i,o),l=Dot(e);if(void 0===n&&void 0===r&&a.customFormatTypes){if("quantitative"===l){if(o&&a.normalizedNumberFormatType)return tot({fieldOrDatumDef:e,format:a.normalizedNumberFormat,formatType:a.normalizedNumberFormatType,expr:i,config:a});if(a.numberFormatType)return tot({fieldOrDatumDef:e,format:a.numberFormat,formatType:a.numberFormatType,expr:i,config:a})}if("temporal"===l&&a.timeFormatType&&_ot(e)&&void 0===e.timeUnit)return tot({fieldOrDatumDef:e,format:a.timeFormat,formatType:a.timeFormatType,expr:i,config:a})}if(aat(e)){var u,s,f=function(t){var e=t.field,n=t.timeUnit,r=t.format,i=t.formatType,o=t.rawTimeFormat,a=t.isUTCScale;return!n||r?!n&&i?"".concat(i,"(").concat(e,", '").concat(r,"')"):(r=Vb(r)?r:o,"".concat(a?"utc":"time","Format(").concat(e,", '").concat(r,"')")):function(t,e,n){if(t){var r=wrt(t),i=n||vrt(t);return"".concat(i?"utc":"time","Format(").concat(e,", ").concat(r,")")}}(n,e,a)}({field:c,timeUnit:_ot(e)?null===(u=Srt(e.timeUnit))||void 0===u?void 0:u.unit:void 0,format:n,formatType:a.timeFormatType,rawTimeFormat:a.timeFormat,isUTCScale:Not(e)&&(null===(s=e.scale)||void 0===s?void 0:s.type)===Xrt.UTC});return f?{signal:f}:void 0}return n=rot({type:l,specifiedFormat:n,config:a,normalizeStack:o}),_ot(e)&&Met(e.bin)?{signal:aot(c,Wot(e,{expr:i,binSuffix:"end"}),n,r,a)}:n||"quantitative"===Dot(e)?{signal:"".concat(iot(c,n))}:{signal:"isValid(".concat(c,") ? ").concat(c,' : ""+').concat(c)}}function Qit(t,e,n){return _ot(t)?n?"".concat(Wot(t,{expr:e,suffix:"end"}),"-").concat(Wot(t,{expr:e,suffix:"start"})):Wot(t,{expr:e}):function(t){var e=t.datum;return Qnt(e)?ort(e):"".concat(n9(e))}(t)}function tot(t){var e,n=t.fieldOrDatumDef,r=t.format,i=t.formatType,o=t.expr,a=t.normalizeStack,c=t.config,l=t.field;return null!==(e=l)&&void 0!==e||(l=Qit(n,o,a)),"datum.value"!==l&&_ot(n)&&Met(n.bin)?{signal:aot(l,Wot(n,{expr:o,binSuffix:"end"}),r,i,c)}:{signal:$it(i,l,r)}}function eot(t,e,n,r,i,o){if(!Vb(r)||!Yit(r)){if(void 0===n&&void 0===r&&i.customFormatTypes&&"quantitative"===Dot(t)){if(i.normalizedNumberFormatType&&Bot(t)&&"normalize"===t.stack)return;if(i.numberFormatType)return}if(Bot(t)&&"normalize"===t.stack&&i.normalizedNumberFormat)return rot({type:"quantitative",config:i,normalizeStack:!0});if(aat(t)){var a,c=_ot(t)?null===(a=Srt(t.timeUnit))||void 0===a?void 0:a.unit:void 0;if(void 0===c&&i.customFormatTypes&&i.timeFormatType)return;return function(t){var e=t.specifiedFormat,n=t.timeUnit,r=t.config,i=t.omitTimeFormatConfig;if(e)return e;if(n)return{signal:wrt(n)};return i?void 0:r.timeFormat}({specifiedFormat:n,timeUnit:c,config:i,omitTimeFormatConfig:o})}return rot({type:e,specifiedFormat:n,config:i})}}function not(t,e,n){return t&&(zet(t)||"number"===t||"time"===t)?t:aat(e)&&"time"!==n&&"utc"!==n?_ot(e)&&null!==(r=Srt(null==e?void 0:e.timeUnit))&&void 0!==r&&r.utc?"utc":"time":void 0;var r}function rot(t){var e=t.type,n=t.specifiedFormat,r=t.config,i=t.normalizeStack;return Vb(n)?n:e===Urt?i?r.normalizedNumberFormat:r.numberFormat:void 0}function iot(t,e){return"format(".concat(t,', "').concat(e||"",'")')}function oot(t,e,n,r){var i;return Yit(n)?$it(n,t,e):iot(t,null!==(i=Vb(e)?e:void 0)&&void 0!==i?i:r.numberFormat)}function aot(t,e,n,r,i){if(void 0===n&&void 0===r&&i.customFormatTypes&&i.numberFormatType)return aot(t,e,i.numberFormat,i.numberFormatType,i);var o=oot(t,n,r,i),a=oot(e,n,r,i);return"".concat(Lrt(t,!1),' ? "null" : ').concat(o,' + "').concat(Kit,'" + ').concat(a)}var cot="min",lot={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function uot(t){return t in lot}function sot(t){return!(null==t||!t.encoding)}function fot(t){return t&&("count"===t.op||!!t.field)}function hot(t){return t&&qy(t)}function dot(t){return"row"in t||"column"in t}function pot(t){return!!t&&"header"in t}function vot(t){return"facet"in t}var got=["format","formatType"],mot=["format","formatType"],yot=["orient"];function bot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bot(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wot(t){var e=t.field,n=t.timeUnit,r=t.bin,i=t.aggregate;return xot(xot(xot(xot({},n?{timeUnit:n}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{},{field:e})}function Sot(t){return"sort"in t}function kot(t){var e=t.fieldDef,n=t.fieldDef2,r=t.markDef,i=t.config;if(Iot(e)&&void 0!==e.bandPosition)return e.bandPosition;if(_ot(e)){var o=e.timeUnit,a=e.bin;if(o&&!n)return _it(r.type)?0:unt("timeUnitBandPosition",r,i);if(Met(a))return.5}}function Cot(t){var e,n,r,i=t.channel,o=t.fieldDef,a=t.fieldDef2,c=t.markDef,l=t.config,u=t.scaleType,s=t.useVlSizeChannel,f=Vtt(i),h=lnt(s?"size":f,c,l,{vgChannel:f});if(void 0!==h)return h;if(_ot(o)){var d=o.timeUnit,p=o.bin;if(d&&!a)return{band:unt("timeUnitBandSize",c,l)};if(Met(p)&&!iit(u))return{band:1}}return _it(c.type)?u?iit(u)?(null===(n=l[c.type])||void 0===n?void 0:n.discreteBandSize)||{band:1}:null===(r=l[c.type])||void 0===r?void 0:r.continuousBandSize:null===(e=l[c.type])||void 0===e?void 0:e.discreteBandSize:void 0}function Oot(t,e,n,r){return!!(Met(t.bin)||t.timeUnit&&Rot(t)&&"temporal"===t.type)&&void 0!==kot({fieldDef:t,fieldDef2:e,markDef:n,config:r})}function Eot(t){return t&&!!t.sort&&!t.field}function Mot(t){return t&&"condition"in t}function Aot(t){var e=null==t?void 0:t.condition;return!!e&&!qy(e)&&_ot(e)}function Pot(t){var e=null==t?void 0:t.condition;return!!e&&!qy(e)&&Iot(e)}function _ot(t){return t&&(!!t.field||"count"===t.aggregate)}function Dot(t){return null==t?void 0:t.type}function Tot(t){return t&&"datum"in t}function Zot(t){return Rot(t)&&!Vot(t)||jot(t)}function Fot(t){return Rot(t)&&"quantitative"===t.type&&!t.bin||jot(t)}function jot(t){return Tot(t)&&Hb(t.datum)}function Iot(t){return _ot(t)||Tot(t)}function Rot(t){return t&&("field"in t||"count"===t.aggregate)&&"type"in t}function Lot(t){return t&&"value"in t&&"value"in t}function Not(t){return t&&("scale"in t||"sort"in t)}function Bot(t){return t&&("axis"in t||"stack"in t||"impute"in t)}function zot(t){return t&&"legend"in t}function Uot(t){return t&&("format"in t||"formatType"in t)}function Hot(t){return e9(t,["legend","axis","header","scale"])}function Wot(t){var e,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.field,a=i.prefix,c=i.suffix,l="";if(function(t){return"count"===t.aggregate}(t))o=I9("count");else{var u;if(!i.nofn)if(function(t){return"op"in t}(t))u=t.op;else{var s,f,h=t.bin,d=t.aggregate,p=t.timeUnit;if(Met(h))u=Eet(h),c=(null!==(s=i.binSuffix)&&void 0!==s?s:"")+(null!==(f=i.suffix)&&void 0!==f?f:"");else if(d)bet(d)?(l='["'.concat(o,'"]'),o="argmax_".concat(d.argmax)):yet(d)?(l='["'.concat(o,'"]'),o="argmin_".concat(d.argmin)):u=String(d);else if(p&&!drt(p)){var v;e=Srt(p),n=e.utc,u=(r=(0,I.Z)(e,art)).unit?(n?"utc":"")+m9(r).map((function(t){return w9("".concat("unit"===t?"":"_".concat(t,"_")).concat(r[t]))})).join(""):(n?"utc":"")+"timeunit"+m9(r).map((function(t){return w9("_".concat(t,"_").concat(r[t]))})).join(""),c=(!["range","mid"].includes(i.binSuffix)&&i.binSuffix||"")+(null!==(v=i.suffix)&&void 0!==v?v:"")}}u&&(o=o?"".concat(u,"_").concat(o):u)}return c&&(o="".concat(o,"_").concat(c)),a&&(o="".concat(a,"_").concat(o)),i.forAs?_9(o):i.expr?E9(o,i.expr)+l:A9(o)+l}function Vot(t){switch(t.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return _ot(t)&&!!t.bin;case"temporal":return!1}throw new Error(_nt(t.type))}var Got=function(t,e){switch(e.fieldTitle){case"plain":return t.field;case"functional":return function(t){var e=t.aggregate,n=t.bin,r=t.timeUnit,i=t.field;if(bet(e))return"".concat(i," for argmax(").concat(e.argmax,")");if(yet(e))return"".concat(i," for argmin(").concat(e.argmin,")");var o=r&&!drt(r)?Srt(r):void 0,a=e||(null==o?void 0:o.unit)||(null==o?void 0:o.maxbins)&&"timeunit"||Met(n)&&"bin";return a?"".concat(a.toUpperCase(),"(").concat(i,")"):i}(t);default:return function(t,e){var n=t.field,r=t.bin,i=t.timeUnit,o=t.aggregate;if("count"===o)return e.countTitle;if(Met(r))return"".concat(n," (binned)");if(i&&!drt(i)){var a,c=null===(a=Srt(i))||void 0===a?void 0:a.unit;if(c)return"".concat(n," (").concat(mrt(c).join("-"),")")}else if(o)return bet(o)?"".concat(n," for max ").concat(o.argmax):yet(o)?"".concat(n," for min ").concat(o.argmin):"".concat(C9(o)," of ").concat(n);return n}(t,e)}},Xot=Got;function qot(t){Xot=t}function Yot(t,e,n){var r,i=n.allowDisabling,o=n.includeDefault,a=void 0===o||o,c=null===(r=$ot(t))||void 0===r?void 0:r.title;if(!_ot(t))return null!=c?c:t.title;var l,u=t,s=a?Kot(u,e):void 0;return i?T9(c,u.title,s):null!==(l=null!=c?c:u.title)&&void 0!==l?l:s}function $ot(t){return Bot(t)&&t.axis?t.axis:zot(t)&&t.legend?t.legend:pot(t)&&t.header?t.header:void 0}function Kot(t,e){return Xot(t,e)}function Jot(t){if(Uot(t))return{format:t.format,formatType:t.formatType};var e,n=null!==(e=$ot(t))&&void 0!==e?e:{};return{format:n.format,formatType:n.formatType}}function Qot(t){return _ot(t)?t:Aot(t)?t.condition:void 0}function tat(t){return Iot(t)?t:Pot(t)?t.condition:void 0}function eat(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Vb(t)||Hb(t)||Bb(t)?($nt(function(t,e,n){return"Channel ".concat(t," is a ").concat(e,". Converted to {value: ").concat(n9(n),"}.")}(e,Vb(t)?"string":Hb(t)?"number":"boolean",t)),{value:t}):Iot(t)?nat(t,e,n,r):Pot(t)?xot(xot({},t),{},{condition:nat(t.condition,e,n,r)}):t}function nat(t,e,n,r){if(Uot(t)){t.format;var i=t.formatType,o=(0,I.Z)(t,got);if(Yit(i)&&!n.customFormatTypes)return $nt(Pnt(e)),nat(o,e,n,r)}else{var a=Bot(t)?"axis":zot(t)?"legend":pot(t)?"header":null;if(a&&t[a]){var c=t[a],l=(c.format,c.formatType),u=(0,I.Z)(c,mot);if(Yit(l)&&!n.customFormatTypes)return $nt(Pnt(e)),nat(xot(xot({},t),{},(0,V.Z)({},a,u)),e,n,r)}}return _ot(t)?rat(t,e,r):function(t){var e=t.type;if(e)return t;var n=t.datum;return e=Hb(n)?"quantitative":Vb(n)?"nominal":Qnt(n)?"temporal":void 0,xot(xot({},t),{},{type:e})}(t)}function rat(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).compositeMark,r=void 0!==n&&n,i=t.aggregate,o=t.timeUnit,a=t.bin,c=t.field,l=xot({},t);if(r||!i||xet(i)||bet(i)||yet(i)||($nt(function(t){return'Invalid aggregation operator "'.concat(t,'".')}(i)),delete l.aggregate),o&&(l.timeUnit=Srt(o)),c&&(l.field="".concat(c)),Met(a)&&(l.bin=iat(a,e)),Aet(a)&&!tet(e)&&$nt(function(t){return"Channel ".concat(t,' should not be used with "binned" bin.')}(e)),Rot(l)){var u=l.type,s=function(t){if(t)switch(t=t.toLowerCase()){case"q":case Urt:return"quantitative";case"t":case Wrt:return"temporal";case"o":case Hrt:return"ordinal";case"n":case Vrt:return"nominal";case Grt:return"geojson"}}(u);u!==s&&(l.type=s),"quantitative"!==u&&ket(i)&&($nt(function(t,e){return'Invalid field type "'.concat(t,'" for aggregate: "').concat(e,'", using "quantitative" instead.')}(u,i)),l.type="quantitative")}else if(!ztt(e)){var f=function(t,e){var n;switch(e){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(Sot(t)&&qy(t.sort))return"ordinal";var r=t.aggregate,i=t.bin;if(t.timeUnit)return"temporal";if(i||r&&!bet(r)&&!yet(r))return"quantitative";if(Not(t)&&null!==(n=t.scale)&&void 0!==n&&n.type)switch(qrt[t.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}(l,e);l.type=f}if(Rot(l)){var h=function(t,e){var n=t.type;if("geojson"===n&&"shape"!==e)return{compatible:!1,warning:"Channel ".concat(e," should not be used with a geojson data.")};switch(e){case U9:case H9:case W9:return Vot(t)?oat:{compatible:!1,warning:jnt(e)};case V9:case G9:case Y9:case $9:case ott:case att:case ctt:case gtt:case ytt:case btt:case xtt:case wtt:case Stt:case stt:case Q9:case K9:case ktt:return oat;case ntt:case itt:case ett:case rtt:return n!==Urt?{compatible:!1,warning:"Channel ".concat(e," should be used with a quantitative field only, not ").concat(t.type," field.")}:oat;case ftt:case htt:case dtt:case ptt:case utt:case ttt:case J9:case X9:case q9:return"nominal"!==n||t.sort?oat:{compatible:!1,warning:"Channel ".concat(e," should not be used with an unsorted discrete field.")};case ltt:case vtt:return Vot(t)||function(t){var e;return Not(t)&&cit(null===(e=t.scale)||void 0===e?void 0:e.type)}(t)?oat:{compatible:!1,warning:Int(e)};case mtt:return"nominal"!==t.type||"sort"in t?oat:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}(l,e)||{},d=h.compatible,p=h.warning;!1===d&&$nt(p)}if(Sot(l)&&Vb(l.sort)){var v=l.sort;if(uot(v))return xot(xot({},l),{},{sort:{encoding:v}});var g=v.substr(1);if("-"===v.charAt(0)&&uot(g))return xot(xot({},l),{},{sort:{encoding:g,order:"descending"}})}if(pot(l)){var m=l.header;if(m){var y=m.orient,b=(0,I.Z)(m,yot);if(y)return xot(xot({},l),{},{header:xot(xot({},b),{},{labelOrient:m.labelOrient||y,titleOrient:m.titleOrient||y})})}}return l}function iat(t,e){return Bb(t)?{maxbins:Det(e)}:"binned"===t?{binned:!0}:t.maxbins||t.step?t:xot(xot({},t),{},{maxbins:Det(e)})}var oat={compatible:!0};function aat(t){var e=Jot(t).formatType;return"time"===e||!e&&function(t){return t&&("temporal"===t.type||_ot(t)&&!!t.timeUnit)}(t)}function cat(t,e){var n,r,i=e.timeUnit,o=e.type,a=e.wrapTime,c=e.undefinedIfExprNotRequired,l=i&&(null===(n=Srt(i))||void 0===n?void 0:n.unit),u=l||"temporal"===o;return Fet(t)?r=t.expr:zet(t)?r=t.signal:Qnt(t)?(u=!0,r=ort(t)):(Vb(t)||Hb(t))&&u&&(r="datetime(".concat(n9(t),")"),function(t){return!!frt[t]}(l)&&(Hb(t)&&t<1e4||Vb(t)&&isNaN(Date.parse(t)))&&(r=ort((0,V.Z)({},l,t)))),r?a&&u?"time(".concat(r,")"):r:c?void 0:n9(t)}function lat(t,e){var n=t.type;return e.map((function(e){var r=cat(e,{timeUnit:_ot(t)&&!drt(t.timeUnit)?t.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:e}))}function uat(t,e){return Met(t.bin)?fet(e)&&["ordinal","nominal"].includes(t.type):(console.warn("Only call this method for binned field defs."),!1)}function sat(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fat(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sat(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sat(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var hat={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function dat(t){return null==t?void 0:t.condition}var pat=["domain","grid","labels","ticks","title"],vat={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},gat={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},mat=fat(fat({},gat),{},{style:1,labelExpr:1,encoding:1});function yat(t){return!!mat[t]}m9(mat);var bat=m9({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function xat(t){return"mark"in t}var wat=function(){function t(e,n){(0,Rm.Z)(this,t),this.name=e,this.run=n}return(0,Lm.Z)(t,[{key:"hasMatchingType",value:function(t){return!!xat(t)&&function(t){return Tit(t)?t.type:t}(t.mark)===this.name}}]),t}(),Sat=["field","aggregate","bin","timeUnit"];function kat(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Cat(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cat(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Cat(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oat(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Eat(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oat(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oat(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mat(t,e){var n=t&&t[e];return!!n&&(qy(n)?a9(n,(function(t){return!!t.field})):_ot(n)||Aot(n))}function Aat(t,e){var n=t&&t[e];return!!n&&(qy(n)?a9(n,(function(t){return!!t.field})):_ot(n)||Tot(n)||Pot(n))}function Pat(t,e){if(tet(e)){var n=t[e];if((_ot(n)||Tot(n))&&(zrt(n.type)||_ot(n)&&n.timeUnit))return Aat(t,Xtt(e))}return!1}function _at(t){return a9(jtt,(function(e){if(Mat(t,e)){var n=t[e];if(qy(n))return a9(n,(function(t){return!!t.aggregate}));var r=Qot(n);return r&&!!r.aggregate}return!1}))}function Dat(t,e){var n=[],r=[],i=[],o=[],a={};return Fat(t,(function(c,l){if(_ot(c)){var u=c.field,s=c.aggregate,f=c.bin,h=c.timeUnit,d=(0,I.Z)(c,Sat);if(s||h||f){var p,v=$ot(c),g=null==v?void 0:v.title,m=Wot(c,{forAs:!0}),y=Eat(Eat(Eat({},g?[]:{title:Yot(c,e,{allowDisabling:!0})}),d),{},{field:m});if(s){if(bet(s)?(p="argmax",m=Wot({op:"argmax",field:s.argmax},{forAs:!0}),y.field="".concat(m,".").concat(u)):yet(s)?(p="argmin",m=Wot({op:"argmin",field:s.argmin},{forAs:!0}),y.field="".concat(m,".").concat(u)):"boxplot"!==s&&"errorbar"!==s&&"errorband"!==s&&(p=s),p){var b={op:p,as:m};u&&(b.field=u),o.push(b)}}else if(n.push(m),Rot(c)&&Met(f)){if(r.push({bin:f,field:u,as:m}),n.push(Wot(c,{binSuffix:"end"})),uat(c,l)&&n.push(Wot(c,{binSuffix:"range"})),tet(l)){var x={field:"".concat(m,"_end")};a["".concat(l,"2")]=x}y.bin="binned",ztt(l)||(y.type=Urt)}else if(h&&!drt(h)){i.push({timeUnit:h,field:u,as:m});var w=Rot(c)&&c.type!==Wrt&&"time";w&&(l===gtt||l===xtt?y.formatType=w:!function(t){return!!$tt[t]}(l)?tet(l)&&(y.axis=Eat({formatType:w},y.axis)):y.legend=Eat({formatType:w},y.legend))}a[l]=y}else n.push(u),a[l]=t[l]}else a[l]=t[l]})),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:a}}function Tat(t,e,n,r){var i,o,a={},c=kat(m9(t));try{for(c.s();!(i=c.n()).done;){var l=i.value;Ntt(l)||$nt("".concat(o=l,"-encoding is dropped as ").concat(o," is not a valid encoding channel."))}}catch(h){c.e(h)}finally{c.f()}var u,s=kat(Ytt);try{var f=function(){var i=u.value;if(!t[i])return"continue";var o=t[i];if(oet(i)){var c=qtt(i),l=a[c];if(_ot(l)){if(function(t){return"quantitative"===t||"temporal"===t}(l.type)&&_ot(o)&&!l.timeUnit)return $nt(function(t){return"".concat(t,"Offset dropped because ").concat(t," is continuous")}(c)),"continue"}else i=c,$nt(function(t){return"There is no ".concat(t," encoding. Replacing ").concat(t,"Offset encoding as ").concat(t,".")}(c))}if("angle"!==i||"arc"!==e||t.theta||($nt("Arc marks uses theta channel rather than angle, replacing angle with theta."),i=Q9),!function(t,e,n){var r=het(e,n);if(!r)return!1;if("binned"===r){var i=t[e===X9?V9:G9];return!!(_ot(i)&&_ot(t[e])&&Aet(i.bin))}return!0}(t,i,e))return $nt(Znt(i,e)),"continue";if(i===utt&&"line"===e){var s=Qot(t[i]);if(null!=s&&s.aggregate)return $nt("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),"continue"}if(i===ott&&(n?"fill"in t:"stroke"in t))return $nt(Dnt("encoding",{fill:"fill"in t,stroke:"stroke"in t})),"continue";if(i===ytt||i===mtt&&!qy(o)&&!Lot(o)||i===xtt&&qy(o)){if(o){if(i===mtt){var f=t[i];if(Eot(f))return a[i]=f,"continue"}a[i]=bb(o).reduce((function(t,e){return _ot(e)?t.push(rat(e,i)):$nt(Tnt(e,i)),t}),[])}}else{if(i===xtt&&null===o)a[i]=null;else if(!(_ot(o)||Tot(o)||Lot(o)||Mot(o)||zet(o)))return $nt(Tnt(o,i)),"continue";a[i]=eat(o,i,r)}};for(s.s();!(u=s.n()).done;)f()}catch(h){s.e(h)}finally{s.f()}return a}function Zat(t,e){var n,r={},i=kat(m9(t));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=eat(t[o],o,e,{compositeMark:!0});r[o]=a}}catch(c){i.e(c)}finally{i.f()}return r}function Fat(t,e,n){if(t){var r,i=kat(m9(t));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=t[o];if(qy(a)){var c,l=kat(a);try{for(l.s();!(c=l.n()).done;){var u=c.value;e.call(n,u,o)}}catch(s){l.e(s)}finally{l.f()}}else e.call(n,a,o)}}catch(s){i.e(s)}finally{i.f()}}}function jat(t,e){return m9(e).reduce((function(n,r){switch(r){case V9:case G9:case wtt:case ktt:case Stt:case X9:case q9:case Y9:case $9:case Q9:case ttt:case K9:case J9:case ett:case ntt:case rtt:case itt:case gtt:case ltt:case stt:case xtt:return n;case mtt:if("line"===t||"trail"===t)return n;case ytt:case btt:var i=e[r];if(qy(i)||_ot(i)){var o,a=kat(bb(i));try{for(a.s();!(o=a.n()).done;){var c=o.value;c.aggregate||n.push(Wot(c,{}))}}catch(u){a.e(u)}finally{a.f()}}return n;case utt:if("trail"===t)return n;case ott:case att:case ctt:case ftt:case htt:case dtt:case vtt:case ptt:var l=Qot(e[r]);return l&&!l.aggregate&&n.push(Wot(l,{})),n}}),[])}var Iat=["tooltip"],Rat=["aggregate"];function Lat(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nat(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lat(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lat(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bat(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return zat(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zat(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function zat(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uat(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("tooltip"in n)return{tooltip:n.tooltip};var i=t.map((function(t){var n=t.fieldPrefix,i=t.titlePrefix,o=r?" of ".concat(Hat(e)):"";return{field:n+e.field,type:e.type,title:zet(i)?{signal:"".concat(i,'"').concat(escape(o),'"')}:i+o}})),o=function(t){var e,n=[],r=kat(m9(t));try{for(r.s();!(e=r.n()).done;){var i=e.value;if(Mat(t,i)){var o,a=kat(bb(t[i]));try{for(a.s();!(o=a.n()).done;){var c=o.value;_ot(c)?n.push(c):Aot(c)&&n.push(c.condition)}}catch(l){a.e(l)}finally{a.f()}}}}catch(l){r.e(l)}finally{r.f()}return n}(n).map(Hot);return{tooltip:[].concat((0,Xm.Z)(i),(0,Xm.Z)(s9(o,r9)))}}function Hat(t){return T9(t.title,t.field)}function Wat(t,e,n,r,i){var o=n.scale,a=n.axis;return function(c){var l=c.partName,u=c.mark,s=c.positionPrefix,f=c.endPositionPrefix,h=void 0===f?void 0:f,d=c.extraEncoding,p=void 0===d?{}:d,v=Hat(n);return Vat(t,l,i,{mark:u,encoding:Nat(Nat(Nat((0,V.Z)({},e,Nat(Nat(Nat({field:"".concat(s,"_").concat(n.field),type:n.type},void 0!==v?{title:v}:{}),void 0!==o?{scale:o}:{}),void 0!==a?{axis:a}:{})),Vb(h)?(0,V.Z)({},"".concat(e,"2"),{field:"".concat(h,"_").concat(n.field)}):{}),r),p)})}}function Vat(t,e,n,r){var i=t.clip,o=t.color,a=t.opacity,c=t.type;return t[e]||void 0===t[e]&&n[e]?[Nat(Nat({},r),{},{mark:Nat(Nat(Nat(Nat(Nat(Nat({},n[e]),i?{clip:i}:{}),o?{color:o}:{}),a?{opacity:a}:{}),Tit(r.mark)?r.mark:{type:r.mark}),{},{style:"".concat(c,"-").concat(String(e))},Bb(t[e])?{}:t[e])})]:[]}function Gat(t,e,n){var r=t.encoding,i="vertical"===e?"y":"x",o=r[i],a=r["".concat(i,"2")],c=r["".concat(i,"Error")],l=r["".concat(i,"Error2")];return{continuousAxisChannelDef:Xat(o,n),continuousAxisChannelDef2:Xat(a,n),continuousAxisChannelDefError:Xat(c,n),continuousAxisChannelDefError2:Xat(l,n),continuousAxis:i}}function Xat(t,e){if(null!=t&&t.aggregate){var n=t.aggregate,r=(0,I.Z)(t,Rat);return n!==e&&$nt(function(t,e){return"Continuous axis should not have customized aggregation function ".concat(t,"; ").concat(e," already agregates the axis.")}(n,e)),r}return t}function qat(t,e){var n=t.mark,r=t.encoding,i=r.x,o=r.y;if(Tit(n)&&n.orient)return n.orient;if(Zot(i)){if(Zot(o)){var a=_ot(i)&&i.aggregate,c=_ot(o)&&o.aggregate;if(a||c!==e){if(c||a!==e){if(a===e&&c===e)throw new Error("Both x and y cannot have aggregate");return aat(o)&&!aat(i)?"horizontal":"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(Zot(o))return"vertical";throw new Error("Need a valid continuous axis for ".concat(e,"s"))}var Yat=["mark","encoding","params","projection"],$at=["color","size"],Kat=["tooltip"];function Jat(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function Qat(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qat(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qat(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ect="boxplot",nct=new wat(ect,ict);function rct(t){return Hb(t)?"tukey":t}function ict(t,e){var n,r=e.config,i=t=tct(tct({},t),{},{encoding:Zat(t.encoding,r)}),o=i.mark,a=(i.encoding,i.params),c=(i.projection,(0,I.Z)(i,Yat)),l=Tit(o)?o:{type:o};a&&$nt(Cnt("boxplot"));var u,s=null!==(n=l.extent)&&void 0!==n?n:r.boxplot.extent,f=lnt("size",l,r),h=l.invalid,d=rct(s),p=function(t,e,n){var r=qat(t,ect),i=Gat(t,r,ect),o=i.continuousAxisChannelDef,a=i.continuousAxis,c=o.field,l=rct(e),u=[].concat((0,Xm.Z)(oct(c)),[{op:"median",field:c,as:"mid_box_".concat(c)},{op:"min",field:c,as:("min-max"===l?"lower_whisker_":"min_")+c},{op:"max",field:c,as:("min-max"===l?"upper_whisker_":"max_")+c}]),s="min-max"===l||"tukey"===l?[]:[{calculate:'datum["upper_box_'.concat(c,'"] - datum["lower_box_').concat(c,'"]'),as:"iqr_".concat(c)},{calculate:'min(datum["upper_box_'.concat(c,'"] + datum["iqr_').concat(c,'"] * ').concat(e,', datum["max_').concat(c,'"])'),as:"upper_whisker_".concat(c)},{calculate:'max(datum["lower_box_'.concat(c,'"] - datum["iqr_').concat(c,'"] * ').concat(e,', datum["min_').concat(c,'"])'),as:"lower_whisker_".concat(c)}],f=t.encoding,h=(f[a],(0,I.Z)(f,[a].map(Jat))),d=function(t){var e,n,r=t.tooltip,i=(0,I.Z)(t,Iat);if(!r)return{filteredEncoding:i};if(qy(r)){var o,a=Bat(r);try{for(a.s();!(o=a.n()).done;){var c=o.value;c.aggregate?(e||(e=[]),e.push(c)):(n||(n=[]),n.push(c))}}catch(l){a.e(l)}finally{a.f()}e&&(i.tooltip=e)}else r.aggregate?i.tooltip=r:n=r;return qy(n)&&1===n.length&&(n=n[0]),{customTooltipWithoutAggregatedField:n,filteredEncoding:i}}(h),p=d.customTooltipWithoutAggregatedField,v=Dat(d.filteredEncoding,n),g=v.bins,m=v.timeUnits,y=v.aggregate,b=v.groupby,x=v.encoding,w="vertical"===r?"horizontal":"vertical",S=r,k=[].concat((0,Xm.Z)(g),(0,Xm.Z)(m),[{aggregate:[].concat((0,Xm.Z)(y),(0,Xm.Z)(u)),groupby:b}],s);return{bins:g,timeUnits:m,transform:k,groupby:b,aggregate:y,continuousAxisChannelDef:o,continuousAxis:a,encodingWithoutContinuousAxis:x,ticksOrient:w,boxOrient:S,customTooltipWithoutAggregatedField:p}}(t,s,r),v=p.bins,g=p.timeUnits,m=p.transform,y=p.continuousAxisChannelDef,b=p.continuousAxis,x=p.groupby,w=p.aggregate,S=p.encodingWithoutContinuousAxis,k=p.ticksOrient,C=p.boxOrient,O=p.customTooltipWithoutAggregatedField,E=S.color,M=S.size,A=(0,I.Z)(S,$at),P=function(t){return Wat(l,b,y,t,r.boxplot)},_=P(A),D=P(S),T=P(tct(tct({},A),M?{size:M}:{})),Z=Uat([{fieldPrefix:"min-max"===d?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===d?"lower_whisker_":"min_",titlePrefix:"Min"}],y,S),F={type:"tick",color:"black",opacity:1,orient:k,invalid:h,aria:!1},j="min-max"===d?Z:Uat([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],y,S),R=[].concat((0,Xm.Z)(_({partName:"rule",mark:{type:"rule",invalid:h,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:j})),(0,Xm.Z)(_({partName:"rule",mark:{type:"rule",invalid:h,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:j})),(0,Xm.Z)(_({partName:"ticks",mark:F,positionPrefix:"lower_whisker",extraEncoding:j})),(0,Xm.Z)(_({partName:"ticks",mark:F,positionPrefix:"upper_whisker",extraEncoding:j}))),L=[].concat((0,Xm.Z)("tukey"!==d?R:[]),(0,Xm.Z)(D({partName:"box",mark:tct(tct({type:"bar"},f?{size:f}:{}),{},{orient:C,invalid:h,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:Z})),(0,Xm.Z)(T({partName:"median",mark:tct(tct(tct({type:"tick",invalid:h},Yy(r.boxplot.median)&&r.boxplot.median.color?{color:r.boxplot.median.color}:{}),f?{size:f}:{}),{},{orient:k,aria:!1}),positionPrefix:"mid_box",extraEncoding:Z})));if("min-max"===d)return tct(tct({},c),{},{transform:(null!==(u=c.transform)&&void 0!==u?u:[]).concat(m),layer:L});var N,B,z='datum["lower_box_'.concat(y.field,'"]'),U='datum["upper_box_'.concat(y.field,'"]'),H="(".concat(U," - ").concat(z,")"),W="".concat(z," - ").concat(s," * ").concat(H),G="".concat(U," + ").concat(s," * ").concat(H),X='datum["'.concat(y.field,'"]'),q={joinaggregate:oct(y.field),groupby:x},Y={transform:[{filter:"(".concat(W," <= ").concat(X,") && (").concat(X," <= ").concat(G,")")},{aggregate:[{op:"min",field:y.field,as:"lower_whisker_".concat(y.field)},{op:"max",field:y.field,as:"upper_whisker_".concat(y.field)},{op:"min",field:"lower_box_".concat(y.field),as:"lower_box_".concat(y.field)},{op:"max",field:"upper_box_".concat(y.field),as:"upper_box_".concat(y.field)}].concat((0,Xm.Z)(w)),groupby:x}],layer:R},$=(A.tooltip,(0,I.Z)(A,Kat)),K=y.scale,J=y.axis,Q=Hat(y),tt=e9(J,["title"]),et=Vat(l,"outliers",r.boxplot,{transform:[{filter:"(".concat(X," < ").concat(W,") || (").concat(X," > ").concat(G,")")}],mark:"point",encoding:tct(tct(tct((0,V.Z)({},b,tct(tct(tct({field:y.field,type:y.type},void 0!==Q?{title:Q}:{}),void 0!==K?{scale:K}:{}),g9(tt)?{}:{axis:tt})),$),E?{color:E}:{}),O?{tooltip:O}:{})})[0],nt=[].concat((0,Xm.Z)(v),(0,Xm.Z)(g),[q]);et?N={transform:nt,layer:[et,Y]}:(B=(N=Y).transform).unshift.apply(B,(0,Xm.Z)(nt));return tct(tct({},c),{},{layer:[N,{transform:m,layer:L}]})}function oct(t){return[{op:"q1",field:t,as:"lower_box_".concat(t)},{op:"q3",field:t,as:"upper_box_".concat(t)}]}var act=["mark","encoding","params","projection"];function cct(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return lct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lct(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function lct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uct(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function sct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sct(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var hct="errorbar",dct=new wat(hct,pct);function pct(t,e){var n=e.config,r=gct(t=fct(fct({},t),{},{encoding:Zat(t.encoding,n)}),hct,n),i=r.transform,o=r.continuousAxisChannelDef,a=r.continuousAxis,c=r.encodingWithoutContinuousAxis,l=r.ticksOrient,u=r.markDef,s=r.outerSpec,f=r.tooltipEncoding;delete c.size;var h=Wat(u,a,o,c,n.errorbar),d=u.thickness,p=u.size,v=fct(fct({type:"tick",orient:l,aria:!1},void 0!==d?{thickness:d}:{}),void 0!==p?{size:p}:{}),g=[].concat((0,Xm.Z)(h({partName:"ticks",mark:v,positionPrefix:"lower",extraEncoding:f})),(0,Xm.Z)(h({partName:"ticks",mark:v,positionPrefix:"upper",extraEncoding:f})),(0,Xm.Z)(h({partName:"rule",mark:fct({type:"rule",ariaRoleDescription:"errorbar"},void 0!==d?{size:d}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f})));return fct(fct({},s),{},{transform:i},g.length>1?{layer:g}:fct({},g[0]))}function vct(t,e){var n=t.encoding;if(function(t){return(Iot(t.x)||Iot(t.y))&&!Iot(t.x2)&&!Iot(t.y2)&&!Iot(t.xError)&&!Iot(t.xError2)&&!Iot(t.yError)&&!Iot(t.yError2)}(n))return{orient:qat(t,e),inputType:"raw"};var r=function(t){return Iot(t.x2)||Iot(t.y2)}(n),i=function(t){return Iot(t.xError)||Iot(t.xError2)||Iot(t.yError)||Iot(t.yError2)}(n),o=n.x,a=n.y;if(r){if(i)throw new Error("".concat(e," cannot be both type aggregated-upper-lower and aggregated-error"));var c=n.x2,l=n.y2;if(Iot(c)&&Iot(l))throw new Error("".concat(e," cannot have both x2 and y2"));if(Iot(c)){if(Zot(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in ".concat(e))}if(Iot(l)){if(Zot(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in ".concat(e))}throw new Error("No ranged axis")}var u=n.xError,s=n.xError2,f=n.yError,h=n.yError2;if(Iot(s)&&!Iot(u))throw new Error("".concat(e," cannot have xError2 without xError"));if(Iot(h)&&!Iot(f))throw new Error("".concat(e," cannot have yError2 without yError"));if(Iot(u)&&Iot(f))throw new Error("".concat(e," cannot have both xError and yError with both are quantiative"));if(Iot(u)){if(Zot(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(Iot(f)){if(Zot(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}function gct(t,e,n){var r,i=t.mark,o=t.encoding,a=t.params,c=(t.projection,(0,I.Z)(t,act)),l=Tit(i)?i:{type:i};a&&$nt(Cnt(e));var u=vct(t,e),s=u.orient,f=u.inputType,h=Gat(t,s,e),d=h.continuousAxisChannelDef,p=h.continuousAxisChannelDef2,v=h.continuousAxisChannelDefError,g=h.continuousAxisChannelDefError2,m=h.continuousAxis,y=function(t,e,n,r,i,o,a,c){var l,u=[],s=[],f=e.field,h=!1;if("raw"===o){var d,p,v,g=t.center?t.center:t.extent?"iqr"===t.extent?"median":"mean":c.errorbar.center,m=t.extent?t.extent:"mean"===g?"stderr":"iqr";if("median"===g!=("iqr"===m)&&$nt(function(t,e,n){return"".concat(t," is not usually used with ").concat(e," for ").concat(n,".")}(g,m,a)),"stderr"===m||"stdev"===m)u=[{op:m,field:f,as:"extent_".concat(f)},{op:g,field:f,as:"center_".concat(f)}],s=[{calculate:'datum["center_'.concat(f,'"] + datum["extent_').concat(f,'"]'),as:"upper_".concat(f)},{calculate:'datum["center_'.concat(f,'"] - datum["extent_').concat(f,'"]'),as:"lower_".concat(f)}],l=[{fieldPrefix:"center_",titlePrefix:C9(g)},{fieldPrefix:"upper_",titlePrefix:mct(g,m,"+")},{fieldPrefix:"lower_",titlePrefix:mct(g,m,"-")}],h=!0;else"ci"===m?(d="mean",p="ci0",v="ci1"):(d="median",p="q1",v="q3"),u=[{op:p,field:f,as:"lower_".concat(f)},{op:v,field:f,as:"upper_".concat(f)},{op:d,field:f,as:"center_".concat(f)}],l=[{fieldPrefix:"upper_",titlePrefix:Yot({field:f,aggregate:v,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Yot({field:f,aggregate:p,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Yot({field:f,aggregate:d,type:"quantitative"},c,{allowDisabling:!1})}]}else{(t.center||t.extent)&&$nt(function(t,e){return"".concat(e?"extent ":"").concat(e&&t?"and ":"").concat(t?"center ":"").concat(e&&t?"are ":"is ","not needed when data are aggregated.")}(t.center,t.extent)),"aggregated-upper-lower"===o?(l=[],s=[{calculate:'datum["'.concat(n.field,'"]'),as:"upper_".concat(f)},{calculate:'datum["'.concat(f,'"]'),as:"lower_".concat(f)}]):"aggregated-error"===o&&(l=[{fieldPrefix:"",titlePrefix:f}],s=[{calculate:'datum["'.concat(f,'"] + datum["').concat(r.field,'"]'),as:"upper_".concat(f)}],i?s.push({calculate:'datum["'.concat(f,'"] + datum["').concat(i.field,'"]'),as:"lower_".concat(f)}):s.push({calculate:'datum["'.concat(f,'"] - datum["').concat(r.field,'"]'),as:"lower_".concat(f)}));var y,b=cct(s);try{for(b.s();!(y=b.n()).done;){var x=y.value;l.push({fieldPrefix:x.as.substring(0,6),titlePrefix:P9(P9(x.calculate,'datum["',""),'"]',"")})}}catch(w){b.e(w)}finally{b.f()}}return{postAggregateCalculates:s,errorBarSpecificAggregate:u,tooltipSummary:l,tooltipTitleWithFieldName:h}}(l,d,p,v,g,f,e,n),b=y.errorBarSpecificAggregate,x=y.postAggregateCalculates,w=y.tooltipSummary,S=y.tooltipTitleWithFieldName,k="x"===m?"x2":"y2",C="x"===m?"xError":"yError",O="x"===m?"xError2":"yError2",E=(o[m],o[k],o[C],o[O],Dat((0,I.Z)(o,[m,k,C,O].map(uct)),n)),M=E.bins,A=E.timeUnits,P=E.aggregate,_=E.groupby,D=E.encoding,T=[].concat((0,Xm.Z)(P),(0,Xm.Z)(b)),Z="raw"!==f?[]:_,F=Uat(w,d,D,S);return{transform:[].concat((0,Xm.Z)(null!==(r=c.transform)&&void 0!==r?r:[]),(0,Xm.Z)(M),(0,Xm.Z)(A),(0,Xm.Z)(0===T.length?[]:[{aggregate:T,groupby:Z}]),(0,Xm.Z)(x)),groupby:Z,continuousAxisChannelDef:d,continuousAxis:m,encodingWithoutContinuousAxis:D,ticksOrient:"vertical"===s?"horizontal":"vertical",markDef:l,outerSpec:c,tooltipEncoding:F}}function mct(t,e,n){return"".concat(C9(t)," ").concat(n," ").concat(e)}function yct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yct(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var xct="errorband",wct=new wat(xct,Sct);function Sct(t,e){var n=e.config,r=gct(t=bct(bct({},t),{},{encoding:Zat(t.encoding,n)}),xct,n),i=r.transform,o=r.continuousAxisChannelDef,a=r.continuousAxis,c=r.encodingWithoutContinuousAxis,l=r.markDef,u=r.outerSpec,s=r.tooltipEncoding,f=l,h=Wat(f,a,o,c,n.errorband),d=void 0!==t.encoding.x&&void 0!==t.encoding.y,p={type:d?"area":"rect"},v={type:d?"line":"rule"},g=bct(bct({},f.interpolate?{interpolate:f.interpolate}:{}),f.tension&&f.interpolate?{tension:f.tension}:{});return d?(p=bct(bct(bct({},p),g),{},{ariaRoleDescription:"errorband"}),v=bct(bct(bct({},v),g),{},{aria:!1})):f.interpolate?$nt(Vnt("interpolate")):f.tension&&$nt(Vnt("tension")),bct(bct({},u),{},{transform:i,layer:[].concat((0,Xm.Z)(h({partName:"band",mark:p,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:s})),(0,Xm.Z)(h({partName:"borders",mark:v,positionPrefix:"lower",extraEncoding:s})),(0,Xm.Z)(h({partName:"borders",mark:v,positionPrefix:"upper",extraEncoding:s})))})}var kct={};function Cct(t,e,n){var r=new wat(t,e);kct[t]={normalizer:r,parts:n}}Cct(ect,ict,["box","median","outliers","rule","ticks"]),Cct(hct,pct,["ticks","rule"]),Cct(xct,Sct,["band","borders"]);var Oct=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Ect={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Mct={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Act=m9(Ect),Pct=m9(Mct),_ct=m9({header:1,headerRow:1,headerColumn:1,headerFacet:1}),Dct=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],Tct={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Zct=(m9(Tct),"_vgsid_"),Fct={point:{on:"click",fields:[Zct],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function jct(t){return"legend"===t||!(null==t||!t.legend)}function Ict(t){return jct(t)&&Yy(t)}function Rct(t){return!(null==t||!t.select)}var Lct=["expr","bind"];function Nct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nct(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zct(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Uct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uct(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Uct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hct(t){var e,n=[],r=zct(t||[]);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!Rct(i)){var o=i.expr,a=i.bind,c=(0,I.Z)(i,Lct);if(a&&o){var l=Bct(Bct({},c),{},{bind:a,init:o});n.push(l)}else{var u=Bct(Bct(Bct({},c),o?{update:o}:{}),a?{bind:a}:{});n.push(u)}}}}catch(s){r.e(s)}finally{r.f()}return n}function Wct(t){return"concat"in t}function Vct(t){return"vconcat"in t}function Gct(t){return"hconcat"in t}function Xct(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return qct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qct(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function qct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yct(t){var e,n=t.step;return t.offsetIsDiscrete?null!==(e=n.for)&&void 0!==e?e:"offset":"position"}function $ct(t){return Yy(t)&&void 0!==t.step}function Kct(t){return t.view||t.width||t.height}var Jct=m9({align:1,bounds:1,center:1,columns:1,spacing:1});var Qct=["color","font","fontSize","selection"];function tlt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return elt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return elt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function elt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nlt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rlt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nlt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nlt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ilt(t,e){var n;return null!==(n=t[e])&&void 0!==n?n:t["width"===e?"continuousWidth":"continuousHeight"]}function olt(t,e){var n=alt(t,e);return $ct(n)?n.step:clt}function alt(t,e){var n;return T9(null!==(n=t[e])&&void 0!==n?n:t["width"===e?"discreteWidth":"discreteHeight"],{step:t.step})}var clt=20;var llt={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:clt},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:Lit,circle:{},geoshape:{},image:{},line:{},point:{},rect:Nit,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:Fct,style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},ult=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],slt={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},flt={blue:ult[0],orange:ult[1],red:ult[2],teal:ult[3],green:ult[4],yellow:ult[5],purple:ult[6],pink:ult[7],brown:ult[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function hlt(t){var e,n={},r=tlt(m9(t||{}));try{for(r.s();!(e=r.n()).done;){var i=e.value,o=t[i];n[i]=dat(o)?tnt(o):ent(o)}}catch(a){r.e(a)}finally{r.f()}return n}var dlt=[].concat((0,Xm.Z)(jit),(0,Xm.Z)(bat),(0,Xm.Z)(_ct),["background","padding","legend","lineBreak","scale","style","title","view"]);function plt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,n=t.font,r=t.fontSize,i=t.selection,o=(0,I.Z)(t,Qct),a=Ky({},J7(llt),n?function(t){return{text:{font:t},style:{"guide-label":{font:t},"guide-title":{font:t},"group-title":{font:t},"group-subtitle":{font:t}}}}(n):{},e?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:Yy(t)?rlt(rlt({},flt),t):flt}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}(e):{},r?function(t){return{signals:[{name:"fontSize",value:Yy(t)?rlt(rlt({},slt),t):slt}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}(r):{},o||{});i&&Jy(a,"selection",i,!0);for(var c=e9(a,dlt),l=0,u=["background","lineBreak","padding"];l<u.length;l++){var s=u[l];a[s]&&(c[s]=ent(a[s]))}var f,h=tlt(jit);try{for(h.s();!(f=h.n()).done;){var d=f.value;a[d]&&(c[d]=jet(a[d]))}}catch(x){h.e(x)}finally{h.f()}var p,v=tlt(bat);try{for(v.s();!(p=v.n()).done;){var g=p.value;a[g]&&(c[g]=hlt(a[g]))}}catch(x){v.e(x)}finally{v.f()}var m,y=tlt(_ct);try{for(y.s();!(m=y.n()).done;){var b=m.value;a[b]&&(c[b]=jet(a[b]))}}catch(x){y.e(x)}finally{y.f()}return a.legend&&(c.legend=jet(a.legend)),a.scale&&(c.scale=jet(a.scale)),a.style&&(c.style=function(t){var e,n={},r=tlt(m9(t));try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i]=hlt(t[i])}}catch(x){r.e(x)}finally{r.f()}return n}(a.style)),a.title&&(c.title=jet(a.title)),a.view&&(c.view=jet(a.view)),c}var vlt=new Set(["view"].concat((0,Xm.Z)(Dit))),glt=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],mlt=rlt({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]});function ylt(t){t=J7(t);var e,n=tlt(glt);try{for(n.s();!(e=n.n()).done;){delete t[e.value]}}catch(k){n.e(k)}finally{n.f()}if(t.axis)for(var r in t.axis)dat(t.axis[r])&&delete t.axis[r];if(t.legend){var i,o=tlt(Oct);try{for(o.s();!(i=o.n()).done;){var a=i.value;delete t.legend[a]}}catch(k){o.e(k)}finally{o.f()}}if(t.mark){var c,l=tlt(Fit);try{for(l.s();!(c=l.n()).done;){var u=c.value;delete t.mark[u]}}catch(k){l.e(k)}finally{l.f()}t.mark.tooltip&&Yy(t.mark.tooltip)&&delete t.mark.tooltip}t.params&&(t.signals=(t.signals||[]).concat(Hct(t.params)),delete t.params);var s,f=tlt(vlt);try{for(f.s();!(s=f.n()).done;){var h,d=s.value,p=tlt(Fit);try{for(p.s();!(h=p.n()).done;){var v=h.value;delete t[d][v]}}catch(k){p.e(k)}finally{p.f()}var g=mlt[d];if(g){var m,y=tlt(g);try{for(y.s();!(m=y.n()).done;){var b=m.value;delete t[d][b]}}catch(k){y.e(k)}finally{y.f()}}blt(t,d)}}catch(k){f.e(k)}finally{f.f()}var x,w=tlt(m9(kct));try{for(w.s();!(x=w.n()).done;){delete t[x.value]}}catch(k){w.e(k)}finally{w.f()}for(var S in function(t){var e=Net(t.title),n=e.titleMarkConfig,r=e.subtitleMarkConfig,i=e.subtitle;g9(n)||(t.style["group-title"]=rlt(rlt({},t.style["group-title"]),n));g9(r)||(t.style["group-subtitle"]=rlt(rlt({},t.style["group-subtitle"]),r));g9(i)?delete t.title:t.title=i}(t),t)Yy(t[S])&&g9(t[S])&&delete t[S];return g9(t)?void 0:t}function blt(t,e,n,r){var i;"view"===e&&(n="cell");var o,a=rlt(rlt({},r?t[e][r]:t[e]),t.style[null!==(i=n)&&void 0!==i?i:e]);g9(a)||(t.style[null!==(o=n)&&void 0!==o?o:e]=a);r||delete t[e]}function xlt(t){return"layer"in t}var wlt=["concat"];function Slt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function klt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Slt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Slt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Clt=function(){function t(){(0,Rm.Z)(this,t)}return(0,Lm.Z)(t,[{key:"map",value:function(t,e){return vot(t)?this.mapFacet(t,e):function(t){return"repeat"in t}(t)?this.mapRepeat(t,e):Gct(t)?this.mapHConcat(t,e):Vct(t)?this.mapVConcat(t,e):Wct(t)?this.mapConcat(t,e):this.mapLayerOrUnit(t,e)}},{key:"mapLayerOrUnit",value:function(t,e){if(xlt(t))return this.mapLayer(t,e);if(xat(t))return this.mapUnit(t,e);throw new Error(gnt(t))}},{key:"mapLayer",value:function(t,e){var n=this;return klt(klt({},t),{},{layer:t.layer.map((function(t){return n.mapLayerOrUnit(t,e)}))})}},{key:"mapHConcat",value:function(t,e){var n=this;return klt(klt({},t),{},{hconcat:t.hconcat.map((function(t){return n.map(t,e)}))})}},{key:"mapVConcat",value:function(t,e){var n=this;return klt(klt({},t),{},{vconcat:t.vconcat.map((function(t){return n.map(t,e)}))})}},{key:"mapConcat",value:function(t,e){var n=this,r=t.concat;return klt(klt({},(0,I.Z)(t,wlt)),{},{concat:r.map((function(t){return n.map(t,e)}))})}},{key:"mapFacet",value:function(t,e){return klt(klt({},t),{},{spec:this.map(t.spec,e)})}},{key:"mapRepeat",value:function(t,e){return klt(klt({},t),{},{spec:this.map(t.spec,e)})}}]),t}();function Olt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Elt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Elt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Elt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mlt={zero:1,center:1,normalize:1};var Alt=new Set([vit,mit,git,Sit,xit,Eit,Mit,bit,kit,Cit]),Plt=new Set([mit,git,vit]);function _lt(t){return _ot(t)&&"quantitative"===Dot(t)&&!t.bin}function Dlt(t,e,n){var r=n.orient,i=n.type,o="x"===e?"y":"radius",a="x"===e,c=t[e],l=t[o];if(_ot(c)&&_ot(l))if(_lt(c)&&_lt(l)){if(c.stack)return e;if(l.stack)return o;var u=_ot(c)&&!!c.aggregate;if(u!==(_ot(l)&&!!l.aggregate))return u?e:o;if(a&&["bar","area"].includes(i)){if("vertical"===r)return o;if("horizontal"===r)return e}}else{if(_lt(c))return e;if(_lt(l))return o}else{if(_lt(c))return e;if(_lt(l))return o}}function Tlt(t,e){var n,r,i=Tit(t)?t:{type:t},o=i.type;if(!Alt.has(o))return null;var a=Dlt(e,"x",i)||Dlt(e,"theta",i);if(!a)return null;var c=e[a],l=_ot(c)?Wot(c,{}):void 0,u=function(t){switch(t){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}(a),s=[],f=new Set;if(e[u]){var h=e[u],d=_ot(h)?Wot(h,{}):void 0;d&&d!==l&&(s.push(u),f.add(d));var p="x"===u?"xOffset":"yOffset",v=e[p],g=_ot(v)?Wot(v,{}):void 0;g&&g!==l&&(s.push(p),f.add(g))}var m,y,b,x=Ktt.reduce((function(t,n){if("tooltip"!==n&&Mat(e,n)){var r,i=Olt(bb(e[n]));try{for(i.s();!(r=i.n()).done;){var o=Qot(r.value);if(!o.aggregate){var a=Wot(o,{});a&&f.has(a)||t.push({channel:n,fieldDef:o})}}}catch(c){i.e(c)}finally{i.f()}}return t}),[]);return void 0!==c.stack?m=Bb(c.stack)?c.stack?"zero":null:c.stack:Plt.has(o)&&(m="zero"),m&&function(t){return t in Mlt}(m)?_at(e)&&0===x.length?null:null!=c&&null!==(n=c.scale)&&void 0!==n&&n.type&&(null==c||null===(r=c.scale)||void 0===r?void 0:r.type)!==Xrt.LINEAR?(null!=c&&c.stack&&$nt(function(t){return"Cannot stack non-linear scale (".concat(t,").")}(c.scale.type)),null):Iot(e[Wtt(a)])?(void 0!==c.stack&&$nt('Cannot stack "'.concat(y=a,'" if there is already "').concat(y,'2".')),null):(_ot(c)&&c.aggregate&&!Cet.has(c.aggregate)&&$nt((b=c.aggregate,'Stacking is applied even though the aggregate function is non-summative ("'.concat(b,'").'))),{groupbyChannels:s,groupbyFields:f,fieldChannel:a,impute:null!==c.impute&&Pit(o),stackBy:x,offset:m}):null}function Zlt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Flt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Flt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Flt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jlt(t,e,n){var r,i,o=jet(t),a=lnt("orient",o,n);if(o.orient=function(t,e,n){switch(t){case xit:case Eit:case Mit:case kit:case wit:case yit:return}var r=e.x,i=e.y,o=e.x2,a=e.y2;switch(t){case mit:if(_ot(r)&&(Aet(r.bin)||_ot(i)&&i.aggregate&&!r.aggregate))return"vertical";if(_ot(i)&&(Aet(i.bin)||_ot(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(a||o){if(n)return n;if(!o)return(_ot(r)&&r.type===Urt&&!Met(r.bin)||jot(r))&&_ot(i)&&Aet(i.bin)?"horizontal":"vertical";if(!a)return(_ot(i)&&i.type===Urt&&!Met(i.bin)||jot(i))&&_ot(r)&&Aet(r.bin)?"vertical":"horizontal"}case Sit:if(o&&(!_ot(r)||!Aet(r.bin))&&a&&(!_ot(i)||!Aet(i.bin)))return;case git:if(a)return _ot(i)&&Aet(i.bin)?"horizontal":"vertical";if(o)return _ot(r)&&Aet(r.bin)?"vertical":"horizontal";if(t===Sit){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case bit:case Cit:var c=Fot(r),l=Fot(i);if(n)return n;if(c&&!l)return"tick"!==t?"horizontal":"vertical";if(!c&&l)return"tick"!==t?"vertical":"horizontal";if(c&&l)return"vertical";var u=Rot(r)&&r.type===Wrt,s=Rot(i)&&i.type===Wrt;return u&&!s?"vertical":!u&&s?"horizontal":void 0}return"vertical"}(o.type,e,a),void 0!==a&&a!==o.orient&&$nt((r=o.orient,i=a,'Specified orient "'.concat(r,'" overridden with "').concat(i,'".'))),"bar"===o.type&&o.orient){var c=lnt("cornerRadiusEnd",o,n);if(void 0!==c){var l,u=Zlt("horizontal"===o.orient&&e.x2||"vertical"===o.orient&&e.y2?["cornerRadius"]:Rit[o.orient]);try{for(u.s();!(l=u.n()).done;){o[l.value]=c}}catch(s){u.e(s)}finally{u.f()}void 0!==o.cornerRadiusEnd&&delete o.cornerRadiusEnd}}return void 0===lnt("opacity",o,n)&&(o.opacity=function(t,e){if(o9([xit,Cit,Eit,Mit],t)&&!_at(e))return.7;return}(o.type,e)),void 0===lnt("cursor",o,n)&&(o.cursor=function(t,e,n){if(e.href||t.href||lnt("href",t,n))return"pointer";return t.cursor}(o,e,n)),o}var Ilt=["point","line"],Rlt=["params","projection","mark","name","encoding"];function Llt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nlt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Llt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Llt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Blt(t){t.point,t.line;var e=(0,I.Z)(t,Ilt);return m9(e).length>1?e:e.type}function zlt(t){for(var e=0,n=["line","area","rule","trail"];e<n.length;e++){var r=n[e];t[r]&&(t=Nlt(Nlt({},t),{},(0,V.Z)({},r,e9(t[r],["point","line"]))))}return t}function Ult(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"transparent"===t.point?{opacity:0}:t.point?Yy(t.point)?t.point:{}:void 0!==t.point?null:e.point||n.shape?Yy(e.point)?e.point:{}:void 0}function Hlt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.line?!0===t.line?{}:t.line:void 0!==t.line?null:e.line?!0===e.line?{}:e.line:void 0}var Wlt=function(){function t(){(0,Rm.Z)(this,t),this.name="path-overlay"}return(0,Lm.Z)(t,[{key:"hasMatchingType",value:function(t,e){if(xat(t)){var n=t.mark,r=t.encoding,i=Tit(n)?n:{type:n};switch(i.type){case"line":case"rule":case"trail":return!!Ult(i,e[i.type],r);case"area":return!!Ult(i,e[i.type],r)||!!Hlt(i,e[i.type])}}return!1}},{key:"run",value:function(t,e,n){var r=e.config,i=t.params,o=t.projection,a=t.mark,c=t.name,l=t.encoding,u=(0,I.Z)(t,Rlt),s=Zat(l,r),f=Tit(a)?a:{type:a},h=Ult(f,r[f.type],s),d="area"===f.type&&Hlt(f,r[f.type]),p=[Nlt(Nlt({name:c},i?{params:i}:{}),{},{mark:Blt(Nlt(Nlt({},"area"===f.type&&void 0===f.opacity&&void 0===f.fillOpacity?{opacity:.7}:{}),f)),encoding:e9(s,["shape"])})],v=Tlt(jlt(f,s,r),s),g=s;if(v){var m=v.fieldChannel,y=v.offset;g=Nlt(Nlt({},s),{},(0,V.Z)({},m,Nlt(Nlt({},s[m]),y?{stack:y}:{})))}return g=e9(g,["y2","x2"]),d&&p.push(Nlt(Nlt({},o?{projection:o}:{}),{},{mark:Nlt(Nlt({type:"line"},t9(f,["clip","interpolate","tension","tooltip"])),d),encoding:g})),h&&p.push(Nlt(Nlt({},o?{projection:o}:{}),{},{mark:Nlt(Nlt({type:"point",opacity:1,filled:!0},t9(f,["clip","tooltip"])),h),encoding:g})),n(Nlt(Nlt({},u),{},{layer:p}),Nlt(Nlt({},e),{},{config:zlt(r)}))}}]),t}(),Vlt=["condition"];function Glt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xlt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Glt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Glt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qlt(t,e){return e?dot(t)?tut(t,e):Klt(t,e):t}function Ylt(t,e){return e?tut(t,e):t}function $lt(t,e,n){var r=e[t];return function(t){return t&&!Vb(t)&&"repeat"in t}(r)?r.repeat in n?Xlt(Xlt({},e),{},(0,V.Z)({},t,n[r.repeat])):void $nt(function(t){return'Unknown repeated value "'.concat(t,'".')}(r.repeat)):e}function Klt(t,e){if(void 0!==(t=$lt("field",t,e))){if(null===t)return null;if(Sot(t)&&fot(t.sort)){var n=$lt("field",t.sort,e);t=Xlt(Xlt({},t),n?{sort:n}:{})}return t}}function Jlt(t,e){if(_ot(t))return Klt(t,e);var n=$lt("datum",t,e);return n===t||n.type||(n.type="nominal"),n}function Qlt(t,e){if(!Iot(t)){if(Pot(t)){var n=Jlt(t.condition,e);if(n)return Xlt(Xlt({},t),{},{condition:n});t.condition;return(0,I.Z)(t,Vlt)}return t}var r=Jlt(t,e);return r||(Mot(t)?{condition:t.condition}:void 0)}function tut(t,e){var n={};for(var r in t)if(Fb(t,r)){var i=t[r];if(qy(i))n[r]=i.map((function(t){return Qlt(t,e)})).filter((function(t){return t}));else{var o=Qlt(i,e);void 0!==o&&(n[r]=o)}}return n}function eut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eut(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rut(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return iut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iut(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function iut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var out=function(){function t(){(0,Rm.Z)(this,t),this.name="RuleForRangedLine"}return(0,Lm.Z)(t,[{key:"hasMatchingType",value:function(t){if(xat(t)){var e=t.encoding,n=t.mark;if("line"===n||Tit(n)&&"line"===n.type){var r,i=rut(Btt);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=e[Utt(o)];if(e[o]&&(_ot(a)&&!Aet(a.bin)||Tot(a)))return!0}}catch(c){i.e(c)}finally{i.f()}}}return!1}},{key:"run",value:function(t,e,n){var r,i,o=t.encoding,a=t.mark;return $nt((r=!!o.x2,i=!!o.y2,"Line mark is for continuous lines and thus cannot be used with ".concat(r&&i?"x2 and y2":r?"x2":"y2",". We will use the rule mark (line segments) instead."))),n(nut(nut({},t),{},{mark:Yy(a)?nut(nut({},a),{},{type:"rule"}):"rule"}),e)}}]),t}(),aut=["repeat","spec"],cut=["repeat","spec","data"],lut=["row","column","facet"],uut=["mark","width","projection","height","view","params","encoding"],sut=["align","center","spacing","columns"],fut=["align","center","spacing","columns"],hut=["parentEncoding","parentProjection"],dut=["encoding","projection"];function put(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return vut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vut(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function vut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gut(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var but=function(t){(0,Bm.Z)(n,t);var e=yut(n);function n(){var t;return(0,Rm.Z)(this,n),(t=e.apply(this,arguments)).nonFacetUnitNormalizers=[nct,dct,wct,new Wlt,new out],t}return(0,Lm.Z)(n,[{key:"map",value:function(t,e){if(xat(t)){var r=Mat(t.encoding,U9),i=Mat(t.encoding,H9),o=Mat(t.encoding,W9);if(r||i||o)return this.mapFacetedUnit(t,e)}return qZ((0,Um.Z)(n.prototype),"map",this).call(this,t,e)}},{key:"mapUnit",value:function(t,e){var n=e.parentEncoding,r=e.parentProjection,i=Ylt(t.encoding,e.repeater),o=mut(mut(mut({},t),t.name?{name:[e.repeaterPrefix,t.name].filter((function(t){return t})).join("_")}:{}),i?{encoding:i}:{});if(n||r)return this.mapUnitWithParentEncodingOrProjection(o,e);var a,c=this.mapLayerOrUnit.bind(this),l=put(this.nonFacetUnitNormalizers);try{for(l.s();!(a=l.n()).done;){var u=a.value;if(u.hasMatchingType(o,e.config))return u.run(o,e,c)}}catch(s){l.e(s)}finally{l.f()}return o}},{key:"mapRepeat",value:function(t,e){return function(t){return!qy(t.repeat)&&t.repeat.layer}(t)?this.mapLayerRepeat(t,e):this.mapNonLayerRepeat(t,e)}},{key:"mapLayerRepeat",value:function(t,e){var n=this,r=t.repeat,i=t.spec,o=(0,I.Z)(t,aut),a=r.row,c=r.column,l=r.layer,u=e.repeater,s=void 0===u?{}:u,f=e.repeaterPrefix,h=void 0===f?"":f;return a||c?this.mapRepeat(mut(mut({},t),{},{repeat:mut(mut({},a?{row:a}:{}),c?{column:c}:{}),spec:{repeat:{layer:l},spec:i}}),e):mut(mut({},o),{},{layer:l.map((function(t){var r=mut(mut({},s),{},{layer:t}),o="".concat((i.name?"".concat(i.name,"_"):"")+h,"child__layer_").concat(w9(t)),a=n.mapLayerOrUnit(i,mut(mut({},e),{},{repeater:r,repeaterPrefix:o}));return a.name=o,a}))})}},{key:"mapNonLayerRepeat",value:function(t,e){var n,r=t,i=r.repeat,o=r.spec,a=r.data,c=(0,I.Z)(r,cut);!qy(i)&&t.columns&&(t=e9(t,["columns"]),$nt(Ent("repeat")));var l,u=[],s=e.repeater,f=void 0===s?{}:s,h=e.repeaterPrefix,d=void 0===h?"":h,p=!qy(i)&&i.row||[f?f.row:null],v=!qy(i)&&i.column||[f?f.column:null],g=put(qy(i)&&i||[f?f.repeat:null]);try{for(g.s();!(l=g.n()).done;){var m,y=l.value,b=put(p);try{for(b.s();!(m=b.n()).done;){var x,w=m.value,S=put(v);try{for(S.s();!(x=S.n()).done;){var k=x.value,C={repeat:y,row:w,column:k,layer:f.layer},O=(o.name?"".concat(o.name,"_"):"")+d+"child__"+(qy(i)?"".concat(w9(y)):(i.row?"row_".concat(w9(w)):"")+(i.column?"column_".concat(w9(k)):"")),E=this.map(o,mut(mut({},e),{},{repeater:C,repeaterPrefix:O}));E.name=O,u.push(e9(E,["data"]))}}catch(A){S.e(A)}finally{S.f()}}}catch(A){b.e(A)}finally{b.f()}}}catch(A){g.e(A)}finally{g.f()}var M=qy(i)?t.columns:i.column?i.column.length:1;return mut(mut({data:null!==(n=o.data)&&void 0!==n?n:a,align:"all"},c),{},{columns:M,concat:u})}},{key:"mapFacet",value:function(t,e){return dot(t.facet)&&t.columns&&(t=e9(t,["columns"]),$nt(Ent("facet"))),qZ((0,Um.Z)(n.prototype),"mapFacet",this).call(this,t,e)}},{key:"mapUnitWithParentEncodingOrProjection",value:function(t,e){var n=t.encoding,r=t.projection,i=e.parentEncoding,o=e.parentProjection,a=e.config,c=wut({parentProjection:o,projection:r}),l=xut({parentEncoding:i,encoding:Ylt(n,e.repeater)});return this.mapUnit(mut(mut(mut({},t),c?{projection:c}:{}),l?{encoding:l}:{}),{config:a})}},{key:"mapFacetedUnit",value:function(t,e){var n=t.encoding,r=n.row,i=n.column,o=n.facet,a=(0,I.Z)(n,lut),c=t.mark,l=t.width,u=t.projection,s=t.height,f=t.view,h=t.params,d=(t.encoding,(0,I.Z)(t,uut)),p=this.getFacetMappingAndLayout({row:r,column:i,facet:o},e),v=p.facetMapping,g=p.layout,m=Ylt(a,e.repeater);return this.mapFacet(mut(mut(mut({},d),g),{},{facet:v,spec:mut(mut(mut(mut(mut({},l?{width:l}:{}),s?{height:s}:{}),f?{view:f}:{}),u?{projection:u}:{}),{},{mark:c,encoding:m},h?{params:h}:{})}),e)}},{key:"getFacetMappingAndLayout",value:function(t,e){var n=t.row,r=t.column,i=t.facet;if(n||r){i&&$nt((g=[].concat((0,Xm.Z)(n?[U9]:[]),(0,Xm.Z)(r?[H9]:[])),"Facet encoding dropped as ".concat(g.join(" and ")," ").concat(g.length>1?"are":"is"," also specified.")));for(var o={},a={},c=0,l=[U9,H9];c<l.length;c++){var u=l[c],s=t[u];if(s){s.align,s.center,s.spacing,s.columns;var f=(0,I.Z)(s,sut);o[u]=f;for(var h=0,d=["align","center","spacing"];h<d.length;h++){var p,v=d[h];if(void 0!==s[v])null!==(p=a[v])&&void 0!==p||(a[v]={}),a[v][u]=s[v]}}}return{facetMapping:o,layout:a}}var g,m=i.align,y=i.center,b=i.spacing,x=i.columns;return{facetMapping:qlt((0,I.Z)(i,fut),e.repeater),layout:mut(mut(mut(mut({},m?{align:m}:{}),y?{center:y}:{}),b?{spacing:b}:{}),x?{columns:x}:{})}}},{key:"mapLayer",value:function(t,e){var r=e.parentEncoding,i=e.parentProjection,o=(0,I.Z)(e,hut),a=t.encoding,c=t.projection,l=(0,I.Z)(t,dut),u=mut(mut({},o),{},{parentEncoding:xut({parentEncoding:r,encoding:a,layer:!0}),parentProjection:wut({parentProjection:i,projection:c})});return qZ((0,Um.Z)(n.prototype),"mapLayer",this).call(this,mut(mut({},l),t.name?{name:[u.repeaterPrefix,t.name].filter((function(t){return t})).join("_")}:{}),u)}}]),n}(Clt);function xut(t){var e=t.parentEncoding,n=t.encoding,r=void 0===n?{}:n,i=t.layer,o={};if(e){var a,c=put(new Set([].concat((0,Xm.Z)(m9(e)),(0,Xm.Z)(m9(r)))));try{for(c.s();!(a=c.n()).done;){var l=a.value,u=r[l],s=e[l];if(Iot(u)){var f=mut(mut({},s),u);o[l]=f}else Pot(u)?o[l]=mut(mut({},u),{},{condition:mut(mut({},s),u.condition)}):u||null===u?o[l]=u:(i||Lot(s)||zet(s)||Iot(s)||qy(s))&&(o[l]=s)}}catch(h){c.e(h)}finally{c.f()}}else o=r;return!o||g9(o)?void 0:o}function wut(t){var e=t.parentProjection,n=t.projection;return e&&n&&$nt(function(t){var e=t.parentProjection,n=t.projection;return"Layer's shared projection ".concat(n9(e)," is overridden by a child projection ").concat(n9(n),".")}({parentProjection:e,projection:n})),null!=n?n:e}function Sut(t){return"filter"in t}function kut(t){return void 0!==(null==t?void 0:t.stop)}function Cut(t){return"lookup"in t}function Out(t){return"pivot"in t}function Eut(t){return"density"in t}function Mut(t){return"quantile"in t}function Aut(t){return"regression"in t}function Put(t){return"loess"in t}function _ut(t){return"sample"in t}function Dut(t){return"window"in t}function Tut(t){return"joinaggregate"in t}function Zut(t){return"flatten"in t}function Fut(t){return"calculate"in t}function jut(t){return"bin"in t}function Iut(t){return"impute"in t}function Rut(t){return"timeUnit"in t}function Lut(t){return"aggregate"in t}function Nut(t){return"stack"in t}function But(t){return"fold"in t}function zut(t){return"extent"in t&&!("density"in t)}var Uut=["selection"],Hut=["init","bind","empty"],Wut=["transform"],Vut=["selection"],Gut=["selection"],Xut=["selection","param","test"],qut=["selection","param","test"],Yut=["selection"];function $ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Kut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$ut(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Jut(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Qut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qut(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Qut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tst(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var est=function(t){(0,Bm.Z)(n,t);var e=tst(n);function n(){return(0,Rm.Z)(this,n),e.apply(this,arguments)}return(0,Lm.Z)(n,[{key:"map",value:function(t,e){var r,i;return null!==(r=e.emptySelections)&&void 0!==r||(e.emptySelections={}),null!==(i=e.selectionPredicates)&&void 0!==i||(e.selectionPredicates={}),t=nst(t,e),qZ((0,Um.Z)(n.prototype),"map",this).call(this,t,e)}},{key:"mapLayerOrUnit",value:function(t,e){if((t=nst(t,e)).encoding){var r,i={},o=Jut(b9(t.encoding));try{for(o.s();!(r=o.n()).done;){var a=(0,G.Z)(r.value,2),c=a[0],l=a[1];i[c]=rst(l,e)}}catch(u){o.e(u)}finally{o.f()}t=Kut(Kut({},t),{},{encoding:i})}return qZ((0,Um.Z)(n.prototype),"mapLayerOrUnit",this).call(this,t,e)}},{key:"mapUnit",value:function(t,e){var n=t.selection,r=(0,I.Z)(t,Uut);return n?Kut(Kut({},r),{},{params:b9(n).map((function(t){var n,r=(0,G.Z)(t,2),i=r[0],o=r[1],a=o.init,c=o.bind,l=o.empty,u=(0,I.Z)(o,Hut);"single"===u.type?(u.type="point",u.toggle=!1):"multi"===u.type&&(u.type="point"),e.emptySelections[i]="none"!==l;var s,f=Jut(y9(null!==(n=e.selectionPredicates[i])&&void 0!==n?n:{}));try{for(f.s();!(s=f.n()).done;){s.value.empty="none"!==l}}catch(h){f.e(h)}finally{f.f()}return{name:i,value:a,select:u,bind:c}}))}):t}}]),n}(Clt);function nst(t,e){var n=t.transform,r=(0,I.Z)(t,Wut);if(n){var i=n.map((function(t){if(Sut(t))return{filter:ost(t,e)};if(jut(t)&&Pet(t.bin))return Kut(Kut({},t),{},{bin:ist(t.bin)});if(Cut(t)){var n=t.from,r=n.selection,i=(0,I.Z)(n,Vut);return r?Kut(Kut({},t),{},{from:Kut({param:r},i)}):t}return t}));return Kut(Kut({},r),{},{transform:i})}return t}function rst(t,e){var n,r=J7(t);if(_ot(r)&&Pet(r.bin)&&(r.bin=ist(r.bin)),Not(r)&&null!==(n=r.scale)&&void 0!==n&&null!==(n=n.domain)&&void 0!==n&&n.selection){var i=r.scale.domain,o=i.selection,a=(0,I.Z)(i,Gut);r.scale.domain=Kut(Kut({},a),o?{param:o}:{})}if(Mot(r))if(qy(r.condition))r.condition=r.condition.map((function(t){t.selection;var n=t.param,r=(t.test,(0,I.Z)(t,Xut));return n?t:Kut(Kut({},r),{},{test:ost(t,e)})}));else{var c=rst(r.condition,e),l=(c.selection,c.param),u=(c.test,(0,I.Z)(c,qut));r.condition=l?r.condition:Kut(Kut({},u),{},{test:ost(r.condition,e)})}return r}function ist(t){var e=t.extent;if(null!=e&&e.selection){var n=e.selection,r=(0,I.Z)(e,Yut);return Kut(Kut({},t),{},{extent:Kut(Kut({},r),{},{param:n})})}return t}function ost(t,e){var n=function(t){return X7(t,(function(t){var n,r,i,o={param:t,empty:null===(n=e.emptySelections[t])||void 0===n||n};return null!==(r=(i=e.selectionPredicates)[t])&&void 0!==r||(i[t]=[]),e.selectionPredicates[t].push(o),o}))};return t.selection?n(t.selection):X7(t.test||t.filter,(function(t){return t.selection?n(t.selection):t}))}function ast(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cst(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ast(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ast(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lst(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ust(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ust(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function ust(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sst(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}for(var fst=function(t){(0,Bm.Z)(n,t);var e=sst(n);function n(){return(0,Rm.Z)(this,n),e.apply(this,arguments)}return(0,Lm.Z)(n,[{key:"map",value:function(t,e){var r,i=null!==(r=e.selections)&&void 0!==r?r:[];if(t.params&&!xat(t)){var o,a=[],c=lst(t.params);try{for(c.s();!(o=c.n()).done;){var l=o.value;Rct(l)?i.push(l):a.push(l)}}catch(u){c.e(u)}finally{c.f()}t.params=a}return e.selections=i,qZ((0,Um.Z)(n.prototype),"map",this).call(this,t,e)}},{key:"mapUnit",value:function(t,e){var n,r=e.selections;if(!r||!r.length)return t;var i,o=(null!==(n=e.path)&&void 0!==n?n:[]).concat(t.name),a=[],c=lst(r);try{for(c.s();!(i=c.n()).done;){var l=i.value;if(l.views&&l.views.length){var u,s=lst(l.views);try{for(s.s();!(u=s.n()).done;){var f=u.value;(Vb(f)&&(f===t.name||o.includes(f))||qy(f)&&f.map((function(t){return o.indexOf(t)})).every((function(t,e,n){return-1!==t&&(0===e||t>n[e-1])})))&&a.push(l)}}catch(h){s.e(h)}finally{s.f()}}else a.push(l)}}catch(h){c.e(h)}finally{c.f()}return a.length&&(t.params=a),t}}]),n}(Clt),hst=function(){var t=pst[dst],e=fst.prototype[t];fst.prototype[t]=function(t,n){return e.call(this,t,function(t,e){var n;return t.name?cst(cst({},e),{},{path:(null!==(n=e.path)&&void 0!==n?n:[]).concat(t.name)}):e}(t,n))}},dst=0,pst=["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"];dst<pst.length;dst++)hst();function vst(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gst(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vst(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vst(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mst(t,e){void 0===e&&(e=plt(t.config));var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={config:e};return xst.map(yst.map(bst.map(t,n),n),n)}(t,e),r=function(t,e,n){var r=e.width,i=e.height,o=xat(t)||xlt(t),a={};o?"container"==r&&"container"==i?(a.type="fit",a.contains="padding"):"container"==r?(a.type="fit-x",a.contains="padding"):"container"==i&&(a.type="fit-y",a.contains="padding"):("container"==r&&($nt(ynt("width")),r=void 0),"container"==i&&($nt(ynt("height")),i=void 0));var c=gst(gst(gst({type:"pad"},a),n?wst(n.autosize):{}),wst(t.autosize));"fit"!==c.type||o||($nt(mnt),c.type="pad");"container"==r&&"fit"!=c.type&&"fit-x"!=c.type&&$nt(bnt("width"));"container"==i&&"fit"!=c.type&&"fit-y"!=c.type&&$nt(bnt("height"));if(K7(c,{type:"pad"}))return;return c}(n,{width:t.width,height:t.height,autosize:t.autosize},e);return gst(gst({},n),r?{autosize:r}:{})}var yst=new but,bst=new est,xst=new fst;function wst(t){return Vb(t)?{type:t}:null!=t?t:{}}function Sst(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return kst(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kst(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function kst(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Cst=["background","padding"];function Ost(t,e){var n,r={},i=Sst(Cst);try{for(i.s();!(n=i.n()).done;){var o=n.value;t&&void 0!==t[o]&&(r[o]=ent(t[o]))}}catch(a){i.e(a)}finally{i.f()}return e&&(r.params=t.params),r}function Est(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Mst(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mst(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Mst(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ast(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pst(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ast(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ast(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _st=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Rm.Z)(this,t),this.explicit=e,this.implicit=n}return(0,Lm.Z)(t,[{key:"clone",value:function(){return new t(J7(this.explicit),J7(this.implicit))}},{key:"combine",value:function(){return Pst(Pst({},this.explicit),this.implicit)}},{key:"get",value:function(t){return T9(this.explicit[t],this.implicit[t])}},{key:"getWithExplicit",value:function(t){return void 0!==this.explicit[t]?{explicit:!0,value:this.explicit[t]}:void 0!==this.implicit[t]?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}},{key:"setWithExplicit",value:function(t,e){var n=e.value,r=e.explicit;void 0!==n&&this.set(t,n,r)}},{key:"set",value:function(t,e,n){return delete this[n?"implicit":"explicit"][t],this[n?"explicit":"implicit"][t]=e,this}},{key:"copyKeyFromSplit",value:function(t,e){var n=e.explicit,r=e.implicit;void 0!==n[t]?this.set(t,n[t],!0):void 0!==r[t]&&this.set(t,r[t],!1)}},{key:"copyKeyFromObject",value:function(t,e){void 0!==e[t]&&this.set(t,e[t],!0)}},{key:"copyAll",value:function(t){var e,n=Est(m9(t.combine()));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=t.getWithExplicit(r);this.setWithExplicit(r,i)}}catch(o){n.e(o)}finally{n.f()}}}]),t}();function Dst(t){return{explicit:!0,value:t}}function Tst(t){return{explicit:!1,value:t}}function Zst(t){return function(e,n,r,i){var o=t(e.value,n.value);return o>0?e:o<0?n:Fst(e,n,r,i)}}function Fst(t,e,n,r){return t.explicit&&e.explicit&&$nt(function(t,e,n,r){return"Conflicting ".concat(e.toString(),' property "').concat(t.toString(),'" (').concat(n9(n)," and ").concat(n9(r),"). Using ").concat(n9(n),".")}(n,r,t.value,e.value)),t}function jst(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Fst;return void 0===t||void 0===t.value?e:t.explicit&&!e.explicit?t:e.explicit&&!t.explicit?e:K7(t.value,e.value)?t:i(t,e,n,r)}function Ist(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Rst,Lst=function(t){(0,Bm.Z)(n,t);var e=Ist(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,Rm.Z)(this,n),(t=e.call(this,r,i)).explicit=r,t.implicit=i,t.parseNothing=o,t}return(0,Lm.Z)(n,[{key:"clone",value:function(){var t=qZ((0,Um.Z)(n.prototype),"clone",this).call(this);return t.parseNothing=this.parseNothing,t}}]),n}(_st);function Nst(t){return"url"in t}function Bst(t){return"values"in t}function zst(t){return"name"in t&&!Nst(t)&&!Bst(t)&&!Ust(t)}function Ust(t){return t&&(Hst(t)||Wst(t)||Vst(t))}function Hst(t){return"sequence"in t}function Wst(t){return"sphere"in t}function Vst(t){return"graticule"in t}!function(t){t[t.Raw=0]="Raw",t[t.Main=1]="Main",t[t.Row=2]="Row",t[t.Column=3]="Column",t[t.Lookup=4]="Lookup"}(Rst||(Rst={}));var Gst=["signals","hasLegend","index"];function Xst(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return qst(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qst(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function qst(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yst(t){t.signals,t.hasLegend,t.index;var e=(0,I.Z)(t,Gst);return e.field=A9(e.field),e}function $st(t){var e,n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Iy;if(qy(t)){var o=t.map((function(t){return $st(t,r,i)}));return r?"[".concat(o.join(", "),"]"):o}return Qnt(t)?i(r?ort(t):(n=irt(e=t,!0),e.utc?+new Date(Date.UTC.apply(Date,(0,Xm.Z)(n))):+$Z(Date,(0,Xm.Z)(n)))):r?i(n9(t)):t}function Kst(t,e){var n,r,i=Xst(y9(null!==(n=t.component.selection)&&void 0!==n?n:{}));try{for(i.s();!(r=i.n()).done;){var o,a=r.value,c=Xst(sdt);try{for(c.s();!(o=c.n()).done;){var l=o.value;l.defined(a)&&l.marks&&(e=l.marks(t,a,e))}}catch(u){c.e(u)}finally{c.f()}}}catch(u){i.e(u)}finally{i.f()}return e}function Jst(t){return t.map((function(t){return t.on&&!t.on.length&&delete t.on,t}))}function Qst(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}function tft(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return eft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eft(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function eft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nft=function(){function t(e,n){(0,Rm.Z)(this,t),this.debugName=n,this._children=[],this._parent=null,e&&(this.parent=e)}return(0,Lm.Z)(t,[{key:"clone",value:function(){throw new Error("Cannot clone node")}},{key:"parent",get:function(){return this._parent},set:function(t){this._parent=t,t&&t.addChild(this)}},{key:"children",get:function(){return this._children}},{key:"numChildren",value:function(){return this._children.length}},{key:"addChild",value:function(t,e){this._children.includes(t)?$nt("Attempt to add the same child twice."):void 0!==e?this._children.splice(e,0,t):this._children.push(t)}},{key:"removeChild",value:function(t){var e=this._children.indexOf(t);return this._children.splice(e,1),e}},{key:"remove",value:function(){var t,e=this._parent.removeChild(this),n=tft(this._children);try{for(n.s();!(t=n.n()).done;){var r=t.value;r._parent=this._parent,this._parent.addChild(r,e++)}}catch(i){n.e(i)}finally{n.f()}}},{key:"insertAsParentOf",value:function(t){var e=t.parent;e.removeChild(this),this.parent=e,t.parent=this}},{key:"swapWithParent",value:function(){var t,e=this._parent,n=e.parent,r=tft(this._children);try{for(r.s();!(t=r.n()).done;){t.value.parent=e}}catch(o){r.e(o)}finally{r.f()}this._children=[],e.removeChild(this);var i=e.parent.removeChild(e);this._parent=n,n.addChild(this,i),e.parent=this}}]),t}(),rft=function(t){(0,Bm.Z)(n,t);var e=Qst(n);function n(t,r,i,o){var a;return(0,Rm.Z)(this,n),(a=e.call(this,t,r)).type=i,a.refCounts=o,a._source=a._name=r,a.refCounts&&!(a._name in a.refCounts)&&(a.refCounts[a._name]=0),a}return(0,Lm.Z)(n,[{key:"clone",value:function(){var t=new this.constructor;return t.debugName="clone_".concat(this.debugName),t._source=this._source,t._name="clone_".concat(this._name),t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return void 0===this._hash&&(this._hash="Output ".concat(F9())),this._hash}},{key:"getSource",value:function(){return this.refCounts[this._name]++,this._source}},{key:"isRequired",value:function(){return!!this.refCounts[this._name]}},{key:"setSource",value:function(t){this._source=t}}]),n}(nft),ift=["unit","utc"],oft=["timeUnit"];function aft(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return cft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cft(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function cft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lft(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}function fft(t){return void 0!==t.as}function hft(t){return"".concat(t,"_end")}var dft=function(t){(0,Bm.Z)(n,t);var e=sft(n);function n(t,r){var i;return(0,Rm.Z)(this,n),(i=e.call(this,t)).formula=r,i}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this.formula))}},{key:"merge",value:function(t){for(var e in this.formula=uft({},this.formula),t.formula)this.formula[e]||(this.formula[e]=t.formula[e]);var n,r=aft(t.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.removeChild(i),i.parent=this}}catch(o){r.e(o)}finally{r.f()}t.remove()}},{key:"removeFormulas",value:function(t){var e,n={},r=aft(b9(this.formula));try{for(r.s();!(e=r.n()).done;){var i=(0,G.Z)(e.value,2),o=i[0],a=i[1],c=fft(a)?a.as:"".concat(a.field,"_end");t.has(c)||(n[o]=a)}}catch(l){r.e(l)}finally{r.f()}this.formula=n}},{key:"producedFields",value:function(){return new Set(y9(this.formula).map((function(t){return fft(t)?t.as:hft(t.field)})))}},{key:"dependentFields",value:function(){return new Set(y9(this.formula).map((function(t){return t.field})))}},{key:"hash",value:function(){return"TimeUnit ".concat(r9(this.formula))}},{key:"assemble",value:function(){var t,e=[],n=aft(y9(this.formula));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(fft(r)){var i=r.field,o=r.as,a=Srt(r.timeUnit),c=a.unit,l=a.utc,u=(0,I.Z)(a,ift);e.push(uft(uft(uft(uft({field:A9(i),type:"timeunit"},c?{units:mrt(c)}:{}),l?{timezone:"utc"}:{}),u),{},{as:[o,"".concat(o,"_end")]}))}else if(r){var s=r.field,f=r.timeUnit,h=Ort(yrt(null==f?void 0:f.unit),f.step),d=h.part,p=h.step;e.push({type:"formula",expr:"timeOffset('".concat(d,"', datum['").concat(s,"'], ").concat(p,")"),as:hft(s)})}}}catch(v){n.e(v)}finally{n.f()}return e}}],[{key:"makeFromEncoding",value:function(t,e){var r=e.reduceFieldDef((function(t,n){var r=n.field,i=n.timeUnit;if(i){var o;if(drt(i)){if(cyt(e))(_it(e.mark)||n.bandPosition)&&(o={timeUnit:Srt(i),field:r})}else o={as:Wot(n,{forAs:!0}),field:r,timeUnit:i};o&&(t[r9(o)]=o)}return t}),{});return g9(r)?null:new n(t,r)}},{key:"makeFromTransform",value:function(t,e){var r=uft({},e),i=r.timeUnit,o=(0,I.Z)(r,oft),a=Srt(i),c=uft(uft({},o),{},{timeUnit:a});return new n(t,(0,V.Z)({},r9(c),c))}}]),n}(nft);function pft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pft(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gft(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return mft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mft(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function mft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yft="_tuple_fields",bft=(0,Lm.Z)((function t(){(0,Rm.Z)(this,t);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.items=n,this.hasChannel={},this.hasField={},this.hasSelectionId=!1})),xft={defined:function(){return!0},parse:function(t,e,n){var r,i,o,a=e.name,c=null!==(r=e.project)&&void 0!==r?r:e.project=new bft,l={},u={},s=new Set,f=function(t,e){for(var n="visual"===e?t.channel:t.field,r=w9("".concat(a,"_").concat(n)),i=1;s.has(r);i++)r=w9("".concat(a,"_").concat(n,"_").concat(i));return s.add(r),(0,V.Z)({},e,r)},h=e.type,d=t.config.selection[h],p=void 0!==n.value?bb(n.value):null,v=Yy(n.select)?n.select:{},g=v.fields,m=v.encodings;if(!g&&!m&&p){var y,b=gft(p);try{for(b.s();!(y=b.n()).done;){var x=y.value;if(Yy(x)){var w,S=gft(m9(x));try{for(S.s();!(w=S.n()).done;){var k,C=w.value;if(Ltt(C))(m||(m=[])).push(C);else if("interval"===h)$nt('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),m=d.encodings;else(null!==(k=g)&&void 0!==k?k:g=[]).push(C)}}catch(I){S.e(I)}finally{S.f()}}}}catch(I){b.e(I)}finally{b.f()}}g||m||(m=d.encodings,"fields"in d&&(g=d.fields));var O,E=gft(null!==(i=m)&&void 0!==i?i:[]);try{for(E.s();!(O=E.n()).done;){var M=O.value,A=t.fieldDef(M);if(A){var P=A.field;if(A.aggregate){$nt(knt(M,A.aggregate));continue}if(!P){$nt(Snt(M));continue}if(A.timeUnit&&!drt(A.timeUnit)){P=t.vgField(M);var _={timeUnit:A.timeUnit,as:P,field:A.field};u[r9(_)]=_}if(!l[P]){var D={field:P,channel:M,type:"interval"===h&&fet(M)&&oit(t.getScaleComponent(M).get("type"))?"R":A.bin?"R-RE":"E",index:c.items.length};D.signals=vft(vft({},f(D,"data")),f(D,"visual")),c.items.push(l[P]=D),c.hasField[P]=l[P],c.hasSelectionId=c.hasSelectionId||P===Zct,Att(M)?(D.geoChannel=M,D.channel=Mtt(M),c.hasChannel[D.channel]=l[P]):c.hasChannel[M]=l[P]}}else $nt(Snt(M))}}catch(I){E.e(I)}finally{E.f()}var T,Z=gft(null!==(o=g)&&void 0!==o?o:[]);try{for(Z.s();!(T=Z.n()).done;){var F=T.value;if(!c.hasField[F]){var j={type:"E",field:F,index:c.items.length};j.signals=vft({},f(j,"data")),c.items.push(j),c.hasField[F]=j,c.hasSelectionId=c.hasSelectionId||F===Zct}}}catch(I){Z.e(I)}finally{Z.f()}p&&(e.init=p.map((function(t){return c.items.map((function(e){return Yy(t)?void 0!==t[e.geoChannel||e.channel]?t[e.geoChannel||e.channel]:t[e.field]:t}))}))),g9(u)||(c.timeUnit=new dft(null,u))},signals:function(t,e,n){var r=e.name+yft,i=n.filter((function(t){return t.name===r}));return i.length>0||e.project.hasSelectionId?n:n.concat({name:r,value:e.project.items.map(Yst)})}},wft=xft;function Sft(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return kft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kft(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function kft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Cft={defined:function(t){return"interval"===t.type&&"global"===t.resolve&&t.bind&&"scales"===t.bind},parse:function(t,e){var n,r=e.scales=[],i=Sft(e.project.items);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.channel;if(fet(a)){var c=t.getScaleComponent(a),l=c?c.get("type"):void 0;c&&oit(l)?(c.set("selectionExtent",{param:e.name,field:o.field},!0),r.push(o)):$nt("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}}}catch(u){i.e(u)}finally{i.f()}},topLevelSignals:function(t,e,n){var r=e.scales.filter((function(t){return 0===n.filter((function(e){return e.name===t.signals.data})).length}));if(!t.parent||Mft(t)||0===r.length)return n;var i=n.filter((function(t){return t.name===e.name}))[0],o=i.update;if(o.indexOf(udt)>=0)i.update="{".concat(r.map((function(t){return"".concat(tx(A9(t.field)),": ").concat(t.signals.data)})).join(", "),"}");else{var a,c=Sft(r);try{for(c.s();!(a=c.n()).done;){var l=a.value,u="".concat(tx(A9(l.field)),": ").concat(l.signals.data);o.includes(u)||(o="".concat(o.substring(0,o.length-1),", ").concat(u,"}"))}}catch(s){c.e(s)}finally{c.f()}i.update=o}return n.concat(r.map((function(t){return{name:t.signals.data}})))},signals:function(t,e,n){if(t.parent&&!Mft(t)){var r,i=Sft(e.scales);try{var o=function(){var t=r.value,e=n.filter((function(e){return e.name===t.signals.data}))[0];e.push="outer",delete e.value,delete e.update};for(i.s();!(r=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}return n}},Oft=Cft;function Eft(t,e){var n=tx(t.scaleName(e));return"domain(".concat(n,")")}function Mft(t){var e;return t.parent&&syt(t.parent)&&(null!==(e=!t.parent.parent)&&void 0!==e?e:Mft(t.parent.parent))}var Aft=["fill","fillOpacity","cursor"];function Pft(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _ft(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function _ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dft(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Zft="_brush",Fft="_scale_trigger",jft="geo_interval_init_tick",Ift="_init",Rft={defined:function(t){return"interval"===t.type},parse:function(t,e,n){var r;if(t.hasProjection){var i=Tft({},Yy(n.select)?n.select:{});i.fields=[Zct],i.encodings||(i.encodings=n.value?m9(n.value):[ntt,ett]),n.select=Tft({type:"interval"},i)}if(e.translate&&!Oft.defined(e)){var o,a="!event.item || event.item.mark.name !== ".concat(tx(e.name+Zft)),c=Pft(e.events);try{for(c.s();!(o=c.n()).done;){var l,u=o.value;if(u.between){var s=bb(null!==(l=(r=u.between[0]).filter)&&void 0!==l?l:r.filter=[]);s.indexOf(a)<0&&s.push(a)}else $nt("".concat(u," is not an ordered event stream for interval selections."))}}catch(f){c.e(f)}finally{c.f()}}},signals:function(t,e,n){var r=e.name,i=r+cdt,o=y9(e.project.hasChannel).filter((function(t){return t.channel===V9||t.channel===G9})),a=e.init?e.init[0]:null;if(n.push.apply(n,(0,Xm.Z)(o.reduce((function(n,r){return n.concat(function(t,e,n,r){var i=!t.hasProjection,o=n.channel,a=n.signals.visual,c=tx(i?t.scaleName(o):t.projectionName()),l=function(t){return"scale(".concat(c,", ").concat(t,")")},u=t.getSizeSignalRef(o===V9?"width":"height").signal,s="".concat(o,"(unit)"),f=e.events.reduce((function(t,e){return[].concat((0,Xm.Z)(t),[{events:e.between[0],update:"[".concat(s,", ").concat(s,"]")},{events:e,update:"[".concat(a,"[0], clamp(").concat(s,", 0, ").concat(u,")]")}])}),[]);if(i){var h=n.signals.data,d=Oft.defined(e),p=t.getScaleComponent(o),v=p?p.get("type"):void 0,g=r?{init:$st(r,!0,l)}:{value:[]};return f.push({events:{signal:e.name+Fft},update:oit(v)?"[".concat(l("".concat(h,"[0]")),", ").concat(l("".concat(h,"[1]")),"]"):"[0, 0]"}),d?[{name:h,on:[]}]:[Tft(Tft({name:a},g),{},{on:f}),Tft(Tft({name:h},r?{init:$st(r)}:{}),{},{on:[{events:{signal:a},update:"".concat(a,"[0] === ").concat(a,"[1] ? null : invert(").concat(c,", ").concat(a,")")}]})]}var m=o===V9?0:1,y=e.name+Ift,b=r?{init:"[".concat(y,"[0][").concat(m,"], ").concat(y,"[1][").concat(m,"]]")}:{value:[]};return[Tft(Tft({name:a},b),{},{on:f})]}(t,e,r,a&&a[r.index]))}),[]))),t.hasProjection){var c=tx(t.projectionName()),l=t.projectionName()+"_center",u=e.project.hasChannel,s=u.x,f=u.y,h=s&&s.signals.visual,d=f&&f.signals.visual,p=s?a&&a[s.index]:"".concat(l,"[0]"),v=f?a&&a[f.index]:"".concat(l,"[1]"),g=function(e){return t.getSizeSignalRef(e).signal},m="["+"[".concat(h?h+"[0]":"0",", ").concat(d?d+"[0]":"0","],")+"[".concat(h?h+"[1]":g("width"),", ")+"".concat(d?d+"[1]":g("height"),"]")+"]";if(a&&(n.unshift({name:r+Ift,init:"[scale(".concat(c,", [").concat(s?p[0]:p,", ").concat(f?v[0]:v,"]), ")+"scale(".concat(c,", [").concat(s?p[1]:p,", ").concat(f?v[1]:v,"])]")}),!s||!f)){var y=n.find((function(t){return t.name===l}));y||n.unshift({name:l,update:"invert(".concat(c,", [").concat(g("width"),"/2, ").concat(g("height"),"/2])")})}var b="intersect(".concat(m,", {markname: ").concat(tx(t.getName("marks")),"}, unit.mark)"),x="{unit: ".concat(fdt(t),"}"),w="vlSelectionTuples(".concat(b,", ").concat(x,")"),S=o.map((function(t){return t.signals.visual}));return n.concat({name:i,on:[{events:[].concat((0,Xm.Z)(S.length?[{signal:S.join(" || ")}]:[]),(0,Xm.Z)(a?[{signal:jft}]:[])),update:w}]})}if(!Oft.defined(e)){var k=r+Fft,C=o.map((function(e){var n=e.channel,r=e.signals,i=r.data,o=r.visual,a=tx(t.scaleName(n)),c=oit(t.getScaleComponent(n).get("type"))?"+":"";return"(!isArray(".concat(i,") || ")+"(".concat(c,"invert(").concat(a,", ").concat(o,")[0] === ").concat(c).concat(i,"[0] && ")+"".concat(c,"invert(").concat(a,", ").concat(o,")[1] === ").concat(c).concat(i,"[1]))")}));C.length&&n.push({name:k,value:{},on:[{events:o.map((function(e){return{scale:t.scaleName(e.channel)}})),update:C.join(" && ")+" ? ".concat(k," : {}")}]})}var O=o.map((function(t){return t.signals.data})),E="unit: ".concat(fdt(t),", fields: ").concat(r+yft,", values");return n.concat(Tft(Tft({name:i},a?{init:"{".concat(E,": ").concat($st(a),"}")}:{}),O.length?{on:[{events:[{signal:O.join(" || ")}],update:"".concat(O.join(" && ")," ? {").concat(E,": [").concat(O,"]} : null")}]}:{}))},topLevelSignals:function(t,e,n){if(cyt(t)&&t.hasProjection&&e.init){var r=n.filter((function(t){return t.name===jft}));r.length||n.unshift({name:jft,value:null,on:[{events:"timer{1}",update:"".concat(jft," === null ? {} : ").concat(jft)}]})}return n},marks:function(t,e,n){var r=e.name,i=e.project.hasChannel,o=i.x,a=i.y,c=null==o?void 0:o.signals.visual,l=null==a?void 0:a.signals.visual,u="data(".concat(tx(e.name+adt),")");if(Oft.defined(e)||!o&&!a)return n;var s={x:void 0!==o?{signal:"".concat(c,"[0]")}:{value:0},y:void 0!==a?{signal:"".concat(l,"[0]")}:{value:0},x2:void 0!==o?{signal:"".concat(c,"[1]")}:{field:{group:"width"}},y2:void 0!==a?{signal:"".concat(l,"[1]")}:{field:{group:"height"}}};if("global"===e.resolve){var f,h=Pft(m9(s));try{for(h.s();!(f=h.n()).done;){var d=f.value;s[d]=[Tft({test:"".concat(u,".length && ").concat(u,"[0].unit === ").concat(fdt(t))},s[d]),{value:0}]}}catch(x){h.e(x)}finally{h.f()}}var p=e.mark,v=p.fill,g=p.fillOpacity,m=p.cursor,y=(0,I.Z)(p,Aft),b=m9(y).reduce((function(t,e){return t[e]=[{test:[void 0!==o&&"".concat(c,"[0] !== ").concat(c,"[1]"),void 0!==a&&"".concat(l,"[0] !== ").concat(l,"[1]")].filter((function(t){return t})).join(" && "),value:y[e]},{value:null}],t}),{});return[{name:"".concat(r+Zft,"_bg"),type:"rect",clip:!0,encode:{enter:{fill:{value:v},fillOpacity:{value:g}},update:s}}].concat((0,Xm.Z)(n),[{name:r+Zft,type:"rect",clip:!0,encode:{enter:Tft(Tft({},m?{cursor:{value:m}}:{}),{},{fill:{value:"transparent"}}),update:Tft(Tft({},s),b)}}])}},Lft=Rft;var Nft={defined:function(t){return"point"===t.type},signals:function(t,e,n){var r,i=e.name,o=i+yft,a=e.project,c="(item().isVoronoi ? datum.datum : datum)",l=y9(null!==(r=t.component.selection)&&void 0!==r?r:{}).reduce((function(t,e){return"interval"===e.type?t.concat(e.name+Zft):t}),[]).map((function(t){return"indexof(item().mark.name, '".concat(t,"') < 0")})).join(" && "),u="datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0".concat(l?" && ".concat(l):""),s="unit: ".concat(fdt(t),", ");if(e.project.hasSelectionId)s+="".concat(Zct,": ").concat(c,"[").concat(tx(Zct),"]");else{var f=a.items.map((function(e){var n=t.fieldDef(e.channel);return null!=n&&n.bin?"[".concat(c,"[").concat(tx(t.vgField(e.channel,{})),"], ")+"".concat(c,"[").concat(tx(t.vgField(e.channel,{binSuffix:"end"})),"]]"):"".concat(c,"[").concat(tx(e.field),"]")})).join(", ");s+="fields: ".concat(o,", values: [").concat(f,"]")}var h=e.events;return n.concat([{name:i+cdt,on:h?[{events:h,update:"".concat(u," ? {").concat(s,"} : null"),force:!0}]:[]}])}},Bft=Nft;function zft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Uft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zft(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Hft(t,e,n,r){var i=Mot(e)&&e.condition,o=r(e);if(i){var a=bb(i).map((function(e){var n=r(e);if(function(t){return t.param}(e)){var i=e.param,o=e.empty;return Uft({test:kdt(t,{param:i,empty:o})},n)}return Uft({test:Odt(t,e.test)},n)}));return(0,V.Z)({},n,[].concat((0,Xm.Z)(a),(0,Xm.Z)(void 0!==o?[o]:[])))}return void 0!==o?(0,V.Z)({},n,o):{}}function Wft(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=t.encoding[e];return Hft(t,n,e,(function(e){return Vft(e,t.config)}))}function Vft(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"datum";if(t){if(Lot(t))return rnt(t.value);if(Iot(t)){var r=Jot(t);return Jit({fieldOrDatumDef:t,format:r.format,formatType:r.formatType,expr:n,config:e})}}}n(27207);function Gft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gft(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qft(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.encoding,r=t.markDef,i=t.config,o=t.stack,a=n.tooltip;if(qy(a))return{tooltip:$ft({tooltip:a},o,i,e)};var c=e.reactiveGeom?"datum.datum":"datum";return Hft(t,a,"tooltip",(function(t){var a=Vft(t,i,c);if(a)return a;if(null!==t){var l=lnt("tooltip",r,i);return!0===l&&(l={content:"encoding"}),Vb(l)?{value:l}:Yy(l)?zet(l)?l:"encoding"===l.content?$ft(n,o,i,e):{signal:c}:void 0}}))}function Yft(t,e,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).reactiveGeom,i=Xft(Xft({},n),n.tooltipFormat),o={},a=r?"datum.datum":"datum",c=[];function l(n,r){var l,u,s=Utt(r),f=Rot(n)?n:Xft(Xft({},n),{},{type:t[s].type}),h=bb(f.title||Kot(f,i)).join(", ").replaceAll(/"/g,'\\"');if(tet(r)){var d="x"===r?"x2":"y2",p=Qot(t[d]);if(Aet(f.bin)&&p){var v=Wot(f,{expr:a}),g=Wot(p,{expr:a}),m=Jot(f);u=aot(v,g,m.format,m.formatType,i),o[d]=!0}}if((tet(r)||r===Q9||r===K9)&&e&&e.fieldChannel===r&&"normalize"===e.offset){var y=Jot(f);u=Jit({fieldOrDatumDef:f,format:y.format,formatType:y.formatType,expr:a,config:i,normalizeStack:!0}).signal}null!==(l=u)&&void 0!==l||(u=Vft(f,i,a).signal),c.push({channel:r,key:h,value:u})}Fat(t,(function(t,e){_ot(t)?l(t,e):Aot(t)&&l(t.condition,e)}));for(var u={},s=0,f=c;s<f.length;s++){var h=f[s],d=h.channel,p=h.key,v=h.value;o[d]||u[p]||(u[p]=v)}return u}function $ft(t,e,n){var r=Yft(t,e,n,{reactiveGeom:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).reactiveGeom}),i=b9(r).map((function(t){var e=(0,G.Z)(t,2),n=e[0],r=e[1];return'"'.concat(n,'": ').concat(r)}));return i.length>0?{signal:"{".concat(i.join(", "),"}")}:void 0}function Kft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kft(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qft(t){var e=lnt("aria",t.markDef,t.config);return!1===e?{}:Jft(Jft(Jft({},e?{aria:e}:{}),function(t){var e=t.mark,n=t.markDef,r=t.config;if(!1===r.aria)return{};var i=lnt("ariaRoleDescription",n,r);if(null!=i)return{ariaRoleDescription:{value:i}};return e in Vet?{}:{ariaRoleDescription:{value:e}}}(t)),function(t){var e=t.encoding,n=t.markDef,r=t.config,i=t.stack,o=e.description;if(o)return Hft(t,o,"description",(function(e){return Vft(e,t.config)}));var a=lnt("description",n,r);if(null!=a)return{description:rnt(a)};if(!1===r.aria)return{};var c=Yft(e,i,r);if(g9(c))return;return{description:{signal:b9(c).map((function(t,e){var n=(0,G.Z)(t,2),r=n[0],i=n[1];return'"'.concat(e>0?"; ":"").concat(r,': " + (').concat(i,")")})).join(" + ")}}}(t))}function tht(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.markDef,o=e.encoding,a=e.config,c=r.vgChannel,l=r.defaultRef,u=r.defaultValue;void 0===l&&(null!==(n=u)&&void 0!==n||(u=lnt(t,i,a,{vgChannel:c,ignoreVgConfig:!0})),void 0!==u&&(l=rnt(u)));var s=o[t];return Hft(e,s,null!=c?c:t,(function(n){return Xit({channel:t,channelDef:n,markDef:i,config:a,scaleName:e.scaleName(t),scale:e.getScaleComponent(t),stack:null,defaultRef:l})}))}function eht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eht(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rht(t){var e,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filled:void 0},a=t.markDef,c=t.encoding,l=t.config,u=a.type,s=null!==(e=o.filled)&&void 0!==e?e:lnt("filled",a,l),f=o9(["bar","point","circle","square","geoshape"],u)?"transparent":void 0,h=null!==(n=null!==(r=lnt(!0===s?"color":void 0,a,l,{vgChannel:"fill"}))&&void 0!==r?r:l.mark[!0===s&&"color"])&&void 0!==n?n:f,d=null!==(i=lnt(!1===s?"color":void 0,a,l,{vgChannel:"stroke"}))&&void 0!==i?i:l.mark[!1===s&&"color"],p=s?"fill":"stroke",v=nht(nht({},h?{fill:rnt(h)}:{}),d?{stroke:rnt(d)}:{});return a.color&&(s?a.fill:a.stroke)&&$nt(Dnt("property",{fill:"fill"in a,stroke:"stroke"in a})),nht(nht(nht(nht({},v),tht("color",t,{vgChannel:p,defaultValue:s?h:d})),tht("fill",t,{defaultValue:c.fill?h:void 0})),tht("stroke",t,{defaultValue:c.stroke?d:void 0}))}function iht(t){var e=t.channel,n=t.markDef,r=t.encoding,i=void 0===r?{}:r,o=t.model,a=t.bandPosition,c="".concat(e,"Offset"),l=n[c],u=i[c];if(("xOffset"===c||"yOffset"===c)&&u)return{offsetType:"encoding",offset:Xit({channel:c,channelDef:u,markDef:n,config:null==o?void 0:o.config,scaleName:o.scaleName(c),scale:o.getScaleComponent(c),stack:null,defaultRef:rnt(l),bandPosition:a})};var s=n[c];return s?{offsetType:"visual",offset:s}:{}}function oht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function aht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oht(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cht(t,e,n){var r=n.defaultPos,i=n.vgChannel,o=e.encoding,a=e.markDef,c=e.config,l=e.stack,u=o[t],s=o[Wtt(t)],f=e.scaleName(t),h=e.getScaleComponent(t),d=iht({channel:t,markDef:a,encoding:o,model:e,bandPosition:.5}),p=d.offset,v=d.offsetType,g=lht({model:e,defaultPos:r,channel:t,scaleName:f,scale:h}),m=!u&&tet(t)&&(o.latitude||o.longitude)?{field:e.getName(t)}:function(t){var e=t.channel,n=t.channelDef,r=t.scaleName,i=t.stack,o=t.offset,a=t.markDef;if(Iot(n)&&i&&e===i.fieldChannel){if(_ot(n)){var c=n.bandPosition;if(void 0!==c||"text"!==a.type||"radius"!==e&&"theta"!==e||(c=.5),void 0!==c)return Git({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:c,offset:o})}return Vit(n,r,{suffix:"end"},{offset:o})}return Uit(t)}({channel:t,channelDef:u,channel2Def:s,markDef:a,config:c,scaleName:f,scale:h,stack:l,offset:p,defaultRef:g,bandPosition:"encoding"===v?0:void 0});return m?(0,V.Z)({},i||t,m):void 0}function lht(t){var e=t.model,n=t.defaultPos,r=t.channel,i=t.scaleName,o=t.scale,a=e.markDef,c=e.config;return function(){var t=Utt(r),l=Htt(r),u=lnt(r,a,c,{vgChannel:l});if(void 0!==u)return qit(r,u);switch(n){case"zeroOrMin":case"zeroOrMax":if(i){var s=o.get("type");if(o9([Xrt.LOG,Xrt.TIME,Xrt.UTC],s));else if(o.domainDefinitelyIncludesZero())return{scale:i,value:0}}if("zeroOrMin"===n)return"y"===t?{field:{group:"height"}}:{value:0};switch(t){case"radius":return{signal:"min(".concat(e.width.signal,",").concat(e.height.signal,")/2")};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return aht(aht({},e[Vtt(r)]),{},{mult:.5})}}}var uht={left:"x",center:"xc",right:"x2"},sht={top:"y",middle:"yc",bottom:"y2"};function fht(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===t||"theta"===t)return Htt(t);var i,o="x"===t?"align":"baseline",a=lnt(o,e,n);return zet(a)?($nt(function(t){return"The ".concat(t," for range marks cannot be an expression")}(o)),i=void 0):i=a,"x"===t?uht[i||("top"===r?"left":"center")]:sht[i||r]}function hht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hht(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pht(t,e,n){var r=n.defaultPos,i=n.defaultPos2;return n.range?vht(t,e,{defaultPos:r,defaultPos2:i}):cht(t,e,{defaultPos:r})}function vht(t,e,n){var r=n.defaultPos,i=n.defaultPos2,o=e.markDef,a=e.config,c=Wtt(t),l=Vtt(t),u=function(t,e,n){var r,i=t.encoding,o=t.mark,a=t.markDef,c=t.stack,l=t.config,u=Utt(n),s=Vtt(n),f=Htt(n),h=i[u],d=t.scaleName(u),p=t.getScaleComponent(u),v=iht(n in i||n in a?{channel:n,markDef:a,encoding:i,model:t}:{channel:u,markDef:a,encoding:i,model:t}),g=v.offset;if(!h&&("x2"===n||"y2"===n)&&(i.latitude||i.longitude)){var m=Vtt(n),y=t.markDef[m];return null!=y?(0,V.Z)({},m,{value:y}):(0,V.Z)({},f,{field:t.getName(n)})}var b=function(t){var e=t.channel,n=t.channelDef,r=t.channel2Def,i=t.markDef,o=t.config,a=t.scaleName,c=t.scale,l=t.stack,u=t.offset,s=t.defaultRef;if(Iot(n)&&l&&e.charAt(0)===l.fieldChannel.charAt(0))return Vit(n,a,{suffix:"start"},{offset:u});return Uit({channel:e,channelDef:r,scaleName:a,scale:c,stack:l,markDef:i,config:o,offset:u,defaultRef:s})}({channel:n,channelDef:h,channel2Def:i[n],markDef:a,config:l,scaleName:d,scale:p,stack:c,offset:g,defaultRef:void 0});if(void 0!==b)return(0,V.Z)({},f,b);return ght(n,a)||ght(n,(r={},(0,V.Z)(r,n,snt(n,a,l.style)),(0,V.Z)(r,s,snt(s,a,l.style)),r))||ght(n,l[o])||ght(n,l.mark)||(0,V.Z)({},f,lht({model:t,defaultPos:e,channel:n,scaleName:d,scale:p})())}(e,i,c);return dht(dht({},cht(t,e,{defaultPos:r,vgChannel:u[l]?fht(t,o,a):Htt(t)})),u)}function ght(t,e){var n=Vtt(t),r=Htt(t);if(void 0!==e[r])return(0,V.Z)({},r,qit(t,e[r]));if(void 0!==e[t])return(0,V.Z)({},r,qit(t,e[t]));if(e[n]){var i=e[n];if(!Iit(i))return(0,V.Z)({},n,qit(t,i));$nt(function(t){return"Position range does not support relative band size for ".concat(t,".")}(n))}}function mht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mht(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bht(t,e){var n,r,i=t.config,o=t.encoding,a=t.markDef,c=a.type,l=Wtt(e),u=Vtt(e),s=o[e],f=o[l],h=t.getScaleComponent(e),d=h?h.get("type"):void 0,p=a.orient,v=null!==(n=null!==(r=o[u])&&void 0!==r?r:o.size)&&void 0!==n?n:lnt("size",a,i,{vgChannel:u}),g=Gtt(e),m="bar"===c&&("x"===e?"vertical"===p:"horizontal"===p);return!_ot(s)||!(Met(s.bin)||Aet(s.bin)||s.timeUnit&&!f)||v&&!Iit(v)||o[g]||iit(d)?(Iot(s)&&iit(d)||m)&&!f?function(t,e,n){var r,i=n.markDef,o=n.encoding,a=n.config,c=n.stack,l=i.orient,u=n.scaleName(e),s=n.getScaleComponent(e),f=Vtt(e),h=Wtt(e),d=Gtt(e),p=n.scaleName(d),v=n.getScaleComponent(Xtt(e)),g="horizontal"===l&&"y"===e||"vertical"===l&&"x"===e;(o.size||i.size)&&(g?r=tht("size",n,{vgChannel:f,defaultRef:rnt(i.size)}):$nt(function(t){return'Cannot apply size to non-oriented mark "'.concat(t,'".')}(i.type)));var m=!!r,y=Cot({channel:e,fieldDef:t,markDef:i,config:a,scaleType:null==s?void 0:s.get("type"),useVlSizeChannel:g});r=r||(0,V.Z)({},f,function(t,e,n,r,i,o,a){if(Iit(i)){if(!n)return{mult:i.band,field:{group:t}};var c=n.get("type");if("band"===c){var l="bandwidth('".concat(e,"')");1!==i.band&&(l="".concat(i.band," * ").concat(l));var u=unt("minBandSize",{type:a},r);return{signal:u?"max(".concat(ant(u),", ").concat(l,")"):l}}1!==i.band&&($nt(function(t){return"Cannot use the relative band size with ".concat(t," scale.")}(c)),i=void 0)}else{if(zet(i))return i;if(i)return{value:i}}if(n){var s=n.get("range");if(Uet(s)&&Hb(s.step))return{value:s.step-2}}if(!o){var f=r.scale,h=f.bandPaddingInner,d=f.barBandPaddingInner,p=f.rectBandPaddingInner,v=T9(h,"bar"===a?d:p);if(zet(v))return{signal:"(1 - (".concat(v.signal,")) * ").concat(t)};if(Hb(v))return{signal:"".concat(1-v," * ").concat(t)}}var g=olt(r.view,t);return{value:g-2}}(f,p||u,v||s,a,y,!!t,i.type));var b="band"===(null==s?void 0:s.get("type"))&&Iit(y)&&!m?"top":"middle",x=fht(e,i,a,b),w="xc"===x||"yc"===x,S=iht({channel:e,markDef:i,encoding:o,model:n,bandPosition:w?.5:0}),k=S.offset,C=S.offsetType,O=Uit({channel:e,channelDef:t,markDef:i,config:a,scaleName:u,scale:s,stack:c,offset:k,defaultRef:lht({model:n,defaultPos:"mid",channel:e,scaleName:u,scale:s}),bandPosition:w?"encoding"===C?0:.5:zet(y)?{signal:"(1-".concat(y,")/2")}:Iit(y)?(1-y.band)/2:0});if(f)return yht((0,V.Z)({},x,O),r);var E,M=Htt(h),A=r[f],P=k?yht(yht({},A),{},{offset:k}):A;return E={},(0,V.Z)(E,x,O),(0,V.Z)(E,M,qy(O)?[O[0],yht(yht({},O[1]),{},{offset:P})]:yht(yht({},O),{},{offset:P})),E}(s,e,t):vht(e,t,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"}):function(t){var e,n,r,i,o=t.fieldDef,a=t.fieldDef2,c=t.channel,l=t.model,u=l.config,s=l.markDef,f=l.encoding,h=l.getScaleComponent(c),d=l.scaleName(c),p=h?h.get("type"):void 0,v=h.get("reverse"),g=Cot({channel:c,fieldDef:o,markDef:s,config:u,scaleType:p}),m=null===(e=l.component.axes[c])||void 0===e?void 0:e[0],y=null!==(n=null==m?void 0:m.get("translate"))&&void 0!==n?n:.5,b=tet(c)&&null!==(r=lnt("binSpacing",s,u))&&void 0!==r?r:0,x=Wtt(c),w=Htt(c),S=Htt(x),k=unt("minBandSize",s,u),C=iht({channel:c,markDef:s,encoding:f,model:l,bandPosition:0}),O=C.offset,E=iht({channel:x,markDef:s,encoding:f,model:l,bandPosition:0}),M=E.offset,A=function(t){var e=t.scaleName,n=t.fieldDef,r=Wot(n,{expr:"datum"}),i=Wot(n,{expr:"datum",suffix:"end"});return'abs(scale("'.concat(e,'", ').concat(i,') - scale("').concat(e,'", ').concat(r,"))")}({fieldDef:o,scaleName:d}),P=xht(c,b,v,y,O,k,A),_=xht(x,b,v,y,null!=M?M:O,k,A),D=zet(g)?{signal:"(1-".concat(g.signal,")/2")}:Iit(g)?(1-g.band)/2:.5;if(Met(o.bin)||o.timeUnit)return i={},(0,V.Z)(i,S,wht({fieldDef:o,scaleName:d,bandPosition:D,offset:_})),(0,V.Z)(i,w,wht({fieldDef:o,scaleName:d,bandPosition:zet(D)?{signal:"1-".concat(D.signal)}:1-D,offset:P})),i;if(Aet(o.bin)){var T,Z,F=Vit(o,d,{},{offset:_});if(_ot(a))return T={},(0,V.Z)(T,S,F),(0,V.Z)(T,w,Vit(a,d,{},{offset:P})),T;if(Pet(o.bin)&&o.bin.step)return Z={},(0,V.Z)(Z,S,F),(0,V.Z)(Z,w,{signal:'scale("'.concat(d,'", ').concat(Wot(o,{expr:"datum"})," + ").concat(o.bin.step,")"),offset:P}),Z}return void $nt(Gnt(x))}({fieldDef:s,fieldDef2:f,channel:e,model:t})}function xht(t,e,n,r,i,o,a){if(Ott(t))return 0;var c="x"===t||"y2"===t,l=c?-e/2:e/2;if(zet(n)||zet(i)||zet(r)||o){var u=ant(n),s=ant(i),f=ant(r),h=ant(o),d=c?"":"-",p=o?"(".concat(a," < ").concat(h," ? ").concat(d,"0.5 * (").concat(h," - (").concat(a,")) : ").concat(l,")"):l;return{signal:(f?"".concat(f," + "):"")+(u?"(".concat(u," ? -1 : 1) * "):"")+(s?"(".concat(s," + ").concat(p,")"):p)}}return i=i||0,r+(n?-i-l:+i+l)}function wht(t){var e=t.fieldDef;return Git({scaleName:t.scaleName,fieldOrDatumDef:e,bandPosition:t.bandPosition,offset:t.offset})}function Sht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sht(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Cht=new Set(["aria","width","height"]);function Oht(t,e){var n="include"===e.color?rht(t):{},r=n.fill,i=void 0===r?void 0:r,o=n.stroke,a=void 0===o?void 0:o;return kht(kht(kht(kht(kht(kht(kht(kht(kht(kht(kht(kht({},function(t,e){return Wet.reduce((function(n,r){return Cht.has(r)||void 0===t[r]||"ignore"===e[r]||(n[r]=rnt(t[r])),n}),{})}(t.markDef,e)),Eht(t,"fill",i)),Eht(t,"stroke",a)),tht("opacity",t)),tht("fillOpacity",t)),tht("strokeOpacity",t)),tht("strokeWidth",t)),tht("strokeDash",t)),function(t){var e=t.encoding,n=t.mark,r=e.order;return!Pit(n)&&Lot(r)?Hft(t,r,"zindex",(function(t){return rnt(t.value)})):{}}(t)),qft(t)),Wft(t,"href")),Qft(t))}function Eht(t,e,n){var r=t.config,i=t.mark;if("hide"===lnt("invalid",t.markDef,r)&&n&&!Pit(i)){var o=function(t,e){var n=e.invalid,r=void 0!==n&&n,i=e.channels.reduce((function(e,n){var r=t.getScaleComponent(n);if(r){var i=r.get("type"),o=t.vgField(n,{expr:"datum"});o&&oit(i)&&(e[o]=!0)}return e}),{}),o=m9(i);if(o.length>0){var a=r?"||":"&&";return o.map((function(t){return Wit(t,r)})).join(" ".concat(a," "))}return}(t,{invalid:!0,channels:set});if(o)return(0,V.Z)({},e,[{test:o,value:null}].concat((0,Xm.Z)(bb(n))))}return n?(0,V.Z)({},e,n):{}}function Mht(t){var e=t.config;if(lnt("invalid",t.markDef,e)){var n=function(t,e){var n=e.invalid,r=void 0!==n&&n,i=e.channels.reduce((function(e,n){var r=t.getScaleComponent(n);if(r){var i,o=r.get("type"),a=t.vgField(n,{expr:"datum",binSuffix:null!==(i=t.stack)&&void 0!==i&&i.impute?"mid":void 0});a&&oit(o)&&(e[a]=!0)}return e}),{}),o=m9(i);if(o.length>0){var a=r?"||":"&&";return o.map((function(t){return Wit(t,r)})).join(" ".concat(a," "))}return}(t,{channels:Qtt});if(n)return{defined:{signal:n}}}return{}}function Aht(t,e){if(void 0!==e)return(0,V.Z)({},t,rnt(e))}function Pht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pht(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Dht(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Tht(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tht(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Tht(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zht="voronoi",Fht={defined:function(t){return"point"===t.type&&t.nearest},parse:function(t,e){if(e.events){var n,r=Dht(e.events);try{for(r.s();!(n=r.n()).done;){n.value.markname=t.getName(Zht)}}catch(i){r.e(i)}finally{r.f()}}},marks:function(t,e,n){var r=e.project.hasChannel,i=r.x,o=r.y,a=t.mark;if(Pit(a))return $nt('The "nearest" transform is not supported for '.concat(a," marks.")),n;var c={name:t.getName(Zht),type:"path",interactive:!0,from:{data:t.getName("marks")},encode:{update:_ht({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},qft(t,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:i||!o?"datum.datum.x || 0":"0"},y:{expr:o||!i?"datum.datum.y || 0":"0"},size:[t.getSizeSignalRef("width"),t.getSizeSignalRef("height")]}]},l=0,u=!1;return n.forEach((function(e,n){var r,i=null!==(r=e.name)&&void 0!==r?r:"";i===t.component.mark[0].name?l=n:i.indexOf(Zht)>=0&&(u=!0)})),u||n.splice(l+1,0,c),n}},jht=Fht;function Iht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Iht(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Lht={defined:function(t){return"point"===t.type&&"global"===t.resolve&&t.bind&&"scales"!==t.bind&&!jct(t.bind)},parse:function(t,e,n){return ddt(e,n)},topLevelSignals:function(t,e,n){var r=e.name,i=e.project,o=e.bind,a=e.init&&e.init[0],c=jht.defined(e)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((function(t,i){var l,u,s=w9("".concat(r,"_").concat(t.field)),f=n.filter((function(t){return t.name===s}));f.length||n.unshift(Rht(Rht({name:s},a?{init:$st(a[i])}:{value:null}),{},{on:e.events?[{events:e.events,update:"datum && item().mark.marktype !== 'group' ? ".concat(c,"[").concat(tx(t.field),"] : null")}]:[],bind:null!==(l=null!==(u=o[t.field])&&void 0!==u?u:o[t.channel])&&void 0!==l?l:o}))})),n},signals:function(t,e,n){var r=e.name,i=e.project,o=n.filter((function(t){return t.name===r+cdt}))[0],a=r+yft,c=i.items.map((function(t){return w9("".concat(r,"_").concat(t.field))})),l=c.map((function(t){return"".concat(t," !== null")})).join(" && ");return c.length&&(o.update="".concat(l," ? {fields: ").concat(a,", values: [").concat(c.join(", "),"]} : null")),delete o.value,delete o.on,n}},Nht=Lht,Bht="_toggle",zht={defined:function(t){return"point"===t.type&&!!t.toggle},signals:function(t,e,n){return n.concat({name:e.name+Bht,value:!1,on:[{events:e.events,update:e.toggle}]})},modifyExpr:function(t,e){var n=e.name+cdt,r=e.name+Bht;return"".concat(r," ? null : ").concat(n,", ")+("global"===e.resolve?"".concat(r," ? null : true, "):"".concat(r," ? null : {unit: ").concat(fdt(t),"}, "))+"".concat(r," ? ").concat(n," : null")}};function Uht(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Hht(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hht(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Hht(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wht={defined:function(t){return void 0!==t.clear&&!1!==t.clear},parse:function(t,e){e.clear&&(e.clear=Vb(e.clear)?t3(e.clear,"view"):e.clear)},topLevelSignals:function(t,e,n){if(Nht.defined(e)){var r,i=Uht(e.project.items);try{var o=function(){var t=r.value,i=n.findIndex((function(n){return n.name===w9("".concat(e.name,"_").concat(t.field))}));-1!==i&&n[i].on.push({events:e.clear,update:"null"})};for(i.s();!(r=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}return n},signals:function(t,e,n){function r(t,r){-1!==t&&n[t].on&&n[t].on.push({events:e.clear,update:r})}if("interval"===e.type){var i,o=Uht(e.project.items);try{var a=function(){var t=i.value,e=n.findIndex((function(e){return e.name===t.signals.visual}));(r(e,"[0, 0]"),-1===e)&&r(n.findIndex((function(e){return e.name===t.signals.data})),"null")};for(o.s();!(i=o.n()).done;)a()}catch(l){o.e(l)}finally{o.f()}}else{var c=n.findIndex((function(t){return t.name===e.name+cdt}));r(c,"null"),zht.defined(e)&&r(c=n.findIndex((function(t){return t.name===e.name+Bht})),"false")}return n}};function Vht(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ght(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ght(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Ght(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xht(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Yht={defined:function(t){var e="global"===t.resolve&&t.bind&&jct(t.bind),n=1===t.project.items.length&&t.project.items[0].field!==Zct;return e&&!n&&$nt("Legend bindings are only supported for selections over an individual field or encoding channel."),e&&n},parse:function(t,e,n){var r=J7(n);if(r.select=Vb(r.select)?{type:r.select,toggle:e.toggle}:qht(qht({},r.select),{},{toggle:e.toggle}),ddt(e,r),Yy(n.select)&&(n.select.on||n.select.clear)){var i,o='event.item && indexof(event.item.mark.role, "legend") < 0',a=Vht(e.events);try{for(a.s();!(i=a.n()).done;){var c,l=i.value;l.filter=bb(null!==(c=l.filter)&&void 0!==c?c:[]),l.filter.includes(o)||l.filter.push(o)}}catch(f){a.e(f)}finally{a.f()}}var u=Ict(e.bind)?e.bind.legend:"click",s=Vb(u)?t3(u,"view"):bb(u);e.bind={legend:{merge:s}}},topLevelSignals:function(t,e,n){var r,i=e.name,o=Ict(e.bind)&&e.bind.legend,a=function(t){return function(e){var n=J7(e);return n.markname=t,n}},c=Vht(e.project.items);try{var l=function(){var t=r.value;if(!t.hasLegend)return"continue";var c="".concat(w9(t.field),"_legend"),l="".concat(i,"_").concat(c),u=n.filter((function(t){return t.name===l}));if(0===u.length){var s=o.merge.map(a("".concat(c,"_symbols"))).concat(o.merge.map(a("".concat(c,"_labels")))).concat(o.merge.map(a("".concat(c,"_entries"))));n.unshift(qht(qht({name:l},e.init?{}:{value:null}),{},{on:[{events:s,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:o.merge,update:"!event.item || !datum ? null : ".concat(l),force:!0}]}))}};for(c.s();!(r=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}return n},signals:function(t,e,n){var r=e.name,i=e.project,o=n.find((function(t){return t.name===r+cdt})),a=r+yft,c=i.items.filter((function(t){return t.hasLegend})).map((function(t){return w9("".concat(r,"_").concat(w9(t.field),"_legend"))})),l=c.map((function(t){return"".concat(t," !== null")})).join(" && "),u="".concat(l," ? {fields: ").concat(a,", values: [").concat(c.join(", "),"]} : null");e.events&&c.length>0?o.on.push({events:c.map((function(t){return{signal:t}})),update:u}):c.length>0&&(o.update=u,delete o.value,delete o.on);var s=n.find((function(t){return t.name===r+Bht})),f=Ict(e.bind)&&e.bind.legend;return s&&(e.events?s.on.push(qht(qht({},s.on[0]),{},{events:f})):s.on[0].events=f),n}};var $ht="_translate_anchor",Kht="_translate_delta",Jht={defined:function(t){return"interval"===t.type&&t.translate},signals:function(t,e,n){var r=e.name,i=Oft.defined(e),o=r+$ht,a=e.project.hasChannel,c=a.x,l=a.y,u=t3(e.translate,"scope");return i||(u=u.map((function(t){return t.between[0].markname=r+Zft,t}))),n.push({name:o,value:{},on:[{events:u.map((function(t){return t.between[0]})),update:"{x: x(unit), y: y(unit)"+(void 0!==c?", extent_x: ".concat(i?Eft(t,V9):"slice(".concat(c.signals.visual,")")):"")+(void 0!==l?", extent_y: ".concat(i?Eft(t,G9):"slice(".concat(l.signals.visual,")")):"")+"}"}]},{name:r+Kht,value:{},on:[{events:u,update:"{x: ".concat(o,".x - x(unit), y: ").concat(o,".y - y(unit)}")}]}),void 0!==c&&Qht(t,e,c,"width",n),void 0!==l&&Qht(t,e,l,"height",n),n}};function Qht(t,e,n,r,i){var o,a,c=e.name,l=c+$ht,u=c+Kht,s=n.channel,f=Oft.defined(e),h=i.filter((function(t){return t.name===n.signals[f?"data":"visual"]}))[0],d=t.getSizeSignalRef(r).signal,p=t.getScaleComponent(s),v=p&&p.get("type"),g=p&&p.get("reverse"),m=f?s===V9?g?"":"-":g?"-":"":"",y="".concat(l,".extent_").concat(s),b="".concat(m).concat(u,".").concat(s," / ").concat(f?"".concat(d):"span(".concat(y,")")),x=f&&p?"log"===v?"panLog":"symlog"===v?"panSymlog":"pow"===v?"panPow":"panLinear":"panLinear",w=f?"pow"===v?", ".concat(null!==(o=p.get("exponent"))&&void 0!==o?o:1):"symlog"===v?", ".concat(null!==(a=p.get("constant"))&&void 0!==a?a:1):"":"",S="".concat(x,"(").concat(y,", ").concat(b).concat(w,")");h.on.push({events:{signal:u},update:f?S:"clampRange(".concat(S,", 0, ").concat(d,")")})}var tdt="_zoom_anchor",edt="_zoom_delta",ndt={defined:function(t){return"interval"===t.type&&t.zoom},signals:function(t,e,n){var r=e.name,i=Oft.defined(e),o=r+edt,a=e.project.hasChannel,c=a.x,l=a.y,u=tx(t.scaleName(V9)),s=tx(t.scaleName(G9)),f=t3(e.zoom,"scope");return i||(f=f.map((function(t){return t.markname=r+Zft,t}))),n.push({name:r+tdt,on:[{events:f,update:i?"{"+[u?"x: invert(".concat(u,", x(unit))"):"",s?"y: invert(".concat(s,", y(unit))"):""].filter((function(t){return t})).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==c&&rdt(t,e,c,"width",n),void 0!==l&&rdt(t,e,l,"height",n),n}};function rdt(t,e,n,r,i){var o,a,c=e.name,l=n.channel,u=Oft.defined(e),s=i.filter((function(t){return t.name===n.signals[u?"data":"visual"]}))[0],f=t.getSizeSignalRef(r).signal,h=t.getScaleComponent(l),d=h&&h.get("type"),p=u?Eft(t,l):s.name,v=c+edt,g="".concat(c).concat(tdt,".").concat(l),m=u&&h?"log"===d?"zoomLog":"symlog"===d?"zoomSymlog":"pow"===d?"zoomPow":"zoomLinear":"zoomLinear",y=u?"pow"===d?", ".concat(null!==(o=h.get("exponent"))&&void 0!==o?o:1):"symlog"===d?", ".concat(null!==(a=h.get("constant"))&&void 0!==a?a:1):"":"",b="".concat(m,"(").concat(p,", ").concat(g,", ").concat(v).concat(y,")");s.on.push({events:{signal:v},update:u?b:"clampRange(".concat(b,", 0, ").concat(f,")")})}function idt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return odt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return odt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function odt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var adt="_store",cdt="_tuple",ldt="_modify",udt="vlSelectionResolve",sdt=[Bft,Lft,wft,zht,Nht,Oft,Yht,Wht,Jht,ndt,jht];function fdt(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escape:!0}).escape?tx(t.name):t.name,n=function(t){for(var e=t.parent;e&&!lyt(e);)e=e.parent;return e}(t);if(n){var r,i=n.facet,o=idt(Ztt);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]&&(e+=" + '__facet_".concat(a,"_' + (facet[").concat(tx(n.vgField(a)),"])"))}}catch(c){o.e(c)}finally{o.f()}}return e}function hdt(t){var e;return y9(null!==(e=t.component.selection)&&void 0!==e?e:{}).reduce((function(t,e){return t||e.project.hasSelectionId}),!1)}function ddt(t,e){!Vb(e.select)&&e.select.on||delete t.events,!Vb(e.select)&&e.select.clear||delete t.clear,!Vb(e.select)&&e.select.toggle||delete t.toggle}function pdt(t){var e=[];return"Identifier"===t.type?[t.name]:"Literal"===t.type?[t.value]:("MemberExpression"===t.type&&(e.push.apply(e,(0,Xm.Z)(pdt(t.object))),e.push.apply(e,(0,Xm.Z)(pdt(t.property)))),e)}function vdt(t){return"MemberExpression"===t.object.type?vdt(t.object):"datum"===t.object.name}function gdt(t){var e=r0(t),n=new Set;return e.visit((function(t){"MemberExpression"===t.type&&vdt(t)&&n.add(pdt(t).slice(1).join("."))})),n}function mdt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var ydt=function(t){(0,Bm.Z)(n,t);var e=mdt(n);function n(t,r,i){var o;return(0,Rm.Z)(this,n),(o=e.call(this,t)).model=r,o.filter=i,o.expr=Odt(o.model,o.filter,(0,Nm.Z)(o)),o._dependentFields=gdt(o.expr),o}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,this.model,J7(this.filter))}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"producedFields",value:function(){return new Set}},{key:"assemble",value:function(){return{type:"filter",expr:this.expr}}},{key:"hash",value:function(){return"Filter ".concat(this.expr)}}]),n}(nft);function bdt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xdt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bdt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bdt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wdt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Sdt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sdt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Sdt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kdt(t,e,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"datum",o=Vb(e)?e:e.param,a=w9(o),c=tx(a+adt);try{r=t.getSelectionComponent(a,o)}catch(F2t){return"!!".concat(a)}if(r.project.timeUnit){var l=null!=n?n:t.component.data.raw,u=r.project.timeUnit.clone();l.parent?u.insertAsParentOf(l):l.parent=u}var s=r.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",f="global"===r.resolve?")":", ".concat(tx(r.resolve),")"),h="".concat(s).concat(c,", ").concat(i).concat(f),d="length(data(".concat(c,"))");return!1===e.empty?"".concat(d," && ").concat(h):"!".concat(d," || ").concat(h)}function Cdt(t,e,n){var r,i=w9(e),o=n.encoding,a=n.field;try{r=t.getSelectionComponent(i,e)}catch(F2t){return i}if(o||a){if(o&&!a){var c=r.project.items.filter((function(t){return t.channel===o}));!c.length||c.length>1?(a=r.project.items[0].field,$nt((c.length?"Multiple ":"No ")+"matching ".concat(tx(o)," encoding found for selection ").concat(tx(n.param),". ")+'Using "field": '.concat(tx(a),"."))):a=c[0].field}}else a=r.project.items[0].field,r.project.items.length>1&&$nt('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(tx(a),"."));return"".concat(r.name,"[").concat(tx(A9(a)),"]")}function Odt(t,e,n){return S9(e,(function(e){return Vb(e)?e:function(t){return null==t?void 0:t.param}(e)?kdt(t,e,n):Rrt(e)}))}var Edt=["disable","orient","scale","labelExpr","title","zindex"],Mdt=["condition"],Adt=["test"],Pdt=["test"];function _dt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ddt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ddt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Ddt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tdt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zdt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tdt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tdt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fdt(t,e,n,r){var i,o,a,c,l;null!==(i=t.encode)&&void 0!==i||(t.encode={}),null!==(o=(c=t.encode)[e])&&void 0!==o||(c[e]={}),null!==(a=(l=t.encode[e]).update)&&void 0!==a||(l.update={}),t.encode[e].update[n]=r}function jdt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{header:!1},i=t.combine(),o=i.disable,a=i.orient,c=i.scale,l=i.labelExpr,u=i.title,s=i.zindex,f=(0,I.Z)(i,Edt);if(!o){for(var h in f){var d=vat[h],p=f[h];if(d&&d!==e&&"both"!==d)delete f[h];else if(dat(p)){var v=p.condition,g=(0,I.Z)(p,Mdt),m=bb(v),y=hat[h];if(y){var b=y.vgProp,x=y.part,w=[].concat((0,Xm.Z)(m.map((function(t){var e=t.test,n=(0,I.Z)(t,Adt);return Zdt({test:Odt(null,e)},n)}))),[g]);Fdt(f,x,b,w),delete f[h]}else if(null===y){var S={signal:m.map((function(t){var e=t.test,n=(0,I.Z)(t,Pdt);return"".concat(Odt(null,e)," ? ").concat(ont(n)," : ")})).join("")+ont(g)};f[h]=S}}else if(zet(p)){var k=hat[h];if(k){var C=k.vgProp;Fdt(f,k.part,C,p),delete f[h]}}o9(["labelAlign","labelBaseline"],h)&&null===f[h]&&delete f[h]}if("grid"===e){if(!f.grid)return;if(f.encode){var O=f.encode.grid;f.encode=Zdt({},O?{grid:O}:{}),g9(f.encode)&&delete f.encode}return Zdt(Zdt({scale:c,orient:a},f),{},{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:T9(s,0)})}if(r.header||!t.mainExtracted){if(void 0!==l){var E,M=l;null!==(E=f.encode)&&void 0!==E&&null!==(E=E.labels)&&void 0!==E&&E.update&&zet(f.encode.labels.update.text)&&(M=P9(l,"datum.label",f.encode.labels.update.text.signal)),Fdt(f,"labels","text",{signal:M})}if(null===f.labelAlign&&delete f.labelAlign,f.encode){var A,P=_dt(pat);try{for(P.s();!(A=P.n()).done;){var _=A.value;t.hasAxisPart(_)||delete f.encode[_]}}catch(T){P.e(T)}finally{P.f()}g9(f.encode)&&delete f.encode}var D=function(t,e){if(t)return qy(t)&&!Bet(t)?t.map((function(t){return Kot(t,e)})).join(", "):t}(u,n);return Zdt(Zdt(Zdt(Zdt({scale:c,orient:a,grid:!1},D?{title:D}:{}),f),!1===n.aria?{aria:!1}:{}),{},{zindex:T9(s,0)})}}}function Idt(t){var e,n=t.component.axes,r=[],i=_dt(Qtt);try{for(i.s();!(e=i.n()).done;){var o=e.value;if(n[o]){var a,c=_dt(n[o]);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(!l.get("disable")&&!l.get("gridScale")){var u="x"===o?"height":"width",s=t.getSizeSignalRef(u).signal;u!==s&&r.push({name:u,update:s})}}}catch(f){c.e(f)}finally{c.f()}}}}catch(f){i.e(f)}finally{i.f()}return r}function Rdt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ldt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ldt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Ldt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ndt(t,e,n,r){return Object.assign.apply(null,[{}].concat((0,Xm.Z)(t.map((function(t){if("axisOrient"===t){var i,o="x"===n?"bottom":"left",a=e["x"===n?"axisBottom":"axisLeft"]||{},c=e["x"===n?"axisTop":"axisRight"]||{},l={},u=Rdt(new Set([].concat((0,Xm.Z)(m9(a)),(0,Xm.Z)(m9(c)))).values());try{for(u.s();!(i=u.n()).done;){var s=i.value;l[s]={signal:"".concat(r.signal,' === "').concat(o,'" ? ').concat(ant(a[s])," : ").concat(ant(c[s]))}}}catch(f){u.e(f)}finally{u.f()}return l}return e[t]})))))}function Bdt(t,e){var n,r=[{}],i=Rdt(t);try{for(i.s();!(n=i.n()).done;){var o,a=null===(o=e[n.value])||void 0===o?void 0:o.style;if(a){var c,l=Rdt(a=bb(a));try{for(l.s();!(c=l.n()).done;){var u=c.value;r.push(e.style[u])}}catch(s){l.e(s)}finally{l.f()}}}}catch(s){i.e(s)}finally{i.f()}return Object.assign.apply(null,r)}function zdt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=fnt(t,n,e);if(void 0!==i)return{configFrom:"style",configValue:i};for(var o=0,a=["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"];o<a.length;o++){var c,l=a[o];if(void 0!==(null===(c=r[l])||void 0===c?void 0:c[t]))return{configFrom:l,configValue:r[l][t]}}return{}}var Udt={scale:function(t){var e=t.model,n=t.channel;return e.scaleName(n)},format:function(t){return t.format},formatType:function(t){return t.formatType},grid:function(t){var e,n=t.fieldOrDatumDef,r=t.axis,i=t.scaleType;return null!==(e=r.grid)&&void 0!==e?e:function(t,e){return!iit(t)&&_ot(e)&&!Met(null==e?void 0:e.bin)&&!Aet(null==e?void 0:e.bin)}(i,n)},gridScale:function(t){return function(t,e){var n="x"===e?"y":"x";if(t.getScaleComponent(n))return t.scaleName(n);return}(t.model,t.channel)},labelAlign:function(t){var e=t.axis,n=t.labelAngle,r=t.orient,i=t.channel;return e.labelAlign||Vdt(n,r,i)},labelAngle:function(t){return t.labelAngle},labelBaseline:function(t){var e=t.axis,n=t.labelAngle,r=t.orient,i=t.channel;return e.labelBaseline||Wdt(n,r,i)},labelFlush:function(t){var e,n=t.axis,r=t.fieldOrDatumDef,i=t.channel;return null!==(e=n.labelFlush)&&void 0!==e?e:function(t,e){if("x"===e&&o9(["quantitative","temporal"],t))return!0;return}(r.type,i)},labelOverlap:function(t){var e,n=t.axis,r=t.fieldOrDatumDef,i=t.scaleType;return null!==(e=n.labelOverlap)&&void 0!==e?e:function(t,e,n,r){if(n&&!Yy(r)||"nominal"!==t&&"ordinal"!==t)return"log"!==e&&"symlog"!==e||"greedy";return}(r.type,i,_ot(r)&&!!r.timeUnit,_ot(r)?r.sort:void 0)},orient:function(t){return t.orient},tickCount:function(t){var e,n=t.channel,r=t.model,i=t.axis,o=t.fieldOrDatumDef,a=t.scaleType,c="x"===n?"width":"y"===n?"height":void 0,l=c?r.getSizeSignalRef(c):void 0;return null!==(e=i.tickCount)&&void 0!==e?e:function(t){var e=t.fieldOrDatumDef,n=t.scaleType,r=t.size,i=t.values;if(!i&&!iit(n)&&"log"!==n){if(_ot(e)){var o;if(Met(e.bin))return{signal:"ceil(".concat(r.signal,"/10)")};if(e.timeUnit&&o9(["month","hours","day","quarter"],null===(o=Srt(e.timeUnit))||void 0===o?void 0:o.unit))return}return{signal:"ceil(".concat(r.signal,"/40)")}}return}({fieldOrDatumDef:o,scaleType:a,size:l,values:i.values})},tickMinStep:function(t){var e=t.format,n=t.fieldOrDatumDef;if("d"===e)return 1;if(_ot(n)){var r=n.timeUnit;if(r){var i=krt(r);if(i)return{signal:i}}}return},title:function(t){var e=t.axis,n=t.model,r=t.channel;if(void 0!==e.title)return e.title;var i=Gdt(n,r);if(void 0!==i)return i;var o=n.typedFieldDef(r),a="x"===r?"x2":"y2",c=n.fieldDef(a);return dnt(o?[wot(o)]:[],_ot(c)?[wot(c)]:[])},values:function(t){return function(t,e){var n=t.values;if(qy(n))return lat(e,n);if(zet(n))return n;return}(t.axis,t.fieldOrDatumDef)},zindex:function(t){var e,n=t.axis,r=t.fieldOrDatumDef,i=t.mark;return null!==(e=n.zindex)&&void 0!==e?e:function(t,e){if("rect"===t&&Vot(e))return 1;return 0}(i,r)}};function Hdt(t){return"(((".concat(t.signal," % 360) + 360) % 360)")}function Wdt(t,e,n,r){if(void 0!==t){if("x"===n){if(zet(t)){var i=Hdt(t),o=zet(e)?"(".concat(e.signal,' === "top")'):"top"===e;return{signal:"(45 < ".concat(i," && ").concat(i," < 135) || (225 < ").concat(i," && ").concat(i,' < 315) ? "middle" :')+"(".concat(i," <= 45 || 315 <= ").concat(i,") === ").concat(o,' ? "bottom" : "top"')}}if(45<t&&t<135||225<t&&t<315)return"middle";if(zet(e)){var a=t<=45||315<=t?"===":"!==";return{signal:"".concat(e.signal," ").concat(a,' "top" ? "bottom" : "top"')}}return(t<=45||315<=t)==("top"===e)?"bottom":"top"}if(zet(t)){var c=Hdt(t),l=zet(e)?"(".concat(e.signal,' === "left")'):"left"===e,u=r?'"middle"':"null";return{signal:"".concat(c," <= 45 || 315 <= ").concat(c," || (135 <= ").concat(c," && ").concat(c," <= 225) ? ").concat(u," : (45 <= ").concat(c," && ").concat(c," <= 135) === ").concat(l,' ? "top" : "bottom"')}}if(t<=45||315<=t||135<=t&&t<=225)return r?"middle":null;if(zet(e)){var s=45<=t&&t<=135?"===":"!==";return{signal:"".concat(e.signal," ").concat(s,' "left" ? "top" : "bottom"')}}return(45<=t&&t<=135)==("left"===e)?"top":"bottom"}}function Vdt(t,e,n){if(void 0!==t){var r="x"===n,i=r?0:90,o=r?"bottom":"left";if(zet(t)){var a=Hdt(t),c=zet(e)?"(".concat(e.signal,' === "').concat(o,'")'):e===o;return{signal:"(".concat(i?"(".concat(a," + 90)"):a," % 180 === 0) ? ").concat(r?null:'"center"'," :")+"(".concat(i," < ").concat(a," && ").concat(a," < ").concat(180+i,") === ").concat(c,' ? "left" : "right"')}}if((t+i)%180==0)return r?null:"center";if(zet(e)){var l=i<t&&t<180+i?"===":"!==",u="".concat(e.signal," ").concat(l,' "').concat(o,'"');return{signal:"".concat(u,' ? "left" : "right"')}}return(i<t&&t<180+i)==(e===o)?"left":"right"}}function Gdt(t,e){var n="x"===e?"x2":"y2",r=t.fieldDef(e),i=t.fieldDef(n),o=r?r.title:void 0,a=i?i.title:void 0;return o&&a?pnt(o,a):o||(a||(void 0!==o?o:void 0!==a?a:void 0))}function Xdt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qdt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Ydt=function(t){(0,Bm.Z)(n,t);var e=qdt(n);function n(t,r){var i;return(0,Rm.Z)(this,n),(i=e.call(this,t)).transform=r,i._dependentFields=gdt(i.transform.calculate),i}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this.transform))}},{key:"producedFields",value:function(){return new Set([this.transform.as])}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"assemble",value:function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}},{key:"hash",value:function(){return"Calculate ".concat(r9(this.transform))}}],[{key:"parseAllForSortIndex",value:function(t,e){return e.forEachFieldDef((function(e,r){if(Not(e)&&hot(e.sort)){var i=e.field,o=e.timeUnit,a=e.sort,c=a.map((function(t,e){return"".concat(Rrt({field:i,timeUnit:o,equal:t})," ? ").concat(e," : ")})).join("")+a.length;t=new n(t,{calculate:c,as:$dt(e,r,{forAs:!0})})}})),t}}]),n}(nft);function $dt(t,e,n){return Wot(t,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xdt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xdt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({prefix:e,suffix:"sort_index"},null!=n?n:{}))}function Kdt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Jdt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jdt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Jdt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qdt(t,e){return o9(["top","bottom"],e)?"column":o9(["left","right"],e)||"row"===t?"row":"column"}function tpt(t,e,n,r){var i="row"===r?n.headerRow:"column"===r?n.headerColumn:n.headerFacet;return T9((e||{})[t],i[t],n.header[t])}function ept(t,e,n,r){var i,o={},a=Kdt(t);try{for(a.s();!(i=a.n()).done;){var c=i.value,l=tpt(c,e||{},n,r);void 0!==l&&(o[c]=l)}}catch(u){a.e(u)}finally{a.f()}return o}var npt=["row","column"],rpt=["header","footer"];function ipt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return opt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return opt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function opt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function apt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cpt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?apt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):apt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lpt(t,e){var n=t.component.layoutHeaders[e].title,r=t.config?t.config:void 0,i=t.component.layoutHeaders[e].facetFieldDef?t.component.layoutHeaders[e].facetFieldDef:void 0,o=ept(["titleAnchor","titleAngle","titleOrient"],i.header,r,e),a=o.titleAnchor,c=o.titleAngle,l=Qdt(e,o.titleOrient),u=L9(c);return{name:"".concat(e,"-title"),type:"group",role:"".concat(l,"-title"),title:cpt(cpt(cpt(cpt({text:n},"row"===e?{orient:"left"}:{}),{},{style:"guide-title"},spt(u,l)),upt(l,u,a)),mpt(r,i,e,Act,Ect))}}function upt(t,e){switch(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"middle"){case"start":return{align:"left"};case"end":return{align:"right"}}var n=Vdt(e,"row"===t?"left":"top","row"===t?"y":"x");return n?{align:n}:{}}function spt(t,e){var n=Wdt(t,"row"===e?"left":"top","row"===e?"y":"x",!0);return n?{baseline:n}:{}}function fpt(t,e){var n,r=t.component.layoutHeaders[e],i=[],o=ipt(rpt);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(r[a]){var c,l=ipt(r[a]);try{for(l.s();!(c=l.n()).done;){var u=ppt(t,e,a,r,c.value);null!=u&&i.push(u)}}catch(s){l.e(s)}finally{l.f()}}}}catch(s){o.e(s)}finally{o.f()}return i}function hpt(t,e){var n,r=t.sort;return fot(r)?{field:Wot(r,{expr:"datum"}),order:null!==(n=r.order)&&void 0!==n?n:"ascending"}:qy(r)?{field:$dt(t,e,{expr:"datum"}),order:"ascending"}:{field:Wot(t,{expr:"datum"}),order:null!=r?r:"ascending"}}function dpt(t,e,n){var r=ept(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],t.header,n,e),i=r.format,o=r.formatType,a=r.labelAngle,c=r.labelAnchor,l=r.labelOrient,u=r.labelExpr,s=Jit({fieldOrDatumDef:t,format:i,formatType:o,expr:"parent",config:n}).signal,f=Qdt(e,l);return cpt(cpt(cpt(cpt({text:{signal:u?P9(P9(u,"datum.label",s),"datum.value",Wot(t,{expr:"parent"})):s}},"row"===e?{orient:"left"}:{}),{},{style:"guide-label",frame:"group"},spt(a,f)),upt(f,a,c)),mpt(n,t,e,Pct,Mct))}function ppt(t,e,n,r,i){if(i){var o=null,a=r.facetFieldDef,c=t.config?t.config:void 0;if(a&&i.labels){var l=ept(["labelOrient"],a.header,c,e).labelOrient;("row"===e&&!o9(["top","bottom"],l)||"column"===e&&!o9(["left","right"],l))&&(o=dpt(a,e,c))}var u=lyt(t)&&!dot(t.facet),s=i.axes,f=(null==s?void 0:s.length)>0;if(o||f){var h="row"===e?"height":"width";return cpt(cpt(cpt(cpt(cpt({name:t.getName("".concat(e,"_").concat(n)),type:"group",role:"".concat(e,"-").concat(n)},r.facetFieldDef?{from:{data:t.getName("".concat(e,"_domain"))},sort:hpt(a,e)}:{}),f&&u?{from:{data:t.getName("facet_domain_".concat(e))}}:{}),o?{title:o}:{}),i.sizeSignal?{encode:{update:(0,V.Z)({},h,i.sizeSignal)}}:{}),f?{axes:s}:{})}}return null}var vpt={column:{start:0,end:1},row:{start:1,end:0}};function gpt(t,e){return vpt[e][t]}function mpt(t,e,n,r,i){var o,a={},c=ipt(r);try{for(c.s();!(o=c.n()).done;){var l=o.value;if(i[l]){var u=tpt(l,null==e?void 0:e.header,t,n);void 0!==u&&(a[i[l]]=u)}}}catch(s){c.e(s)}finally{c.f()}return a}function ypt(t){return[].concat((0,Xm.Z)(bpt(t,"width")),(0,Xm.Z)(bpt(t,"height")),(0,Xm.Z)(bpt(t,"childWidth")),(0,Xm.Z)(bpt(t,"childHeight")))}function bpt(t,e){var n="width"===e?"x":"y",r=t.component.layoutSize.get(e);if(!r||"merged"===r)return[];var i=t.getSizeSignalRef(e).signal;if("step"===r){var o=t.getScaleComponent(n);if(o){var a=o.get("type"),c=o.get("range");if(iit(a)&&Uet(c)){var l=t.scaleName(n);if(lyt(t.parent))if("independent"===t.parent.component.resolve.scale[n])return[xpt(l,c)];return[xpt(l,c),{name:i,update:wpt(l,o,"domain('".concat(l,"').length"))}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){var u=i.endsWith("width"),s=u?"containerSize()[0]":"containerSize()[1]",f=ilt(t.config.view,u?"width":"height"),h="isFinite(".concat(s,") ? ").concat(s," : ").concat(f);return[{name:i,init:h,on:[{update:h,events:"window:resize"}]}]}return[{name:i,value:r}]}function xpt(t,e){var n="".concat(t,"_step");return zet(e.step)?{name:n,update:e.step.signal}:{name:n,value:e.step}}function wpt(t,e,n){var r=e.get("type"),i=e.get("padding"),o=T9(e.get("paddingOuter"),i),a=e.get("paddingInner");return a="band"===r?void 0!==a?a:i:1,"bandspace(".concat(n,", ").concat(ant(a),", ").concat(ant(o),") * ").concat(t,"_step")}function Spt(t){return"childWidth"===t?"width":"childHeight"===t?"height":t}function kpt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cpt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kpt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kpt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Opt(t,e){return m9(t).reduce((function(n,r){var i=t[r];return Cpt(Cpt({},n),Hft(e,i,r,(function(t){return rnt(t.value)})))}),{})}function Ept(t,e){if(lyt(e))return"theta"===t?"independent":"shared";if(syt(e))return"shared";if(uyt(e))return tet(t)||"theta"===t||"radius"===t?"independent":"shared";throw new Error("invalid model type for resolve")}function Mpt(t,e){var n=t.scale[e],r=tet(e)?"axis":"legend";return"independent"===n?("shared"===t[r][e]&&$nt(function(t){return'Setting the scale to be independent for "'.concat(t,'" means we also have to set the guide (axis or legend) to be independent.')}(e)),"independent"):t[r][e]||"shared"}function Apt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}function Ppt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ppt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ppt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Dpt=_pt(_pt({},Tct),{},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),Tpt=m9(Dpt),Zpt=function(t){(0,Bm.Z)(n,t);var e=Apt(n);function n(){return(0,Rm.Z)(this,n),e.apply(this,arguments)}return(0,Lm.Z)(n)}(_st);function Fpt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jpt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fpt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fpt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ipt={symbols:function(t,e){var n,r,i,o,a=e.fieldOrDatumDef,c=e.model,l=e.channel,u=e.legendCmpt,s=e.legendType;if("symbol"!==s)return;var f=c.markDef,h=c.encoding,d=c.config,p=c.mark,v=f.filled&&"trail"!==p,g=jpt(jpt({},function(t,e,n){var r,i=$et(n);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=unt(o,e.markDef,e.config);void 0!==a&&(t[o]=rnt(a))}}catch(c){i.e(c)}finally{i.f()}return t}({},c,Zit)),rht(c,{filled:v})),m=null!==(n=u.get("symbolOpacity"))&&void 0!==n?n:d.legend.symbolOpacity,y=null!==(r=u.get("symbolFillColor"))&&void 0!==r?r:d.legend.symbolFillColor,b=null!==(i=u.get("symbolStrokeColor"))&&void 0!==i?i:d.legend.symbolStrokeColor,x=void 0===m?null!==(o=Rpt(h.opacity))&&void 0!==o?o:f.opacity:void 0;if(g.fill){var w;if("fill"===l||v&&l===ott)delete g.fill;else if(g.fill.field)if(y)delete g.fill;else g.fill=rnt(null!==(w=d.legend.symbolBaseFillColor)&&void 0!==w?w:"black"),g.fillOpacity=rnt(null!=x?x:1);else if(qy(g.fill)){var S,k,C,O=null!==(S=null!==(k=Lpt(null!==(C=h.fill)&&void 0!==C?C:h.color))&&void 0!==k?k:f.fill)&&void 0!==S?S:v&&f.color;O&&(g.fill=rnt(O))}}if(g.stroke)if("stroke"===l||!v&&l===ott)delete g.stroke;else if(g.stroke.field||b)delete g.stroke;else if(qy(g.stroke)){var E=T9(Lpt(h.stroke||h.color),f.stroke,v?f.color:void 0);E&&(g.stroke={value:E})}if(l!==ftt){var M=_ot(a)&&Bpt(c,u,a);M?g.opacity=[jpt({test:M},rnt(null!=x?x:1)),rnt(d.legend.unselectedOpacity)]:x&&(g.opacity=rnt(x))}return g9(g=jpt(jpt({},g),t))?void 0:g},gradient:function(t,e){var n,r=e.model,i=e.legendType,o=e.legendCmpt;if("gradient"!==i)return;var a=r.config,c=r.markDef,l=r.encoding,u={},s=void 0===(null!==(n=o.get("gradientOpacity"))&&void 0!==n?n:a.legend.gradientOpacity)?Rpt(l.opacity)||c.opacity:void 0;s&&(u.opacity=rnt(s));return g9(u=jpt(jpt({},u),t))?void 0:u},labels:function(t,e){var n=e.fieldOrDatumDef,r=e.model,i=e.channel,o=e.legendCmpt,a=r.legend(i)||{},c=r.config,l=_ot(n)?Bpt(r,o,n):void 0,u=l?[{test:l,value:1},{value:c.legend.unselectedOpacity}]:void 0,s=a.format,f=a.formatType,h=void 0;Yit(f)?h=tot({fieldOrDatumDef:n,field:"datum.value",format:s,formatType:f,config:c}):void 0===s&&void 0===f&&c.customFormatTypes&&("quantitative"===n.type&&c.numberFormatType?h=tot({fieldOrDatumDef:n,field:"datum.value",format:c.numberFormat,formatType:c.numberFormatType,config:c}):"temporal"===n.type&&c.timeFormatType&&_ot(n)&&void 0===n.timeUnit&&(h=tot({fieldOrDatumDef:n,field:"datum.value",format:c.timeFormat,formatType:c.timeFormatType,config:c})));var d=jpt(jpt(jpt({},u?{opacity:u}:{}),h?{text:h}:{}),t);return g9(d)?void 0:d},entries:function(t,e){var n=e.legendCmpt.get("selections");return null!=n&&n.length?jpt(jpt({},t),{},{fill:{value:"transparent"}}):t}};function Rpt(t){return Npt(t,(function(t,e){return Math.max(t,e.value)}))}function Lpt(t){return Npt(t,(function(t,e){return T9(t,e.value)}))}function Npt(t,e){return function(t){var e=null==t?void 0:t.condition;return!!e&&(qy(e)||Lot(e))}(t)?bb(t.condition).reduce(e,t.value):Lot(t)?t.value:void 0}function Bpt(t,e,n){var r=e.get("selections");if(null!=r&&r.length){var i=tx(n.field);return r.map((function(t){var e=tx(w9(t)+adt);return"(!length(data(".concat(e,")) || (").concat(t,"[").concat(i,"] && indexof(").concat(t,"[").concat(i,"], datum.value) >= 0))")})).join(" || ")}}var zpt={direction:function(t){return t.direction},format:function(t){var e=t.fieldOrDatumDef,n=t.legend,r=t.config,i=n.format,o=n.formatType;return eot(e,e.type,i,o,r,!1)},formatType:function(t){var e=t.legend,n=t.fieldOrDatumDef,r=t.scaleType,i=e.formatType;return not(i,n,r)},gradientLength:function(t){var e,n,r=t.legend,i=t.legendConfig;return null!==(e=null!==(n=r.gradientLength)&&void 0!==n?n:i.gradientLength)&&void 0!==e?e:function(t){var e=t.legendConfig,n=t.model,r=t.direction,i=t.orient,o=t.scaleType,a=e.gradientHorizontalMaxLength,c=e.gradientHorizontalMinLength,l=e.gradientVerticalMaxLength,u=e.gradientVerticalMinLength;if(ait(o))return"horizontal"===r?"top"===i||"bottom"===i?Wpt(n,"width",c,a):c:Wpt(n,"height",u,l);return}(t)},labelOverlap:function(t){var e,n,r=t.legend,i=t.legendConfig,o=t.scaleType;return null!==(e=null!==(n=r.labelOverlap)&&void 0!==n?n:i.labelOverlap)&&void 0!==e?e:function(t){if(o9(["quantile","threshold","log","symlog"],t))return"greedy";return}(o)},symbolType:function(t){var e,n=t.legend,r=t.markDef,i=t.channel,o=t.encoding;return null!==(e=n.symbolType)&&void 0!==e?e:function(t,e,n,r){if("shape"!==e){var i,o=null!==(i=Lpt(n))&&void 0!==i?i:r;if(o)return o}switch(t){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(r.type,i,o.shape,r.shape)},title:function(t){return Yot(t.fieldOrDatumDef,t.config,{allowDisabling:!0})},type:function(t){var e=t.legendType,n=t.scaleType;if(Dtt(t.channel)&&ait(n)){if("gradient"===e)return}else if("symbol"===e)return;return e},values:function(t){var e=t.fieldOrDatumDef;return function(t,e){var n=t.values;if(qy(n))return lat(e,n);if(zet(n))return n;return}(t.legend,e)}};function Upt(t){return T9(t.legend.type,function(t){var e=t.channel,n=t.timeUnit,r=t.scaleType;if(Dtt(e)){if(o9(["quarter","month","day"],n))return"symbol";if(ait(r))return"gradient"}return"symbol"}(t))}function Hpt(t){var e,n,r=t.legendConfig,i=t.legendType,o=t.orient;return null!==(e=null!==(n=t.legend.direction)&&void 0!==n?n:r[i?"gradientDirection":"symbolDirection"])&&void 0!==e?e:function(t,e){switch(t){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===e?"horizontal":void 0}}(o,i)}function Wpt(t,e,n,r){var i=t.getSizeSignalRef(e).signal;return{signal:"clamp(".concat(i,", ").concat(n,", ").concat(r,")")}}function Vpt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gpt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vpt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vpt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xpt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return qpt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qpt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function qpt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ypt(t){var e=cyt(t)?function(t){for(var e=t.encoding,n={},r=0,i=[ott].concat((0,Xm.Z)(Dct));r<i.length;r++){var o=i[r],a=tat(e[o]);a&&t.getScaleComponent(o)&&(o===ltt&&_ot(a)&&a.type===Grt||(n[o]=Kpt(t,o)))}return n}(t):function(t){var e,n=t.component,r=n.legends,i=n.resolve,o=Xpt(t.children);try{for(o.s();!(e=o.n()).done;){var a=e.value;Ypt(a);var c,l=Xpt(m9(a.component.legends));try{for(l.s();!(c=l.n()).done;){var u=c.value;i.legend[u]=Mpt(t.component.resolve,u),"shared"===i.legend[u]&&(r[u]=Jpt(r[u],a.component.legends[u]),r[u]||(i.legend[u]="independent",delete r[u]))}}catch(g){l.e(g)}finally{l.f()}}}catch(g){o.e(g)}finally{o.f()}var s,f=Xpt(m9(r));try{for(f.s();!(s=f.n()).done;){var h,d=s.value,p=Xpt(t.children);try{for(p.s();!(h=p.n()).done;){var v=h.value;v.component.legends[d]&&("shared"===i.legend[d]&&delete v.component.legends[d])}}catch(g){p.e(g)}finally{p.f()}}}catch(g){f.e(g)}finally{f.f()}return r}(t);return t.component.legends=e,e}function $pt(t,e,n,r){switch(e){case"disable":return void 0!==n;case"values":return!(null==n||!n.values);case"title":if("title"===e&&t===(null==r?void 0:r.title))return!0}return t===(n||{})[e]}function Kpt(t,e){var n,r,i,o=t.legend(e),a=t.markDef,c=t.encoding,l=t.config,u=l.legend,s=new Zpt({},function(t,e){var n=t.scaleName(e);if("trail"===t.mark){if("color"===e)return{stroke:n};if("size"===e)return{strokeWidth:n}}return"color"===e?t.markDef.filled?{fill:n}:{stroke:n}:(0,V.Z)({},e,n)}(t,e));!function(t,e,n){var r,i,o,a=null===(r=t.fieldDef(e))||void 0===r?void 0:r.field,c=Vht(y9(null!==(i=t.component.selection)&&void 0!==i?i:{}));try{for(c.s();!(o=c.n()).done;){var l,u=o.value,s=null!==(l=u.project.hasField[a])&&void 0!==l?l:u.project.hasChannel[e];if(s&&Yht.defined(u)){var f,h=null!==(f=n.get("selections"))&&void 0!==f?f:[];h.push(u.name),n.set("selections",h,!1),s.hasLegend=!0}}}catch(d){c.e(d)}finally{c.f()}}(t,e,s);var f=void 0!==o?!o:u.disable;if(s.set("disable",f,void 0!==o),f)return s;o=o||{};var h,d=t.getScaleComponent(e).get("type"),p=tat(c[e]),v=_ot(p)?null===(n=Srt(p.timeUnit))||void 0===n?void 0:n.unit:void 0,g=o.orient||l.legend.orient||"right",m=Upt({legend:o,channel:e,timeUnit:v,scaleType:d}),y={legend:o,channel:e,model:t,markDef:a,encoding:c,fieldOrDatumDef:p,legendConfig:u,config:l,scaleType:d,orient:g,legendType:m,direction:Hpt({legend:o,legendType:m,orient:g,legendConfig:u})},b=Xpt(Tpt);try{for(b.s();!(h=b.n()).done;){var x=h.value;if(!("gradient"===m&&x.startsWith("symbol")||"symbol"===m&&x.startsWith("gradient"))){var w=x in zpt?zpt[x](y):o[x];if(void 0!==w){var S=$pt(w,x,o,t.fieldDef(e));(S||void 0===l.legend[x])&&s.set(x,w,S)}}}}catch(F){b.e(F)}finally{b.f()}for(var k,C=null!==(r=null===(i=o)||void 0===i?void 0:i.encoding)&&void 0!==r?r:{},O=s.get("selections"),E={},M={fieldOrDatumDef:p,model:t,channel:e,legendCmpt:s,legendType:m},A=0,P=["labels","legend","title","symbols","gradient","entries"];A<P.length;A++){var _,D=P[A],T=Opt(null!==(_=C[D])&&void 0!==_?_:{},t),Z=D in Ipt?Ipt[D](T,M):T;void 0===Z||g9(Z)||(E[D]=Gpt(Gpt(Gpt({},null!=O&&O.length&&_ot(p)?{name:"".concat(w9(p.field),"_legend_").concat(D)}:{}),null!=O&&O.length?{interactive:!!O}:{}),{},{update:Z}))}g9(E)||s.set("encode",E,!(null===(k=o)||void 0===k||!k.encoding));return s}function Jpt(t,e){if(!t)return e.clone();var n=t.getWithExplicit("orient"),r=e.getWithExplicit("orient");if(!n.explicit||!r.explicit||n.value===r.value){var i,o,a,c=!1,l=Xpt(Tpt);try{var u=function(){var n=i.value,r=jst(t.getWithExplicit(n),e.getWithExplicit(n),n,"legend",(function(t,e){switch(n){case"symbolType":return function(t,e){if("circle"===e.value)return e;return t}(t,e);case"title":return vnt(t,e);case"type":return c=!0,Tst("symbol")}return Fst(t,e,n,"legend")}));t.setWithExplicit(n,r)};for(l.s();!(i=l.n()).done;)u()}catch(s){l.e(s)}finally{l.f()}if(c)null!==(o=t.implicit)&&void 0!==o&&null!==(o=o.encode)&&void 0!==o&&o.gradient&&k9(t.implicit,["encode","gradient"]),null!==(a=t.explicit)&&void 0!==a&&null!==(a=a.encode)&&void 0!==a&&a.gradient&&k9(t.explicit,["encode","gradient"]);return t}}var Qpt=["disable","labelExpr","selections"];function tvt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return evt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return evt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function evt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nvt(t){var e,n=t.component.legends,r={},i=tvt(m9(n));try{for(i.s();!(e=i.n()).done;){var o=e.value,a=t.getScaleComponent(o),c=n9(a.get("domains"));if(r[c]){var l,u=tvt(r[c]);try{for(u.s();!(l=u.n()).done;){Jpt(l.value,n[o])||r[c].push(n[o])}}catch(f){u.e(f)}finally{u.f()}}else r[c]=[n[o].clone()]}}catch(f){i.e(f)}finally{i.f()}var s=y9(r).flat().map((function(e){return function(t,e){var n,r=t.combine(),i=r.disable,o=r.labelExpr,a=(r.selections,(0,I.Z)(r,Qpt));if(i)return;!1===e.aria&&null==a.aria&&(a.aria=!1);if(null!==(n=a.encode)&&void 0!==n&&n.symbols){var c=a.encode.symbols.update;!c.fill||"transparent"===c.fill.value||c.stroke||a.stroke||(c.stroke={value:"transparent"});var l,u=tvt(Dct);try{for(u.s();!(l=u.n()).done;){var s=l.value;a[s]&&delete c[s]}}catch(f){u.e(f)}finally{u.f()}}a.title||delete a.title;if(void 0!==o){var h,d=o;null!==(h=a.encode)&&void 0!==h&&null!==(h=h.labels)&&void 0!==h&&h.update&&zet(a.encode.labels.update.text)&&(d=P9(o,"datum.label",a.encode.labels.update.text.signal)),function(t,e,n,r){var i,o,a,c,l;null!==(i=t.encode)&&void 0!==i||(t.encode={}),null!==(o=(c=t.encode)[e])&&void 0!==o||(c[e]={}),null!==(a=(l=t.encode[e]).update)&&void 0!==a||(l.update={}),t.encode[e].update[n]=r}(a,"labels","text",{signal:d})}return a}(e,t.config)})).filter((function(t){return void 0!==t}));return s}function rvt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ivt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rvt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rvt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ovt(t){return syt(t)||uyt(t)?function(t){return t.children.reduce((function(t,e){return t.concat(e.assembleProjections())}),avt(t))}(t):avt(t)}function avt(t){var e=t.component.projection;if(!e||e.merged)return[];var n=e.combine(),r=n.name;if(e.data){var i={signal:"[".concat(e.size.map((function(t){return t.signal})).join(", "),"]")},o=e.data.reduce((function(e,n){var r=zet(n)?n.signal:"data('".concat(t.lookupDataSource(n),"')");return o9(e,r)||e.push(r),e}),[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[ivt({name:r,size:i,fit:{signal:o.length>1?"[".concat(o.join(", "),"]"):o[0]}},n)]}return[ivt(ivt({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}var cvt=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function lvt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uvt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var svt=function(t){(0,Bm.Z)(n,t);var e=uvt(n);function n(t,r,i,o){var a;return(0,Rm.Z)(this,n),a=e.call(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lvt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lvt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},r),{name:t}),a.specifiedProjection=r,a.size=i,a.data=o,a.merged=!1,a}return(0,Lm.Z)(n,[{key:"isFit",get:function(){return!!this.data}}]),n}(_st);function fvt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return hvt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hvt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function hvt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dvt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pvt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dvt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dvt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vvt(t){t.component.projection=cyt(t)?function(t){if(t.hasProjection){var e,n=jet(t.specifiedProjection),r=!(n&&(null!=n.scale||null!=n.translate)),i=r?[t.getSizeSignalRef("width"),t.getSizeSignalRef("height")]:void 0,o=r?function(t){for(var e=[],n=t.encoding,r=0,i=[[ntt,ett],[itt,rtt]];r<i.length;r++){var o=i[r];(tat(n[o[0]])||tat(n[o[1]]))&&e.push({signal:t.getName("geojson_".concat(e.length))})}t.channelHasField(ltt)&&t.typedFieldDef(ltt).type===Grt&&e.push({signal:t.getName("geojson_".concat(e.length))});0===e.length&&e.push(t.requestDataName(Rst.Main));return e}(t):void 0,a=new svt(t.projectionName(!0),pvt(pvt({},null!==(e=jet(t.config.projection))&&void 0!==e?e:{}),null!=n?n:{}),i,o);return a.get("type")||a.set("type","equalEarth",!1),a}return}(t):function(t){if(0===t.children.length)return;var e,n,r=fvt(t.children);try{for(r.s();!(n=r.n()).done;){vvt(n.value)}}catch(h){r.e(h)}finally{r.f()}var i=c9(t.children,(function(t){var n=t.component.projection;if(n){if(e){var r=function(t,e){var n=c9(cvt,(function(n){return!Fb(t.explicit,n)&&!Fb(e.explicit,n)||!!(Fb(t.explicit,n)&&Fb(e.explicit,n)&&K7(t.get(n),e.get(n)))})),r=K7(t.size,e.size);if(r){if(n)return t;if(K7(t.explicit,{}))return e;if(K7(e.explicit,{}))return t}return null}(e,n);return r&&(e=r),!!r}return e=n,!0}return!0}));if(e&&i){var o,a=t.projectionName(!0),c=new svt(a,e.specifiedProjection,e.size,J7(e.data)),l=fvt(t.children);try{for(l.s();!(o=l.n()).done;){var u=o.value,s=u.component.projection;if(s){var f;if(s.isFit)(f=c.data).push.apply(f,(0,Xm.Z)(u.component.projection.data));u.renameProjection(s.get("name"),a),s.merged=!0}}}catch(h){l.e(h)}finally{l.f()}return c}return}(t)}var gvt=n(37997),mvt=n(15663),yvt=n(29719),bvt=n(20011);n(86535),n(99244);var xvt=["extent"];function wvt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Svt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Svt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Svt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kvt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}function Cvt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ovt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cvt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cvt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Evt(t,e){return"".concat(Eet(t),"_").concat(e)}function Mvt(t,e,n){var r,i=Evt(null!==(r=iat(n,void 0))&&void 0!==r?r:{},e);return t.getName("".concat(i,"_bins"))}function Avt(t,e,n){var r,i;r=function(t){return"as"in t}(t)?Vb(t.as)?[t.as,"".concat(t.as,"_end")]:[t.as[0],t.as[1]]:[Wot(t,{forAs:!0}),Wot(t,{binSuffix:"end",forAs:!0})];var o=Ovt({},iat(e,void 0)),a=Evt(o,t.field),c=function(t,e){return{signal:t.getName("".concat(e,"_bins")),extentSignal:t.getName("".concat(e,"_extent"))}}(n,a),l=c.signal,u=c.extentSignal;if(_et(o.extent)){var s=o.extent;i=Cdt(n,s.param,s),delete o.extent}return{key:a,binComponent:Ovt(Ovt(Ovt({bin:o,field:t.field,as:[r]},l?{signal:l}:{}),u?{extentSignal:u}:{}),i?{span:i}:{})}}var Pvt=function(t){(0,Bm.Z)(n,t);var e=kvt(n);function n(t,r){var i;return(0,Rm.Z)(this,n),(i=e.call(this,t)).bins=r,i}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this.bins))}},{key:"merge",value:function(t,e){var n,r=wvt(m9(t.bins));try{for(r.s();!(n=r.n()).done;){var i=n.value;i in this.bins?(e(t.bins[i].signal,this.bins[i].signal),this.bins[i].as=s9([].concat((0,Xm.Z)(this.bins[i].as),(0,Xm.Z)(t.bins[i].as)),r9)):this.bins[i]=t.bins[i]}}catch(l){r.e(l)}finally{r.f()}var o,a=wvt(t.children);try{for(a.s();!(o=a.n()).done;){var c=o.value;t.removeChild(c),c.parent=this}}catch(l){a.e(l)}finally{a.f()}t.remove()}},{key:"producedFields",value:function(){return new Set(y9(this.bins).map((function(t){return t.as})).flat(2))}},{key:"dependentFields",value:function(){return new Set(y9(this.bins).map((function(t){return t.field})))}},{key:"hash",value:function(){return"Bin ".concat(r9(this.bins))}},{key:"assemble",value:function(){return y9(this.bins).flatMap((function(t){var e,n=[],r=(e=t.as,(0,gvt.Z)(e)||(0,mvt.Z)(e)||(0,yvt.Z)(e)||(0,bvt.Z)()),i=r[0],o=r.slice(1),a=t.bin,c=a.extent,l=(0,I.Z)(a,xvt),u=Ovt(Ovt(Ovt({type:"bin",field:A9(t.field),as:i,signal:t.signal},_et(c)?{extent:null}:{extent:c}),t.span?{span:{signal:"span(".concat(t.span,")")}}:{}),l);!c&&t.extentSignal&&(n.push({type:"extent",field:A9(t.field),signal:t.extentSignal}),u.extent={signal:t.extentSignal}),n.push(u);var s,f=wvt(o);try{for(f.s();!(s=f.n()).done;)for(var h=s.value,d=0;d<2;d++)n.push({type:"formula",expr:Wot({field:i[d]},{expr:"datum"}),as:h[d]})}catch(p){f.e(p)}finally{f.f()}return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n}))}}],[{key:"makeFromEncoding",value:function(t,e){var r=e.reduceFieldDef((function(t,n,r){if(Rot(n)&&Met(n.bin)){var i=Avt(n,n.bin,e),o=i.key,a=i.binComponent;t[o]=Ovt(Ovt(Ovt({},a),t[o]),function(t,e,n,r){if(uat(e,n)){var i,o,a=cyt(t)&&null!==(i=null!==(o=t.axis(n))&&void 0!==o?o:t.legend(n))&&void 0!==i?i:{},c=Wot(e,{expr:"datum"}),l=Wot(e,{expr:"datum",binSuffix:"end"});return{formulaAs:Wot(e,{binSuffix:"range",forAs:!0}),formula:aot(c,l,a.format,a.formatType,r)}}return{}}(e,n,r,e.config))}return t}),{});return g9(r)?null:new n(t,r)}},{key:"makeFromTransform",value:function(t,e,r){var i=Avt(e,e.bin,r),o=i.key,a=i.binComponent;return new n(t,(0,V.Z)({},o,a))}}]),n}(nft);function _vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}function Dvt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Tvt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tvt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Tvt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zvt(t,e,n,r){var i,o=cyt(r)?r.encoding[Wtt(e)]:void 0;if(Rot(n)&&cyt(r)&&Oot(n,o,r.markDef,r.config))t.add(Wot(n,{})),t.add(Wot(n,{suffix:"end"})),n.bin&&uat(n,e)&&t.add(Wot(n,{binSuffix:"range"}));else if(Att(e)){var a=Mtt(e);t.add(r.getName(a))}else t.add(Wot(n));return Not(n)&&function(t){return Yy(t)&&"field"in t}(null===(i=n.scale)||void 0===i?void 0:i.range)&&t.add(n.scale.range.field),t}var Fvt=function(t){(0,Bm.Z)(n,t);var e=_vt(n);function n(t,r,i){var o;return(0,Rm.Z)(this,n),(o=e.call(this,t)).dimensions=r,o.measures=i,o}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,new Set(this.dimensions),J7(this.measures))}},{key:"groupBy",get:function(){return this.dimensions}},{key:"merge",value:function(t){return h9(this.dimensions,t.dimensions)?(function(t,e){var n,r=Dvt(m9(e));try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=e[o],c=Dvt(m9(a));try{for(c.s();!(i=c.n()).done;){var l,u=i.value;o in t?t[o][u]=new Set([].concat((0,Xm.Z)(null!==(l=t[o][u])&&void 0!==l?l:[]),(0,Xm.Z)(a[u]))):t[o]=(0,V.Z)({},u,a[u])}}catch(s){c.e(s)}finally{c.f()}}}catch(s){r.e(s)}finally{r.f()}}(this.measures,t.measures),!0):(function(){var t;(t=qnt).debug.apply(t,arguments)}("different dimensions, cannot merge"),!1)}},{key:"addDimensions",value:function(t){t.forEach(this.dimensions.add,this.dimensions)}},{key:"dependentFields",value:function(){return new Set([].concat((0,Xm.Z)(this.dimensions),(0,Xm.Z)(m9(this.measures))))}},{key:"producedFields",value:function(){var t,e=new Set,n=Dvt(m9(this.measures));try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=Dvt(m9(this.measures[i]));try{for(o.s();!(r=o.n()).done;){var a=r.value,c=this.measures[i][a];0===c.size?e.add("".concat(a,"_").concat(i)):c.forEach(e.add,e)}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}return e}},{key:"hash",value:function(){return"Aggregate ".concat(r9({dimensions:this.dimensions,measures:this.measures}))}},{key:"assemble",value:function(){var t,e=[],n=[],r=[],i=Dvt(m9(this.measures));try{for(i.s();!(t=i.n()).done;){var o,a=t.value,c=Dvt(m9(this.measures[a]));try{for(c.s();!(o=c.n()).done;){var l,u=o.value,s=Dvt(this.measures[a][u]);try{for(s.s();!(l=s.n()).done;){var f=l.value;r.push(f),e.push(u),n.push("*"===a?null:A9(a))}}catch(h){s.e(h)}finally{s.f()}}}catch(h){c.e(h)}finally{c.f()}}}catch(h){i.e(h)}finally{i.f()}return{type:"aggregate",groupby:(0,Xm.Z)(this.dimensions).map(A9),ops:e,fields:n,as:r}}}],[{key:"makeFromEncoding",value:function(t,e){var r=!1;e.forEachFieldDef((function(t){t.aggregate&&(r=!0)}));var i={},o=new Set;return r?(e.forEachFieldDef((function(t,n){var r=t.aggregate,a=t.field;if(r)if("count"===r){var c;null!==(c=i["*"])&&void 0!==c||(i["*"]={}),i["*"].count=new Set([Wot(t,{forAs:!0})])}else{if(yet(r)||bet(r)){var l,u=yet(r)?"argmin":"argmax",s=r[u];null!==(l=i[s])&&void 0!==l||(i[s]={}),i[s][u]=new Set([Wot({op:u,field:s},{forAs:!0})])}else{var f;null!==(f=i[a])&&void 0!==f||(i[a]={}),i[a][r]=new Set([Wot(t,{forAs:!0})])}var h;if(fet(n)&&"unaggregated"===e.scaleDomain(n))null!==(h=i[a])&&void 0!==h||(i[a]={}),i[a].min=new Set([Wot({field:a,aggregate:"min"},{forAs:!0})]),i[a].max=new Set([Wot({field:a,aggregate:"max"},{forAs:!0})])}else Zvt(o,n,t,e)})),o.size+m9(i).length===0?null:new n(t,o,i)):null}},{key:"makeFromTransform",value:function(t,e){var r,i,o=new Set,a={},c=Dvt(e.aggregate);try{for(c.s();!(i=c.n()).done;){var l,u,s=i.value,f=s.op,h=s.field,d=s.as;if(f)if("count"===f)null!==(l=a["*"])&&void 0!==l||(a["*"]={}),a["*"].count=new Set([d||Wot(s,{forAs:!0})]);else null!==(u=a[h])&&void 0!==u||(a[h]={}),a[h][f]=new Set([d||Wot(s,{forAs:!0})])}}catch(m){c.e(m)}finally{c.f()}var p,v=Dvt(null!==(r=e.groupby)&&void 0!==r?r:[]);try{for(v.s();!(p=v.n()).done;){var g=p.value;o.add(g)}}catch(m){v.e(m)}finally{v.f()}return o.size+m9(a).length===0?null:new n(t,o,a)}}]),n}(nft);function jvt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ivt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jvt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jvt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rvt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Lvt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lvt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Lvt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nvt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Bvt=function(t){(0,Bm.Z)(n,t);var e=Nvt(n);function n(t,r,i,o){var a;(0,Rm.Z)(this,n),(a=e.call(this,t)).model=r,a.name=i,a.data=o;var c,l=Rvt(Ztt);try{for(l.s();!(c=l.n()).done;){var u=c.value,s=r.facet[u];if(s){var f=s.bin,h=s.sort;a[u]=Ivt({name:r.getName("".concat(u,"_domain")),fields:[Wot(s)].concat((0,Xm.Z)(Met(f)?[Wot(s,{binSuffix:"end"})]:[]))},fot(h)?{sortField:h}:qy(h)?{sortIndexField:$dt(s,u)}:{})}}}catch(d){l.e(d)}finally{l.f()}return a.childModel=r.child,a}return(0,Lm.Z)(n,[{key:"hash",value:function(){var t,e="Facet",n=Rvt(Ztt);try{for(n.s();!(t=n.n()).done;){var r=t.value;this[r]&&(e+=" ".concat(r.charAt(0),":").concat(r9(this[r])))}}catch(i){n.e(i)}finally{n.f()}return e}},{key:"fields",get:function(){var t,e=[],n=Rvt(Ztt);try{for(n.s();!(t=n.n()).done;){var r,i=t.value;null!==(r=this[i])&&void 0!==r&&r.fields&&e.push.apply(e,(0,Xm.Z)(this[i].fields))}}catch(o){n.e(o)}finally{n.f()}return e}},{key:"dependentFields",value:function(){var t,e=new Set(this.fields),n=Rvt(Ztt);try{for(n.s();!(t=n.n()).done;){var r=t.value;this[r]&&(this[r].sortField&&e.add(this[r].sortField.field),this[r].sortIndexField&&e.add(this[r].sortIndexField))}}catch(i){n.e(i)}finally{n.f()}return e}},{key:"producedFields",value:function(){return new Set}},{key:"getSource",value:function(){return this.name}},{key:"getChildIndependentFieldsWithStep",value:function(){var t,e={},n=Rvt(Qtt);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=this.childModel.component.scales[r];if(i&&!i.merged){var o=i.get("type"),a=i.get("range");if(iit(o)&&Uet(a)){var c=bmt(xmt(this.childModel,r));c?e[r]=c:$nt(wnt(r))}}}}catch(l){n.e(l)}finally{n.f()}return e}},{key:"assembleRowColumnHeaderData",value:function(t,e,n){var r={row:"y",column:"x",facet:void 0}[t],i=[],o=[],a=[];r&&n&&n[r]&&(e?(i.push("distinct_".concat(n[r])),o.push("max")):(i.push(n[r]),o.push("distinct")),a.push("distinct_".concat(n[r])));var c=this[t],l=c.sortField,u=c.sortIndexField;if(l){var s=l.op,f=void 0===s?cot:s,h=l.field;i.push(h),o.push(f),a.push(Wot(l,{forAs:!0}))}else u&&(i.push(u),o.push("max"),a.push(u));return{name:this[t].name,source:null!=e?e:this.data,transform:[Ivt({type:"aggregate",groupby:this[t].fields},i.length?{fields:i,ops:o,as:a}:{})]}}},{key:"assembleFacetHeaderData",value:function(t){var e,n=this.model.layout.columns,r=this.model.component.layoutHeaders,i=[],o={},a=Rvt(npt);try{for(a.s();!(e=a.n()).done;){var c,l=e.value,u=Rvt(rpt);try{for(u.s();!(c=u.n()).done;){var s,f,h=c.value,d=Rvt(null!==(s=r[l]&&r[l][h])&&void 0!==s?s:[]);try{for(d.s();!(f=d.n()).done;){var p;if((null===(p=f.value.axes)||void 0===p?void 0:p.length)>0){o[l]=!0;break}}}catch(b){d.e(b)}finally{d.f()}}}catch(b){u.e(b)}finally{u.f()}if(o[l]){var v='length(data("'.concat(this.facet.name,'"))'),g="row"===l?n?{signal:"ceil(".concat(v," / ").concat(n,")")}:1:n?{signal:"min(".concat(v,", ").concat(n,")")}:{signal:v};i.push({name:"".concat(this.facet.name,"_").concat(l),transform:[{type:"sequence",start:0,stop:g}]})}}}catch(b){a.e(b)}finally{a.f()}var m=o.row,y=o.column;return(m||y)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}},{key:"assemble",value:function(){var t=[],e=null,n=this.getChildIndependentFieldsWithStep(),r=this.column,i=this.row,o=this.facet;if(r&&i&&(n.x||n.y)){var a,c;e="cross_".concat(this.column.name,"_").concat(this.row.name);var l=[].concat(null!==(a=n.x)&&void 0!==a?a:[],null!==(c=n.y)&&void 0!==c?c:[]),u=l.map((function(){return"distinct"}));t.push({name:e,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:l,ops:u}]})}for(var s=0,f=[H9,U9];s<f.length;s++){var h=f[s];this[h]&&t.push(this.assembleRowColumnHeaderData(h,e,n))}if(o){var d=this.assembleFacetHeaderData(n);d&&t.push.apply(t,(0,Xm.Z)(d))}return t}}]),n}(nft);function zvt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}function Uvt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Hvt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hvt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Hvt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wvt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vvt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wvt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wvt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gvt(t){return t.startsWith("'")&&t.endsWith("'")||t.startsWith('"')&&t.endsWith('"')?t.slice(1,-1):t}function Xvt(t){var e={};return G7(t.filter,(function(t){if(jrt(t)){var n=null;if(Art(t))n=ent(t.equal);else if(_rt(t))n=ent(t.lte);else if(Prt(t))n=ent(t.lt);else if(Drt(t))n=ent(t.gt);else if(Trt(t))n=ent(t.gte);else if(Zrt(t))n=t.range[0];else if(Frt(t)){var r;n=(null!==(r=t.oneOf)&&void 0!==r?r:t.in)[0]}n&&(Qnt(n)?e[t.field]="date":Hb(n)?e[t.field]="number":Vb(n)&&(e[t.field]="string")),t.timeUnit&&(e[t.field]="date")}})),e}function qvt(t){var e={};function n(t){var n;aat(t)?e[t.field]="date":"quantitative"===t.type&&(Vb(n=t.aggregate)&&o9(["min","max"],n))?e[t.field]="number":D9(t.field)>1?t.field in e||(e[t.field]="flatten"):Not(t)&&fot(t.sort)&&D9(t.sort.field)>1&&(t.sort.field in e||(e[t.sort.field]="flatten"))}if((cyt(t)||lyt(t))&&t.forEachFieldDef((function(e,r){if(Rot(e))n(e);else{var i=Utt(r),o=t.fieldDef(i);n(Vvt(Vvt({},e),{},{type:o.type}))}})),cyt(t)){var r=t.mark,i=t.markDef,o=t.encoding;if(Pit(r)&&!t.encoding.order){var a=o["horizontal"===i.orient?"y":"x"];_ot(a)&&"quantitative"===a.type&&!(a.field in e)&&(e[a.field]="number")}}return e}var Yvt=function(t){(0,Bm.Z)(n,t);var e=zvt(n);function n(t,r){var i;return(0,Rm.Z)(this,n),(i=e.call(this,t))._parse=r,i}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this._parse))}},{key:"hash",value:function(){return"Parse ".concat(r9(this._parse))}},{key:"parse",get:function(){return this._parse}},{key:"merge",value:function(t){this._parse=Vvt(Vvt({},this._parse),t.parse),t.remove()}},{key:"assembleFormatParse",value:function(){var t,e={},n=Uvt(m9(this._parse));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=this._parse[r];1===D9(r)&&(e[r]=i)}}catch(o){n.e(o)}finally{n.f()}return e}},{key:"producedFields",value:function(){return new Set(m9(this._parse))}},{key:"dependentFields",value:function(){return new Set(m9(this._parse))}},{key:"assembleTransforms",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m9(this._parse).filter((function(t){return!e||D9(t)>1})).map((function(e){var n=function(t,e){var n=O9(t);if("number"===e)return"toNumber(".concat(n,")");if("boolean"===e)return"toBoolean(".concat(n,")");if("string"===e)return"toString(".concat(n,")");if("date"===e)return"toDate(".concat(n,")");if("flatten"===e)return n;if(e.startsWith("date:")){var r=Gvt(e.slice(5,e.length));return"timeParse(".concat(n,",'").concat(r,"')")}if(e.startsWith("utc:")){var i=Gvt(e.slice(4,e.length));return"utcParse(".concat(n,",'").concat(i,"')")}return $nt('Unrecognized parse "'.concat(e,'".')),null}(e,t._parse[e]);return n?{type:"formula",expr:n,as:_9(e)}:null})).filter((function(t){return null!==t}))}}],[{key:"makeExplicit",value:function(t,e,n){var r,i={},o=e.data;return!Ust(o)&&null!=o&&null!==(r=o.format)&&void 0!==r&&r.parse&&(i=o.format.parse),this.makeWithAncestors(t,i,{},n)}},{key:"makeWithAncestors",value:function(t,e,r,i){var o,a=Uvt(m9(r));try{for(a.s();!(o=a.n()).done;){var c=o.value,l=i.getWithExplicit(c);void 0!==l.value&&(l.explicit||l.value===r[c]||"derived"===l.value||"flatten"===r[c]?delete r[c]:$nt(Mnt(c,r[c],l.value)))}}catch(b){a.e(b)}finally{a.f()}var u,s=Uvt(m9(e));try{for(s.s();!(u=s.n()).done;){var f=u.value,h=i.get(f);void 0!==h&&(h===e[f]?delete e[f]:$nt(Mnt(f,e[f],h)))}}catch(b){s.e(b)}finally{s.f()}var d=new _st(e,r);i.copyAll(d);var p,v={},g=Uvt(m9(d.combine()));try{for(g.s();!(p=g.n()).done;){var m=p.value,y=d.get(m);null!==y&&(v[m]=y)}}catch(b){g.e(b)}finally{g.f()}return 0===m9(v).length||i.parseNothing?null:new n(t,v)}}]),n}(nft);function $vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Kvt=function(t){(0,Bm.Z)(n,t);var e=$vt(n);function n(t){return(0,Rm.Z)(this,n),e.call(this,t)}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set([Zct])}},{key:"hash",value:function(){return"Identifier"}},{key:"assemble",value:function(){return{type:"identifier",as:Zct}}}]),n}(nft);function Jvt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qvt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var tgt=function(t){(0,Bm.Z)(n,t);var e=Qvt(n);function n(t,r){var i;return(0,Rm.Z)(this,n),(i=e.call(this,t)).params=r,i}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hash",value:function(){return"Graticule ".concat(r9(this.params))}},{key:"assemble",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jvt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jvt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({type:"graticule"},!0===this.params?{}:this.params)}}]),n}(nft);function egt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ngt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var rgt=function(t){(0,Bm.Z)(n,t);var e=ngt(n);function n(t,r){var i;return(0,Rm.Z)(this,n),(i=e.call(this,t)).params=r,i}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){var t;return new Set([null!==(t=this.params.as)&&void 0!==t?t:"data"])}},{key:"hash",value:function(){return"Hash ".concat(r9(this.params))}},{key:"assemble",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?egt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):egt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({type:"sequence"},this.params)}}]),n}(nft);function igt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ogt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?igt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):igt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function agt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var cgt=function(t){(0,Bm.Z)(n,t);var e=agt(n);function n(t){var r,i,o;if((0,Rm.Z)(this,n),i=e.call(this,null),null!==(r=t)&&void 0!==r||(t={name:"source"}),Ust(t)||(o=t.format?ogt({},e9(t.format,["parse"])):{}),Bst(t))i._data={values:t.values};else if(Nst(t)){if(i._data={url:t.url},!o.type){var a=/(?:\.([^.]+))?$/.exec(t.url)[1];o9(["json","csv","tsv","dsv","topojson"],a)||(a="json"),o.type=a}}else Wst(t)?i._data={values:[{type:"Sphere"}]}:(zst(t)||Ust(t))&&(i._data={});return i._generator=Ust(t),t.name&&(i._name=t.name),o&&!g9(o)&&(i._data.format=o),i}return(0,Lm.Z)(n,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"data",get:function(){return this._data}},{key:"hasName",value:function(){return!!this._name}},{key:"isGenerator",get:function(){return this._generator}},{key:"dataName",get:function(){return this._name},set:function(t){this._name=t}},{key:"parent",set:function(t){throw new Error("Source nodes have to be roots.")}},{key:"remove",value:function(){throw new Error("Source nodes are roots and cannot be removed.")}},{key:"hash",value:function(){throw new Error("Cannot hash sources")}},{key:"assemble",value:function(){return ogt(ogt({name:this._name},this._data),{},{transform:[]})}}]),n}(nft);function lgt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ugt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ugt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function ugt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sgt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var fgt,hgt=function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n},dgt=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};function pgt(t){return t instanceof cgt||t instanceof tgt||t instanceof rgt}var vgt=function(){function t(){(0,Rm.Z)(this,t),fgt.set(this,void 0),hgt(this,fgt,!1,"f")}return(0,Lm.Z)(t,[{key:"setModified",value:function(){hgt(this,fgt,!0,"f")}},{key:"modifiedFlag",get:function(){return dgt(this,fgt,"f")}}]),t}();fgt=new WeakMap;var ggt=function(t){(0,Bm.Z)(n,t);var e=sgt(n);function n(){return(0,Rm.Z)(this,n),e.apply(this,arguments)}return(0,Lm.Z)(n,[{key:"getNodeDepths",value:function(t,e,n){n.set(t,e);var r,i=lgt(t.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.getNodeDepths(o,e+1,n)}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"optimize",value:function(t){var e,n=this.getNodeDepths(t,0,new Map),r=(0,Xm.Z)(n.entries()).sort((function(t,e){return e[1]-t[1]})),i=lgt(r);try{for(i.s();!(e=i.n()).done;){var o=e.value;this.run(o[0])}}catch(a){i.e(a)}finally{i.f()}return this.modifiedFlag}}]),n}(vgt),mgt=function(t){(0,Bm.Z)(n,t);var e=sgt(n);function n(){return(0,Rm.Z)(this,n),e.apply(this,arguments)}return(0,Lm.Z)(n,[{key:"optimize",value:function(t){this.run(t);var e,n=lgt(t.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.optimize(r)}}catch(i){n.e(i)}finally{n.f()}return this.modifiedFlag}}]),n}(vgt);function ygt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return bgt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bgt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function bgt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xgt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var wgt=function(t){(0,Bm.Z)(n,t);var e=xgt(n);function n(){return(0,Rm.Z)(this,n),e.apply(this,arguments)}return(0,Lm.Z)(n,[{key:"mergeNodes",value:function(t,e){var n,r=e.shift(),i=ygt(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.removeChild(o),o.parent=r,o.remove()}}catch(a){i.e(a)}finally{i.f()}}},{key:"run",value:function(t){for(var e=t.children.map((function(t){return t.hash()})),n={},r=0;r<e.length;r++)void 0===n[e[r]]?n[e[r]]=[t.children[r]]:n[e[r]].push(t.children[r]);var i,o=ygt(m9(n));try{for(o.s();!(i=o.n()).done;){var a=i.value;n[a].length>1&&(this.setModified(),this.mergeNodes(t,n[a]))}}catch(c){o.e(c)}finally{o.f()}}}]),n}(mgt),Sgt=function(t){(0,Bm.Z)(n,t);var e=xgt(n);function n(t){var r;return(0,Rm.Z)(this,n),(r=e.call(this)).requiresSelectionId=t&&hdt(t),r}return(0,Lm.Z)(n,[{key:"run",value:function(t){t instanceof Kvt&&(this.requiresSelectionId&&(pgt(t.parent)||t.parent instanceof Fvt||t.parent instanceof Yvt)||(this.setModified(),t.remove()))}}]),n}(mgt),kgt=function(t){(0,Bm.Z)(n,t);var e=xgt(n);function n(){return(0,Rm.Z)(this,n),e.apply(this,arguments)}return(0,Lm.Z)(n,[{key:"optimize",value:function(t){return this.run(t,new Set),this.modifiedFlag}},{key:"run",value:function(t,e){var n=new Set;t instanceof dft&&d9(n=t.producedFields(),e)&&(this.setModified(),t.removeFormulas(e),0===t.producedFields.length&&t.remove());var r,i=ygt(t.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.run(o,new Set([].concat((0,Xm.Z)(e),(0,Xm.Z)(n))))}}catch(a){i.e(a)}finally{i.f()}}}]),n}(vgt),Cgt=function(t){(0,Bm.Z)(n,t);var e=xgt(n);function n(){return(0,Rm.Z)(this,n),e.call(this)}return(0,Lm.Z)(n,[{key:"run",value:function(t){t instanceof rft&&!t.isRequired()&&(this.setModified(),t.remove())}}]),n}(mgt),Ogt=function(t){(0,Bm.Z)(n,t);var e=xgt(n);function n(){return(0,Rm.Z)(this,n),e.apply(this,arguments)}return(0,Lm.Z)(n,[{key:"run",value:function(t){if(!(pgt(t)||t.numChildren()>1)){var e,n=ygt(t.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r instanceof Yvt)if(t instanceof Yvt)this.setModified(),t.merge(r);else{if(v9(t.producedFields(),r.dependentFields()))continue;this.setModified(),r.swapWithParent()}}}catch(i){n.e(i)}finally{n.f()}}}}]),n}(ggt),Egt=function(t){(0,Bm.Z)(n,t);var e=xgt(n);function n(){return(0,Rm.Z)(this,n),e.apply(this,arguments)}return(0,Lm.Z)(n,[{key:"run",value:function(t){var e=(0,Xm.Z)(t.children),n=t.children.filter((function(t){return t instanceof Yvt}));if(t.numChildren()>1&&n.length>=1){var r,i={},o=new Set,a=ygt(n);try{for(a.s();!(r=a.n()).done;){var c,l=r.value.parse,u=ygt(m9(l));try{for(u.s();!(c=u.n()).done;){var s=c.value;s in i?i[s]!==l[s]&&o.add(s):i[s]=l[s]}}catch(x){u.e(x)}finally{u.f()}}}catch(x){a.e(x)}finally{a.f()}var f,h=ygt(o);try{for(h.s();!(f=h.n()).done;){delete i[f.value]}}catch(x){h.e(x)}finally{h.f()}if(!g9(i)){this.setModified();var d,p=new Yvt(t,i),v=ygt(e);try{for(v.s();!(d=v.n()).done;){var g=d.value;if(g instanceof Yvt){var m,y=ygt(m9(i));try{for(y.s();!(m=y.n()).done;){var b=m.value;delete g.parse[b]}}catch(x){y.e(x)}finally{y.f()}}t.removeChild(g),g.parent=p,g instanceof Yvt&&0===m9(g.parse).length&&g.remove()}}catch(x){v.e(x)}finally{v.f()}}}}}]),n}(ggt),Mgt=function(t){(0,Bm.Z)(n,t);var e=xgt(n);function n(){return(0,Rm.Z)(this,n),e.apply(this,arguments)}return(0,Lm.Z)(n,[{key:"run",value:function(t){t instanceof rft||t.numChildren()>0||t instanceof Bvt||t instanceof cgt||(this.setModified(),t.remove())}}]),n}(ggt),Agt=function(t){(0,Bm.Z)(n,t);var e=xgt(n);function n(){return(0,Rm.Z)(this,n),e.apply(this,arguments)}return(0,Lm.Z)(n,[{key:"run",value:function(t){var e,n=t.children.filter((function(t){return t instanceof dft})),r=n.pop(),i=ygt(n);try{for(i.s();!(e=i.n()).done;){var o=e.value;this.setModified(),r.merge(o)}}catch(a){i.e(a)}finally{i.f()}}}]),n}(ggt),Pgt=function(t){(0,Bm.Z)(n,t);var e=xgt(n);function n(){return(0,Rm.Z)(this,n),e.apply(this,arguments)}return(0,Lm.Z)(n,[{key:"run",value:function(t){var e,n={},r=ygt(t.children.filter((function(t){return t instanceof Fvt})));try{for(r.s();!(e=r.n()).done;){var i=e.value,o=r9(i.groupBy);o in n||(n[o]=[]),n[o].push(i)}}catch(d){r.e(d)}finally{r.f()}var a,c=ygt(m9(n));try{for(c.s();!(a=c.n()).done;){var l=n[a.value];if(l.length>1){var u,s=l.pop(),f=ygt(l);try{for(f.s();!(u=f.n()).done;){var h=u.value;s.merge(h)&&(t.removeChild(h),h.parent=s,h.remove(),this.setModified())}}catch(d){f.e(d)}finally{f.f()}}}}catch(d){c.e(d)}finally{c.f()}}}]),n}(ggt),_gt=function(t){(0,Bm.Z)(n,t);var e=xgt(n);function n(t){var r;return(0,Rm.Z)(this,n),(r=e.call(this)).model=t,r}return(0,Lm.Z)(n,[{key:"run",value:function(t){var e,n=!(pgt(t)||t instanceof ydt||t instanceof Yvt||t instanceof Kvt),r=[],i=[],o=ygt(t.children);try{for(o.s();!(e=o.n()).done;){var a=e.value;a instanceof Pvt&&(n&&!v9(t.producedFields(),a.dependentFields())?r.push(a):i.push(a))}}catch(v){o.e(v)}finally{o.f()}if(r.length>0){var c,l=r.pop(),u=ygt(r);try{for(u.s();!(c=u.n()).done;){var s=c.value;l.merge(s,this.model.renameSignal.bind(this.model))}}catch(v){u.e(v)}finally{u.f()}this.setModified(),t instanceof Pvt?t.merge(l,this.model.renameSignal.bind(this.model)):l.swapWithParent()}if(i.length>1){var f,h=i.pop(),d=ygt(i);try{for(d.s();!(f=d.n()).done;){var p=f.value;h.merge(p,this.model.renameSignal.bind(this.model))}}catch(v){d.e(v)}finally{d.f()}this.setModified()}}}]),n}(ggt),Dgt=function(t){(0,Bm.Z)(n,t);var e=xgt(n);function n(){return(0,Rm.Z)(this,n),e.apply(this,arguments)}return(0,Lm.Z)(n,[{key:"run",value:function(t){var e=(0,Xm.Z)(t.children),n=a9(e,(function(t){return t instanceof rft}));if(n&&!(t.numChildren()<=1)){var r,i,o=[],a=ygt(e);try{for(a.s();!(i=a.n()).done;){var c=i.value;if(c instanceof rft){for(var l=c;1===l.numChildren();){var u=(0,G.Z)(l.children,1)[0];if(!(u instanceof rft))break;l=u}o.push.apply(o,(0,Xm.Z)(l.children)),r?(t.removeChild(c),c.parent=r.parent,r.parent.removeChild(r),r.parent=l,this.setModified()):r=l}else o.push(c)}}catch(d){a.e(d)}finally{a.f()}if(o.length){this.setModified();var s,f=ygt(o);try{for(f.s();!(s=f.n()).done;){var h=s.value;h.parent.removeChild(h),h.parent=r}}catch(d){f.e(d)}finally{f.f()}}}}}]),n}(ggt);function Tgt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zgt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Fgt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fgt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Fgt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jgt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Igt=function(t){(0,Bm.Z)(n,t);var e=jgt(n);function n(t,r){var i;return(0,Rm.Z)(this,n),(i=e.call(this,t)).transform=r,i}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this.transform))}},{key:"addDimensions",value:function(t){this.transform.groupby=s9(this.transform.groupby.concat(t),(function(t){return t}))}},{key:"dependentFields",value:function(){var t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map((function(t){return t.field})).filter((function(t){return void 0!==t})).forEach(t.add,t),t}},{key:"producedFields",value:function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}},{key:"getDefaultName",value:function(t){var e;return null!==(e=t.as)&&void 0!==e?e:Wot(t)}},{key:"hash",value:function(){return"JoinAggregateTransform ".concat(r9(this.transform))}},{key:"assemble",value:function(){var t,e=[],n=[],r=[],i=Zgt(this.transform.joinaggregate);try{for(i.s();!(t=i.n()).done;){var o=t.value;n.push(o.op),r.push(this.getDefaultName(o)),e.push(void 0===o.field?null:o.field)}}catch(c){i.e(c)}finally{i.f()}var a=this.transform.groupby;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tgt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tgt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({type:"joinaggregate",as:r,ops:n,fields:e},void 0!==a?{groupby:a}:{})}}]),n}(nft);function Rgt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Lgt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lgt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Lgt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ngt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Bgt=function(t){(0,Bm.Z)(n,t);var e=Ngt(n);function n(t,r){var i;return(0,Rm.Z)(this,n),(i=e.call(this,t))._stack=r,i}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this._stack))}},{key:"stack",get:function(){return this._stack}},{key:"addDimensions",value:function(t){var e;(e=this._stack.facetby).push.apply(e,(0,Xm.Z)(t))}},{key:"dependentFields",value:function(){var t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}},{key:"producedFields",value:function(){return new Set(this._stack.as)}},{key:"hash",value:function(){return"Stack ".concat(r9(this._stack))}},{key:"getGroupbyFields",value:function(){var t=this._stack,e=t.dimensionFieldDefs,n=t.impute,r=t.groupby;return e.length>0?e.map((function(t){return t.bin?n?[Wot(t,{binSuffix:"mid"})]:[Wot(t,{}),Wot(t,{binSuffix:"end"})]:[Wot(t)]})).flat():null!=r?r:[]}},{key:"assemble",value:function(){var t=[],e=this._stack,n=e.facetby,r=e.dimensionFieldDefs,i=e.stackField,o=e.stackby,a=e.sort,c=e.offset,l=e.impute,u=e.as;if(l){var s,f=Rgt(r);try{for(f.s();!(s=f.n()).done;){var h=s.value,d=h.bandPosition,p=void 0===d?.5:d;if(h.bin){var v=Wot(h,{expr:"datum"}),g=Wot(h,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:"".concat(p,"*").concat(v,"+").concat(1-p,"*").concat(g),as:Wot(h,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[].concat((0,Xm.Z)(o),(0,Xm.Z)(n)),key:Wot(h,{binSuffix:"mid"}),method:"value",value:0})}}catch(m){f.e(m)}finally{f.f()}}return t.push({type:"stack",groupby:[].concat((0,Xm.Z)(this.getGroupbyFields()),(0,Xm.Z)(n)),field:i,sort:a,as:u,offset:c}),t}}],[{key:"makeFromTransform",value:function(t,e){var r=e.stack,i=e.groupby,o=e.as,a=e.offset,c=void 0===a?"zero":a,l=[],u=[];if(void 0!==e.sort){var s,f=Rgt(e.sort);try{for(f.s();!(s=f.n()).done;){var h=s.value;l.push(h.field),u.push(T9(h.order,"ascending"))}}catch(v){f.e(v)}finally{f.f()}}var d,p={field:l,order:u};return d=function(t){return qy(t)&&t.every((function(t){return Vb(t)}))&&t.length>1}(o)?o:Vb(o)?[o,"".concat(o,"_end")]:["".concat(e.stack,"_start"),"".concat(e.stack,"_end")],new n(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:c,sort:p,facetby:[],as:d})}},{key:"makeFromEncoding",value:function(t,e){var r=e.stack,i=e.encoding;if(!r)return null;var o,a=r.groupbyChannels,c=r.fieldChannel,l=r.offset,u=r.impute,s=a.map((function(t){return Qot(i[t])})).filter((function(t){return!!t})),f=function(t){return t.stack.stackBy.reduce((function(t,e){var n=Wot(e.fieldDef);return n&&t.push(n),t}),[])}(e),h=e.encoding.order;if(qy(h)||_ot(h))o=hnt(h);else{var d=Eot(h)?h.sort:"y"===c?"descending":"ascending";o=f.reduce((function(t,e){return t.field.push(e),t.order.push(d),t}),{field:[],order:[]})}return new n(t,{dimensionFieldDefs:s,stackField:e.vgField(c),facetby:[],stackby:f,sort:o,offset:l,impute:u,as:[e.vgField(c,{suffix:"start",forAs:!0}),e.vgField(c,{suffix:"end",forAs:!0})]})}}]),n}(nft);function zgt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ugt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zgt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zgt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Hgt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Wgt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wgt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Wgt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vgt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Ggt=function(t){(0,Bm.Z)(n,t);var e=Vgt(n);function n(t,r){var i;return(0,Rm.Z)(this,n),(i=e.call(this,t)).transform=r,i}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this.transform))}},{key:"addDimensions",value:function(t){this.transform.groupby=s9(this.transform.groupby.concat(t),(function(t){return t}))}},{key:"dependentFields",value:function(){var t,e,n=new Set;return(null!==(t=this.transform.groupby)&&void 0!==t?t:[]).forEach(n.add,n),(null!==(e=this.transform.sort)&&void 0!==e?e:[]).forEach((function(t){return n.add(t.field)})),this.transform.window.map((function(t){return t.field})).filter((function(t){return void 0!==t})).forEach(n.add,n),n}},{key:"producedFields",value:function(){return new Set(this.transform.window.map(this.getDefaultName))}},{key:"getDefaultName",value:function(t){var e;return null!==(e=t.as)&&void 0!==e?e:Wot(t)}},{key:"hash",value:function(){return"WindowTransform ".concat(r9(this.transform))}},{key:"assemble",value:function(){var t,e=[],n=[],r=[],i=[],o=Hgt(this.transform.window);try{for(o.s();!(t=o.n()).done;){var a=t.value;n.push(a.op),r.push(this.getDefaultName(a)),i.push(void 0===a.param?null:a.param),e.push(void 0===a.field?null:a.field)}}catch(m){o.e(m)}finally{o.f()}var c=this.transform.frame,l=this.transform.groupby;if(c&&null===c[0]&&null===c[1]&&n.every((function(t){return xet(t)})))return Ugt({type:"joinaggregate",as:r,ops:n,fields:e},void 0!==l?{groupby:l}:{});var u=[],s=[];if(void 0!==this.transform.sort){var f,h=Hgt(this.transform.sort);try{for(h.s();!(f=h.n()).done;){var d,p=f.value;u.push(p.field),s.push(null!==(d=p.order)&&void 0!==d?d:"ascending")}}catch(m){h.e(m)}finally{h.f()}}var v={field:u,order:s},g=this.transform.ignorePeers;return Ugt(Ugt(Ugt({type:"window",params:i,as:r,ops:n,fields:e,sort:v},void 0!==g?{ignorePeers:g}:{}),void 0!==l?{groupby:l}:{}),void 0!==c?{frame:c}:{})}}]),n}(nft);function Xgt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return qgt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qgt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function qgt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ygt(t){if(t instanceof Bvt)if(1!==t.numChildren()||t.children[0]instanceof rft){var e=t.model.component.data.main;$gt(e);var n,r=(a=t,function t(e){if(!(e instanceof Bvt)){var n=e.clone();if(n instanceof rft){var r=Qgt+n.getSource();n.setSource(r),a.model.component.data.outputNodes[r]=n}else(n instanceof Fvt||n instanceof Bgt||n instanceof Ggt||n instanceof Igt)&&n.addDimensions(a.fields);var i,o=Xgt(e.children.flatMap(t));try{for(o.s();!(i=o.n()).done;)i.value.parent=n}catch(c){o.e(c)}finally{o.f()}return[n]}return e.children.flatMap(t)}),i=Xgt(t.children.map(r).flat());try{for(i.s();!(n=i.n()).done;){n.value.parent=e}}catch(c){i.e(c)}finally{i.f()}}else{var o=t.children[0];(o instanceof Fvt||o instanceof Bgt||o instanceof Ggt||o instanceof Igt)&&o.addDimensions(t.fields),o.swapWithParent(),Ygt(t)}else t.children.map(Ygt);var a}function $gt(t){if(t instanceof rft&&t.type===Rst.Main&&1===t.numChildren()){var e=t.children[0];e instanceof Bvt||(e.swapWithParent(),$gt(t))}}function Kgt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Jgt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jgt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Jgt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qgt="scale_",tmt=5;function emt(t){var e,n=Kgt(t);try{for(n.s();!(e=n.n()).done;){var r,i=e.value,o=Kgt(i.children);try{for(o.s();!(r=o.n()).done;){if(r.value.parent!==i)return!1}}catch(a){o.e(a)}finally{o.f()}if(!emt(i.children))return!1}}catch(a){n.e(a)}finally{n.f()}return!0}function nmt(t,e){var n,r=!1,i=Kgt(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;r=t.optimize(o)||r}}catch(a){i.e(a)}finally{i.f()}return r}function rmt(t,e,n){var r=t.sources,i=!1;return i=nmt(new Cgt,r)||i,i=nmt(new Sgt(e),r)||i,r=r.filter((function(t){return t.numChildren()>0})),i=nmt(new Mgt,r)||i,r=r.filter((function(t){return t.numChildren()>0})),n||(i=nmt(new Ogt,r)||i,i=nmt(new _gt(e),r)||i,i=nmt(new kgt,r)||i,i=nmt(new Egt,r)||i,i=nmt(new Pgt,r)||i,i=nmt(new Agt,r)||i,i=nmt(new wgt,r)||i,i=nmt(new Dgt,r)||i),t.sources=r,i}var imt=function(){function t(e){(0,Rm.Z)(this,t),Object.defineProperty(this,"signal",{enumerable:!0,get:e})}return(0,Lm.Z)(t,null,[{key:"fromName",value:function(e,n){return new t((function(){return e(n)}))}}]),t}(),omt=["sort"];function amt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cmt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?amt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):amt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lmt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return umt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return umt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function umt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function smt(t){cyt(t)?function(t){var e,n=t.component.scales,r=lmt(m9(n));try{for(r.s();!(e=r.n()).done;){var i=e.value,o=fmt(t,i);if(n[i].setWithExplicit("domains",o),vmt(t,i),t.component.data.isFaceted){for(var a=t;!lyt(a)&&a.parent;)a=a.parent;if("shared"===a.component.resolve.scale[i]){var c,l=lmt(o.value);try{for(l.s();!(c=l.n()).done;){var u=c.value;Het(u)&&(u.data=Qgt+u.data.replace(Qgt,""))}}catch(s){l.e(s)}finally{l.f()}}}}}catch(s){r.e(s)}finally{r.f()}}(t):function(t){var e,n=lmt(t.children);try{for(n.s();!(e=n.n()).done;){smt(e.value)}}catch(d){n.e(d)}finally{n.f()}var r,i=t.component.scales,o=lmt(m9(i));try{for(o.s();!(r=o.n()).done;){var a,c=r.value,l=void 0,u=null,s=lmt(t.children);try{for(s.s();!(a=s.n()).done;){var f=a.value.component.scales[c];if(f){l=void 0===l?f.getWithExplicit("domains"):jst(l,f.getWithExplicit("domains"),"domains","scale",mmt);var h=f.get("selectionExtent");u&&h&&u.param!==h.param&&$nt(Ont),u=h}}}catch(d){s.e(d)}finally{s.f()}i[c].setWithExplicit("domains",l),u&&i[c].set("selectionExtent",u,!0)}}catch(d){o.e(d)}finally{o.f()}}(t)}function fmt(t,e){var n=t.getScaleComponent(e).get("type"),r=t.encoding,i=function(t,e,n,r){if("unaggregated"===t){var i=gmt(e,n),o=i.valid,a=i.reason;if(!o)return void $nt(a)}else if(void 0===t&&r.useUnaggregatedDomain&&gmt(e,n).valid)return"unaggregated";return t}(t.scaleDomain(e),t.typedFieldDef(e),n,t.config.scale);return i!==t.scaleDomain(e)&&(t.specifiedScales[e]=cmt(cmt({},t.specifiedScales[e]),{},{domain:i})),"x"===e&&tat(r.x2)?tat(r.x)?jst(dmt(n,i,t,"x"),dmt(n,i,t,"x2"),"domain","scale",mmt):dmt(n,i,t,"x2"):"y"===e&&tat(r.y2)?tat(r.y)?jst(dmt(n,i,t,"y"),dmt(n,i,t,"y2"),"domain","scale",mmt):dmt(n,i,t,"y2"):dmt(n,i,t,e)}function hmt(t,e,n){var r,i=null===(r=Srt(n))||void 0===r?void 0:r.unit;return"temporal"===e||i?function(t,e,n){return t.map((function(t){var r=cat(t,{timeUnit:n,type:e});return{signal:"{data: ".concat(r,"}")}}))}(t,e,i):[t]}function dmt(t,e,n,r){var i=tat(n.encoding[r]),o=i.type,a=i.timeUnit;if(function(t){return null==t?void 0:t.unionWith}(e)){var c=dmt(t,void 0,n,r),l=hmt(e.unionWith,o,a);return Dst([].concat((0,Xm.Z)(l),(0,Xm.Z)(c.value)))}if(zet(e))return Dst([e]);if(e&&"unaggregated"!==e&&!lit(e))return Dst(hmt(e,o,a));var u=n.stack;if(u&&r===u.fieldChannel){if("normalize"===u.offset)return Tst([[0,1]]);var s=n.requestDataName(Rst.Main);return Tst([{data:s,field:n.vgField(r,{suffix:"start"})},{data:s,field:n.vgField(r,{suffix:"end"})}])}var f=fet(r)&&_ot(i)?function(t,e,n){if(!iit(n))return;var r=t.fieldDef(e),i=r.sort;if(hot(i))return{op:"min",field:$dt(r,e),order:"ascending"};var o=t.stack,a=o?new Set([].concat((0,Xm.Z)(o.groupbyFields),(0,Xm.Z)(o.stackBy.map((function(t){return t.fieldDef.field}))))):void 0;if(fot(i))return pmt(i,o&&!a.has(i.field));if(sot(i)){var c=i.encoding,l=i.order,u=t.fieldDef(c),s=u.aggregate,f=u.field,h=o&&!a.has(f);if(yet(s)||bet(s))return pmt({field:Wot(u),order:l},h);if(xet(s)||!s)return pmt({op:s,field:f,order:l},h)}else{if("descending"===i)return{op:"min",field:t.vgField(e),order:"descending"};if(o9(["ascending",void 0],i))return!0}return}(n,r,t):void 0;if(Tot(i))return Tst(hmt([i.datum],o,a));var h=i;if("unaggregated"===e){var d=n.requestDataName(Rst.Main),p=i.field;return Tst([{data:d,field:Wot({field:p,aggregate:"min"})},{data:d,field:Wot({field:p,aggregate:"max"})}])}if(Met(h.bin)){if(iit(t))return Tst("bin-ordinal"===t?[]:[{data:x9(f)?n.requestDataName(Rst.Main):n.requestDataName(Rst.Raw),field:n.vgField(r,uat(h,r)?{binSuffix:"range"}:{}),sort:!0!==f&&Yy(f)?f:{field:n.vgField(r,{}),op:"min"}}]);var v=h.bin;if(Met(v)){var g=Mvt(n,h.field,v);return Tst([new imt((function(){var t=n.getSignalName(g);return"[".concat(t,".start, ").concat(t,".stop]")}))])}return Tst([{data:n.requestDataName(Rst.Main),field:n.vgField(r,{})}])}if(h.timeUnit&&o9(["time","utc"],t)&&Oot(h,cyt(n)?n.encoding[Wtt(r)]:void 0,n.markDef,n.config)){var m=n.requestDataName(Rst.Main);return Tst([{data:m,field:n.vgField(r)},{data:m,field:n.vgField(r,{suffix:"end"})}])}return Tst(f?[{data:x9(f)?n.requestDataName(Rst.Main):n.requestDataName(Rst.Raw),field:n.vgField(r),sort:f}]:[{data:n.requestDataName(Rst.Main),field:n.vgField(r)}])}function pmt(t,e){var n=t.op,r=t.field,i=t.order;return cmt(cmt({op:null!=n?n:e?"sum":cot},r?{field:A9(r)}:{}),i?{order:i}:{})}function vmt(t,e){var n,r=t.component.scales[e],i=t.specifiedScales[e].domain,o=null===(n=t.fieldDef(e))||void 0===n?void 0:n.bin,a=lit(i)&&i,c=Pet(o)&&_et(o.extent)&&o.extent;(a||c)&&r.set("selectionExtent",null!=a?a:c,!0)}function gmt(t,e){var n=t.aggregate,r=t.type;return n?Vb(n)&&!Oet.has(n)?{valid:!1,reason:Nnt(n)}:"quantitative"===r&&"log"===e?{valid:!1,reason:Bnt(t)}:{valid:!0}:{valid:!1,reason:Lnt(t)}}function mmt(t,e,n,r){return t.explicit&&e.explicit&&$nt(function(t,e,n,r){return"Conflicting ".concat(e.toString(),' property "').concat(t.toString(),'" (').concat(n9(n)," and ").concat(n9(r),"). Using the union of the two domains.")}(n,r,t.value,e.value)),{explicit:t.explicit,value:[].concat((0,Xm.Z)(t.value),(0,Xm.Z)(e.value))}}function ymt(t){var e=s9(t.map((function(t){if(Het(t)){t.sort;return(0,I.Z)(t,omt)}return t})),r9),n=s9(t.map((function(t){if(Het(t)){var e=t.sort;return void 0===e||x9(e)||("op"in e&&"count"===e.op&&delete e.field,"ascending"===e.order&&delete e.order),e}})).filter((function(t){return void 0!==t})),r9);if(0!==e.length){if(1===e.length){var r=t[0];if(Het(r)&&n.length>0){var i=n[0];if(n.length>1){$nt(Hnt);var o=n.filter((function(t){return Yy(t)&&"op"in t&&"min"!==t.op}));i=!n.every((function(t){return Yy(t)&&"op"in t}))||1!==o.length||o[0]}else if(Yy(i)&&"field"in i){var a=i.field;r.field===a&&(i=!i.order||{order:i.order})}return cmt(cmt({},r),{},{sort:i})}return r}var c,l=s9(n.map((function(t){return x9(t)||!("op"in t)||Vb(t.op)&&t.op in met?t:($nt(function(t){return"Dropping sort property ".concat(n9(t),' as unioned domains only support boolean or op "count", "min", and "max".')}(t)),!0)})),r9);1===l.length?c=l[0]:l.length>1&&($nt(Hnt),c=!0);var u=s9(t.map((function(t){return Het(t)?t.data:null})),(function(t){return t}));return 1===u.length&&null!==u[0]?cmt({data:u[0],fields:e.map((function(t){return t.field}))},c?{sort:c}:{}):cmt({fields:e},c?{sort:c}:{})}}function bmt(t){if(Het(t)&&Vb(t.field))return t.field;if(function(t){return!qy(t)&&"fields"in t&&!("data"in t)}(t)){var e,n,r=lmt(t.fields);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(Het(i)&&Vb(i.field))if(e){if(e!==i.field)return $nt("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),e}else e=i.field}}catch(a){r.e(a)}finally{r.f()}return $nt("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect."),e}if(function(t){return!qy(t)&&"fields"in t&&"data"in t}(t)){$nt("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");var o=t.fields[0];return Vb(o)?o:void 0}}function xmt(t,e){var n=t.component.scales[e].get("domains").map((function(e){return Het(e)&&(e.data=t.lookupDataSource(e.data)),e}));return ymt(n)}var wmt=["name","type","selectionExtent","domains","range","reverse"];function Smt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kmt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Smt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Smt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Cmt(t){return syt(t)||uyt(t)?t.children.reduce((function(t,e){return t.concat(Cmt(e))}),Omt(t)):Omt(t)}function Omt(t){return m9(t.component.scales).reduce((function(e,n){var r=t.component.scales[n];if(r.merged)return e;var i=r.combine(),o=i.name,a=i.type,c=i.selectionExtent,l=(i.domains,i.range,i.reverse),u=(0,I.Z)(i,wmt),s=function(t,e,n,r){if(tet(n)){if(Uet(t))return{step:{signal:"".concat(e,"_step")}}}else if(Yy(t)&&Het(t))return kmt(kmt({},t),{},{data:r.lookupDataSource(t.data)});return t}(i.range,o,n,t),f=xmt(t,n),h=c?function(t,e,n,r){var i=Cdt(t,e.param,e);return{signal:oit(n.get("type"))&&qy(r)&&r[0]>r[1]?"isValid(".concat(i,") && reverse(").concat(i,")"):i}}(t,c,r,f):null;return e.push(kmt(kmt(kmt(kmt({name:o,type:a},f?{domain:f}:{}),h?{domainRaw:h}:{}),{},{range:s},void 0!==l?{reverse:l}:{}),u)),e}),[])}function Emt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Mmt=function(t){(0,Bm.Z)(n,t);var e=Emt(n);function n(t,r){var i;return(0,Rm.Z)(this,n),(i=e.call(this,{},{name:t})).merged=!1,i.setWithExplicit("type",r),i}return(0,Lm.Z)(n,[{key:"domainDefinitelyIncludesZero",value:function(){return!1!==this.get("zero")||a9(this.get("domains"),(function(t){return qy(t)&&2===t.length&&t[0]<=0&&t[1]>=0}))}}]),n}(_st);function Amt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pmt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _mt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _mt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function _mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dmt=["range","scheme"];function Tmt(t,e){var n=t.fieldDef(e);if(null!=n&&n.bin){var r=n.bin,i=n.field,o=Vtt(e),a=t.getName(o);if(Yy(r)&&r.binned&&void 0!==r.step)return new imt((function(){var n=t.scaleName(e),i='(domain("'.concat(n,'")[1] - domain("').concat(n,'")[0]) / ').concat(r.step);return"".concat(t.getSignalName(a)," / (").concat(i,")")}));if(Met(r)){var c=Mvt(t,i,r);return new imt((function(){var e=t.getSignalName(c),n="(".concat(e,".stop - ").concat(e,".start) / ").concat(e,".step");return"".concat(t.getSignalName(a)," / (").concat(n,")")}))}}}function Zmt(t,e){var n,r=e.specifiedScales[t],i=e.size,o=e.getScaleComponent(t).get("type"),a=Pmt(Dmt);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(void 0!==r[c]){var l=hit(o,c),u=dit(t,c);if(l)if(u)$nt(u);else switch(c){case"range":var s=r.range;if(qy(s)){if(tet(t))return Dst(s.map((function(t){if("width"===t||"height"===t){var n=e.getName(t),r=e.getSignalName.bind(e);return imt.fromName(r,n)}return t})))}else if(Yy(s))return Dst({data:e.requestDataName(Rst.Main),field:s.field,sort:{op:"min",field:e.vgField(t)}});return Dst(s);case"scheme":return Dst(Fmt(r[c]))}else $nt(znt(o,c,t))}}}catch(b){a.e(b)}finally{a.f()}var f=t===V9||"xOffset"===t?"width":"height",h=i[f];if($ct(h))if(tet(t))if(iit(o)){var d=jmt(h,e,t);if(d)return Dst({step:d})}else $nt(Unt(f));else if(oet(t)){var p=t===Y9?"x":"y";if("band"===e.getScaleComponent(p).get("type")){var v=Imt(h,o);if(v)return Dst(v)}}var g=r.rangeMin,m=r.rangeMax,y=function(t,e){var n=e.size,r=e.config,i=e.mark,o=e.encoding,a=e.getSignalName.bind(e),c=tat(o[t]),l=c.type,u=e.getScaleComponent(t),s=u.get("type"),f=e.specifiedScales[t],h=f.domain,d=f.domainMid;switch(t){case V9:case G9:if(o9(["point","band"],s)){var p=Rmt(t,n,r.view);if($ct(p))return{step:jmt(p,e,t)}}var v=Vtt(t),g=e.getName(v);return t===G9&&oit(s)?[imt.fromName(a,g),0]:[0,imt.fromName(a,g)];case Y9:case $9:return function(t,e,n){var r=t===Y9?"x":"y",i=e.getScaleComponent(r),o=i.get("type"),a=e.scaleName(r);if("band"===o){var c=Rmt(r,e.size,e.config.view);if($ct(c)){var l=Imt(c,n);if(l)return l}return[0,{signal:"bandwidth('".concat(a,"')")}]}var u=e.encoding[r];if(_ot(u)&&u.timeUnit){var s=krt(u.timeUnit,(function(t){return"scale('".concat(a,"', ").concat(t,")")})),f=e.config.scale.bandWithNestedOffsetPaddingInner;if(f){var h=zet(f)?"".concat(f.signal,"/2"):"".concat(f/2),d=zet(f)?"(1 - ".concat(f.signal,"/2)"):"".concat(1-f/2);return[{signal:"".concat(h," * (").concat(s,")")},{signal:"".concat(d," * (").concat(s,")")}]}return[0,{signal:s}]}return Q7("Cannot use ".concat(t," scale if ").concat(r," scale is not discrete."))}(t,e,s);case utt:var m=Lmt(i,e.component.scales[t].get("zero"),r),y=function(t,e,n,r){var i={x:Tmt(n,"x"),y:Tmt(n,"y")};switch(t){case"bar":case"tick":if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;var o=Bmt(e,i,r.view);return Hb(o)?o-1:new imt((function(){return"".concat(o.signal," - 1")}));case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":if(r.scale.maxSize)return r.scale.maxSize;var a=Bmt(e,i,r.view);return Hb(a)?Math.pow(Nmt*a,2):new imt((function(){return"pow(".concat(Nmt," * ").concat(a.signal,", 2)")}))}throw new Error(Znt("size",t))}(i,n,e,r);return cit(s)?function(t,e,n){var r=function(){var r=ant(e),i=ant(t),o="(".concat(r," - ").concat(i,") / (").concat(n," - 1)");return"sequence(".concat(i,", ").concat(r," + ").concat(o,", ").concat(o,")")};return zet(e)?new imt(r):{signal:r()}}(m,y,function(t,e,n,r){switch(t){case"quantile":return e.scale.quantileCount;case"quantize":return e.scale.quantizeCount;case"threshold":return void 0!==n&&qy(n)?n.length+1:($nt(function(t){return"Domain for ".concat(t," is required for threshold scale.")}(r)),3)}}(s,r,h,t)):[m,y];case Q9:return[0,2*Math.PI];case stt:return[0,360];case K9:return[0,new imt((function(){var t=e.getSignalName("width"),n=e.getSignalName("height");return"min(".concat(t,",").concat(n,")/2")}))];case ptt:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case vtt:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case ltt:return"symbol";case ott:case att:case ctt:return"ordinal"===s?"nominal"===l?"category":"ordinal":void 0!==d?"diverging":"rect"===i||"geoshape"===i?"heatmap":"ramp";case ftt:case htt:case dtt:return[r.scale.minOpacity,r.scale.maxOpacity]}}(t,e);return(void 0!==g||void 0!==m)&&hit(o,"rangeMin")&&qy(y)&&2===y.length?Dst([null!=g?g:y[0],null!=m?m:y[1]]):Tst(y)}function Fmt(t){return function(t){return!Vb(t)&&!!t.name}(t)?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Amt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Amt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({scheme:t.name},e9(t,["name"])):{scheme:t}}function jmt(t,e,n){var r=e.encoding,i=e.getScaleComponent(n),o=Xtt(n),a=r[o];if("offset"===Yct({step:t,offsetIsDiscrete:Iot(a)&&zrt(a.type)})&&Aat(r,o)){var c,l=e.getScaleComponent(o),u=e.scaleName(o),s="domain('".concat(u,"').length");if("band"===l.get("type")){var f,h,d,p,v=null!==(f=null!==(h=l.get("paddingInner"))&&void 0!==h?h:l.get("padding"))&&void 0!==f?f:0,g=null!==(d=null!==(p=l.get("paddingOuter"))&&void 0!==p?p:l.get("padding"))&&void 0!==d?d:0;s="bandspace(".concat(s,", ").concat(v,", ").concat(g,")")}var m=null!==(c=i.get("paddingInner"))&&void 0!==c?c:i.get("padding");return{signal:"".concat(t.step," * ").concat(s," / (1-").concat(int(m),")")}}return t.step}function Imt(t,e){if("offset"===Yct({step:t,offsetIsDiscrete:iit(e)}))return{step:t.step}}function Rmt(t,e,n){var r=t===V9?"width":"height",i=e[r];return i||alt(n,r)}function Lmt(t,e,n){if(e)return zet(e)?{signal:"".concat(e.signal," ? 0 : ").concat(Lmt(t,!1,n))}:0;switch(t){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(Znt("size",t))}var Nmt=.95;function Bmt(t,e,n){var r=$ct(t.width)?t.width.step:olt(n,"width"),i=$ct(t.height)?t.height.step:olt(n,"height");return e.x||e.y?new imt((function(){var t=[e.x?e.x.signal:r,e.y?e.y.signal:i];return"min(".concat(t.join(", "),")")})):Math.min(r,i)}function zmt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Umt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Umt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Umt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hmt(t,e){cyt(t)?function(t,e){var n,r=t.component.scales,i=t.config,o=t.encoding,a=t.markDef,c=t.specifiedScales,l=zmt(m9(r));try{for(l.s();!(n=l.n()).done;){var u=n.value,s=c[u],f=r[u],h=t.getScaleComponent(u),d=tat(o[u]),p=s[e],v=h.get("type"),g=h.get("padding"),m=h.get("paddingInner"),y=hit(v,e),b=dit(u,e);if(void 0!==p&&(y?b&&$nt(b):$nt(znt(v,e,u))),y&&void 0===b)if(void 0!==p){var x=d.timeUnit,w=d.type;switch(e){case"domainMax":case"domainMin":Qnt(s[e])||"temporal"===w||x?f.set(e,{signal:cat(s[e],{type:w,timeUnit:x})},!0):f.set(e,s[e],!0);break;default:f.copyKeyFromObject(e,s)}}else{var S=e in Wmt?Wmt[e]({model:t,channel:u,fieldOrDatumDef:d,scaleType:v,scalePadding:g,scalePaddingInner:m,domain:s.domain,domainMin:s.domainMin,domainMax:s.domainMax,markDef:a,config:i,hasNestedOffsetScale:Pat(o,u),hasSecondaryRangeChannel:!!o[Wtt(u)]}):i.scale[e];void 0!==S&&f.set(e,S,!1)}}}catch(k){l.e(k)}finally{l.f()}}(t,e):Gmt(t,e)}var Wmt={bins:function(t){var e=t.model,n=t.fieldOrDatumDef;return _ot(n)?function(t,e){var n=e.bin;if(Met(n)){var r=Mvt(t,e.field,n);return new imt((function(){return t.getSignalName(r)}))}if(Aet(n)&&Pet(n)&&void 0!==n.step)return{step:n.step};return}(e,n):void 0},interpolate:function(t){return function(t,e){if(o9([ott,att,ctt],t)&&"nominal"!==e)return"hcl";return}(t.channel,t.fieldOrDatumDef.type)},nice:function(t){return function(t,e,n,r,i,o){var a;if(null!==(a=Qot(o))&&void 0!==a&&a.bin||qy(n)||null!=i||null!=r||o9([Xrt.TIME,Xrt.UTC],t))return;return!!tet(e)||void 0}(t.scaleType,t.channel,t.domain,t.domainMin,t.domainMax,t.fieldOrDatumDef)},padding:function(t){var e=t.channel,n=t.scaleType,r=t.fieldOrDatumDef,i=t.markDef,o=t.config;return function(t,e,n,r,i,o){if(tet(t)){if(ait(e)){if(void 0!==n.continuousPadding)return n.continuousPadding;var a=i.type,c=i.orient;if("bar"===a&&(!_ot(r)||!r.bin&&!r.timeUnit)&&("vertical"===c&&"x"===t||"horizontal"===c&&"y"===t))return o.continuousBandSize}if(e===Xrt.POINT)return n.pointPadding}return}(e,n,o.scale,r,i,o.bar)},paddingInner:function(t){var e=t.scalePadding,n=t.channel,r=t.markDef,i=t.scaleType,o=t.config,a=t.hasNestedOffsetScale;return function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(void 0!==t)return;if(tet(e)){var a=i.bandPaddingInner,c=i.barBandPaddingInner,l=i.rectBandPaddingInner,u=i.bandWithNestedOffsetPaddingInner;return o?u:T9(a,"bar"===n?c:l)}if(oet(e)&&r===Xrt.BAND)return i.offsetBandPaddingInner;return}(e,n,r.type,i,o.scale,a)},paddingOuter:function(t){var e=t.scalePadding,n=t.channel,r=t.scaleType,i=t.scalePaddingInner,o=t.config,a=t.hasNestedOffsetScale;return function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(void 0!==t)return;if(tet(e)){var a=i.bandPaddingOuter,c=i.bandWithNestedOffsetPaddingOuter;if(o)return c;if(n===Xrt.BAND)return T9(a,zet(r)?{signal:"".concat(r.signal,"/2")}:r/2)}else if(oet(e)){if(n===Xrt.POINT)return.5;if(n===Xrt.BAND)return i.offsetBandPaddingOuter}return}(e,n,r,i,o.scale,a)},reverse:function(t){var e=t.fieldOrDatumDef,n=t.scaleType,r=t.channel,i=t.config;return function(t,e,n,r){if("x"===n&&void 0!==r.xReverse)return oit(t)&&"descending"===e?zet(r.xReverse)?{signal:"!".concat(r.xReverse.signal)}:!r.xReverse:r.xReverse;if(oit(t)&&"descending"===e)return!0;return}(n,_ot(e)?e.sort:void 0,r,i.scale)},zero:function(t){var e=t.channel,n=t.fieldOrDatumDef,r=t.domain,i=t.markDef,o=t.scaleType,a=t.config,c=t.hasSecondaryRangeChannel;return function(t,e,n,r,i,o,a){if(n&&"unaggregated"!==n&&oit(i)){if(qy(n)){var c=n[0],l=n[n.length-1];if(c<=0&&l>=0)return!0}return!1}if("size"===t&&"quantitative"===e.type&&!cit(i))return!0;if((!_ot(e)||!e.bin)&&o9([].concat((0,Xm.Z)(Qtt),(0,Xm.Z)(net)),t)){var u=r.orient,s=r.type;return(!o9(["bar","area","line","trail"],s)||!("horizontal"===u&&"y"===t||"vertical"===u&&"x"===t))&&(!(!o9(["bar","area"],s)||a)||(null==o?void 0:o.zero))}return!1}(e,n,r,i,o,a.scale,c)}};function Vmt(t){cyt(t)?function(t){var e,n=t.component.scales,r=Pmt(set);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=n[i];if(o){var a=Zmt(i,t);o.setWithExplicit("range",a)}}}catch(c){r.e(c)}finally{r.f()}}(t):Gmt(t,"range")}function Gmt(t,e){var n,r=t.component.scales,i=zmt(t.children);try{for(i.s();!(n=i.n()).done;){var o=n.value;"range"===e?Vmt(o):Hmt(o,e)}}catch(d){i.e(d)}finally{i.f()}var a,c=zmt(m9(r));try{for(c.s();!(a=c.n()).done;){var l,u=a.value,s=void 0,f=zmt(t.children);try{for(f.s();!(l=f.n()).done;){var h=l.value.component.scales[u];if(h)s=jst(s,h.getWithExplicit(e),e,"scale",Zst((function(t,n){return"range"===e&&t.step&&n.step?t.step-n.step:0})))}}catch(d){f.e(d)}finally{f.f()}r[u].setWithExplicit(e,s)}}catch(d){c.e(d)}finally{c.f()}}function Xmt(t,e,n,r){var i,o,a=function(t,e,n,r){switch(e.type){case"nominal":case"ordinal":var i;if(Dtt(t)||"discrete"===vet(t))return"shape"===t&&"ordinal"===e.type&&$nt(Rnt(t,"ordinal")),"ordinal";if(tet(t)||oet(t)){if(o9(["rect","bar","image","rule"],n.type))return"band";if(r)return"band"}else if("arc"===n.type&&t in eet)return"band";return Iit(n[Vtt(t)])||Bot(e)&&null!==(i=e.axis)&&void 0!==i&&i.tickBand?"band":"point";case"temporal":return Dtt(t)?"time":"discrete"===vet(t)?($nt(Rnt(t,"temporal")),"ordinal"):_ot(e)&&e.timeUnit&&Srt(e.timeUnit).utc?"utc":"time";case"quantitative":return Dtt(t)?_ot(e)&&Met(e.bin)?"bin-ordinal":"linear":"discrete"===vet(t)?($nt(Rnt(t,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(_nt(e.type))}(e,n,r,arguments.length>4&&void 0!==arguments[4]&&arguments[4]),c=t.type;return fet(e)?void 0!==c?function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!fet(t))return!1;switch(t){case V9:case G9:case Y9:case $9:case Q9:case K9:return!!ait(e)||"band"===e||"point"===e&&!n;case utt:case ptt:case ftt:case htt:case dtt:case stt:return ait(e)||cit(e)||o9(["band","point","ordinal"],e);case ott:case att:case ctt:return"band"!==e;case vtt:case ltt:return"ordinal"===e||cit(e)}}(e,c)?_ot(n)&&(i=c,o=n.type,!(o9([Hrt,Vrt],o)?void 0===i||iit(i):o===Wrt?o9([Xrt.TIME,Xrt.UTC,void 0],i):o!==Urt||tit(i)||cit(i)||void 0===i))?($nt(function(t,e){return'FieldDef does not work with "'.concat(t,'" scale. We are using "').concat(e,'" scale instead.')}(c,a)),a):c:($nt(function(t,e,n){return'Channel "'.concat(t,'" does not work with "').concat(e,'" scale. We are using "').concat(n,'" scale instead.')}(e,c,a)),a):a:null}function qmt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ymt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ymt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Ymt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $mt(t){cyt(t)?t.component.scales=function(t){var e,n=t.encoding,r=t.mark,i=t.markDef,o={},a=qmt(set);try{for(a.s();!(e=a.n()).done;){var c=e.value,l=tat(n[c]);if(!l||r!==Ait||c!==ltt||l.type!==Grt){var u=l&&l.scale;if(oet(c))if(!Pat(n,qtt(c))){u&&$nt(Fnt(c));continue}if(l&&null!==u&&!1!==u){var s;null!==(s=u)&&void 0!==s||(u={});var f=Xmt(u,c,l,i,Pat(n,c));o[c]=new Mmt(t.scaleName("".concat(c),!0),{value:f,explicit:u.type===f})}}}}catch(h){a.e(h)}finally{a.f()}return o}(t):t.component.scales=function(t){var e,n,r=t.component.scales={},i={},o=t.component.resolve,a=qmt(t.children);try{for(a.s();!(n=a.n()).done;){var c=n.value;$mt(c);var l,u=qmt(m9(c.component.scales));try{for(u.s();!(l=u.n()).done;){var s,f=l.value;if(null!==(s=(e=o.scale)[f])&&void 0!==s||(e[f]=Ept(f,t)),"shared"===o.scale[f]){var h=i[f],d=c.component.scales[f].getWithExplicit("type");h?Yrt(h.value,d.value)?i[f]=jst(h,d,"type","scale",Kmt):(o.scale[f]="independent",delete i[f]):i[f]=d}}}catch(k){u.e(k)}finally{u.f()}}}catch(k){a.e(k)}finally{a.f()}var p,v=qmt(m9(i));try{for(v.s();!(p=v.n()).done;){var g=p.value,m=t.scaleName(g,!0),y=i[g];r[g]=new Mmt(m,y);var b,x=qmt(t.children);try{for(x.s();!(b=x.n()).done;){var w=b.value,S=w.component.scales[g];S&&(w.renameScale(S.get("name"),m),S.merged=!0)}}catch(k){x.e(k)}finally{x.f()}}}catch(k){v.e(k)}finally{v.f()}return r}(t)}var Kmt=Zst((function(t,e){return Krt(t)-Krt(e)}));var Jmt=["style"],Qmt=["spacing"],tyt=["encoding"];function eyt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}function nyt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ryt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ryt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function ryt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iyt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oyt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iyt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iyt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ayt=function(){function t(){(0,Rm.Z)(this,t),this.nameMap={}}return(0,Lm.Z)(t,[{key:"rename",value:function(t,e){this.nameMap[t]=e}},{key:"has",value:function(t){return void 0!==this.nameMap[t]}},{key:"get",value:function(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}]),t}();function cyt(t){return"unit"===(null==t?void 0:t.type)}function lyt(t){return"facet"===(null==t?void 0:t.type)}function uyt(t){return"concat"===(null==t?void 0:t.type)}function syt(t){return"layer"===(null==t?void 0:t.type)}var fyt=function(){function t(e,n,r,i,o,a,c){var l,u,s=this;(0,Rm.Z)(this,t),this.type=n,this.parent=r,this.config=o,this.correctDataNames=function(t){var e,n;return null!==(e=t.from)&&void 0!==e&&e.data&&(t.from.data=s.lookupDataSource(t.from.data)),null!==(n=t.from)&&void 0!==n&&null!==(n=n.facet)&&void 0!==n&&n.data&&(t.from.facet.data=s.lookupDataSource(t.from.facet.data)),t},this.parent=r,this.config=o,this.view=jet(c),this.name=null!==(l=e.name)&&void 0!==l?l:i,this.title=Bet(e.title)?{text:e.title}:e.title?jet(e.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new ayt,this.projectionNameMap=r?r.projectionNameMap:new ayt,this.signalNameMap=r?r.signalNameMap:new ayt,this.data=e.data,this.description=e.description,this.transforms=function(t){return t.map((function(t){return Sut(t)?{filter:X7(t.filter,Nrt)}:t}))}(null!==(u=e.transform)&&void 0!==u?u:[]),this.layout="layer"===n||"unit"===n?{}:function(t,e,n){var r=n[e],i={},o=r.spacing,a=r.columns;void 0!==o&&(i.spacing=o),void 0!==a&&(vot(t)&&!dot(t.facet)||Wct(t))&&(i.columns=a),Vct(t)&&(i.columns=1);var c,l=Xct(Jct);try{for(l.s();!(c=l.n()).done;){var u=c.value;if(void 0!==t[u])if("spacing"===u){var s,f,h=t[u];i[u]=Hb(h)?h:{row:null!==(s=h.row)&&void 0!==s?s:o,column:null!==(f=h.column)&&void 0!==f?f:o}}else i[u]=t[u]}}catch(d){l.e(d)}finally{l.f()}return i}(e,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:vot(e)||(null==r?void 0:r.component.data.isFaceted)&&void 0===e.data},layoutSize:new _st,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:oyt({scale:{},axis:{},legend:{}},a?J7(a):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}return(0,Lm.Z)(t,[{key:"width",get:function(){return this.getSizeSignalRef("width")}},{key:"height",get:function(){return this.getSizeSignalRef("height")}},{key:"parse",value:function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}},{key:"parseScale",value:function(){!function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ignoreRange;$mt(t),smt(t);var n,r=qmt(fit);try{for(r.s();!(n=r.n()).done;)Hmt(t,n.value)}catch(i){r.e(i)}finally{r.f()}e||Vmt(t)}(this)}},{key:"parseProjection",value:function(){vvt(this)}},{key:"renameTopLevelLayoutSizeSignal",value:function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}},{key:"parseLegends",value:function(){Ypt(this)}},{key:"assembleEncodeFromView",value:function(t){t.style;var e,n=(0,I.Z)(t,Jmt),r={},i=nyt(m9(n));try{for(i.s();!(e=i.n()).done;){var o=e.value,a=n[o];void 0!==a&&(r[o]=rnt(a))}}catch(c){i.e(c)}finally{i.f()}return r}},{key:"assembleGroupEncodeEntry",value:function(t){var e,n={};if((this.view&&(n=this.assembleEncodeFromView(this.view)),!t)&&(this.description&&(n.description=rnt(this.description)),"unit"===this.type||"layer"===this.type))return oyt({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(e=n)&&void 0!==e?e:{});return g9(n)?void 0:n}},{key:"assembleLayout",value:function(){if(this.layout){var t=this.layout,e=t.spacing,n=(0,I.Z)(t,Qmt),r=this.component,i=this.config,o=function(t,e){var n,r={},i=ipt(Ztt);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t[o];if(null!=a&&a.facetFieldDef){var c=ept(["titleAnchor","titleOrient"],a.facetFieldDef.header,e,o),l=c.titleAnchor,u=Qdt(o,c.titleOrient),s=gpt(l,u);void 0!==s&&(r[u]=s)}}}catch(f){i.e(f)}finally{i.f()}return g9(r)?void 0:r}(r.layoutHeaders,i);return oyt(oyt(oyt({padding:e},this.assembleDefaultLayout()),n),o?{titleBand:o}:{})}}},{key:"assembleDefaultLayout",value:function(){return{}}},{key:"assembleHeaderMarks",value:function(){var t,e=this.component.layoutHeaders,n=[],r=nyt(Ztt);try{for(r.s();!(t=r.n()).done;){var i=t.value;e[i].title&&n.push(lpt(this,i))}}catch(l){r.e(l)}finally{r.f()}var o,a=nyt(npt);try{for(a.s();!(o=a.n()).done;){var c=o.value;n=n.concat(fpt(this,c))}}catch(l){a.e(l)}finally{a.f()}return n}},{key:"assembleAxes",value:function(){return function(t,e){var n=t.x,r=void 0===n?[]:n,i=t.y,o=void 0===i?[]:i;return[].concat((0,Xm.Z)(r.map((function(t){return jdt(t,"grid",e)}))),(0,Xm.Z)(o.map((function(t){return jdt(t,"grid",e)}))),(0,Xm.Z)(r.map((function(t){return jdt(t,"main",e)}))),(0,Xm.Z)(o.map((function(t){return jdt(t,"main",e)})))).filter((function(t){return t}))}(this.component.axes,this.config)}},{key:"assembleLegends",value:function(){return nvt(this)}},{key:"assembleProjections",value:function(){return ovt(this)}},{key:"assembleTitle",value:function(){var t,e=null!==(t=this.title)&&void 0!==t?t:{},n=e.encoding,r=(0,I.Z)(e,tyt),i=oyt(oyt(oyt({},Net(this.config.title).nonMarkTitleProperties),r),n?{encode:{update:n}}:{});if(i.text){var o,a;if(o9(["unit","layer"],this.type)){if(o9(["middle",void 0],i.anchor))null!==(o=i.frame)&&void 0!==o||(i.frame="group")}else null!==(a=i.anchor)&&void 0!==a||(i.anchor="start");return g9(i)?void 0:i}}},{key:"assembleGroup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={};(t=t.concat(this.assembleSignals())).length>0&&(e.signals=t);var n=this.assembleLayout();n&&(e.layout=n),e.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||lyt(this.parent)?Cmt(this):[];r.length>0&&(e.scales=r);var i=this.assembleAxes();i.length>0&&(e.axes=i);var o=this.assembleLegends();return o.length>0&&(e.legends=o),e}},{key:"getName",value:function(t){return w9((this.name?"".concat(this.name,"_"):"")+t)}},{key:"getDataName",value:function(t){return this.getName(Rst[t].toLowerCase())}},{key:"requestDataName",value:function(t){var e=this.getDataName(t),n=this.component.data.outputNodeRefCounts;return n[e]=(n[e]||0)+1,e}},{key:"getSizeSignalRef",value:function(t){if(lyt(this.parent)){var e=ret(Spt(t)),n=this.component.scales[e];if(n&&!n.merged){var r=n.get("type"),i=n.get("range");if(iit(r)&&Uet(i)){var o=n.get("name"),a=bmt(xmt(this,e));return a?{signal:wpt(o,n,Wot({aggregate:"distinct",field:a},{expr:"datum"}))}:($nt(wnt(e)),null)}}}return{signal:this.signalNameMap.get(this.getName(t))}}},{key:"lookupDataSource",value:function(t){var e=this.component.data.outputNodes[t];return e?e.getSource():t}},{key:"getSignalName",value:function(t){return this.signalNameMap.get(t)}},{key:"renameSignal",value:function(t,e){this.signalNameMap.rename(t,e)}},{key:"renameScale",value:function(t,e){this.scaleNameMap.rename(t,e)}},{key:"renameProjection",value:function(t,e){this.projectionNameMap.rename(t,e)}},{key:"scaleName",value:function(t,e){return e?this.getName(t):Ntt(t)&&fet(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t))?this.scaleNameMap.get(this.getName(t)):void 0}},{key:"projectionName",value:function(t){return t?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}},{key:"getScaleComponent",value:function(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");var e=this.component.scales[t];return e&&!e.merged?e:this.parent?this.parent.getScaleComponent(t):void 0}},{key:"getSelectionComponent",value:function(t,e){var n=this.component.selection[t];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(t,e)),!n)throw new Error('Cannot find a selection named "'.concat(e,'".'));return n}},{key:"hasAxisOrientSignalRef",value:function(){var t,e;return(null===(t=this.component.axes.x)||void 0===t?void 0:t.some((function(t){return t.hasOrientSignalRef()})))||(null===(e=this.component.axes.y)||void 0===e?void 0:e.some((function(t){return t.hasOrientSignalRef()})))}}]),t}(),hyt=function(t){(0,Bm.Z)(n,t);var e=eyt(n);function n(){return(0,Rm.Z)(this,n),e.apply(this,arguments)}return(0,Lm.Z)(n,[{key:"vgField",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.fieldDef(t);if(n)return Wot(n,e)}},{key:"reduceFieldDef",value:function(t,e){return function(t,e,n,r){return t?m9(t).reduce((function(n,i){var o=t[i];return qy(o)?o.reduce((function(t,n){return e.call(r,t,n,i)}),n):e.call(r,n,o,i)}),n):n}(this.getMapping(),(function(e,n,r){var i=Qot(n);return i?t(e,i,r):e}),e)}},{key:"forEachFieldDef",value:function(t,e){Fat(this.getMapping(),(function(e,n){var r=Qot(e);r&&t(r,n)}),e)}}]),n}(fyt),dyt=["density"];function pyt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vyt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var gyt=function(t){(0,Bm.Z)(n,t);var e=vyt(n);function n(t,r){var i,o,a,c;(0,Rm.Z)(this,n),(c=e.call(this,t)).transform=r,c.transform=J7(r);var l=null!==(i=c.transform.as)&&void 0!==i?i:[void 0,void 0];return c.transform.as=[null!==(o=l[0])&&void 0!==o?o:"value",null!==(a=l[1])&&void 0!==a?a:"density"],r.groupby&&null==r.minsteps&&null==r.maxsteps&&null==r.steps&&(c.transform.steps=200),c}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this.transform))}},{key:"dependentFields",value:function(){var t;return new Set([this.transform.density].concat((0,Xm.Z)(null!==(t=this.transform.groupby)&&void 0!==t?t:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"DensityTransform ".concat(r9(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pyt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pyt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({type:"kde",field:t.density},(0,I.Z)(t,dyt));return e}}]),n}(nft);function myt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var yyt=function(t){(0,Bm.Z)(n,t);var e=myt(n);function n(t,r){var i;return(0,Rm.Z)(this,n),(i=e.call(this,t)).transform=r,i.transform=J7(r),i}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this.transform))}},{key:"dependentFields",value:function(){return new Set([this.transform.extent])}},{key:"producedFields",value:function(){return new Set([])}},{key:"hash",value:function(){return"ExtentTransform ".concat(r9(this.transform))}},{key:"assemble",value:function(){var t=this.transform;return{type:"extent",field:t.extent,signal:t.param}}}]),n}(nft);function byt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xyt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var wyt=function(t){(0,Bm.Z)(n,t);var e=xyt(n);function n(t,r){var i;return(0,Rm.Z)(this,n),(i=e.call(this,t)).filter=r,i}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?byt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):byt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.filter))}},{key:"dependentFields",value:function(){return new Set(m9(this.filter))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"FilterInvalid ".concat(r9(this.filter))}},{key:"assemble",value:function(){var t=this,e=m9(this.filter).reduce((function(e,n){var r=t.filter[n],i=Wot(r,{expr:"datum"});return null!==r&&("temporal"===r.type?e.push("(isDate(".concat(i,") || (isValid(").concat(i,") && isFinite(+").concat(i,")))")):"quantitative"===r.type&&(e.push("isValid(".concat(i,")")),e.push("isFinite(+".concat(i,")")))),e}),[]);return e.length>0?{type:"filter",expr:e.join(" && ")}:null}}],[{key:"make",value:function(t,e){var r=e.config,i=e.mark;if("filter"!==lnt("invalid",e.markDef,r))return null;var o=e.reduceFieldDef((function(t,n,r){var o=fet(r)&&e.getScaleComponent(r);o&&(oit(o.get("type"))&&"count"!==n.aggregate&&!Pit(i)&&(t[n.field]=n));return t}),{});return m9(o).length?new n(t,o):null}}]),n}(nft);function Syt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var kyt=function(t){(0,Bm.Z)(n,t);var e=Syt(n);function n(t,r){var i;(0,Rm.Z)(this,n),(i=e.call(this,t)).transform=r,i.transform=J7(r);var o=i.transform,a=o.flatten,c=o.as,l=void 0===c?[]:c;return i.transform.as=a.map((function(t,e){var n;return null!==(n=l[e])&&void 0!==n?n:t})),i}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(this.parent,J7(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.flatten)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FlattenTransform ".concat(r9(this.transform))}},{key:"assemble",value:function(){var t=this.transform;return{type:"flatten",fields:t.flatten,as:t.as}}}]),n}(nft);function Cyt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Oyt=function(t){(0,Bm.Z)(n,t);var e=Cyt(n);function n(t,r){var i,o,a,c;(0,Rm.Z)(this,n),(c=e.call(this,t)).transform=r,c.transform=J7(r);var l=null!==(i=c.transform.as)&&void 0!==i?i:[void 0,void 0];return c.transform.as=[null!==(o=l[0])&&void 0!==o?o:"key",null!==(a=l[1])&&void 0!==a?a:"value"],c}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.fold)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FoldTransform ".concat(r9(this.transform))}},{key:"assemble",value:function(){var t=this.transform;return{type:"fold",fields:t.fold,as:t.as}}}]),n}(nft);function Eyt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Myt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Eyt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eyt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ayt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Pyt=function(t){(0,Bm.Z)(n,t);var e=Ayt(n);function n(t,r,i,o){var a;return(0,Rm.Z)(this,n),(a=e.call(this,t)).fields=r,a.geojson=i,a.signal=o,a}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this.fields),this.geojson,this.signal)}},{key:"dependentFields",value:function(){var t,e=(null!==(t=this.fields)&&void 0!==t?t:[]).filter(Vb);return new Set([].concat((0,Xm.Z)(this.geojson?[this.geojson]:[]),(0,Xm.Z)(e)))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(r9(this.fields))}},{key:"assemble",value:function(){return[].concat((0,Xm.Z)(this.geojson?[{type:"filter",expr:'isValid(datum["'.concat(this.geojson,'"])')}]:[]),[Myt(Myt(Myt({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{},{signal:this.signal})])}}],[{key:"parseAll",value:function(t,e){if(e.component.projection&&!e.component.projection.isFit)return t;for(var r=0,i=0,o=[[ntt,ett],[itt,rtt]];i<o.length;i++){var a=o[i].map((function(t){var n=tat(e.encoding[t]);return _ot(n)?n.field:Tot(n)?{expr:"".concat(n.datum)}:Lot(n)?{expr:"".concat(n.value)}:void 0}));(a[0]||a[1])&&(t=new n(t,a,null,e.getName("geojson_".concat(r++))))}if(e.channelHasField(ltt)){var c=e.typedFieldDef(ltt);c.type===Grt&&(t=new n(t,null,c.field,e.getName("geojson_".concat(r++))))}return t}}]),n}(nft);function _yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Dyt=function(t){(0,Bm.Z)(n,t);var e=_yt(n);function n(t,r,i,o){var a;return(0,Rm.Z)(this,n),(a=e.call(this,t)).projection=r,a.fields=i,a.as=o,a}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,this.projection,J7(this.fields),J7(this.as))}},{key:"dependentFields",value:function(){return new Set(this.fields.filter(Vb))}},{key:"producedFields",value:function(){return new Set(this.as)}},{key:"hash",value:function(){return"Geopoint ".concat(this.projection," ").concat(r9(this.fields)," ").concat(r9(this.as))}},{key:"assemble",value:function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}],[{key:"parseAll",value:function(t,e){if(!e.projectionName())return t;for(var r=0,i=[[ntt,ett],[itt,rtt]];r<i.length;r++){var o=i[r],a=o.map((function(t){var n=tat(e.encoding[t]);return _ot(n)?n.field:Tot(n)?{expr:"".concat(n.datum)}:Lot(n)?{expr:"".concat(n.value)}:void 0})),c=o[0]===itt?"2":"";(a[0]||a[1])&&(t=new n(t,e.projectionName(),a,[e.getName("x".concat(c)),e.getName("y".concat(c))]))}return t}}]),n}(nft);function Tyt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zyt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tyt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tyt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fyt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var jyt=function(t){(0,Bm.Z)(n,t);var e=Fyt(n);function n(t,r){var i;return(0,Rm.Z)(this,n),(i=e.call(this,t)).transform=r,i}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this.transform))}},{key:"dependentFields",value:function(){var t;return new Set([this.transform.impute,this.transform.key].concat((0,Xm.Z)(null!==(t=this.transform.groupby)&&void 0!==t?t:[])))}},{key:"producedFields",value:function(){return new Set([this.transform.impute])}},{key:"processSequence",value:function(t){var e=t.start,n=void 0===e?0:e,r=t.stop,i=t.step,o=[n,r].concat((0,Xm.Z)(i?[i]:[])).join(",");return{signal:"sequence(".concat(o,")")}}},{key:"hash",value:function(){return"Impute ".concat(r9(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=t.impute,n=t.key,r=t.keyvals,i=t.method,o=t.groupby,a=t.value,c=t.frame,l=void 0===c?[null,null]:c,u=Zyt(Zyt(Zyt({type:"impute",field:e,key:n},r?{keyvals:kut(r)?this.processSequence(r):r}:{}),{},{method:"value"},o?{groupby:o}:{}),{},{value:i&&"value"!==i?null:a});return i&&"value"!==i?[u,Zyt({type:"window",as:["imputed_".concat(e,"_value")],ops:[i],fields:[e],frame:l,ignorePeers:!1},o?{groupby:o}:{}),{type:"formula",expr:"datum.".concat(e," === null ? datum.imputed_").concat(e,"_value : datum.").concat(e),as:e}]:[u]}}],[{key:"makeFromTransform",value:function(t,e){return new n(t,e)}},{key:"makeFromEncoding",value:function(t,e){var r=e.encoding,i=r.x,o=r.y;if(_ot(i)&&_ot(o)){var a=i.impute?i:o.impute?o:void 0;if(void 0===a)return;var c=i.impute?o:o.impute?i:void 0,l=a.impute,u=l.method,s=l.value,f=l.frame,h=l.keyvals,d=jat(e.mark,r);return new n(t,Zyt(Zyt(Zyt(Zyt(Zyt({impute:a.field,key:c.field},u?{method:u}:{}),void 0!==s?{value:s}:{}),f?{frame:f}:{}),void 0!==h?{keyvals:h}:{}),d.length?{groupby:d}:{}))}return null}}]),n}(nft),Iyt=["loess","on"];function Ryt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lyt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Nyt=function(t){(0,Bm.Z)(n,t);var e=Lyt(n);function n(t,r){var i,o,a,c;(0,Rm.Z)(this,n),(c=e.call(this,t)).transform=r,c.transform=J7(r);var l=null!==(i=c.transform.as)&&void 0!==i?i:[void 0,void 0];return c.transform.as=[null!==(o=l[0])&&void 0!==o?o:r.on,null!==(a=l[1])&&void 0!==a?a:r.loess],c}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this.transform))}},{key:"dependentFields",value:function(){var t;return new Set([this.transform.loess,this.transform.on].concat((0,Xm.Z)(null!==(t=this.transform.groupby)&&void 0!==t?t:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"LoessTransform ".concat(r9(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=t.loess,n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ryt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ryt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({type:"loess",x:t.on,y:e},(0,I.Z)(t,Iyt));return n}}]),n}(nft);function Byt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zyt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Byt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Byt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Uyt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Hyt=function(t){(0,Bm.Z)(n,t);var e=Uyt(n);function n(t,r,i){var o;return(0,Rm.Z)(this,n),(o=e.call(this,t)).transform=r,o.secondary=i,o}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this.transform),this.secondary)}},{key:"dependentFields",value:function(){return new Set([this.transform.lookup])}},{key:"producedFields",value:function(){return new Set(this.transform.as?bb(this.transform.as):this.transform.from.fields)}},{key:"hash",value:function(){return"Lookup ".concat(r9({transform:this.transform,secondary:this.secondary}))}},{key:"assemble",value:function(){var t;if(this.transform.from.fields)t=zyt({values:this.transform.from.fields},this.transform.as?{as:bb(this.transform.as)}:{});else{var e=this.transform.as;Vb(e)||($nt('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),e="_lookup"),t={as:[e]}}return zyt(zyt({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},t),this.transform.default?{default:this.transform.default}:{})}}],[{key:"make",value:function(t,e,r,i){var o=e.component.data.sources,a=r.from,c=null;if(function(t){return"data"in t}(a)){var l=Dbt(a.data,o);l||(l=new cgt(a.data),o.push(l));var u=e.getName("lookup_".concat(i));c=new rft(l,u,Rst.Lookup,e.component.data.outputNodeRefCounts),e.component.data.outputNodes[u]=c}else if(function(t){return"param"in t}(a)){var s,f=a.param;r=zyt({as:f},r);try{s=e.getSelectionComponent(w9(f),f)}catch(F2t){throw new Error('Lookups can only be performed on selection parameters. "'.concat(f,'" is a variable parameter.'))}if(!(c=s.materialized))throw new Error(function(t){return'Cannot define and lookup the "'.concat(t,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?"}(f))}return new n(t,r,c.getSource())}}]),n}(nft),Wyt=["quantile"];function Vyt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gyt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Xyt=function(t){(0,Bm.Z)(n,t);var e=Gyt(n);function n(t,r){var i,o,a,c;(0,Rm.Z)(this,n),(c=e.call(this,t)).transform=r,c.transform=J7(r);var l=null!==(i=c.transform.as)&&void 0!==i?i:[void 0,void 0];return c.transform.as=[null!==(o=l[0])&&void 0!==o?o:"prob",null!==(a=l[1])&&void 0!==a?a:"value"],c}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this.transform))}},{key:"dependentFields",value:function(){var t;return new Set([this.transform.quantile].concat((0,Xm.Z)(null!==(t=this.transform.groupby)&&void 0!==t?t:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"QuantileTransform ".concat(r9(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vyt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vyt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({type:"quantile",field:t.quantile},(0,I.Z)(t,Wyt));return e}}]),n}(nft),qyt=["regression","on"];function Yyt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Kyt=function(t){(0,Bm.Z)(n,t);var e=$yt(n);function n(t,r){var i,o,a,c;(0,Rm.Z)(this,n),(c=e.call(this,t)).transform=r,c.transform=J7(r);var l=null!==(i=c.transform.as)&&void 0!==i?i:[void 0,void 0];return c.transform.as=[null!==(o=l[0])&&void 0!==o?o:r.on,null!==(a=l[1])&&void 0!==a?a:r.regression],c}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this.transform))}},{key:"dependentFields",value:function(){var t;return new Set([this.transform.regression,this.transform.on].concat((0,Xm.Z)(null!==(t=this.transform.groupby)&&void 0!==t?t:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"RegressionTransform ".concat(r9(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=t.regression,n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yyt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yyt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({type:"regression",x:t.on,y:e},(0,I.Z)(t,qyt));return n}}]),n}(nft);function Jyt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qyt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jyt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jyt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tbt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var ebt=function(t){(0,Bm.Z)(n,t);var e=tbt(n);function n(t,r){var i;return(0,Rm.Z)(this,n),(i=e.call(this,t)).transform=r,i}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this.transform))}},{key:"addDimensions",value:function(t){var e;this.transform.groupby=s9((null!==(e=this.transform.groupby)&&void 0!==e?e:[]).concat(t),(function(t){return t}))}},{key:"producedFields",value:function(){}},{key:"dependentFields",value:function(){var t;return new Set([this.transform.pivot,this.transform.value].concat((0,Xm.Z)(null!==(t=this.transform.groupby)&&void 0!==t?t:[])))}},{key:"hash",value:function(){return"PivotTransform ".concat(r9(this.transform))}},{key:"assemble",value:function(){var t=this.transform,e=t.pivot,n=t.value,r=t.groupby,i=t.limit,o=t.op;return Qyt(Qyt(Qyt({type:"pivot",field:e,value:n},void 0!==i?{limit:i}:{}),void 0!==o?{op:o}:{}),void 0!==r?{groupby:r}:{})}}]),n}(nft);function nbt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var rbt=function(t){(0,Bm.Z)(n,t);var e=nbt(n);function n(t,r){var i;return(0,Rm.Z)(this,n),(i=e.call(this,t)).transform=r,i}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(null,J7(this.transform))}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"SampleTransform ".concat(r9(this.transform))}},{key:"assemble",value:function(){return{type:"sample",size:this.transform.sample}}}]),n}(nft);function ibt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return obt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return obt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function obt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function abt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cbt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?abt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):abt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lbt(t){var e=0;return function n(r,i){var o,a,c,l;if(r instanceof cgt&&(r.isGenerator||Nst(r.data)||(t.push(i),i={name:null,source:i.name,transform:[]})),r instanceof Yvt&&(r.parent instanceof cgt&&!i.source?(i.format=cbt(cbt({},null!==(o=i.format)&&void 0!==o?o:{}),{},{parse:r.assembleFormatParse()}),(a=i.transform).push.apply(a,(0,Xm.Z)(r.assembleTransforms(!0)))):(c=i.transform).push.apply(c,(0,Xm.Z)(r.assembleTransforms()))),r instanceof Bvt)return i.name||(i.name="data_".concat(e++)),!i.source||i.transform.length>0?(t.push(i),r.data=i.name):r.data=i.source,void t.push.apply(t,(0,Xm.Z)(r.assemble()));if((r instanceof tgt||r instanceof rgt||r instanceof wyt||r instanceof ydt||r instanceof Ydt||r instanceof Dyt||r instanceof Fvt||r instanceof Hyt||r instanceof Ggt||r instanceof Igt||r instanceof Oyt||r instanceof kyt||r instanceof gyt||r instanceof Nyt||r instanceof Xyt||r instanceof Kyt||r instanceof Kvt||r instanceof rbt||r instanceof ebt||r instanceof yyt)&&i.transform.push(r.assemble()),(r instanceof Pvt||r instanceof dft||r instanceof jyt||r instanceof Bgt||r instanceof Pyt)&&(l=i.transform).push.apply(l,(0,Xm.Z)(r.assemble())),r instanceof rft)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof rft)r.setSource(i.name);else{if(i.name||(i.name="data_".concat(e++)),r.setSource(i.name),1===r.numChildren())t.push(i),i={name:null,source:i.name,transform:[]}}switch(r.numChildren()){case 0:r instanceof rft&&(!i.source||i.transform.length>0)&&t.push(i);break;case 1:n(r.children[0],i);break;default:i.name||(i.name="data_".concat(e++));var u=i.name;!i.source||i.transform.length>0?t.push(i):u=i.source;var s,f=ibt(r.children);try{for(f.s();!(s=f.n()).done;){n(s.value,{name:null,source:u,transform:[]})}}catch(h){f.e(h)}finally{f.f()}}}}function ubt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return sbt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sbt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function sbt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fbt(t){return"top"===t||"left"===t||zet(t)?"header":"footer"}function hbt(t,e){var n=t.facet,r=t.config,i=t.child,o=t.component;if(t.channelHasField(e)){var a,c=n[e],l=tpt("title",null,r,e),u=Yot(c,r,{allowDisabling:!0,includeDefault:void 0===l||!!l});i.component.layoutHeaders[e].title&&(u=qy(u)?u.join(", "):u,u+=" / ".concat(i.component.layoutHeaders[e].title),i.component.layoutHeaders[e].title=null);var s=tpt("labelOrient",c.header,r,e),f=null!==c.header&&T9(null===(a=c.header)||void 0===a?void 0:a.labels,r.header.labels,!0),h=o9(["bottom","right"],s)?"footer":"header";o.layoutHeaders[e]=(0,V.Z)({title:null!==c.header?u:null,facetFieldDef:c},h,"facet"===e?[]:[dbt(t,e,f)])}}function dbt(t,e,n){var r="row"===e?"height":"width";return{labels:n,sizeSignal:t.child.component.layoutSize.get(r)?t.child.getSizeSignalRef(r):void 0,axes:[]}}function pbt(t,e){var n=t.child;if(n.component.axes[e]){var r=t.component,i=r.layoutHeaders,o=r.resolve;if(o.axis[e]=Mpt(o,e),"shared"===o.axis[e]){var a,c="x"===e?"column":"row",l=i[c],u=ubt(n.component.axes[e]);try{for(u.s();!(a=u.n()).done;){var s,f=a.value,h=fbt(f.get("orient"));null!==(s=l[h])&&void 0!==s||(l[h]=[dbt(t,c,!1)]);var d=jdt(f,"main",t.config,{header:!0});d&&l[h][0].axes.push(d),f.mainExtracted=!0}}catch(p){u.e(p)}finally{u.f()}}}}function vbt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return gbt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gbt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function gbt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mbt(t){var e,n=vbt(t.children);try{for(n.s();!(e=n.n()).done;){e.value.parseLayoutSize()}}catch(r){n.e(r)}finally{n.f()}}function ybt(t,e){var n,r,i=Spt(e),o=ret(i),a=t.component.resolve,c=t.component.layoutSize,l=vbt(t.children);try{for(l.s();!(r=l.n()).done;){var u,s=r.value.component.layoutSize.getWithExplicit(i),f=null!==(u=a.scale[o])&&void 0!==u?u:Ept(o,t);if("independent"===f&&"step"===s.value){n=void 0;break}if(n){if("independent"===f&&n.value!==s.value){n=void 0;break}n=jst(n,s,i,"")}else n=s}}catch(v){l.e(v)}finally{l.f()}if(n){var h,d=vbt(t.children);try{for(d.s();!(h=d.n()).done;){var p=h.value;t.renameSignal(p.getName(i),t.getName(e)),p.component.layoutSize.set(i,"merged",!1)}}catch(v){d.e(v)}finally{d.f()}c.setWithExplicit(e,n)}else c.setWithExplicit(e,{explicit:!1,value:void 0})}function bbt(t,e){var n="width"===e?"x":"y",r=t.config,i=t.getScaleComponent(n);if(i){var o=i.get("type"),a=i.get("range");if(iit(o)){var c=alt(r.view,e);return Uet(a)||$ct(c)?"step":c}return ilt(r.view,e)}if(t.hasProjection||"arc"===t.mark)return ilt(r.view,e);var l=alt(r.view,e);return $ct(l)?l.step:l}function xbt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return wbt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wbt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function wbt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sbt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}function kbt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cbt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kbt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kbt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Obt(t,e,n){return Wot(e,Cbt({suffix:"by_".concat(Wot(t))},null!=n?n:{}))}var Ebt=function(t){(0,Bm.Z)(n,t);var e=Sbt(n);function n(t,r,i,o){var a;return(0,Rm.Z)(this,n),(a=e.call(this,t,"facet",r,i,o,t.resolve)).child=Kxt(t.spec,(0,Nm.Z)(a),a.getName("child"),void 0,o),a.children=[a.child],a.facet=a.initFacet(t.facet),a}return(0,Lm.Z)(n,[{key:"initFacet",value:function(t){if(!dot(t))return{facet:this.initFacetFieldDef(t,"facet")};var e,n={},r=xbt(m9(t));try{for(r.s();!(e=r.n()).done;){var i=e.value;if(![U9,H9].includes(i)){$nt(Znt(i,"facet"));break}var o=t[i];if(void 0===o.field){$nt(Tnt(o,i));break}n[i]=this.initFacetFieldDef(o,i)}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"initFacetFieldDef",value:function(t,e){var n=rat(t,e);return n.header?n.header=jet(n.header):null===n.header&&(n.header=null),n}},{key:"channelHasField",value:function(t){return!!this.facet[t]}},{key:"fieldDef",value:function(t){return this.facet[t]}},{key:"parseData",value:function(){this.component.data=Tbt(this),this.child.parseData()}},{key:"parseLayoutSize",value:function(){mbt(this)}},{key:"parseSelections",value:function(){this.child.parseSelections(),this.component.selection=this.child.component.selection}},{key:"parseMarkGroup",value:function(){this.child.parseMarkGroup()}},{key:"parseAxesAndHeaders",value:function(){this.child.parseAxesAndHeaders(),function(t){var e,n=ubt(Ztt);try{for(n.s();!(e=n.n()).done;)hbt(t,e.value)}catch(r){n.e(r)}finally{n.f()}pbt(t,"x"),pbt(t,"y")}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(t){return this.child.assembleSelectionTopLevelSignals(t)}},{key:"assembleSignals",value:function(){return this.child.assembleSignals(),[]}},{key:"assembleSelectionData",value:function(t){return this.child.assembleSelectionData(t)}},{key:"getHeaderLayoutMixins",value:function(){var t,e={},n=xbt(Ztt);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=xbt(rpt);try{for(o.s();!(r=o.n()).done;){var a=r.value,c=this.component.layoutHeaders[i],l=c[a],u=c.facetFieldDef;if(u){var s=tpt("titleOrient",u.header,this.config,i);if(["right","bottom"].includes(s)){var f,h=Qdt(i,s);null!==(f=e.titleAnchor)&&void 0!==f||(e.titleAnchor={}),e.titleAnchor[h]="end"}}if(null!=l&&l[0]){var d,p,v="row"===i?"height":"width",g="header"===a?"headerBand":"footerBand";if("facet"!==i&&!this.child.component.layoutSize.get(v))null!==(d=e[g])&&void 0!==d||(e[g]={}),e[g][i]=.5;if(c.title)null!==(p=e.offset)&&void 0!==p||(e.offset={}),e.offset["row"===i?"rowTitle":"columnTitle"]=10}}}catch(m){o.e(m)}finally{o.f()}}}catch(m){n.e(m)}finally{n.f()}return e}},{key:"assembleDefaultLayout",value:function(){var t=this.facet,e=t.column,n=t.row,r=e?this.columnDistinctSignal():n?1:void 0,i="all";return(n||"independent"!==this.component.resolve.scale.x)&&(e||"independent"!==this.component.resolve.scale.y)||(i="none"),Cbt(Cbt(Cbt({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{},{bounds:"full",align:i})}},{key:"assembleLayoutSignals",value:function(){return this.child.assembleLayoutSignals()}},{key:"columnDistinctSignal",value:function(){if(!(this.parent&&this.parent instanceof n)){var t=this.getName("column_domain");return{signal:"length(data('".concat(t,"'))")}}}},{key:"assembleGroupStyle",value:function(){}},{key:"assembleGroup",value:function(t){return this.parent&&this.parent instanceof n?Cbt(Cbt({},this.channelHasField("column")?{encode:{update:{columns:{field:Wot(this.facet.column,{prefix:"distinct"})}}}}:{}),qZ((0,Um.Z)(n.prototype),"assembleGroup",this).call(this,t)):qZ((0,Um.Z)(n.prototype),"assembleGroup",this).call(this,t)}},{key:"getCardinalityAggregateForChild",value:function(){var t=[],e=[],r=[];if(this.child instanceof n){if(this.child.channelHasField("column")){var i=Wot(this.child.facet.column);t.push(i),e.push("distinct"),r.push("distinct_".concat(i))}}else{var o,a=xbt(Qtt);try{for(a.s();!(o=a.n()).done;){var c=o.value,l=this.child.component.scales[c];if(l&&!l.merged){var u=l.get("type"),s=l.get("range");if(iit(u)&&Uet(s)){var f=bmt(xmt(this.child,c));f?(t.push(f),e.push("distinct"),r.push("distinct_".concat(f))):$nt(wnt(c))}}}}catch(h){a.e(h)}finally{a.f()}}return{fields:t,ops:e,as:r}}},{key:"assembleFacet",value:function(){var t,e=this.component.data.facetRoot,n=e.name,r=e.data,i=this.facet,o=i.row,a=i.column,c=this.getCardinalityAggregateForChild(),l=c.fields,u=c.ops,s=c.as,f=[],h=xbt(Ztt);try{for(h.s();!(t=h.n()).done;){var d=t.value,p=this.facet[d];if(p){f.push(Wot(p));var v=p.bin,g=p.sort;if(Met(v)&&f.push(Wot(p,{binSuffix:"end"})),fot(g)){var m=g.field,y=g.op,b=void 0===y?cot:y,x=Obt(p,g);o&&a?(l.push(x),u.push("max"),s.push(x)):(l.push(m),u.push(b),s.push(x))}else if(qy(g)){var w=$dt(p,d);l.push(w),u.push("max"),s.push(w)}}}}catch(k){h.e(k)}finally{h.f()}var S=!!o&&!!a;return Cbt({name:n,data:r,groupby:f},S||l.length>0?{aggregate:Cbt(Cbt({},S?{cross:S}:{}),l.length?{fields:l,ops:u,as:s}:{})}:{})}},{key:"facetSortFields",value:function(t){var e=this.facet[t];return e?fot(e.sort)?[Obt(e,e.sort,{expr:"datum"})]:qy(e.sort)?[$dt(e,t,{expr:"datum"})]:[Wot(e,{expr:"datum"})]:[]}},{key:"facetSortOrder",value:function(t){var e=this.facet[t];if(e){var n=e.sort;return[(fot(n)?n.order:!qy(n)&&n)||"ascending"]}return[]}},{key:"assembleLabelTitle",value:function(){var t=this.facet,e=this.config;if(t.facet)return dpt(t.facet,"facet",e);var n,r={row:["top","bottom"],column:["left","right"]},i=xbt(npt);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(t[o]){var a,c=tpt("labelOrient",null===(a=t[o])||void 0===a?void 0:a.header,e,o);if(r[o].includes(c))return dpt(t[o],o,e)}}}catch(l){i.e(l)}finally{i.f()}}},{key:"assembleMarks",value:function(){var t=this,e=this.child,n=function(t){var e,n=[],r=lbt(n),i=ibt(t.children);try{for(i.s();!(e=i.n()).done;)r(e.value,{source:t.name,name:null,transform:[]})}catch(o){i.e(o)}finally{i.f()}return n}(this.component.data.facetRoot),r=e.assembleGroupEncodeEntry(!1),i=this.assembleLabelTitle()||e.assembleTitle(),o=e.assembleGroupStyle(),a=Cbt(Cbt(Cbt(Cbt(Cbt({name:this.getName("cell"),type:"group"},i?{title:i}:{}),o?{style:o}:{}),{},{from:{facet:this.assembleFacet()},sort:{field:Ztt.map((function(e){return t.facetSortFields(e)})).flat(),order:Ztt.map((function(e){return t.facetSortOrder(e)})).flat()}},n.length>0?{data:n}:{}),r?{encode:{update:r}}:{}),e.assembleGroup(function(t,e){if(t.component.selection&&m9(t.component.selection).length){var n=tx(t.getName("cell"));e.unshift({name:"facet",value:{},on:[{events:t3("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(n,").datum")}]})}return Jst(e)}(this,[])));return[a]}},{key:"getMapping",value:function(){return this.facet}}]),n}(hyt);function Mbt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Abt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mbt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mbt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pbt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _bt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _bt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function _bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dbt(t,e){var n,r=Pbt(e);try{for(r.s();!(n=r.n()).done;){var i,o,a,c,l=n.value,u=l.data;if(!t.name||!l.hasName()||t.name===l.dataName){var s=null===(i=t.format)||void 0===i?void 0:i.mesh,f=null===(o=u.format)||void 0===o?void 0:o.feature;if(!s||!f){var h=null===(a=t.format)||void 0===a?void 0:a.feature;if(!h&&!f||h===f){var d=null===(c=u.format)||void 0===c?void 0:c.mesh;if(!s&&!d||s===d)if(Bst(t)&&Bst(u)){if(K7(t.values,u.values))return l}else if(Nst(t)&&Nst(u)){if(t.url===u.url)return l}else if(zst(t)&&t.name===l.dataName)return l}}}}}catch(p){r.e(p)}finally{r.f()}return null}function Tbt(t){var e,n,r,i=function(t,e){if(t.data||!t.parent){if(null===t.data){var n=new cgt({values:[]});return e.push(n),n}var r=Dbt(t.data,e);if(r)return Ust(t.data)||(r.data.format=l9({},t.data.format,r.data.format)),!r.hasName()&&t.data.name&&(r.dataName=t.data.name),r;var i=new cgt(t.data);return e.push(i),i}return t.parent.component.data.facetRoot?t.parent.component.data.facetRoot:t.parent.component.data.main}(t,t.component.data.sources),o=t.component.data,a=o.outputNodes,c=o.outputNodeRefCounts,l=t.data,u=!(l&&(Ust(l)||Nst(l)||Bst(l)))&&t.parent?t.parent.component.data.ancestorParse.clone():new Lst;Ust(l)?(Hst(l)?i=new rgt(i,l.sequence):Vst(l)&&(i=new tgt(i,l.graticule)),u.parseNothing=!0):null===(null==l||null===(e=l.format)||void 0===e?void 0:e.parse)&&(u.parseNothing=!0),i=null!==(n=Yvt.makeExplicit(i,t,u))&&void 0!==n?n:i,i=new Kvt(i);var s,f=t.parent&&syt(t.parent);(cyt(t)||lyt(t))&&(f&&(i=null!==(s=Pvt.makeFromEncoding(i,t))&&void 0!==s?s:i));t.transforms.length>0&&(i=function(t,e,n){var r,i=0,o=Pbt(e.transforms);try{for(o.s();!(r=o.n()).done;){var a=r.value,c=void 0,l=void 0;if(Fut(a))l=t=new Ydt(t,a),c="derived";else if(Sut(a)){var u,s=Xvt(a);l=t=null!==(u=Yvt.makeWithAncestors(t,{},s,n))&&void 0!==u?u:t,t=new ydt(t,e,a.filter)}else if(jut(a))l=t=Pvt.makeFromTransform(t,a,e),c="number";else if(Rut(a))c="date",void 0===n.getWithExplicit(a.field).value&&(t=new Yvt(t,(0,V.Z)({},a.field,c)),n.set(a.field,c,!1)),l=t=dft.makeFromTransform(t,a);else if(Lut(a))l=t=Fvt.makeFromTransform(t,a),c="number",hdt(e)&&(t=new Kvt(t));else if(Cut(a))l=t=Hyt.make(t,e,a,i++),c="derived";else if(Dut(a))l=t=new Ggt(t,a),c="number";else if(Tut(a))l=t=new Igt(t,a),c="number";else if(Nut(a))l=t=Bgt.makeFromTransform(t,a),c="derived";else if(But(a))l=t=new Oyt(t,a),c="derived";else if(zut(a))l=t=new yyt(t,a),c="derived";else if(Zut(a))l=t=new kyt(t,a),c="derived";else if(Out(a))l=t=new ebt(t,a),c="derived";else if(_ut(a))t=new rbt(t,a);else if(Iut(a))l=t=jyt.makeFromTransform(t,a),c="derived";else if(Eut(a))l=t=new gyt(t,a),c="derived";else if(Mut(a))l=t=new Xyt(t,a),c="derived";else if(Aut(a))l=t=new Kyt(t,a),c="derived";else{if(!Put(a)){$nt(Ant(a));continue}l=t=new Nyt(t,a),c="derived"}if(l&&void 0!==c){var f,h,d=Pbt(null!==(f=l.producedFields())&&void 0!==f?f:[]);try{for(d.s();!(h=d.n()).done;){var p=h.value;n.set(p,c,!1)}}catch(v){d.e(v)}finally{d.f()}}}}catch(v){o.e(v)}finally{o.f()}return t}(i,t,u));var h=function(t){var e={};if(cyt(t)&&t.component.selection){var n,r=Uvt(m9(t.component.selection));try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=Uvt(t.component.selection[o].project.items);try{for(a.s();!(i=a.n()).done;){var c=i.value;!c.channel&&D9(c.field)>1&&(e[c.field]="flatten")}}catch(l){a.e(l)}finally{a.f()}}}catch(l){r.e(l)}finally{r.f()}}return e}(t),d=qvt(t);if(i=null!==(r=Yvt.makeWithAncestors(i,{},Abt(Abt({},h),d),u))&&void 0!==r?r:i,cyt(t)&&(i=Pyt.parseAll(i,t),i=Dyt.parseAll(i,t)),cyt(t)||lyt(t)){var p,v;if(!f)i=null!==(v=Pvt.makeFromEncoding(i,t))&&void 0!==v?v:i;i=null!==(p=dft.makeFromEncoding(i,t))&&void 0!==p?p:i,i=Ydt.parseAllForSortIndex(i,t)}var g,m=t.getDataName(Rst.Raw),y=new rft(i,m,Rst.Raw,c);if(a[m]=y,i=y,cyt(t)){var b,x,w=Fvt.makeFromEncoding(i,t);w&&(i=w,hdt(t)&&(i=new Kvt(i))),i=null!==(b=jyt.makeFromEncoding(i,t))&&void 0!==b?b:i,i=null!==(x=Bgt.makeFromEncoding(i,t))&&void 0!==x?x:i}cyt(t)&&(i=null!==(g=wyt.make(i,t))&&void 0!==g?g:i);var S=t.getDataName(Rst.Main),k=new rft(i,S,Rst.Main,c);a[S]=k,i=k,cyt(t)&&function(t,e){var n,r,i=wdt(b9(null!==(n=t.component.selection)&&void 0!==n?n:{}));try{for(i.s();!(r=i.n()).done;){var o=(0,G.Z)(r.value,2),a=o[0],c=o[1],l=t.getName("lookup_".concat(a));t.component.data.outputNodes[l]=c.materialized=new rft(new ydt(e,t,{param:a}),l,Rst.Lookup,t.component.data.outputNodeRefCounts)}}catch(u){i.e(u)}finally{i.f()}}(t,k);var C=null;if(lyt(t)){var O,E=t.getName("facet");i=null!==(O=function(t,e){var n=e.row,r=e.column;if(n&&r){for(var i=null,o=0,a=[n,r];o<a.length;o++){var c=a[o];if(fot(c.sort)){var l=c.sort,u=l.field,s=l.op;t=i=new Igt(t,{joinaggregate:[{op:void 0===s?cot:s,field:u,as:Obt(c,c.sort,{forAs:!0})}],groupby:[Wot(c)]})}}return i}return null}(i,t.facet))&&void 0!==O?O:i,C=new Bvt(i,t,E,k.getSource()),a[E]=C}return Abt(Abt({},t.component.data),{},{outputNodes:a,outputNodeRefCounts:c,raw:y,main:k,facetRoot:C,ancestorParse:u})}function Zbt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fbt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zbt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zbt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jbt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ibt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ibt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Ibt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rbt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Lbt=function(t){(0,Bm.Z)(n,t);var e=Rbt(n);function n(t,r,i,o){var a,c,l;return(0,Rm.Z)(this,n),l=e.call(this,t,"concat",r,i,o,t.resolve),"shared"!==(null===(a=t.resolve)||void 0===a||null===(a=a.axis)||void 0===a?void 0:a.x)&&"shared"!==(null===(c=t.resolve)||void 0===c||null===(c=c.axis)||void 0===c?void 0:c.y)||$nt("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415)."),l.children=l.getChildren(t).map((function(t,e){return Kxt(t,(0,Nm.Z)(l),l.getName("concat_".concat(e)),void 0,o)})),l}return(0,Lm.Z)(n,[{key:"parseData",value:function(){this.component.data=Tbt(this);var t,e=jbt(this.children);try{for(e.s();!(t=e.n()).done;){t.value.parseData()}}catch(n){e.e(n)}finally{e.f()}}},{key:"parseSelections",value:function(){this.component.selection={};var t,e=jbt(this.children);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.parseSelections();var r,i=jbt(m9(n.component.selection));try{for(i.s();!(r=i.n()).done;){var o=r.value;this.component.selection[o]=n.component.selection[o]}}catch(a){i.e(a)}finally{i.f()}}}catch(a){e.e(a)}finally{e.f()}}},{key:"parseMarkGroup",value:function(){var t,e=jbt(this.children);try{for(e.s();!(t=e.n()).done;){t.value.parseMarkGroup()}}catch(n){e.e(n)}finally{e.f()}}},{key:"parseAxesAndHeaders",value:function(){var t,e=jbt(this.children);try{for(e.s();!(t=e.n()).done;){t.value.parseAxesAndHeaders()}}catch(n){e.e(n)}finally{e.f()}}},{key:"getChildren",value:function(t){return Vct(t)?t.vconcat:Gct(t)?t.hconcat:t.concat}},{key:"parseLayoutSize",value:function(){!function(t){mbt(t);var e=1===t.layout.columns?"width":"childWidth",n=void 0===t.layout.columns?"height":"childHeight";ybt(t,e),ybt(t,n)}(this)}},{key:"parseAxisGroup",value:function(){return null}},{key:"assembleSelectionTopLevelSignals",value:function(t){return this.children.reduce((function(t,e){return e.assembleSelectionTopLevelSignals(t)}),t)}},{key:"assembleSignals",value:function(){return this.children.forEach((function(t){return t.assembleSignals()})),[]}},{key:"assembleLayoutSignals",value:function(){var t,e=ypt(this),n=jbt(this.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push.apply(e,(0,Xm.Z)(r.assembleLayoutSignals()))}}catch(i){n.e(i)}finally{n.f()}return e}},{key:"assembleSelectionData",value:function(t){return this.children.reduce((function(t,e){return e.assembleSelectionData(t)}),t)}},{key:"assembleMarks",value:function(){return this.children.map((function(t){var e=t.assembleTitle(),n=t.assembleGroupStyle(),r=t.assembleGroupEncodeEntry(!1);return Fbt(Fbt(Fbt(Fbt({type:"group",name:t.getName("group")},e?{title:e}:{}),n?{style:n}:{}),r?{encode:{update:r}}:{}),t.assembleGroup())}))}},{key:"assembleGroupStyle",value:function(){}},{key:"assembleDefaultLayout",value:function(){var t=this.layout.columns;return Fbt(Fbt({},null!=t?{columns:t}:{}),{},{bounds:"full",align:"each"})}}]),n}(fyt);function Nbt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}function Bbt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zbt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bbt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bbt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ubt=zbt(zbt({disable:1,gridScale:1,scale:1},gat),{},{labelExpr:1,encode:1}),Hbt=m9(Ubt),Wbt=function(t){(0,Bm.Z)(n,t);var e=Nbt(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,Rm.Z)(this,n),(t=e.call(this)).explicit=r,t.implicit=i,t.mainExtracted=o,t}return(0,Lm.Z)(n,[{key:"clone",value:function(){return new n(J7(this.explicit),J7(this.implicit),this.mainExtracted)}},{key:"hasAxisPart",value:function(t){return"axis"===t||("grid"===t||"title"===t?!!this.get(t):!function(t){return!1===t||null===t}(this.get(t)))}},{key:"hasOrientSignalRef",value:function(){return zet(this.explicit.orient)}}]),n}(_st);function Vbt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gbt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vbt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vbt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xbt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return qbt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qbt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function qbt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ybt={bottom:"top",top:"bottom",left:"right",right:"left"};function $bt(t,e){if(!t)return e.map((function(t){return t.clone()}));if(t.length===e.length){for(var n=t.length,r=0;r<n;r++){var i=t[r],o=e[r];if(!!i!=!!o)return;if(i&&o){var a=i.getWithExplicit("orient"),c=o.getWithExplicit("orient");if(a.explicit&&c.explicit&&a.value!==c.value)return;t[r]=Kbt(i,o)}}return t}}function Kbt(t,e){var n,r=Xbt(Hbt);try{var i=function(){var r=n.value,i=jst(t.getWithExplicit(r),e.getWithExplicit(r),r,"axis",(function(t,e){switch(r){case"title":return vnt(t,e);case"gridScale":return{explicit:t.explicit,value:T9(t.value,e.value)}}return Fst(t,e,r,"axis")}));t.setWithExplicit(r,i)};for(r.s();!(n=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return t}function Jbt(t,e,n,r,i){if("disable"===e)return void 0!==n;switch(n=n||{},e){case"titleAngle":case"labelAngle":return t===(zet(n.labelAngle)?n.labelAngle:L9(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(t===Gdt(r,i))return!0}return t===n[e]}var Qbt=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function txt(t,e){var n,r,i,o,a,c=e.axis(t),l=new Wbt,u=tat(e.encoding[t]),s=e.mark,f=e.config,h=(null===(n=c)||void 0===n?void 0:n.orient)||(null===(r=f["x"===t?"axisX":"axisY"])||void 0===r?void 0:r.orient)||(null===(i=f.axis)||void 0===i?void 0:i.orient)||function(t){return"x"===t?"bottom":"left"}(t),d=e.getScaleComponent(t).get("type"),p=function(t,e,n,r){var i="band"===e?["axisDiscrete","axisBand"]:"point"===e?["axisDiscrete","axisPoint"]:tit(e)?["axisQuantitative"]:"time"===e||"utc"===e?["axisTemporal"]:[],o="x"===t?"axisX":"axisY",a=zet(n)?"axisOrient":"axis".concat(C9(n)),c=[].concat(i,(0,Xm.Z)(i.map((function(t){return o+t.substr(4)})))),l=["axis",a,o];return{vlOnlyAxisConfig:Ndt(c,r,t,n),vgAxisConfig:Ndt(l,r,t,n),axisConfigStyle:Bdt([].concat(l,(0,Xm.Z)(c)),r)}}(t,d,h,e.config),v=void 0!==c?!c:zdt("disable",f.style,null===(o=c)||void 0===o?void 0:o.style,p).configValue;if(l.set("disable",v,void 0!==c),v)return l;var g,m=function(t,e,n,r,i){var o=null==e?void 0:e.labelAngle;if(void 0!==o)return zet(o)?o:L9(o);var a=zdt("labelAngle",r,null==e?void 0:e.style,i).configValue;return void 0!==a?L9(a):n!==V9||!o9([Vrt,Hrt],t.type)||_ot(t)&&t.timeUnit?void 0:270}(u,c=c||{},t,f.style,p),y=not(c.formatType,u,d),b=eot(u,u.type,c.format,c.formatType,f,!0),x={fieldOrDatumDef:u,axis:c,channel:t,model:e,scaleType:d,orient:h,labelAngle:m,format:b,formatType:y,mark:s,config:f},w=Xbt(Hbt);try{for(w.s();!(g=w.n()).done;){var S=g.value,k=S in Udt?Udt[S](x):yat(S)?c[S]:void 0,C=void 0!==k,O=Jbt(k,S,c,e,t);if(C&&O)l.set(S,k,O);else{var E=yat(S)&&"values"!==S?zdt(S,f.style,c.style,p):{},M=E.configValue,A=void 0===M?void 0:M,P=E.configFrom,_=void 0===P?void 0:P,D=void 0!==A;C&&!D?l.set(S,k,O):("vgAxisConfig"!==_||Qbt.has(S)&&D||dat(A)||zet(A))&&l.set(S,A,!1)}}}catch(F){w.e(F)}finally{w.f()}var T=null!==(a=c.encoding)&&void 0!==a?a:{},Z=pat.reduce((function(n,r){var i;if(!l.hasAxisPart(r))return n;var o=Opt(null!==(i=T[r])&&void 0!==i?i:{},e),a="labels"===r?function(t,e,n){var r,i=t.encoding,o=t.config,a=null!==(r=tat(i[e]))&&void 0!==r?r:tat(i[Wtt(e)]),c=t.axis(e)||{},l=c.format,u=c.formatType;if(Yit(u))return Gbt({text:tot({fieldOrDatumDef:a,field:"datum.value",format:l,formatType:u,config:o})},n);if(void 0===l&&void 0===u&&o.customFormatTypes){if("quantitative"===Dot(a)){if(Bot(a)&&"normalize"===a.stack&&o.normalizedNumberFormatType)return Gbt({text:tot({fieldOrDatumDef:a,field:"datum.value",format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,config:o})},n);if(o.numberFormatType)return Gbt({text:tot({fieldOrDatumDef:a,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o})},n)}if("temporal"===Dot(a)&&o.timeFormatType&&_ot(a)&&!a.timeUnit)return Gbt({text:tot({fieldOrDatumDef:a,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o})},n)}return n}(e,t,o):o;return void 0===a||g9(a)||(n[r]={update:a}),n}),{});return g9(Z)||l.set("encode",Z,!!c.encoding||void 0!==c.labelAngle),l}function ext(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return nxt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nxt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function nxt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rxt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ixt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rxt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rxt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oxt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function axt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oxt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oxt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cxt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lxt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cxt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cxt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function uxt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sxt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?uxt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uxt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fxt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hxt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fxt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fxt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dxt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pxt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dxt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dxt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vxt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gxt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vxt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vxt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mxt(t,e){t.config;return gxt(gxt(gxt(gxt(gxt(gxt({},Oht(t,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),cht("x",t,{defaultPos:"mid"})),cht("y",t,{defaultPos:"mid"})),tht("size",t)),tht("angle",t)),function(t,e,n){if(n)return{shape:{value:n}};return tht("shape",t)}(t,0,e))}function yxt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bxt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yxt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yxt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xxt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wxt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xxt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xxt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Sxt={vgMark:"rule",encodeEntry:function(t){var e=t.markDef.orient;return t.encoding.x||t.encoding.y||t.encoding.latitude||t.encoding.longitude?wxt(wxt(wxt(wxt({},Oht(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),pht("x",t,{defaultPos:"horizontal"===e?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==e})),pht("y",t,{defaultPos:"vertical"===e?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==e})),tht("size",t,{vgChannel:"strokeWidth"})):{}}};function kxt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cxt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kxt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kxt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Oxt={vgMark:"text",encodeEntry:function(t){var e=t.config;t.encoding;return Cxt(Cxt(Cxt(Cxt(Cxt(Cxt(Cxt(Cxt(Cxt(Cxt({},Oht(t,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),cht("x",t,{defaultPos:"mid"})),cht("y",t,{defaultPos:"mid"})),Wft(t)),tht("size",t,{vgChannel:"fontSize"})),tht("angle",t)),Aht("align",function(t,e,n){var r=lnt("align",t,n);if(void 0===r)return"center";return}(t.markDef,0,e))),Aht("baseline",function(t,e,n){var r=lnt("baseline",t,n);if(void 0===r)return"middle";return}(t.markDef,0,e))),cht("radius",t,{defaultPos:null})),cht("theta",t,{defaultPos:null}))}};function Ext(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mxt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ext(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ext(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Axt={vgMark:"rect",encodeEntry:function(t){var e=t.config,n=t.markDef,r=n.orient,i="horizontal"===r?"width":"height",o="horizontal"===r?"height":"width";return Mxt(Mxt(Mxt(Mxt(Mxt({},Oht(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),cht("x",t,{defaultPos:"mid",vgChannel:"xc"})),cht("y",t,{defaultPos:"mid",vgChannel:"yc"})),tht("size",t,{defaultValue:Pxt(t),vgChannel:i})),{},(0,V.Z)({},o,rnt(lnt("thickness",n,e))))}};function Pxt(t){var e,n=t.config,r=t.markDef,i=r.orient,o="horizontal"===i?"width":"height",a=t.getScaleComponent("horizontal"===i?"x":"y"),c=null!==(e=lnt("size",r,n,{vgChannel:o}))&&void 0!==e?e:n.tick.bandSize;if(void 0!==c)return c;var l=a?a.get("range"):void 0;return l&&Uet(l)&&Hb(l.step)?3*l.step/4:3*olt(n.view,o)/4}function _xt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Dxt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dxt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Dxt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Txt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zxt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Txt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Txt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Fxt={arc:{vgMark:"arc",encodeEntry:function(t){return ixt(ixt(ixt(ixt(ixt({},Oht(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),cht("x",t,{defaultPos:"mid"})),cht("y",t,{defaultPos:"mid"})),bht(t,"radius")),bht(t,"theta"))}},area:{vgMark:"area",encodeEntry:function(t){return axt(axt(axt(axt({},Oht(t,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),pht("x",t,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===t.markDef.orient})),pht("y",t,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===t.markDef.orient})),Mht(t))}},bar:{vgMark:"rect",encodeEntry:function(t){return lxt(lxt(lxt({},Oht(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),bht(t,"x")),bht(t,"y"))}},circle:{vgMark:"symbol",encodeEntry:function(t){return mxt(t,"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(t){return sxt({},Oht(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}))},postEncodingTransform:function(t){var e=t.encoding.shape;return[sxt({type:"geoshape",projection:t.projectionName()},e&&_ot(e)&&e.type===Grt?{field:Wot(e,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:function(t){return hxt(hxt(hxt(hxt({},Oht(t,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),bht(t,"x")),bht(t,"y")),Wft(t,"url"))}},line:{vgMark:"line",encodeEntry:function(t){return pxt(pxt(pxt(pxt(pxt({},Oht(t,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),cht("x",t,{defaultPos:"mid"})),cht("y",t,{defaultPos:"mid"})),tht("size",t,{vgChannel:"strokeWidth"})),Mht(t))}},point:{vgMark:"symbol",encodeEntry:function(t){return mxt(t)}},rect:{vgMark:"rect",encodeEntry:function(t){return bxt(bxt(bxt({},Oht(t,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),bht(t,"x")),bht(t,"y"))}},rule:Sxt,square:{vgMark:"symbol",encodeEntry:function(t){return mxt(t,"square")}},text:Oxt,tick:Axt,trail:{vgMark:"trail",encodeEntry:function(t){return pxt(pxt(pxt(pxt(pxt({},Oht(t,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),cht("x",t,{defaultPos:"mid"})),cht("y",t,{defaultPos:"mid"})),tht("size",t)),Mht(t))}}};function jxt(t){if(o9([bit,git,Oit],t.mark)){var e=jat(t.mark,t.encoding);if(e.length>0)return function(t,e){return[{name:t.getName("pathgroup"),type:"group",from:{facet:{name:Ixt+t.requestDataName(Rst.Main),data:t.requestDataName(Rst.Main),groupby:e}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Lxt(t,{fromPrefix:Ixt})}]}(t,e)}else if(t.mark===mit){var n=Get.some((function(e){return lnt(e,t.markDef,t.config)}));if(t.stack&&!t.fieldDef("size")&&n)return function(t){var e,n,r,i=Lxt(t,{fromPrefix:Rxt}),o=(0,G.Z)(i,1)[0],a=t.scaleName(t.stack.fieldChannel),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.vgField(t.stack.fieldChannel,e)},l=function(t,e){var n=[c({prefix:"min",suffix:"start",expr:e}),c({prefix:"max",suffix:"start",expr:e}),c({prefix:"min",suffix:"end",expr:e}),c({prefix:"max",suffix:"end",expr:e})];return"".concat(t,"(").concat(n.map((function(t){return"scale('".concat(a,"',").concat(t,")")})).join(","),")")};"x"===t.stack.fieldChannel?(n=Zxt(Zxt({},t9(o.encode.update,["y","yc","y2","height"].concat((0,Xm.Z)(Get)))),{},{x:{signal:l("min","datum")},x2:{signal:l("max","datum")},clip:{value:!0}}),r={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},o.encode.update=Zxt(Zxt({},e9(o.encode.update,["y","yc","y2"])),{},{height:{field:{group:"height"}}})):(n=Zxt(Zxt({},t9(o.encode.update,["x","xc","x2","width"])),{},{y:{signal:l("min","datum")},y2:{signal:l("max","datum")},clip:{value:!0}}),r={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},o.encode.update=Zxt(Zxt({},e9(o.encode.update,["x","xc","x2"])),{},{width:{field:{group:"width"}}}));var u,s=_xt(Get);try{for(s.s();!(u=s.n()).done;){var f=u.value,h=unt(f,t.markDef,t.config);o.encode.update[f]?(n[f]=o.encode.update[f],delete o.encode.update[f]):h&&(n[f]=rnt(h)),h&&(o.encode.update[f]={value:0})}}catch(b){s.e(b)}finally{s.f()}var d=[];if((null===(e=t.stack.groupbyChannels)||void 0===e?void 0:e.length)>0){var p,v=_xt(t.stack.groupbyChannels);try{for(v.s();!(p=v.n()).done;){var g=p.value,m=t.fieldDef(g),y=Wot(m);y&&d.push(y),(null!=m&&m.bin||null!=m&&m.timeUnit)&&d.push(Wot(m,{binSuffix:"end"}))}}catch(b){v.e(b)}finally{v.f()}}n=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((function(e,n){if(o.encode.update[n])return Zxt(Zxt({},e),{},(0,V.Z)({},n,o.encode.update[n]));var r=unt(n,t.markDef,t.config);return void 0!==r?Zxt(Zxt({},e),{},(0,V.Z)({},n,rnt(r))):e}),n),n.stroke&&(n.strokeForeground={value:!0},n.strokeOffset={value:0});return[{type:"group",from:{facet:{data:t.requestDataName(Rst.Main),name:Rxt+t.requestDataName(Rst.Main),groupby:d,aggregate:{fields:[c({suffix:"start"}),c({suffix:"start"}),c({suffix:"end"}),c({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:n},marks:[{type:"group",encode:{update:r},marks:[o]}]}]}(t)}return Lxt(t)}var Ixt="faceted_path_";var Rxt="stack_group_";function Lxt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""},n=t.mark,r=t.markDef,i=t.encoding,o=t.config,a=T9(r.clip,function(t){var e=t.getScaleComponent("x"),n=t.getScaleComponent("y");return!!(null!=e&&e.get("selectionExtent")||null!=n&&n.get("selectionExtent"))||void 0}(t),function(t){var e=t.component.projection;return!(!e||e.isFit)||void 0}(t)),c=cnt(r),l=i.key,u=function(t){var e=t.encoding,n=t.stack,r=t.mark,i=t.markDef,o=t.config,a=e.order;if(!(!qy(a)&&Lot(a)&&i9(a.value)||!a&&i9(lnt("order",i,o)))){if((qy(a)||_ot(a))&&!n)return hnt(a,{expr:"datum"});if(Pit(r)){var c="horizontal"===i.orient?"y":"x",l=e[c];if(_ot(l)){var u,s=l.sort;if(qy(s))return{field:Wot(l,{prefix:c,suffix:"sort_index",expr:"datum"})};if(fot(s))return{field:Wot({aggregate:_at(t.encoding)?s.op:void 0,field:s.field},{expr:"datum"})};if(sot(s))return{field:Wot(t.fieldDef(s.encoding),{expr:"datum"}),order:s.order};if(null===s)return;return{field:Wot(l,{binSuffix:null!==(u=t.stack)&&void 0!==u&&u.impute?"mid":void 0,expr:"datum"})}}}}}(t),s=function(t){if(!t.component.selection)return null;var e=m9(t.component.selection).length,n=e,r=t.parent;for(;r&&0===n;)n=m9(r.component.selection).length,r=r.parent;return n?{interactive:e>0||"geoshape"===t.mark||!!t.encoding.tooltip}:null}(t),f=lnt("aria",r,o),h=Fxt[n].postEncodingTransform?Fxt[n].postEncodingTransform(t):null;return[Zxt(Zxt(Zxt(Zxt(Zxt(Zxt(Zxt({name:t.getName("marks"),type:Fxt[n].vgMark},a?{clip:!0}:{}),c?{style:c}:{}),l?{key:l.field}:{}),u?{sort:u}:{}),s||{}),!1===f?{aria:f}:{}),{},{from:{data:e.fromPrefix+t.requestDataName(Rst.Main)},encode:{update:Fxt[n].encodeEntry(t)}},h?{transform:h}:{})]}function Nxt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Bxt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bxt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Bxt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zxt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Uxt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zxt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zxt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Hxt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var Wxt=function(t){(0,Bm.Z)(n,t);var e=Hxt(n);function n(t,r,i){var o,a,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4?arguments[4]:void 0;(0,Rm.Z)(this,n),(a=e.call(this,t,"unit",r,i,l,void 0,Kct(t)?t.view:void 0)).specifiedScales={},a.specifiedAxes={},a.specifiedLegends={},a.specifiedProjection={},a.selection=[],a.children=[];var u=Tit(t.mark)?Uxt({},t.mark):{type:t.mark},s=u.type;void 0===u.filled&&(u.filled=function(t,e,n){if(n.graticule)return!1;var r=unt("filled",t,e),i=t.type;return T9(r,i!==xit&&i!==bit&&i!==Sit)}(u,l,{graticule:t.data&&Vst(t.data)}));var f=a.encoding=Tat(t.encoding||{},s,u.filled,l);return a.markDef=jlt(u,f,l),a.size=function(t){var e,n=t.encoding,r=t.size,i=ext(Qtt);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=Vtt(o);$ct(r[a])&&Zot(n[o])&&(delete r[a],$nt(Unt(a)))}}catch(c){i.e(c)}finally{i.f()}return r}({encoding:f,size:Kct(t)?Uxt(Uxt(Uxt({},c),t.width?{width:t.width}:{}),t.height?{height:t.height}:{}):c}),a.stack=Tlt(a.markDef,f),a.specifiedScales=a.initScales(s,f),a.specifiedAxes=a.initAxes(f),a.specifiedLegends=a.initLegends(f),a.specifiedProjection=t.projection,a.selection=(null!==(o=t.params)&&void 0!==o?o:[]).filter((function(t){return Rct(t)})),a}return(0,Lm.Z)(n,[{key:"hasProjection",get:function(){var t=this.encoding,e=this.mark===Ait,n=t&&Ptt.some((function(e){return Iot(t[e])}));return e||n}},{key:"scaleDomain",value:function(t){var e=this.specifiedScales[t];return e?e.domain:void 0}},{key:"axis",value:function(t){return this.specifiedAxes[t]}},{key:"legend",value:function(t){return this.specifiedLegends[t]}},{key:"initScales",value:function(t,e){var n=this;return set.reduce((function(t,r){var i,o=tat(e[r]);o&&(t[r]=n.initScale(null!==(i=o.scale)&&void 0!==i?i:{}));return t}),{})}},{key:"initScale",value:function(t){var e=t.domain,n=t.range,r=jet(t);return qy(e)&&(r.domain=e.map(ent)),qy(n)&&(r.range=n.map(ent)),r}},{key:"initAxes",value:function(t){var e=this;return Qtt.reduce((function(n,r){var i=t[r];if(Iot(i)||r===V9&&Iot(t.x2)||r===G9&&Iot(t.y2)){var o=Iot(i)?i.axis:void 0;n[r]=o?e.initAxis(Uxt({},o)):o}return n}),{})}},{key:"initAxis",value:function(t){var e,n={},r=Nxt(m9(t));try{for(r.s();!(e=r.n()).done;){var i=e.value,o=t[i];n[i]=dat(o)?tnt(o):ent(o)}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"initLegends",value:function(t){return cet.reduce((function(e,n){var r=tat(t[n]);if(r&&function(t){switch(t){case ott:case att:case ctt:case utt:case ltt:case ftt:case ptt:case vtt:return!0;case htt:case dtt:case stt:return!1}}(n)){var i=r.legend;e[n]=i?jet(i):i}return e}),{})}},{key:"parseData",value:function(){this.component.data=Tbt(this)}},{key:"parseLayoutSize",value:function(){!function(t){var e,n=t.size,r=t.component,i=vbt(Qtt);try{for(i.s();!(e=i.n()).done;){var o=Vtt(e.value);if(n[o]){var a=n[o];r.layoutSize.set(o,$ct(a)?"step":a,!0)}else{var c=bbt(t,o);r.layoutSize.set(o,c,!1)}}}catch(l){i.e(l)}finally{i.f()}}(this)}},{key:"parseSelections",value:function(){this.component.selection=function(t,e){var n={},r=t.config.selection;if(!e||!e.length)return n;var i,o=wdt(e);try{for(o.s();!(i=o.n()).done;){var a=i.value,c=w9(a.name),l=a.select,u=Vb(l)?l:l.type,s=Yy(l)?J7(l):{type:u},f=r[u];for(var h in f){var d;"fields"!==h&&"encodings"!==h&&("mark"===h&&(s[h]=xdt(xdt({},f[h]),s[h])),(void 0===s[h]||!0===s[h])&&(s[h]=J7(null!==(d=f[h])&&void 0!==d?d:s[h])))}var p,v=n[c]=xdt(xdt({},s),{},{name:c,type:u,init:a.value,bind:a.bind,events:Vb(s.on)?t3(s.on,"scope"):bb(J7(s.on))}),g=J7(a),m=wdt(sdt);try{for(m.s();!(p=m.n()).done;){var y=p.value;y.defined(v)&&y.parse&&y.parse(t,v,g)}}catch(b){m.e(b)}finally{m.f()}}}catch(b){o.e(b)}finally{o.f()}return n}(this,this.selection)}},{key:"parseMarkGroup",value:function(){this.component.mark=jxt(this)}},{key:"parseAxesAndHeaders",value:function(){var t;this.component.axes=(t=this,Qtt.reduce((function(e,n){return t.component.scales[n]&&(e[n]=[txt(n,t)]),e}),{}))}},{key:"assembleSelectionTopLevelSignals",value:function(t){return function(t,e){var n,r,i=!1,o=Xst(y9(null!==(n=t.component.selection)&&void 0!==n?n:{}));try{var a=function(){var n=r.value,o=n.name,a=tx(o+adt),c=e.filter((function(t){return t.name===o}));if(0===c.length){var l="global"===n.resolve?"union":n.resolve,u="point"===n.type?", true, true)":")";e.push({name:n.name,update:"".concat(udt,"(").concat(a,", ").concat(tx(l)).concat(u)})}i=!0;var s,f=Xst(sdt);try{for(f.s();!(s=f.n()).done;){var h=s.value;h.defined(n)&&h.topLevelSignals&&(e=h.topLevelSignals(t,n,e))}}catch(d){f.e(d)}finally{f.f()}};for(o.s();!(r=o.n()).done;)a()}catch(l){o.e(l)}finally{o.f()}if(i){var c=e.filter((function(t){return"unit"===t.name}));0===c.length&&e.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]})}return Jst(e)}(this,t)}},{key:"assembleSignals",value:function(){return[].concat((0,Xm.Z)(Idt(this)),(0,Xm.Z)(function(t,e){var n,r,i=Xst(y9(null!==(n=t.component.selection)&&void 0!==n?n:{}));try{for(i.s();!(r=i.n()).done;){var o,a=r.value,c=a.name,l="".concat(c).concat(cdt,", ").concat("global"===a.resolve?"true":"{unit: ".concat(fdt(t),"}")),u=Xst(sdt);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.defined(a)&&(s.signals&&(e=s.signals(t,a,e)),s.modifyExpr&&(l=s.modifyExpr(t,a,l)))}}catch(f){u.e(f)}finally{u.f()}e.push({name:c+ldt,on:[{events:{signal:a.name+cdt},update:"modify(".concat(tx(a.name+adt),", ").concat(l,")")}]})}}catch(f){i.e(f)}finally{i.f()}return Jst(e)}(this,[])))}},{key:"assembleSelectionData",value:function(t){return function(t,e){var n,r,i=(0,Xm.Z)(e),o=fdt(t,{escape:!1}),a=Xst(y9(null!==(n=t.component.selection)&&void 0!==n?n:{}));try{var c=function(){var t=r.value,e={name:t.name+adt};if(t.project.hasSelectionId&&(e.transform=[{type:"collect",sort:{field:Zct}}]),t.init){var n=t.project.items.map(Yst);e.values=t.project.hasSelectionId?t.init.map((function(t){return(0,V.Z)({unit:o},Zct,$st(t,!1)[0])})):t.init.map((function(t){return{unit:o,fields:n,values:$st(t,!1)}}))}i.filter((function(e){return e.name===t.name+adt})).length||i.push(e)};for(a.s();!(r=a.n()).done;)c()}catch(l){a.e(l)}finally{a.f()}return i}(this,t)}},{key:"assembleLayout",value:function(){return null}},{key:"assembleLayoutSignals",value:function(){return ypt(this)}},{key:"assembleMarks",value:function(){var t,e=null!==(t=this.component.mark)&&void 0!==t?t:[];return this.parent&&syt(this.parent)||(e=Kst(this,e)),e.map(this.correctDataNames)}},{key:"assembleGroupStyle",value:function(){var t=(this.view||{}).style;return void 0!==t?t:this.encoding.x||this.encoding.y?"cell":"view"}},{key:"getMapping",value:function(){return this.encoding}},{key:"mark",get:function(){return this.markDef.type}},{key:"channelHasField",value:function(t){return Mat(this.encoding,t)}},{key:"fieldDef",value:function(t){return Qot(this.encoding[t])}},{key:"typedFieldDef",value:function(t){var e=this.fieldDef(t);return Rot(e)?e:null}}]),n}(hyt);function Vxt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Gxt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gxt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Gxt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xxt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qxt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xxt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xxt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yxt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}var $xt=function(t){(0,Bm.Z)(n,t);var e=Yxt(n);function n(t,r,i,o,a){var c;(0,Rm.Z)(this,n),c=e.call(this,t,"layer",r,i,a,t.resolve,t.view);var l=qxt(qxt(qxt({},o),t.width?{width:t.width}:{}),t.height?{height:t.height}:{});return c.children=t.layer.map((function(t,e){if(xlt(t))return new n(t,(0,Nm.Z)(c),c.getName("layer_".concat(e)),l,a);if(xat(t))return new Wxt(t,(0,Nm.Z)(c),c.getName("layer_".concat(e)),l,a);throw new Error(gnt(t))})),c}return(0,Lm.Z)(n,[{key:"parseData",value:function(){this.component.data=Tbt(this);var t,e=Vxt(this.children);try{for(e.s();!(t=e.n()).done;){t.value.parseData()}}catch(n){e.e(n)}finally{e.f()}}},{key:"parseLayoutSize",value:function(){var t;mbt(t=this),ybt(t,"width"),ybt(t,"height")}},{key:"parseSelections",value:function(){this.component.selection={};var t,e=Vxt(this.children);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.parseSelections();var r,i=Vxt(m9(n.component.selection));try{for(i.s();!(r=i.n()).done;){var o=r.value;this.component.selection[o]=n.component.selection[o]}}catch(a){i.e(a)}finally{i.f()}}}catch(a){e.e(a)}finally{e.f()}}},{key:"parseMarkGroup",value:function(){var t,e=Vxt(this.children);try{for(e.s();!(t=e.n()).done;){t.value.parseMarkGroup()}}catch(n){e.e(n)}finally{e.f()}}},{key:"parseAxesAndHeaders",value:function(){!function(t){var e,n=t.component,r=n.axes,i=n.resolve,o={top:0,bottom:0,right:0,left:0},a=Xbt(t.children);try{for(a.s();!(e=a.n()).done;){var c=e.value;c.parseAxesAndHeaders();var l,u=Xbt(m9(c.component.axes));try{for(u.s();!(l=u.n()).done;){var s=l.value;i.axis[s]=Mpt(t.component.resolve,s),"shared"===i.axis[s]&&(r[s]=$bt(r[s],c.component.axes[s]),r[s]||(i.axis[s]="independent",delete r[s]))}}catch(_){u.e(_)}finally{u.f()}}}catch(_){a.e(_)}finally{a.f()}var f,h=Xbt(Qtt);try{for(h.s();!(f=h.n()).done;){var d,p=f.value,v=Xbt(t.children);try{for(v.s();!(d=v.n()).done;){var g=d.value;if(g.component.axes[p]){if("independent"===i.axis[p]){var m;r[p]=(null!==(m=r[p])&&void 0!==m?m:[]).concat(g.component.axes[p]);var y,b=Xbt(g.component.axes[p]);try{for(b.s();!(y=b.n()).done;){var x=y.value,w=x.getWithExplicit("orient"),S=w.value,k=w.explicit;if(!zet(S)){if(o[S]>0&&!k){var C=Ybt[S];o[S]>o[C]&&x.set("orient",C,!1)}o[S]++}}}catch(_){b.e(_)}finally{b.f()}}delete g.component.axes[p]}}}catch(_){v.e(_)}finally{v.f()}if("independent"===i.axis[p]&&r[p]&&r[p].length>1){var O,E=Xbt((r[p]||[]).entries());try{for(E.s();!(O=E.n()).done;){var M=(0,G.Z)(O.value,2),A=M[0],P=M[1];A>0&&P.get("grid")&&!P.explicit.grid&&(P.implicit.grid=!1)}}catch(_){E.e(_)}finally{E.f()}}}}catch(_){h.e(_)}finally{h.f()}}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(t){return this.children.reduce((function(t,e){return e.assembleSelectionTopLevelSignals(t)}),t)}},{key:"assembleSignals",value:function(){return this.children.reduce((function(t,e){return t.concat(e.assembleSignals())}),Idt(this))}},{key:"assembleLayoutSignals",value:function(){return this.children.reduce((function(t,e){return t.concat(e.assembleLayoutSignals())}),ypt(this))}},{key:"assembleSelectionData",value:function(t){return this.children.reduce((function(t,e){return e.assembleSelectionData(t)}),t)}},{key:"assembleGroupStyle",value:function(){var t,e=new Set,n=Vxt(this.children);try{for(n.s();!(t=n.n()).done;){var r,i=Vxt(bb(t.value.assembleGroupStyle()));try{for(i.s();!(r=i.n()).done;){var o=r.value;e.add(o)}}catch(c){i.e(c)}finally{i.f()}}}catch(c){n.e(c)}finally{n.f()}var a=Array.from(e);return a.length>1?a:1===a.length?a[0]:void 0}},{key:"assembleTitle",value:function(){var t=qZ((0,Um.Z)(n.prototype),"assembleTitle",this).call(this);if(t)return t;var e,r=Vxt(this.children);try{for(r.s();!(e=r.n()).done;){if(t=e.value.assembleTitle())return t}}catch(i){r.e(i)}finally{r.f()}}},{key:"assembleLayout",value:function(){return null}},{key:"assembleMarks",value:function(){return function(t,e){var n,r=Xst(t.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;cyt(i)&&(e=Kst(i,e))}}catch(o){r.e(o)}finally{r.f()}return e}(this,this.children.flatMap((function(t){return t.assembleMarks()})))}},{key:"assembleLegends",value:function(){return this.children.reduce((function(t,e){return t.concat(e.assembleLegends())}),nvt(this))}}]),n}(fyt);function Kxt(t,e,n,r,i){if(vot(t))return new Ebt(t,e,n,i);if(xlt(t))return new $xt(t,e,n,r,i);if(xat(t))return new Wxt(t,e,n,r,i);if(function(t){return Vct(t)||Gct(t)||Wct(t)}(t))return new Lbt(t,e,n,i);throw new Error(gnt(t))}var Jxt=["params"];function Qxt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function twt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qxt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qxt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ewt(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.logger&&(e=n.logger,qnt=e),n.fieldTitle&&qot(n.fieldTitle);try{var r=plt(Ky(n.config,t.config)),i=mst(t,r),o=Kxt(i,null,"",void 0,r);o.parse(),function(t,e){emt(t.sources);for(var n=0,r=0,i=0;i<tmt&&rmt(t,e,!0);i++)n++;t.sources.map(Ygt);for(var o=0;o<tmt&&rmt(t,e,!1);o++)r++;emt(t.sources),Math.max(n,r)===tmt&&$nt("Maximum optimization runs(".concat(tmt,") reached."))}(o.component.data,o);var a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=t.config?ylt(t.config):void 0,o=[].concat(t.assembleSelectionData([]),function(t,e){var n,r=[],i=lbt(r),o=0,a=ibt(t.sources);try{for(a.s();!(n=a.n()).done;){var c=n.value;c.hasName()||(c.dataName="source_".concat(o++));var l=c.assemble();i(c,l)}}catch(A){a.e(A)}finally{a.f()}for(var u=0,s=r;u<s.length;u++){var f=s[u];0===f.transform.length&&delete f.transform}var h,d=0,p=ibt(r.entries());try{for(p.s();!(h=p.n()).done;){var v,g=(0,G.Z)(h.value,2),m=g[0],y=g[1];0!==(null!==(v=y.transform)&&void 0!==v?v:[]).length||y.source||r.splice(d++,0,r.splice(m,1)[0])}}catch(A){p.e(A)}finally{p.f()}for(var b=0,x=r;b<x.length;b++){var w,S,k=ibt(null!==(w=x[b].transform)&&void 0!==w?w:[]);try{for(k.s();!(S=k.n()).done;){var C=S.value;"lookup"===C.type&&(C.from=t.outputNodes[C.from].getSource())}}catch(A){k.e(A)}finally{k.f()}}for(var O=0,E=r;O<E.length;O++){var M=E[O];M.name in e&&(M.values=e[M.name])}return r}(t.component.data,n)),a=t.assembleProjections(),c=t.assembleTitle(),l=t.assembleGroupStyle(),u=t.assembleGroupEncodeEntry(!0),s=t.assembleLayoutSignals();s=s.filter((function(t){return"width"!==t.name&&"height"!==t.name||void 0===t.value||(e[t.name]=+t.value,!1)}));var f=e.params,h=(0,I.Z)(e,Jxt);return twt(twt(twt(twt(twt(twt(twt(twt(twt({$schema:"https://vega.github.io/schema/vega/v5.json"},t.description?{description:t.description}:{}),h),c?{title:c}:{}),l?{style:l}:{}),u?{encode:{update:u}}:{}),{},{data:o},a.length>0?{projections:a}:{}),t.assembleGroup([].concat((0,Xm.Z)(s),(0,Xm.Z)(t.assembleSelectionTopLevelSignals([])),(0,Xm.Z)(Hct(f))))),i?{config:i}:{}),r?{usermeta:r}:{})}(o,function(t,e,n,r){var i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");void 0===e?(e={type:"pad"},r.hasAxisOrientSignalRef()&&(e.resize=!0)):Vb(e)&&(e={type:e});if(i&&o&&(l=e.type,"fit"===l||"fit-x"===l||"fit-y"===l))if("step"===i&&"step"===o)$nt(xnt()),e.type="pad";else if("step"===i||"step"===o){var a="step"===i?"width":"height";$nt(xnt(ret(a)));var c="width"===a?"height":"width";e.type=function(t){return t?"fit-".concat(ret(t)):"fit"}(c)}var l;return twt(twt(twt({},1===m9(e).length&&e.type?"pad"===e.type?{}:{autosize:e.type}:{autosize:e}),Ost(n,!1)),Ost(t,!0))}(t,i.autosize,r,o),t.datasets,t.usermeta);return{spec:a,normalized:i}}finally{n.logger&&Ynt(),n.fieldTitle&&qot(Got)}}var nwt="5.14.1";var rwt=function(t){var e=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(t).slice(1,3),n=(0,G.Z)(e,2);return{library:n[0],version:n[1]}},iwt="2.14.0",owt="#fff",awt="#888",cwt={background:"#333",view:{stroke:awt},title:{color:owt,subtitleColor:owt},style:{"guide-label":{fill:owt},"guide-title":{fill:owt}},axis:{domainColor:owt,gridColor:awt,tickColor:owt}},lwt="#4572a7",uwt={background:"#fff",arc:{fill:lwt},area:{fill:lwt},line:{stroke:lwt,strokeWidth:2},path:{stroke:lwt},rect:{fill:lwt},shape:{stroke:lwt},symbol:{fill:lwt,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},swt="#30a2da",fwt="#cbcbcb",hwt="#f0f0f0",dwt="#333",pwt={arc:{fill:swt},area:{fill:swt},axis:{domainColor:fwt,grid:!0,gridColor:fwt,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:fwt,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:hwt,group:{fill:hwt},legend:{labelColor:dwt,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:dwt,titleFontSize:14,titlePadding:10},line:{stroke:swt,strokeWidth:2},path:{stroke:swt,strokeWidth:.5},rect:{fill:swt},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:swt},bar:{binSpacing:2,fill:swt,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},vwt="#000",gwt={group:{fill:"#e5e5e5"},arc:{fill:vwt},area:{fill:vwt},line:{stroke:vwt},path:{stroke:vwt},rect:{fill:vwt},shape:{stroke:vwt},symbol:{fill:vwt,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},mwt="Benton Gothic, sans-serif",ywt="#82c6df",bwt="Benton Gothic Bold, sans-serif",xwt="normal",wwt={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},Swt={background:"#ffffff",title:{anchor:"start",color:"#000000",font:bwt,fontSize:22,fontWeight:"normal"},arc:{fill:ywt},area:{fill:ywt},line:{stroke:ywt,strokeWidth:2},path:{stroke:ywt},rect:{fill:ywt},shape:{stroke:ywt},symbol:{fill:ywt,size:30},axis:{labelFont:mwt,labelFontSize:11.5,labelFontWeight:"normal",titleFont:bwt,titleFontSize:13,titleFontWeight:xwt},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:mwt,labelFontSize:11.5,symbolType:"square",titleFont:bwt,titleFontSize:13,titleFontWeight:xwt},range:{category:wwt["category-6"],diverging:wwt["fireandice-6"],heatmap:wwt["fire-7"],ordinal:wwt["fire-7"],ramp:wwt["fire-7"]}},kwt="#ab5787",Cwt="#979797",Owt={background:"#f9f9f9",arc:{fill:kwt},area:{fill:kwt},line:{stroke:kwt},path:{stroke:kwt},rect:{fill:kwt},shape:{stroke:kwt},symbol:{fill:kwt,size:30},axis:{domainColor:Cwt,domainWidth:.5,gridWidth:.2,labelColor:Cwt,tickColor:Cwt,tickWidth:.2,titleColor:Cwt},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Ewt="#3e5c69",Mwt={background:"#fff",arc:{fill:Ewt},area:{fill:Ewt},line:{stroke:Ewt},path:{stroke:Ewt},rect:{fill:Ewt},shape:{stroke:Ewt},symbol:{fill:Ewt},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Awt="#1696d2",Pwt="#000000",_wt="Lato",Dwt="Lato",Twt={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},Zwt={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:_wt},axisX:{domain:!0,domainColor:Pwt,domainWidth:1,grid:!1,labelFontSize:12,labelFont:Dwt,labelAngle:0,tickColor:Pwt,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:_wt},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:Dwt,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:_wt,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:Dwt,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:_wt,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Twt["six-groups-cat-1"],diverging:Twt["diverging-colors"],heatmap:Twt["diverging-colors"],ordinal:Twt["six-groups-seq"],ramp:Twt["shades-blue"]},area:{fill:Awt},rect:{fill:Awt},line:{color:Awt,stroke:Awt,strokeWidth:5},trail:{color:Awt,stroke:Awt,strokeWidth:0,size:1},path:{stroke:Awt,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:Awt,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Awt,stroke:null}},arc:{fill:Awt},shape:{stroke:Awt},symbol:{fill:Awt,size:30}},Fwt="#3366CC",jwt="#ccc",Iwt="Arial, sans-serif",Rwt={arc:{fill:Fwt},area:{fill:Fwt},path:{stroke:Fwt},rect:{fill:Fwt},shape:{stroke:Fwt},symbol:{stroke:Fwt},circle:{fill:Fwt},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:Iwt,fontSize:12},"guide-title":{font:Iwt,fontSize:12},"group-title":{font:Iwt,fontSize:12}},title:{font:Iwt,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:jwt,tickColor:jwt,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Lwt=function(t){return t*(1/3+1)},Nwt=Lwt(9),Bwt=Lwt(10),zwt=Lwt(12),Uwt="Segoe UI",Hwt="wf_standard-font, helvetica, arial, sans-serif",Wwt="#252423",Vwt="#605E5C",Gwt="transparent",Xwt="#118DFF",qwt="#DEEFFF",Ywt=[qwt,Xwt],$wt={view:{stroke:Gwt},background:Gwt,font:Uwt,header:{titleFont:Hwt,titleFontSize:zwt,titleColor:Wwt,labelFont:Uwt,labelFontSize:Bwt,labelColor:Vwt},axis:{ticks:!1,grid:!1,domain:!1,labelColor:Vwt,labelFontSize:Nwt,titleFont:Hwt,titleColor:Wwt,titleFontSize:zwt,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:"#C8C6C4",gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Xwt},line:{stroke:Xwt,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:Uwt,fontSize:Nwt,fill:Vwt},arc:{fill:Xwt},area:{fill:Xwt,line:!0,opacity:.6},path:{stroke:Xwt},rect:{fill:Xwt},point:{fill:Xwt,filled:!0,size:75},shape:{stroke:Xwt},symbol:{fill:Xwt,strokeWidth:1.5,size:50},legend:{titleFont:Uwt,titleFontWeight:"bold",titleColor:Vwt,labelFont:Uwt,labelFontSize:Bwt,labelColor:Vwt,symbolType:"circle",symbolSize:75},range:{category:[Xwt,"#12239E","#E66C37","#6B007B","#E044A7","#744EC2","#D9B300","#D64550"],diverging:Ywt,heatmap:Ywt,ordinal:[qwt,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",Xwt]}},Kwt='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',Jwt=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],Qwt=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function tSt(t){var e=t.type,n="dark"===e?"#161616":"#ffffff",r="dark"===e?"#f4f4f4":"#161616",i="dark"===e?"#d4bbff":"#6929c4";return{background:t.background,arc:{fill:i},area:{fill:i},path:{stroke:i},rect:{fill:i},shape:{stroke:i},symbol:{stroke:i},circle:{fill:i},view:{fill:n,stroke:n},group:{fill:n},title:{color:r,anchor:"start",dy:-15,fontSize:16,font:Kwt,fontWeight:600},axis:{labelColor:r,labelFontSize:12,grid:!0,gridColor:"#525252",titleColor:r,labelAngle:0},style:{"guide-label":{font:Kwt,fill:r,fontWeight:400},"guide-title":{font:Kwt,fill:r,fontWeight:400}},range:{category:"dark"===e?Jwt:Qwt,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}var eSt=tSt({type:"light",background:"#ffffff"}),nSt=tSt({type:"light",background:"#f4f4f4"}),rSt=tSt({type:"dark",background:"#262626"}),iSt=tSt({type:"dark",background:"#161616"}),oSt=iwt;function aSt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return cSt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cSt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function cSt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lSt(t){return lSt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lSt(t)}function uSt(t){var e=function(t,e){if("object"!==lSt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==lSt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===lSt(e)?e:String(e)}function sSt(t,e,n){return(e=uSt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fSt(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var hSt=["title","image"];function dSt(t,e){return JSON.stringify(t,function(t){var e=[];return function(n,r){if("object"!=typeof r||null===r)return r;var i=e.indexOf(this)+1;return e.length=i,e.length>t?"[Object]":e.indexOf(r)>=0?"[Circular]":(e.push(r),r)}}(e))}var pSt="vg-tooltip-element",vSt={offsetX:10,offsetY:10,id:pSt,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2,formatTooltip:function(t,e,n){if(qy(t))return"[".concat(t.map((function(t){return e(Vb(t)?t:dSt(t,n))})).join(", "),"]");if(Yy(t)){var r="",i=t,o=i.title,a=i.image,c=fSt(i,hSt);o&&(r+="<h2>".concat(e(o),"</h2>")),a&&(r+='<img src="'.concat(e(a),'">'));var l=Object.keys(c);if(l.length>0){r+="<table>";var u,s=aSt(l);try{for(s.s();!(u=s.n()).done;){var f=u.value,h=c[f];void 0!==h&&(Yy(h)&&(h=dSt(h,n)),r+='<tr><td class="key">'.concat(e(f),':</td><td class="value">').concat(e(h),"</td></tr>"))}}catch(d){s.e(d)}finally{s.f()}r+="</table>"}return r||"{}"}return e(t)}};function gSt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mSt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gSt(Object(n),!0).forEach((function(e){sSt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gSt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ySt,bSt,xSt,wSt=function(){function t(e){(0,Rm.Z)(this,t),this.options=mSt(mSt({},vSt),e);var n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=function(t){if(!/^[A-Za-z]+[-:.\w]*$/.test(t))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace(pSt,t)}(n);var i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}return(0,Lm.Z)(t,[{key:"tooltipHandler",value:function(t,e,n,r){var i;(this.el=document.getElementById(this.options.id),this.el)||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(i=document.fullscreenElement)&&void 0!==i?i:document.body).appendChild(this.el));if(null!=r&&""!==r){this.el.innerHTML=this.options.formatTooltip(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible","".concat(this.options.theme,"-theme"));var o=function(t,e,n,r){var i=t.clientX+n;i+e.width>window.innerWidth&&(i=+t.clientX-n-e.width);var o=t.clientY+r;return o+e.height>window.innerHeight&&(o=+t.clientY-r-e.height),{x:i,y:o}}(e,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY),a=o.x,c=o.y;this.el.style.top="".concat(c,"px"),this.el.style.left="".concat(a,"px")}else this.el.classList.remove("visible","".concat(this.options.theme,"-theme"))}}]),t}();function SSt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return kSt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kSt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function kSt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CSt(t){return CSt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CSt(t)}function OSt(t){var e=function(t,e){if("object"!==CSt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==CSt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===CSt(e)?e:String(e)}function ESt(t,e,n){return(e=OSt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MSt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ASt=PSt;function PSt(t){var e=this;if(e instanceof PSt||(e=new PSt),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}function _St(t,e,n){var r=e===t.head?new ZSt(n,null,e,t):new ZSt(n,e,e.next,t);return null===r.next&&(t.tail=r),null===r.prev&&(t.head=r),t.length++,r}function DSt(t,e){t.tail=new ZSt(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function TSt(t,e){t.head=new ZSt(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function ZSt(t,e,n,r){if(!(this instanceof ZSt))return new ZSt(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}PSt.Node=ZSt,PSt.create=PSt,PSt.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e},PSt.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},PSt.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},PSt.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)DSt(this,arguments[t]);return this.length},PSt.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)TSt(this,arguments[t]);return this.length},PSt.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},PSt.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},PSt.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;null!==n;r++)t.call(e,n.value,r,this),n=n.next},PSt.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;null!==n;r--)t.call(e,n.value,r,this),n=n.prev},PSt.prototype.get=function(t){for(var e=0,n=this.head;null!==n&&e<t;e++)n=n.next;if(e===t&&null!==n)return n.value},PSt.prototype.getReverse=function(t){for(var e=0,n=this.tail;null!==n&&e<t;e++)n=n.prev;if(e===t&&null!==n)return n.value},PSt.prototype.map=function(t,e){e=e||this;for(var n=new PSt,r=this.head;null!==r;)n.push(t.call(e,r.value,this)),r=r.next;return n},PSt.prototype.mapReverse=function(t,e){e=e||this;for(var n=new PSt,r=this.tail;null!==r;)n.push(t.call(e,r.value,this)),r=r.prev;return n},PSt.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=t(n,r.value,i),r=r.next;return n},PSt.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=t(n,r.value,i),r=r.prev;return n},PSt.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;null!==n;e++)t[e]=n.value,n=n.next;return t},PSt.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;null!==n;e++)t[e]=n.value,n=n.prev;return t},PSt.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new PSt;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,i=this.head;null!==i&&r<t;r++)i=i.next;for(;null!==i&&r<e;r++,i=i.next)n.push(i.value);return n},PSt.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new PSt;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,i=this.tail;null!==i&&r>e;r--)i=i.prev;for(;null!==i&&r>t;r--,i=i.prev)n.push(i.value);return n},PSt.prototype.splice=function(t,e){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,r=this.head;null!==r&&n<t;n++)r=r.next;var i=[];for(n=0;r&&n<e;n++)i.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=_St(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return i},PSt.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};try{(xSt||(xSt=1,bSt=function(t){t.prototype[Symbol.iterator]=q().mark((function t(){var e;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.head;case 1:if(!e){t.next=7;break}return t.next=4,e.value;case 4:e=e.next,t.next=1;break;case 7:case"end":return t.stop()}}),t,this)}))}),bSt)(PSt)}catch(j2t){}var FSt=ASt,jSt=Symbol("max"),ISt=Symbol("length"),RSt=Symbol("lengthCalculator"),LSt=Symbol("allowStale"),NSt=Symbol("maxAge"),BSt=Symbol("dispose"),zSt=Symbol("noDisposeOnSet"),USt=Symbol("lruList"),HSt=Symbol("cache"),WSt=Symbol("updateAgeOnGet"),VSt=function(){return 1},GSt=function(){function t(e){if((0,Rm.Z)(this,t),"number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[jSt]=e.max||1/0;var n=e.length||VSt;if(this[RSt]="function"!=typeof n?VSt:n,this[LSt]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[NSt]=e.maxAge||0,this[BSt]=e.dispose,this[zSt]=e.noDisposeOnSet||!1,this[WSt]=e.updateAgeOnGet||!1,this.reset()}return(0,Lm.Z)(t,[{key:"max",get:function(){return this[jSt]},set:function(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[jSt]=t||1/0,YSt(this)}},{key:"allowStale",get:function(){return this[LSt]},set:function(t){this[LSt]=!!t}},{key:"maxAge",get:function(){return this[NSt]},set:function(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[NSt]=t,YSt(this)}},{key:"lengthCalculator",get:function(){return this[RSt]},set:function(t){var e=this;"function"!=typeof t&&(t=VSt),t!==this[RSt]&&(this[RSt]=t,this[ISt]=0,this[USt].forEach((function(t){t.length=e[RSt](t.value,t.key),e[ISt]+=t.length}))),YSt(this)}},{key:"length",get:function(){return this[ISt]}},{key:"itemCount",get:function(){return this[USt].length}},{key:"rforEach",value:function(t,e){e=e||this;for(var n=this[USt].tail;null!==n;){var r=n.prev;JSt(this,t,n,e),n=r}}},{key:"forEach",value:function(t,e){e=e||this;for(var n=this[USt].head;null!==n;){var r=n.next;JSt(this,t,n,e),n=r}}},{key:"keys",value:function(){return this[USt].toArray().map((function(t){return t.key}))}},{key:"values",value:function(){return this[USt].toArray().map((function(t){return t.value}))}},{key:"reset",value:function(){var t=this;this[BSt]&&this[USt]&&this[USt].length&&this[USt].forEach((function(e){return t[BSt](e.key,e.value)})),this[HSt]=new Map,this[USt]=new FSt,this[ISt]=0}},{key:"dump",value:function(){var t=this;return this[USt].map((function(e){return!qSt(t,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}})).toArray().filter((function(t){return t}))}},{key:"dumpLru",value:function(){return this[USt]}},{key:"set",value:function(t,e,n){if((n=n||this[NSt])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");var r=n?Date.now():0,i=this[RSt](e,t);if(this[HSt].has(t)){if(i>this[jSt])return $St(this,this[HSt].get(t)),!1;var o=this[HSt].get(t).value;return this[BSt]&&(this[zSt]||this[BSt](t,o.value)),o.now=r,o.maxAge=n,o.value=e,this[ISt]+=i-o.length,o.length=i,this.get(t),YSt(this),!0}var a=new KSt(t,e,i,r,n);return a.length>this[jSt]?(this[BSt]&&this[BSt](t,e),!1):(this[ISt]+=a.length,this[USt].unshift(a),this[HSt].set(t,this[USt].head),YSt(this),!0)}},{key:"has",value:function(t){if(!this[HSt].has(t))return!1;var e=this[HSt].get(t).value;return!qSt(this,e)}},{key:"get",value:function(t){return XSt(this,t,!0)}},{key:"peek",value:function(t){return XSt(this,t,!1)}},{key:"pop",value:function(){var t=this[USt].tail;return t?($St(this,t),t.value):null}},{key:"del",value:function(t){$St(this,this[HSt].get(t))}},{key:"load",value:function(t){this.reset();for(var e=Date.now(),n=t.length-1;n>=0;n--){var r=t[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{var o=i-e;o>0&&this.set(r.k,r.v,o)}}}},{key:"prune",value:function(){var t=this;this[HSt].forEach((function(e,n){return XSt(t,n,!1)}))}}]),t}(),XSt=function(t,e,n){var r=t[HSt].get(e);if(r){var i=r.value;if(qSt(t,i)){if($St(t,r),!t[LSt])return}else n&&(t[WSt]&&(r.value.now=Date.now()),t[USt].unshiftNode(r));return i.value}},qSt=function(t,e){if(!e||!e.maxAge&&!t[NSt])return!1;var n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[NSt]&&n>t[NSt]},YSt=function(t){if(t[ISt]>t[jSt])for(var e=t[USt].tail;t[ISt]>t[jSt]&&null!==e;){var n=e.prev;$St(t,e),e=n}},$St=function(t,e){if(e){var n=e.value;t[BSt]&&t[BSt](n.key,n.value),t[ISt]-=n.length,t[HSt].delete(n.key),t[USt].removeNode(e)}},KSt=(0,Lm.Z)((function t(e,n,r,i,o){(0,Rm.Z)(this,t),this.key=e,this.value=n,this.length=r,this.now=i,this.maxAge=o||0})),JSt=function(t,e,n,r){var i=n.value;qSt(t,i)&&($St(t,n),t[LSt]||(i=void 0)),i&&e.call(r,i.value,i.key,t)},QSt=GSt,tkt=Object.freeze({loose:!0}),ekt=Object.freeze({}),nkt=function(t){return t?"object"!=typeof t?tkt:t:ekt},rkt={exports:{}},ikt={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},okt="object"==typeof process&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=console).error.apply(t,["SEMVER"].concat(n))}:function(){},akt=okt;!function(t,e){var n=ikt.MAX_SAFE_COMPONENT_LENGTH,r=ikt.MAX_SAFE_BUILD_LENGTH,i=ikt.MAX_LENGTH,o=akt,a=(e=t.exports={}).re=[],c=e.safeRe=[],l=e.src=[],u=e.t={},s=0,f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,r]],d=function(t,e,n){var r=function(t){for(var e=0,n=h;e<n.length;e++){var r=(0,G.Z)(n[e],2),i=r[0],o=r[1];t=t.split("".concat(i,"*")).join("".concat(i,"{0,").concat(o,"}")).split("".concat(i,"+")).join("".concat(i,"{1,").concat(o,"}"))}return t}(e),i=s++;o(t,i,e),u[t]=i,l[i]=e,a[i]=new RegExp(e,n?"g":void 0),c[i]=new RegExp(r,n?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(f,"*")),d("MAINVERSION","(".concat(l[u.NUMERICIDENTIFIER],")\\.")+"(".concat(l[u.NUMERICIDENTIFIER],")\\.")+"(".concat(l[u.NUMERICIDENTIFIER],")")),d("MAINVERSIONLOOSE","(".concat(l[u.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(l[u.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(l[u.NUMERICIDENTIFIERLOOSE],")")),d("PRERELEASEIDENTIFIER","(?:".concat(l[u.NUMERICIDENTIFIER],"|").concat(l[u.NONNUMERICIDENTIFIER],")")),d("PRERELEASEIDENTIFIERLOOSE","(?:".concat(l[u.NUMERICIDENTIFIERLOOSE],"|").concat(l[u.NONNUMERICIDENTIFIER],")")),d("PRERELEASE","(?:-(".concat(l[u.PRERELEASEIDENTIFIER],"(?:\\.").concat(l[u.PRERELEASEIDENTIFIER],")*))")),d("PRERELEASELOOSE","(?:-?(".concat(l[u.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(l[u.PRERELEASEIDENTIFIERLOOSE],")*))")),d("BUILDIDENTIFIER","".concat(f,"+")),d("BUILD","(?:\\+(".concat(l[u.BUILDIDENTIFIER],"(?:\\.").concat(l[u.BUILDIDENTIFIER],")*))")),d("FULLPLAIN","v?".concat(l[u.MAINVERSION]).concat(l[u.PRERELEASE],"?").concat(l[u.BUILD],"?")),d("FULL","^".concat(l[u.FULLPLAIN],"$")),d("LOOSEPLAIN","[v=\\s]*".concat(l[u.MAINVERSIONLOOSE]).concat(l[u.PRERELEASELOOSE],"?").concat(l[u.BUILD],"?")),d("LOOSE","^".concat(l[u.LOOSEPLAIN],"$")),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE","".concat(l[u.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),d("XRANGEIDENTIFIER","".concat(l[u.NUMERICIDENTIFIER],"|x|X|\\*")),d("XRANGEPLAIN","[v=\\s]*(".concat(l[u.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(l[u.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(l[u.XRANGEIDENTIFIER],")")+"(?:".concat(l[u.PRERELEASE],")?").concat(l[u.BUILD],"?")+")?)?"),d("XRANGEPLAINLOOSE","[v=\\s]*(".concat(l[u.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(l[u.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(l[u.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(l[u.PRERELEASELOOSE],")?").concat(l[u.BUILD],"?")+")?)?"),d("XRANGE","^".concat(l[u.GTLT],"\\s*").concat(l[u.XRANGEPLAIN],"$")),d("XRANGELOOSE","^".concat(l[u.GTLT],"\\s*").concat(l[u.XRANGEPLAINLOOSE],"$")),d("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(n,"})")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:$|[^\\d])"),d("COERCERTL",l[u.COERCE],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM","(\\s*)".concat(l[u.LONETILDE],"\\s+"),!0),e.tildeTrimReplace="$1~",d("TILDE","^".concat(l[u.LONETILDE]).concat(l[u.XRANGEPLAIN],"$")),d("TILDELOOSE","^".concat(l[u.LONETILDE]).concat(l[u.XRANGEPLAINLOOSE],"$")),d("LONECARET","(?:\\^)"),d("CARETTRIM","(\\s*)".concat(l[u.LONECARET],"\\s+"),!0),e.caretTrimReplace="$1^",d("CARET","^".concat(l[u.LONECARET]).concat(l[u.XRANGEPLAIN],"$")),d("CARETLOOSE","^".concat(l[u.LONECARET]).concat(l[u.XRANGEPLAINLOOSE],"$")),d("COMPARATORLOOSE","^".concat(l[u.GTLT],"\\s*(").concat(l[u.LOOSEPLAIN],")$|^$")),d("COMPARATOR","^".concat(l[u.GTLT],"\\s*(").concat(l[u.FULLPLAIN],")$|^$")),d("COMPARATORTRIM","(\\s*)".concat(l[u.GTLT],"\\s*(").concat(l[u.LOOSEPLAIN],"|").concat(l[u.XRANGEPLAIN],")"),!0),e.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE","^\\s*(".concat(l[u.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(l[u.XRANGEPLAIN],")")+"\\s*$"),d("HYPHENRANGELOOSE","^\\s*(".concat(l[u.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(l[u.XRANGEPLAINLOOSE],")")+"\\s*$"),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(rkt,rkt.exports);var ckt,lkt,ukt,skt,fkt=rkt.exports,hkt=/^[0-9]+$/,dkt=function(t,e){var n=hkt.test(t),r=hkt.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},pkt=dkt,vkt=akt,gkt=ikt.MAX_LENGTH,mkt=ikt.MAX_SAFE_INTEGER,ykt=fkt.safeRe,bkt=fkt.t,xkt=nkt,wkt=pkt,Skt=function(){function t(e,n){if((0,Rm.Z)(this,t),n=xkt(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError('Invalid version. Must be a string. Got type "'.concat(typeof e,'".'));if(e.length>gkt)throw new TypeError("version is longer than ".concat(gkt," characters"));vkt("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var r=e.trim().match(n.loose?ykt[bkt.LOOSE]:ykt[bkt.FULL]);if(!r)throw new TypeError("Invalid Version: ".concat(e));if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>mkt||this.major<0)throw new TypeError("Invalid major version");if(this.minor>mkt||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>mkt||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<mkt)return e}return t})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}return(0,Lm.Z)(t,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(e){if(vkt("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if("string"==typeof e&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}},{key:"compareMain",value:function(e){return e instanceof t||(e=new t(e,this.options)),wkt(this.major,e.major)||wkt(this.minor,e.minor)||wkt(this.patch,e.patch)}},{key:"comparePre",value:function(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var n=0;do{var r=this.prerelease[n],i=e.prerelease[n];if(vkt("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return wkt(r,i)}while(++n)}},{key:"compareBuild",value:function(e){e instanceof t||(e=new t(e,this.options));var n=0;do{var r=this.build[n],i=e.build[n];if(vkt("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return wkt(r,i)}while(++n)}},{key:"inc",value:function(t,e,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e,n),this.inc("pre",e,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e,n),this.inc("pre",e,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":var r=Number(n)?1:0;if(!e&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[r];else{for(var i=this.prerelease.length;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);if(-1===i){if(e===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(r)}}if(e){var o=[e,r];!1===n&&(o=[e]),0===wkt(this.prerelease[0],e)?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break;default:throw new Error("invalid increment argument: ".concat(t))}return this.raw=this.format(),this.build.length&&(this.raw+="+".concat(this.build.join("."))),this}}]),t}(),kkt=Skt,Ckt=kkt,Okt=function(t,e,n){return new Ckt(t,n).compare(new Ckt(e,n))},Ekt=Okt,Mkt=function(t,e,n){return 0===Ekt(t,e,n)},Akt=Okt,Pkt=function(t,e,n){return 0!==Akt(t,e,n)},_kt=Okt,Dkt=function(t,e,n){return _kt(t,e,n)>0},Tkt=Okt,Zkt=function(t,e,n){return Tkt(t,e,n)>=0},Fkt=Okt,jkt=function(t,e,n){return Fkt(t,e,n)<0},Ikt=Okt,Rkt=function(t,e,n){return Ikt(t,e,n)<=0},Lkt=Mkt,Nkt=Pkt,Bkt=Dkt,zkt=Zkt,Ukt=jkt,Hkt=Rkt,Wkt=function(t,e,n,r){switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t===n;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t!==n;case"":case"=":case"==":return Lkt(t,n,r);case"!=":return Nkt(t,n,r);case">":return Bkt(t,n,r);case">=":return zkt(t,n,r);case"<":return Ukt(t,n,r);case"<=":return Hkt(t,n,r);default:throw new TypeError("Invalid operator: ".concat(e))}};function Vkt(){if(skt)return ukt;skt=1;var t=function(){function t(e,i){var o=this;if((0,Rm.Z)(this,t),i=n(i),e instanceof t)return e.loose===!!i.loose&&e.includePrerelease===!!i.includePrerelease?e:new t(e.raw,i);if(e instanceof r)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=i,this.loose=!!i.loose,this.includePrerelease=!!i.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((function(t){return o.parseRange(t.trim())})).filter((function(t){return t.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(this.raw));if(this.set.length>1){var a=this.set[0];if(this.set=this.set.filter((function(t){return!d(t[0])})),0===this.set.length)this.set=[a];else if(this.set.length>1){var c,l=SSt(this.set);try{for(l.s();!(c=l.n()).done;){var u=c.value;if(1===u.length&&p(u[0])){this.set=[u];break}}}catch(s){l.e(s)}finally{l.f()}}}this.format()}return(0,Lm.Z)(t,[{key:"format",value:function(){return this.range=this.set.map((function(t){return t.join(" ").trim()})).join("||").trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(t){var n=this,o=((this.options.includePrerelease&&f)|(this.options.loose&&h))+":"+t,p=e.get(o);if(p)return p;var v=this.options.loose,m=v?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];t=t.replace(m,E(this.options.includePrerelease)),i("hyphen replace",t),t=t.replace(a[c.COMPARATORTRIM],l),i("comparator trim",t),t=t.replace(a[c.TILDETRIM],u),i("tilde trim",t),t=t.replace(a[c.CARETTRIM],s),i("caret trim",t);var y=t.split(" ").map((function(t){return g(t,n.options)})).join(" ").split(/\s+/).map((function(t){return O(t,n.options)}));v&&(y=y.filter((function(t){return i("loose invalid filter",t,n.options),!!t.match(a[c.COMPARATORLOOSE])}))),i("range list",y);var b,x=new Map,w=y.map((function(t){return new r(t,n.options)})),S=SSt(w);try{for(S.s();!(b=S.n()).done;){var k=b.value;if(d(k))return[k];x.set(k.value,k)}}catch(M){S.e(M)}finally{S.f()}x.size>1&&x.has("")&&x.delete("");var C=(0,Xm.Z)(x.values());return e.set(o,C),C}},{key:"intersects",value:function(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some((function(t){return v(t,n)&&e.set.some((function(e){return v(e,n)&&t.every((function(t){return e.every((function(e){return t.intersects(e,n)}))}))}))}))}},{key:"test",value:function(t){if(!t)return!1;if("string"==typeof t)try{t=new o(t,this.options)}catch(j2t){return!1}for(var e=0;e<this.set.length;e++)if(M(this.set[e],t,this.options))return!0;return!1}}]),t}();ukt=t;var e=new QSt({max:1e3}),n=nkt,r=function(){if(lkt)return ckt;lkt=1;var t=Symbol("SemVer ANY"),e=function(){function e(r,i){if((0,Rm.Z)(this,e),i=n(i),r instanceof e){if(r.loose===!!i.loose)return r;r=r.value}r=r.trim().split(/\s+/).join(" "),a("comparator",r,i),this.options=i,this.loose=!!i.loose,this.parse(r),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}return(0,Lm.Z)(e,[{key:"parse",value:function(e){var n=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],o=e.match(n);if(!o)throw new TypeError("Invalid comparator: ".concat(e));this.operator=void 0!==o[1]?o[1]:"","="===this.operator&&(this.operator=""),o[2]?this.semver=new c(o[2],this.options.loose):this.semver=t}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(e){if(a("Comparator.test",e,this.options.loose),this.semver===t||e===t)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(j2t){return!1}return o(e,this.operator,this.semver,this.options)}},{key:"intersects",value:function(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new l(t.value,r).test(this.value):""===t.operator?""===t.value||new l(this.value,r).test(t.semver):!((r=n(r)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===t.value)||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!t.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!t.operator.startsWith("<"))&&(this.semver.version!==t.semver.version||!this.operator.includes("=")||!t.operator.includes("="))&&!(o(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<"))&&!(o(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}}],[{key:"ANY",get:function(){return t}}]),e}();ckt=e;var n=nkt,r=fkt.safeRe,i=fkt.t,o=Wkt,a=akt,c=kkt,l=Vkt();return ckt}(),i=akt,o=kkt,a=fkt.safeRe,c=fkt.t,l=fkt.comparatorTrimReplace,u=fkt.tildeTrimReplace,s=fkt.caretTrimReplace,f=ikt.FLAG_INCLUDE_PRERELEASE,h=ikt.FLAG_LOOSE,d=function(t){return"<0.0.0-0"===t.value},p=function(t){return""===t.value},v=function(t,e){for(var n=!0,r=t.slice(),i=r.pop();n&&r.length;)n=r.every((function(t){return i.intersects(t,e)})),i=r.pop();return n},g=function(t,e){return i("comp",t,e),t=x(t,e),i("caret",t),t=y(t,e),i("tildes",t),t=S(t,e),i("xrange",t),t=C(t,e),i("stars",t),t},m=function(t){return!t||"x"===t.toLowerCase()||"*"===t},y=function(t,e){return t.trim().split(/\s+/).map((function(t){return b(t,e)})).join(" ")},b=function(t,e){var n=e.loose?a[c.TILDELOOSE]:a[c.TILDE];return t.replace(n,(function(e,n,r,o,a){var c;return i("tilde",t,e,n,r,o,a),m(n)?c="":m(r)?c=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):m(o)?c=">=".concat(n,".").concat(r,".0 <").concat(n,".").concat(+r+1,".0-0"):a?(i("replaceTilde pr",a),c=">=".concat(n,".").concat(r,".").concat(o,"-").concat(a," <").concat(n,".").concat(+r+1,".0-0")):c=">=".concat(n,".").concat(r,".").concat(o," <").concat(n,".").concat(+r+1,".0-0"),i("tilde return",c),c}))},x=function(t,e){return t.trim().split(/\s+/).map((function(t){return w(t,e)})).join(" ")},w=function(t,e){i("caret",t,e);var n=e.loose?a[c.CARETLOOSE]:a[c.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(function(e,n,o,a,c){var l;return i("caret",t,e,n,o,a,c),m(n)?l="":m(o)?l=">=".concat(n,".0.0").concat(r," <").concat(+n+1,".0.0-0"):m(a)?l="0"===n?">=".concat(n,".").concat(o,".0").concat(r," <").concat(n,".").concat(+o+1,".0-0"):">=".concat(n,".").concat(o,".0").concat(r," <").concat(+n+1,".0.0-0"):c?(i("replaceCaret pr",c),l="0"===n?"0"===o?">=".concat(n,".").concat(o,".").concat(a,"-").concat(c," <").concat(n,".").concat(o,".").concat(+a+1,"-0"):">=".concat(n,".").concat(o,".").concat(a,"-").concat(c," <").concat(n,".").concat(+o+1,".0-0"):">=".concat(n,".").concat(o,".").concat(a,"-").concat(c," <").concat(+n+1,".0.0-0")):(i("no pr"),l="0"===n?"0"===o?">=".concat(n,".").concat(o,".").concat(a).concat(r," <").concat(n,".").concat(o,".").concat(+a+1,"-0"):">=".concat(n,".").concat(o,".").concat(a).concat(r," <").concat(n,".").concat(+o+1,".0-0"):">=".concat(n,".").concat(o,".").concat(a," <").concat(+n+1,".0.0-0")),i("caret return",l),l}))},S=function(t,e){return i("replaceXRanges",t,e),t.split(/\s+/).map((function(t){return k(t,e)})).join(" ")},k=function(t,e){t=t.trim();var n=e.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return t.replace(n,(function(n,r,o,a,c,l){i("xRange",t,n,r,o,a,c,l);var u=m(o),s=u||m(a),f=s||m(c),h=f;return"="===r&&h&&(r=""),l=e.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&h?(s&&(a=0),c=0,">"===r?(r=">=",s?(o=+o+1,a=0,c=0):(a=+a+1,c=0)):"<="===r&&(r="<",s?o=+o+1:a=+a+1),"<"===r&&(l="-0"),n="".concat(r+o,".").concat(a,".").concat(c).concat(l)):s?n=">=".concat(o,".0.0").concat(l," <").concat(+o+1,".0.0-0"):f&&(n=">=".concat(o,".").concat(a,".0").concat(l," <").concat(o,".").concat(+a+1,".0-0")),i("xRange return",n),n}))},C=function(t,e){return i("replaceStars",t,e),t.trim().replace(a[c.STAR],"")},O=function(t,e){return i("replaceGTE0",t,e),t.trim().replace(a[e.includePrerelease?c.GTE0PRE:c.GTE0],"")},E=function(t){return function(e,n,r,i,o,a,c,l,u,s,f,h,d){return n=m(r)?"":m(i)?">=".concat(r,".0.0").concat(t?"-0":""):m(o)?">=".concat(r,".").concat(i,".0").concat(t?"-0":""):a?">=".concat(n):">=".concat(n).concat(t?"-0":""),l=m(u)?"":m(s)?"<".concat(+u+1,".0.0-0"):m(f)?"<".concat(u,".").concat(+s+1,".0-0"):h?"<=".concat(u,".").concat(s,".").concat(f,"-").concat(h):t?"<".concat(u,".").concat(s,".").concat(+f+1,"-0"):"<=".concat(l),"".concat(n," ").concat(l).trim()}},M=function(t,e,n){for(var o=0;o<t.length;o++)if(!t[o].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(var a=0;a<t.length;a++)if(i(t[a].semver),t[a].semver!==r.ANY&&t[a].semver.prerelease.length>0){var c=t[a].semver;if(c.major===e.major&&c.minor===e.minor&&c.patch===e.patch)return!0}return!1}return!0};return ukt}var Gkt=Vkt(),Xkt=function(t,e,n){try{e=new Gkt(e,n)}catch(j2t){return!1}return e.test(t)},qkt=MSt(Xkt);function Ykt(t,e,n){var r=t.open(e),i=new URL(e).origin,o=40;t.addEventListener("message",(function e(n){n.source===r&&(o=0,t.removeEventListener("message",e,!1))}),!1),setTimeout((function t(){o<=0||(r.postMessage(n,i),setTimeout(t,250),o-=1)}),250)}var $kt='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) > :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n';function Kkt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){Jkt(t,o[i])}return t}function Jkt(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Jy(t,i,e[i],!0)}}function Qkt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tCt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qkt(Object(n),!0).forEach((function(e){ESt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qkt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var eCt=m,nCt=y,rCt="undefined"!=typeof window?window:void 0;void 0===nCt&&null!=rCt&&null!==(ySt=rCt.vl)&&void 0!==ySt&&ySt.compile&&(nCt=rCt.vl);var iCt={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},oCt={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},aCt={vega:"Vega","vega-lite":"Vega-Lite"},cCt={vega:eCt.version,"vega-lite":nCt?nCt.version:"not available"},lCt={vega:function(t){return t},"vega-lite":function(t,e){return nCt.compile(t,{config:e}).spec}},uCt='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',sCt="chart-wrapper";function fCt(t){return"function"==typeof t}function hCt(t,e,n,r){var i="<html><head>".concat(e,'</head><body><pre><code class="json">'),o="</code></pre>".concat(n,"</body></html>"),a=window.open("");a.document.write(i+t+o),a.document.title="".concat(aCt[r]," JSON Source")}function dCt(t,e){if(t.$schema){var n,r=rwt(t.$schema);if(e&&e!==r.library)console.warn("The given visualization spec is written in ".concat(aCt[r.library],", but mode argument sets ").concat(null!==(n=aCt[e])&&void 0!==n?n:e,"."));var i=r.library;return qkt(cCt[i],"^".concat(r.version.slice(1)))||console.warn("The input spec uses ".concat(aCt[i]," ").concat(r.version,", but the current version of ").concat(aCt[i]," is v").concat(cCt[i],".")),i}return"mark"in t||"encoding"in t||"layer"in t||"hconcat"in t||"vconcat"in t||"facet"in t||"repeat"in t?"vega-lite":"marks"in t||"signals"in t||"scales"in t||"axes"in t?"vega":null!=e?e:"vega"}function pCt(t){return(e=t)&&"load"in e?t:eCt.loader(t);var e}function vCt(t){var e,n,r=null!==(e=null===(n=t.usermeta)||void 0===n?void 0:n.embedOptions)&&void 0!==e?e:{};return Vb(r.defaultStyle)&&(r.defaultStyle=!1),r}function gCt(){return gCt=Gm(q().mark((function t(e,n){var r,i,o,a,c,l,u,s,f,h,d,p=arguments;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=p.length>2&&void 0!==p[2]?p[2]:{},!Vb(n)){t.next=10;break}return c=pCt(o.loader),t.t0=JSON,t.next=6,c.load(n);case 6:t.t1=t.sent,a=t.t0.parse.call(t.t0,t.t1),t.next=11;break;case 10:a=n;case 11:return l=vCt(a),u=l.loader,c&&!u||(c=pCt(null!==(s=o.loader)&&void 0!==s?s:u)),t.next=16,mCt(l,c);case 16:return f=t.sent,t.next=19,mCt(o,c);case 19:return h=t.sent,d=tCt(tCt({},Kkt(h,f)),{},{config:Ky(null!==(r=h.config)&&void 0!==r?r:{},null!==(i=f.config)&&void 0!==i?i:{})}),t.next=23,xCt(e,a,d,c);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}}),t)}))),gCt.apply(this,arguments)}function mCt(t,e){return yCt.apply(this,arguments)}function yCt(){return yCt=Gm(q().mark((function t(e,n){var r,i,o;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Vb(e.config)){t.next=8;break}return t.t1=JSON,t.next=4,n.load(e.config);case 4:t.t2=t.sent,t.t0=t.t1.parse.call(t.t1,t.t2),t.next=9;break;case 8:t.t0=null!==(r=e.config)&&void 0!==r?r:{};case 9:if(i=t.t0,!Vb(e.patch)){t.next=18;break}return t.t4=JSON,t.next=14,n.load(e.patch);case 14:t.t5=t.sent,t.t3=t.t4.parse.call(t.t4,t.t5),t.next=19;break;case 18:t.t3=e.patch;case 19:return o=t.t3,t.abrupt("return",tCt(tCt(tCt({},e),o?{patch:o}:{}),i?{config:i}:{}));case 21:case"end":return t.stop()}}),t)}))),yCt.apply(this,arguments)}function bCt(t){var e,n=t.getRootNode?t.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:null!==(e=document.head)&&void 0!==e?e:document.body}}function xCt(t,e){return wCt.apply(this,arguments)}function wCt(){return wCt=Gm(q().mark((function t(e,n){var r,i,o,a,c,l,u,s,f,h,d,p,v,g,m,y,x,w,S,k,C,O,E,M,A,P,_,D,T,Z,F,j,I,R,L,N,B,z,U,H,W,V,G,X,Y,$,K,J,Q,tt,et,nt=arguments;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(et=function(){z&&document.removeEventListener("click",z),j.finalize()},f=nt.length>3?nt[3]:void 0,h=(s=nt.length>2&&void 0!==nt[2]?nt[2]:{}).theme?Ky(b[s.theme],null!==(r=s.config)&&void 0!==r?r:{}):s.config,d=Bb(s.actions)?s.actions:Kkt({},iCt,null!==(i=s.actions)&&void 0!==i?i:{}),p=tCt(tCt({},oCt),s.i18n),v=null!==(o=s.renderer)&&void 0!==o?o:"canvas",g=null!==(a=s.logLevel)&&void 0!==a?a:eCt.Warn,m=null!==(c=s.downloadFileName)&&void 0!==c?c:"visualization",y="string"==typeof e?document.querySelector(e):e){t.next=12;break}throw new Error("".concat(e," does not exist"));case 12:if(!1!==s.defaultStyle&&(x="vega-embed-style",w=bCt(y),S=w.root,k=w.rootContainer,S.getElementById(x)||((C=document.createElement("style")).id=x,C.innerHTML=void 0===s.defaultStyle||!0===s.defaultStyle?$kt.toString():s.defaultStyle,k.appendChild(C))),O=dCt(n,s.mode),E=lCt[O](n,h),"vega-lite"===O&&E.$schema&&(M=rwt(E.$schema),qkt(cCt.vega,"^".concat(M.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(M.version,", but current version is v").concat(cCt.vega,"."))),y.classList.add("vega-embed"),d&&y.classList.add("has-actions"),y.innerHTML="",A=y,d&&((P=document.createElement("div")).classList.add(sCt),y.appendChild(P),A=P),(_=s.patch)&&(E=_ instanceof Function?_(E):fy(E,_,!0,!1).newDocument),s.formatLocale&&eCt.formatLocale(s.formatLocale),s.timeFormatLocale&&eCt.timeFormatLocale(s.timeFormatLocale),s.expressionFunctions)for(D in s.expressionFunctions)"fn"in(T=s.expressionFunctions[D])?eCt.expressionFunction(D,T.fn,T.visitor):T instanceof Function&&eCt.expressionFunction(D,T);return Z=s.ast,F=eCt.parse(E,"vega-lite"===O?{}:h,{ast:Z}),(j=new(s.viewClass||eCt.View)(F,tCt({loader:f,logLevel:g,renderer:v},Z?{expr:null!==(l=null!==(u=eCt.expressionInterpreter)&&void 0!==u?u:s.expr)&&void 0!==l?l:F7}:{}))).addSignalListener("autosize",(function(t,e){var n=e.type;"fit-x"==n?(A.classList.add("fit-x"),A.classList.remove("fit-y")):"fit-y"==n?(A.classList.remove("fit-x"),A.classList.add("fit-y")):"fit"==n?A.classList.add("fit-x","fit-y"):A.classList.remove("fit-x","fit-y")})),!1!==s.tooltip&&(I=fCt(s.tooltip)?s.tooltip:new wSt(!0===s.tooltip?{}:s.tooltip).call,j.tooltip(I)),void 0===(R=s.hover)&&(R="vega"===O),R&&(N=(L="boolean"==typeof R?{}:R).hoverSet,B=L.updateSet,j.hover(N,B)),s&&(null!=s.width&&j.width(s.width),null!=s.height&&j.height(s.height),null!=s.padding&&j.padding(s.padding)),t.next=37,j.initialize(A,s.bind).runAsync();case 37:if(!1===d){t.next=54;break}if(U=y,!1!==s.defaultStyle&&((H=document.createElement("details")).title=p.CLICK_TO_VIEW_ACTIONS,y.append(H),U=H,(W=document.createElement("summary")).innerHTML=uCt,H.append(W),z=function(t){H.contains(t.target)||H.removeAttribute("open")},document.addEventListener("click",z)),V=document.createElement("div"),U.append(V),V.classList.add("vega-actions"),!0!==d&&!1===d.export){t.next=51;break}G=q().mark((function t(){var e,n,r,i;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Y[X],(!0===d||!0===d.export||d.export[e])&&(n=p["".concat(e.toUpperCase(),"_ACTION")],r=document.createElement("a"),i=Yy(s.scaleFactor)?s.scaleFactor[e]:s.scaleFactor,r.text=n,r.href="#",r.target="_blank",r.download="".concat(m,".").concat(e),r.addEventListener("mousedown",function(){var t=Gm(q().mark((function t(n){var r;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,j.toImageURL(e,i);case 3:r=t.sent,this.href=r;case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()),V.append(r));case 2:case"end":return t.stop()}}),t)})),X=0,Y=["svg","png"];case 46:if(!(X<Y.length)){t.next=51;break}return t.delegateYield(G(),"t0",48);case 48:X++,t.next=46;break;case 51:!0!==d&&!1===d.source||(($=document.createElement("a")).text=p.SOURCE_ACTION,$.href="#",$.addEventListener("click",(function(t){var e,r;hCt(Oy()(n),null!==(e=s.sourceHeader)&&void 0!==e?e:"",null!==(r=s.sourceFooter)&&void 0!==r?r:"",O),t.preventDefault()})),V.append($)),"vega-lite"!==O||!0!==d&&!1===d.compiled||((K=document.createElement("a")).text=p.COMPILED_ACTION,K.href="#",K.addEventListener("click",(function(t){var e,n;hCt(Oy()(E),null!==(e=s.sourceHeader)&&void 0!==e?e:"",null!==(n=s.sourceFooter)&&void 0!==n?n:"","vega"),t.preventDefault()})),V.append(K)),!0!==d&&!1===d.editor||(Q=null!==(J=s.editorUrl)&&void 0!==J?J:"https://vega.github.io/editor/",(tt=document.createElement("a")).text=p.EDITOR_ACTION,tt.href="#",tt.addEventListener("click",(function(t){Ykt(window,Q,{config:h,mode:O,renderer:v,spec:Oy()(n)}),t.preventDefault()})),V.append(tt));case 54:return t.abrupt("return",{view:j,spec:n,vgSpec:E,finalize:et,embedOptions:s});case 55:case"end":return t.stop()}}),t)}))),wCt.apply(this,arguments)}function SCt(t,e){Object.keys(e).forEach((function(n){!function(t,e,n){var r;n&&((r=n)&&"[object Function]"==={}.toString.call(r)?n(t.data(e)):t.change(e,eCt.changeset().remove((function(){return!0})).insert(n)))}(t,n,e[n])}))}var kCt=n(45697),CCt=n.n(kCt);function OCt(t){var e=new Set;return t.forEach((function(t){Object.keys(t).forEach((function(t){e.add(t)}))})),e}var ECt=function(){};function MCt(t,e){var n=Object.keys(e);return n.forEach((function(n){try{t.addSignalListener(n,e[n])}catch(r){console.warn("Cannot add invalid signal listener.",r)}})),n.length>0}function ACt(t,e){var n=Object.keys(e);return n.forEach((function(n){try{t.removeSignalListener(n,e[n])}catch(r){console.warn("Cannot remove invalid signal listener.",r)}})),n.length>0}function PCt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _Ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?PCt(Object(n),!0).forEach((function(e){(0,V.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PCt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function DCt(t){var e=t.spec,n=t.width,r=t.height;return void 0!==n&&void 0!==r?_Ct(_Ct({},e),{},{width:n,height:r}):void 0!==n?_Ct(_Ct({},e),{},{width:n}):void 0!==r?_Ct(_Ct({},e),{},{height:r}):e}var TCt=["spec","onNewView","signalListeners","width","height"];function ZCt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}function FCt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jCt=function(t){(0,Bm.Z)(n,t);var e=ZCt(n);function n(){var t;return(0,Rm.Z)(this,n),t=e.apply(this,arguments),FCt((0,Nm.Z)(t),"containerRef",Z.createRef()),FCt((0,Nm.Z)(t),"resultPromise",void 0),FCt((0,Nm.Z)(t),"handleError",(function(e){var n=t.props.onError;(void 0===n?ECt:n)(e,t.containerRef.current),console.warn(e)})),FCt((0,Nm.Z)(t),"modifyView",(function(e){t.resultPromise&&t.resultPromise.then((function(t){return t&&e(t.view),!0})).catch(t.handleError)})),t}return(0,Lm.Z)(n,[{key:"componentDidMount",value:function(){this.createView()}},{key:"componentDidUpdate",value:function(t){var e=this,n=OCt([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some((function(n){return e.props[n]!==t[n]})))this.clearView(),this.createView();else{var r=function(t,e){if(t===e)return!1;var n={width:!1,height:!1,isExpensive:!1},r=OCt([t,e]);return!r.has("width")||"width"in t&&"width"in e&&t.width===e.width||("width"in t&&"number"==typeof t.width?n.width=t.width:n.isExpensive=!0),!r.has("height")||"height"in t&&"height"in e&&t.height===e.height||("height"in t&&"number"==typeof t.height?n.height=t.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),(0,Xm.Z)(r).some((function(n){return!(n in t)||!(n in e)||!L7()(t[n],e[n])}))&&(n.isExpensive=!0),!(!1===n.width&&!1===n.height&&!n.isExpensive)&&n}(DCt(this.props),DCt(t)),i=this.props.signalListeners,o=t.signalListeners;if(r)if(r.isExpensive)this.clearView(),this.createView();else{var a=!Wm(i,o);this.modifyView((function(t){!1!==r.width&&t.width(r.width),!1!==r.height&&t.height(r.height),a&&(o&&ACt(t,o),i&&MCt(t,i)),t.run()}))}else Wm(i,o)||this.modifyView((function(t){o&&ACt(t,o),i&&MCt(t,i),t.run()}))}}},{key:"componentWillUnmount",value:function(){this.clearView()}},{key:"createView",value:function(){var t=this.props,e=(t.spec,t.onNewView),n=t.signalListeners,r=void 0===n?{}:n,i=(t.width,t.height,(0,I.Z)(t,TCt));if(this.containerRef.current){var o=DCt(this.props);this.resultPromise=function(t,e){return gCt.apply(this,arguments)}(this.containerRef.current,o,i).then((function(t){if(t){var e=t.view;MCt(e,r)&&e.run()}return t})).catch(this.handleError),e&&this.modifyView(e)}}},{key:"clearView",value:function(){return this.resultPromise&&this.resultPromise.then((function(t){t&&t.finalize()})).catch(this.handleError),this.resultPromise=void 0,this}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.style;return Z.createElement("div",{ref:this.containerRef,className:e,style:n})}}]),n}(Z.PureComponent);FCt(jCt,"propTypes",{className:CCt().string,onError:CCt().func});var ICt=["data"];function RCt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(F2t){return!1}}();return function(){var n,r=(0,Um.Z)(t);if(e){var i=(0,Um.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,zm.Z)(this,n)}}function LCt(){return LCt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LCt.apply(this,arguments)}function NCt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var BCt=function(t){(0,Bm.Z)(n,t);var e=RCt(n);function n(){var t;return(0,Rm.Z)(this,n),t=e.apply(this,arguments),NCt((0,Nm.Z)(t),"vegaEmbed",Z.createRef()),NCt((0,Nm.Z)(t),"handleNewView",(function(e){t.update();var n=t.props.onNewView;(void 0===n?ECt:n)(e)})),t}return(0,Lm.Z)(n,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(t){Wm(this.props.data,t.data)||this.update()}},{key:"update",value:function(){var t=this.props.data;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView((function(e){SCt(e,t),e.resize().run()}))}},{key:"render",value:function(){var t=this.props,e=(t.data,(0,I.Z)(t,ICt));return Z.createElement(jCt,LCt({ref:this.vegaEmbed},e,{onNewView:this.handleNewView}))}}]),n}(Z.PureComponent);NCt(BCt,"defaultProps",{data:{}});var zCt=n(45107),UCt=function(t){var e=t.raster,n=t.library,r=t.goal,i=Z.useState(!1),o=i[0],a=i[1];return Z.createElement("div",null,e&&Z.createElement("div",{className:"border rounded bg-white"},Z.createElement("img",{role:"button",onClick:function(){a(!0)},style:{height:"390px"},src:"data:image/png;base64,"+e,className:"rounded object-fit bg-white p-2 pt-4",alt:"chart"})),!e&&Z.createElement("div",{style:{minWidth:"200px"}}," ",Z.createElement(zCt.Z,{className:"w-5 h-5 text-orange-400 inline-block"})," ","No visualization image generated."),Z.createElement(Ss,{title:Z.createElement(Z.Fragment,null,Z.createElement("span",{className:"capitalize"},n)," Chart"),open:o,onOk:function(){a(!1)},onCancel:function(){a(!1)},width:800},Z.createElement("div",{className:"mb-2"},null==r?void 0:r.question),Z.createElement("div",{className:"mb-4 text-secondary"},null==r?void 0:r.rationale),Z.createElement("img",{style:{width:"100%",height:"100%"},src:"data:image/png;base64,"+e,className:"rounded object-fit p-2 pt-4 bg-white",alt:"chart"})))},HCt=["title","titleId"];var WCt=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,HCt);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5"}))})),VCt=function(t){var e=t.spec,n=t.code,r=t.error,i=t.status,o=[];return null!==e&&o.push({label:Z.createElement("div",null," ",Z.createElement(rl,{className:"inline-block h-4"})," Vega-Lite Spec"),key:"1",children:Z.createElement("div",{className:"w-full overflow-hidden"},Z.createElement(Cs.d,{code:JSON.stringify(e,null,2),language:"javascript",wrapLines:!0,maxHeight:"280px"}))}),o.push({label:Z.createElement("div",null," ",Z.createElement(WCt,{className:"inline-block h-4"})," Python Code"),key:"2",children:Z.createElement("div",{className:"w-full overflow-hidden"},Z.createElement(Cs.d,{code:n,language:"python",wrapLines:!0,maxHeight:"280px"}))}),!1===i&&r&&o.push({label:Z.createElement("div",{className:""}," ",Z.createElement(zCt.Z,{className:"inline-block h-4 text-orange-400"})," ","Error"),key:"3",children:Z.createElement("div",{className:"w-full overflow-hidden"},Z.createElement("div",{className:"text-xs mb-2 text-primary mt-2 "}," Error Message "),Z.createElement(Cs.d,{code:r.message,language:"javascript",wrapLines:!0}),Z.createElement("div",{className:"text-xs mb-2 text-primary mt-2"}," Traceback "),Z.createElement(Cs.d,{code:r.traceback,language:"javascript",wrapLines:!0}))}),Z.createElement("div",{className:"w-full p-3 border rounded  text-primary  "},Z.createElement(Im,{defaultActiveKey:"1",onChange:function(){},items:o}))},GCt=function(t){var e=t.vizData,n=t.vizConfig,r=Z.useState(!1),i=r[0],o=r[1],a=Z.useState(null),c=(a[0],a[1]),l=Z.useState([]),u=l[0],s=l[1],f=Z.useRef(null);Z.useEffect((function(){s([])}),[e]);var h=null==u?void 0:u.map((function(t,e){var n="accessibility"===t.section;return Z.createElement("div",{className:"mb-4",key:"explanationsrow"+e},Z.createElement("div",{className:"font-semibold text-lg"}," ",t.section),Z.createElement("div",{className:"flex gap-4"},Z.createElement("div",{className:(n?"":" w-1/2")+" "},t.explanation),!n&&Z.createElement("div",{className:"w-1/2"},Z.createElement(Cs.d,{code:""+t.code,language:"python",wrapLines:!0}))))}));return Z.createElement("div",{className:"text-primary"},Z.createElement("div",{onClick:function(){return function(){c(null),o(!0),s([]),setTimeout((function(){(0,N.kI)(f)}),600);var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e.code,library:n.library,textgen_config:n.textgen_config})};(0,N.ZV)("/api/visualize/explain",t,(function(t){t&&t.status?(console.log("Explanation data",t),s(t.explanations),kc.success(t.message),setTimeout((function(){(0,N.kI)(f)}),400)):(kc.error(t.message),c(t)),o(!1)}),(function(t){kc.error(t.message),o(!1),c(t)}))}()},role:"button",className:"px-5 bg-accent duration-300 hover:brightness-110 text-white inline-block  rounded p-2 "+(i?"opacity-50 pointer-events-none":"")+" "},!i&&Z.createElement(nv.Z,{className:"w-5 h-5 mr-1  inline-block"}),i&&Z.createElement(ks.rH,{className:"text-white inline-block"})," Explain the chart."),i&&Z.createElement("div",{className:"mt-4"},Z.createElement(ks.rH,{className:"text-accent",subtitle:"loading explanations .."}),Z.createElement(Gc,{active:!0,className:"mt-4",paragraph:{rows:12}})),Z.createElement("div",{ref:f,className:"mt-4"},h))},XCt=n(11005),qCt=["title","titleId"];var YCt,$Ct,KCt,JCt=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,qCt);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"}))})),QCt=n(70903),tOt=n(90326);!function(t){t.FORE="fore",t.MID="mid",t.BG="bg"}(YCt||(YCt={})),function(t){t.TOP="top",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.RIGHT="right",t.RIGHT_TOP="right-top",t.RIGHT_BOTTOM="right-bottom",t.LEFT="left",t.LEFT_TOP="left-top",t.LEFT_BOTTOM="left-bottom",t.BOTTOM="bottom",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_RIGHT="bottom-right",t.RADIUS="radius",t.CIRCLE="circle",t.NONE="none"}($Ct||($Ct={})),function(t){t.AXIS="axis",t.GRID="grid",t.LEGEND="legend",t.TOOLTIP="tooltip",t.ANNOTATION="annotation",t.SLIDER="slider",t.SCROLLBAR="scrollbar",t.OTHER="other"}(KCt||(KCt={}));var eOt,nOt,rOt,iOt,oOt=3,aOt=2,cOt=1;!function(t){t.BEFORE_RENDER="beforerender",t.AFTER_RENDER="afterrender",t.BEFORE_PAINT="beforepaint",t.AFTER_PAINT="afterpaint",t.BEFORE_CHANGE_DATA="beforechangedata",t.AFTER_CHANGE_DATA="afterchangedata",t.BEFORE_CLEAR="beforeclear",t.AFTER_CLEAR="afterclear",t.BEFORE_DESTROY="beforedestroy",t.BEFORE_CHANGE_SIZE="beforechangesize",t.AFTER_CHANGE_SIZE="afterchangesize"}(eOt||(eOt={})),function(t){t.BEFORE_DRAW_ANIMATE="beforeanimate",t.AFTER_DRAW_ANIMATE="afteranimate",t.BEFORE_RENDER_LABEL="beforerenderlabel",t.AFTER_RENDER_LABEL="afterrenderlabel"}(nOt||(nOt={})),function(t){t.MOUSE_ENTER="plot:mouseenter",t.MOUSE_DOWN="plot:mousedown",t.MOUSE_MOVE="plot:mousemove",t.MOUSE_UP="plot:mouseup",t.MOUSE_LEAVE="plot:mouseleave",t.TOUCH_START="plot:touchstart",t.TOUCH_MOVE="plot:touchmove",t.TOUCH_END="plot:touchend",t.TOUCH_CANCEL="plot:touchcancel",t.CLICK="plot:click",t.DBLCLICK="plot:dblclick",t.CONTEXTMENU="plot:contextmenu",t.LEAVE="plot:leave",t.ENTER="plot:enter"}(rOt||(rOt={})),function(t){t.ACTIVE="active",t.INACTIVE="inactive",t.SELECTED="selected",t.DEFAULT="default"}(iOt||(iOt={}));var lOt,uOt,sOt,fOt,hOt=["color","shape","size"],dOt="_origin",pOt={};function vOt(t,e){pOt[t]=e}function gOt(t){lOt||(lOt=document.createElement("table"),uOt=document.createElement("tr"),sOt=/^\s*<(\w+|!)[^>]*>/,fOt={tr:document.createElement("tbody"),tbody:lOt,thead:lOt,tfoot:lOt,td:uOt,th:uOt,"*":document.createElement("div")});var e=sOt.test(t)&&RegExp.$1;e&&e in fOt||(e="*");var n=fOt[e];t="string"==typeof t?t.replace(/(^\s*)|(\s*$)/g,""):t,n.innerHTML=""+t;var r=n.childNodes[0];return r&&n.contains(r)&&n.removeChild(r),r}function mOt(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}function yOt(t){return"number"==typeof t&&!isNaN(t)}function bOt(t,e,n,r){var i=n,o=r;if(e){var a=function(t){var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}(t);i=a.width?a.width:i,o=a.height?a.height:o}return{width:Math.max(yOt(i)?i:1,1),height:Math.max(yOt(o)?o:1,1)}}var xOt=n(81819),wOt=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=e.visible,i=void 0===r||r;return n.visible=i,n}return(0,QCt.ZT)(e,t),e.prototype.show=function(){this.visible||this.changeVisible(!0)},e.prototype.hide=function(){this.visible&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}(xOt.Z),SOt=wOt,kOt=n(82854),COt=function(){function t(t){var e=t.xField,n=t.yField,r=t.adjustNames,i=void 0===r?["x","y"]:r,o=t.dimValuesMap;this.adjustNames=i,this.xField=e,this.yField=n,this.dimValuesMap=o}return t.prototype.isAdjust=function(t){return this.adjustNames.indexOf(t)>=0},t.prototype.getAdjustRange=function(t,e,n){var r,i,o=this.yField,a=n.indexOf(e),c=n.length;return!o&&this.isAdjust("y")?(r=0,i=1):c>1?(r=n[0===a?0:a-1],i=n[a===c-1?c-1:a+1],0!==a?r+=(e-r)/2:r-=(i-e)/2,a!==c-1?i-=(i-e)/2:i+=(e-n[c-2])/2):(r=0===e?0:e-.5,i=0===e?1:e+.5),{pre:r,next:i}},t.prototype.adjustData=function(t,e){var n=this,r=this.getDimValues(e);tOt.S6(t,(function(t,e){tOt.S6(r,(function(r,i){n.adjustDim(i,r,t,e)}))}))},t.prototype.groupData=function(t,e){return tOt.S6(t,(function(t){void 0===t[e]&&(t[e]=0)})),tOt.vM(t,e)},t.prototype.adjustDim=function(t,e,n,r){},t.prototype.getDimValues=function(t){var e=this.xField,n=this.yField,r=tOt.f0({},this.dimValuesMap),i=[];if(e&&this.isAdjust("x")&&i.push(e),n&&this.isAdjust("y")&&i.push(n),i.forEach((function(e){r&&r[e]||(r[e]=tOt.I(t,e).sort((function(t,e){return t-e})))})),!n&&this.isAdjust("y")){r.y=[0,1]}return r},t}(),OOt=COt,EOt={},MOt=function(t){return EOt[t.toLowerCase()]},AOt=function(t,e){if(MOt(t))throw new Error("Adjust type '"+t+"' existed.");EOt[t.toLowerCase()]=e},POt=function(t,e){return POt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},POt(t,e)};function _Ot(t,e){function n(){this.constructor=t}POt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var DOt=function(){return DOt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},DOt.apply(this,arguments)};var TOt=function(t){function e(e){var n=t.call(this,e)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var r=e.marginRatio,i=void 0===r?.5:r,o=e.dodgeRatio,a=void 0===o?.5:o,c=e.dodgeBy,l=e.intervalPadding,u=e.dodgePadding,s=e.xDimensionLength,f=e.groupNum,h=e.defaultSize,d=e.maxColumnWidth,p=e.minColumnWidth,v=e.columnWidthRatio,g=e.customOffset;return n.marginRatio=i,n.dodgeRatio=a,n.dodgeBy=c,n.intervalPadding=l,n.dodgePadding=u,n.xDimensionLegenth=s,n.groupNum=f,n.defaultSize=h,n.maxColumnWidth=d,n.minColumnWidth=p,n.columnWidthRatio=v,n.customOffset=g,n}return _Ot(e,t),e.prototype.process=function(t){var e=tOt.d9(t),n=tOt.xH(e),r=this.dodgeBy,i=r?tOt.ru(n,r):e;return this.cacheMap={},this.adjustDataArray=i,this.mergeData=n,this.adjustData(i,n),this.adjustDataArray=[],this.mergeData=[],e},e.prototype.adjustDim=function(t,e,n,r){var i=this,o=this.customOffset,a=this.getDistribution(t),c=this.groupData(n,t);return tOt.S6(c,(function(n,c){var l;l=1===e.length?{pre:e[0]-1,next:e[0]+1}:i.getAdjustRange(t,parseFloat(c),e),tOt.S6(n,(function(e){var n=e[t],c=a[n],u=c.indexOf(r);if(tOt.UM(o))e[t]=i.getDodgeOffset(l,u,c.length);else{var s=l.pre,f=l.next;e[t]=tOt.mf(o)?o(e,l):(s+f)/2+o}}))})),[]},e.prototype.getDodgeOffset=function(t,e,n){var r,i=this,o=i.dodgeRatio,a=i.marginRatio,c=i.intervalPadding,l=i.dodgePadding,u=t.pre,s=t.next,f=s-u;if(!tOt.UM(c)&&tOt.UM(l)&&c>=0)r=u+this.getIntervalOnlyOffset(n,e);else if(!tOt.UM(l)&&tOt.UM(c)&&l>=0){r=u+this.getDodgeOnlyOffset(n,e)}else if(!tOt.UM(c)&&!tOt.UM(l)&&c>=0&&l>=0){r=u+this.getIntervalAndDodgeOffset(n,e)}else{var h=f*o/n,d=a*h;r=(u+s)/2+(.5*(f-n*h-(n-1)*d)+((e+1)*h+e*d)-.5*h-.5*f)}return r},e.prototype.getIntervalOnlyOffset=function(t,e){var n=this,r=n.defaultSize,i=n.intervalPadding,o=n.xDimensionLegenth,a=n.groupNum,c=n.dodgeRatio,l=n.maxColumnWidth,u=n.minColumnWidth,s=n.columnWidthRatio,f=i/o,h=(1-(a-1)*f)/a*c/(t-1),d=((1-f*(a-1))/a-h*(t-1))/t;if(d=tOt.UM(s)?d:1/a/t*s,!tOt.UM(l)){var p=l/o;d=Math.min(d,p)}if(!tOt.UM(u)){var v=u/o;d=Math.max(d,v)}return((.5+e)*(d=r?r/o:d)+e*(h=((1-(a-1)*f)/a-t*d)/(t-1))+.5*f)*a-f/2},e.prototype.getDodgeOnlyOffset=function(t,e){var n=this,r=n.defaultSize,i=n.dodgePadding,o=n.xDimensionLegenth,a=n.groupNum,c=n.marginRatio,l=n.maxColumnWidth,u=n.minColumnWidth,s=n.columnWidthRatio,f=i/o,h=1*c/(a-1),d=((1-h*(a-1))/a-f*(t-1))/t;if(d=s?1/a/t*s:d,!tOt.UM(l)){var p=l/o;d=Math.min(d,p)}if(!tOt.UM(u)){var v=u/o;d=Math.max(d,v)}return((.5+e)*(d=r?r/o:d)+e*f+.5*(h=(1-(d*t+f*(t-1))*a)/(a-1)))*a-h/2},e.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,r=n.intervalPadding,i=n.dodgePadding,o=n.xDimensionLegenth,a=n.groupNum,c=r/o,l=i/o;return((.5+e)*(((1-c*(a-1))/a-l*(t-1))/t)+e*l+.5*c)*a-c/2},e.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,r=n[t];return r||(r={},tOt.S6(e,(function(e,n){var i=tOt.I(e,t);i.length||i.push(0),tOt.S6(i,(function(t){r[t]||(r[t]=[]),r[t].push(n)}))})),n[t]=r),r},e}(OOt),ZOt=TOt;var FOt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _Ot(e,t),e.prototype.process=function(t){var e=tOt.d9(t),n=tOt.xH(e);return this.adjustData(e,n),e},e.prototype.adjustDim=function(t,e,n){var r=this,i=this.groupData(n,t);return tOt.S6(i,(function(n,i){return r.adjustGroup(n,t,parseFloat(i),e)}))},e.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,r=.05*(n-e);return function(t,e){return(e-t)*Math.random()+t}(e+r,n-r)},e.prototype.adjustGroup=function(t,e,n,r){var i=this,o=this.getAdjustRange(e,n,r);return tOt.S6(t,(function(t){t[e]=i.getAdjustOffset(o)})),t},e}(OOt),jOt=FOt,IOt=tOt.Ct,ROt=function(t){function e(e){var n=t.call(this,e)||this,r=e.adjustNames,i=void 0===r?["y"]:r,o=e.height,a=void 0===o?NaN:o,c=e.size,l=void 0===c?10:c,u=e.reverseOrder,s=void 0!==u&&u;return n.adjustNames=i,n.height=a,n.size=l,n.reverseOrder=s,n}return _Ot(e,t),e.prototype.process=function(t){var e=this.yField,n=this.reverseOrder,r=e?this.processStack(t):this.processOneDimStack(t);return n?this.reverse(r):r},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var e=this,n=e.xField,r=e.yField,i=e.reverseOrder?this.reverse(t):t,o=new IOt,a=new IOt;return i.map((function(t){return t.map((function(t){var e,i=tOt.U2(t,n,0),c=tOt.U2(t,[r]),l=i.toString();if(c=tOt.kJ(c)?c[1]:c,!tOt.UM(c)){var u=c>=0?o:a;u.has(l)||u.set(l,0);var s=u.get(l),f=c+s;return u.set(l,f),DOt(DOt({},t),((e={})[r]=[s,f],e))}return t}))}))},e.prototype.processOneDimStack=function(t){var e=this,n=this,r=n.xField,i=n.height,o=n.reverseOrder,a=o?this.reverse(t):t,c=new IOt;return a.map((function(t){return t.map((function(t){var n,o=e.size,a=t[r],l=2*o/i;c.has(a)||c.set(a,l/2);var u=c.get(a);return c.set(a,u+l),DOt(DOt({},t),((n={}).y=u,n))}))}))},e}(OOt),LOt=ROt,NOt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _Ot(e,t),e.prototype.process=function(t){var e=tOt.xH(t),n=this.xField,r=this.yField,i=this.getXValuesMaxMap(e),o=Math.max.apply(Math,Object.keys(i).map((function(t){return i[t]})));return tOt.UI(t,(function(t){return tOt.UI(t,(function(t){var e,a,c=t[r],l=t[n];if(tOt.kJ(c)){var u=(o-i[l])/2;return DOt(DOt({},t),((e={})[r]=tOt.UI(c,(function(t){return u+t})),e))}var s=(o-c)/2;return DOt(DOt({},t),((a={})[r]=[s,c+s],a))}))}))},e.prototype.getXValuesMaxMap=function(t){var e=this,n=this.xField,r=this.yField,i=tOt.vM(t,(function(t){return t[n]}));return tOt.Q8(i,(function(t){return e.getDimMaxValue(t,r)}))},e.prototype.getDimMaxValue=function(t,e){var n=tOt.UI(t,(function(t){return tOt.U2(t,e,[])})),r=tOt.xH(n);return Math.max.apply(Math,r)},e}(OOt),BOt=NOt;AOt("Dodge",ZOt),AOt("Jitter",jOt),AOt("Stack",LOt),AOt("Symmetric",BOt);var zOt=function(t,e){return(0,tOt.HD)(e)?e:t.invert(t.scale(e))},UOt=function(){function t(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}return t.prototype.mapping=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.map((function(e,n){return t._toOriginParam(e,t.scales[n])}));return this.callback.apply(this,r)},t.prototype.getLinearValue=function(t){var e=this.values.length-1,n=Math.floor(e*t),r=e*t-n,i=this.values[n];return i+((n===e?i:this.values[n+1])-i)*r},t.prototype.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),r=[],i=0;i<n;i+=1)r.push(e[i]);return r},t.prototype.getFields=function(){return this.scales.map((function(t){return t.field}))},t.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},t.prototype.defaultCallback=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 0===e.length?this.values:e.map((function(e,n){var r=t.scales[n];return"identity"===r.type?r.values[0]:t._getAttributeValue(r,e)}))},t.prototype._parseCfg=function(t){var e=this,n=t.type,r=void 0===n?"base":n,i=t.names,o=void 0===i?[]:i,a=t.scales,c=void 0===a?[]:a,l=t.values,u=void 0===l?[]:l,s=t.callback;this.type=r,this.scales=c,this.values=u,this.names=o,this.callback=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(s){var r=s.apply(void 0,t);if(!(0,tOt.UM)(r))return[r]}return e.defaultCallback.apply(e,t)}},t.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var n=t.translate(e);return this.values[n%this.values.length]}var r=t.scale(e);return this.getLinearValue(r)},t.prototype._toOriginParam=function(t,e){return e.isLinear?t:(0,tOt.kJ)(t)?t.map((function(t){return zOt(e,t)})):zOt(e,t)},t}(),HOt=UOt,WOt=/rgba?\(([\s.,0-9]+)\)/,VOt=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,GOt=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,XOt=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,qOt=function(t,e,n,r){return t[r]+(e[r]-t[r])*n};function YOt(t){return"#"+JOt(t[0])+JOt(t[1])+JOt(t[2])}var $Ot,KOt=function(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]},JOt=function(t){var e=Math.round(t).toString(16);return 1===e.length?"0"+e:e},QOt=function(t){if("#"===t[0]&&7===t.length)return t;$Ot||($Ot=function(){var t=document.createElement("i");return t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t}()),$Ot.style.color=t;var e=document.defaultView.getComputedStyle($Ot,"").getPropertyValue("color"),n=WOt.exec(e)[1].split(/\s*,\s*/).map((function(t){return Number(t)}));return e=YOt(n)},tEt={rgb2arr:KOt,gradient:function(t){var e=(0,tOt.HD)(t)?t.split("-"):t,n=(0,tOt.UI)(e,(function(t){return KOt(-1===t.indexOf("#")?QOt(t):t)}));return function(t){return function(t,e){var n=isNaN(Number(e))||e<0?0:e>1?1:Number(e),r=t.length-1,i=Math.floor(r*n),o=r*n-i,a=t[i],c=i===r?a:t[i+1];return YOt([qOt(a,c,o,0),qOt(a,c,o,1),qOt(a,c,o,2)])}(n,t)}},toRGB:(0,tOt.HP)(QOt),toCSSGradient:function(t){if(/^[r,R,L,l]{1}[\s]*\(/.test(t)){var e,n=void 0;if("l"===t[0]){var r=+(i=VOt.exec(t))[1]+90;n=i[2],e="linear-gradient("+r+"deg, "}else if("r"===t[0]){var i;e="radial-gradient(",n=(i=GOt.exec(t))[4]}var o=n.match(XOt);return(0,tOt.S6)(o,(function(t,n){var r=t.split(":");e+=r[1]+" "+100*r[0]+"%",n!==o.length-1&&(e+=", ")})),e+=")"}return t}},eEt=function(t){function e(e){var n=t.call(this,e)||this;return n.type="color",n.names=["color"],(0,tOt.HD)(n.values)&&(n.linear=!0),n.gradient=tEt.gradient(n.values),n}return(0,QCt.ZT)(e,t),e.prototype.getLinearValue=function(t){return this.gradient(t)},e}(HOt),nEt=eEt,rEt=function(t){function e(e){var n=t.call(this,e)||this;return n.type="opacity",n.names=["opacity"],n}return(0,QCt.ZT)(e,t),e}(HOt),iEt=rEt,oEt=function(t){function e(e){var n=t.call(this,e)||this;return n.names=["x","y"],n.type="position",n}return(0,QCt.ZT)(e,t),e.prototype.mapping=function(t,e){var n=this.scales,r=n[0],i=n[1];return(0,tOt.UM)(t)||(0,tOt.UM)(e)?[]:[(0,tOt.kJ)(t)?t.map((function(t){return r.scale(t)})):r.scale(t),(0,tOt.kJ)(e)?e.map((function(t){return i.scale(t)})):i.scale(e)]},e}(HOt),aEt=oEt,cEt=function(t){function e(e){var n=t.call(this,e)||this;return n.type="shape",n.names=["shape"],n}return(0,QCt.ZT)(e,t),e.prototype.getLinearValue=function(t){var e=Math.round((this.values.length-1)*t);return this.values[e]},e}(HOt),lEt=cEt,uEt=function(t){function e(e){var n=t.call(this,e)||this;return n.type="size",n.names=["size"],n}return(0,QCt.ZT)(e,t),e}(HOt),sEt=uEt,fEt={};function hEt(t,e){fEt[t]=e}var dEt=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){(0,tOt.f0)(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return(0,tOt.UI)(this.ticks,(function(e,n){return(0,tOt.Kn)(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var n=this.formatter,r=n?n(t,e):t;return(0,tOt.UM)(r)||!(0,tOt.mf)(r.toString)?"":r.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){(0,tOt.f0)(this,this.__cfg__),this.setDomain(),(0,tOt.xb)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if((0,tOt.HD)(t)){var n=function(t){return fEt[t]}(t);if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else(0,tOt.mf)(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(t,e,n){return(0,tOt.hj)(t)?(t-e)/(n-e):NaN},t.prototype.calcValue=function(t,e,n){return e+t*(n-e)},t}(),pEt=dEt,vEt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return(0,QCt.ZT)(e,t),e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=(0,tOt.hj)(t)?t:NaN),e},e.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),r=Math.round(e*n)+this.min;return r<this.min||r>this.max?NaN:this.values[r]},e.prototype.getText=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=e;return(0,tOt.hj)(e)&&!this.values.includes(e)&&(i=this.values[i]),t.prototype.getText.apply(this,(0,QCt.pr)([i],n))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if((0,tOt.UM)(this.getConfig("min"))&&(this.min=0),(0,tOt.UM)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(pEt),gEt=vEt,mEt=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,yEt="\\d\\d?",bEt="\\d\\d",xEt="[^\\s]+",wEt=/\[([^]*?)\]/gm;function SEt(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}var kEt=function(t){return function(e,n){var r=n[t].map((function(t){return t.toLowerCase()})),i=r.indexOf(e.toLowerCase());return i>-1?i:null}};function CEt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];for(var a in o)t[a]=o[a]}return t}var OEt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],EEt=["January","February","March","April","May","June","July","August","September","October","November","December"],MEt=SEt(EEt,3),AEt={dayNamesShort:SEt(OEt,3),dayNames:OEt,monthNamesShort:MEt,monthNames:EEt,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10?1:0)*t%10]}},PEt=CEt({},AEt),_Et=function(t){return PEt=CEt(PEt,t)},DEt=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},TEt=function(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},ZEt={D:function(t){return String(t.getDate())},DD:function(t){return TEt(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return TEt(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return TEt(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return TEt(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return TEt(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return TEt(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return TEt(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return TEt(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return TEt(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return TEt(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return TEt(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+TEt(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+TEt(Math.floor(Math.abs(e)/60),2)+":"+TEt(Math.abs(e)%60,2)}},FEt=function(t){return+t-1},jEt=[null,yEt],IEt=[null,xEt],REt=["isPm",xEt,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],LEt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],NEt={D:["day",yEt],DD:["day",bEt],Do:["day",yEt+xEt,function(t){return parseInt(t,10)}],M:["month",yEt,FEt],MM:["month",bEt,FEt],YY:["year",bEt,function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+t>68?e-1:e)+t)}],h:["hour",yEt,void 0,"isPm"],hh:["hour",bEt,void 0,"isPm"],H:["hour",yEt],HH:["hour",bEt],m:["minute",yEt],mm:["minute",bEt],s:["second",yEt],ss:["second",bEt],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond",bEt,function(t){return 10*+t}],SSS:["millisecond","\\d{3}"],d:jEt,dd:jEt,ddd:IEt,dddd:IEt,MMM:["month",xEt,kEt("monthNamesShort")],MMMM:["month",xEt,kEt("monthNames")],a:REt,A:REt,ZZ:LEt,Z:LEt},BEt={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},zEt=function(t){return CEt(BEt,t)},UEt=function(t,e,n){if(void 0===e&&(e=BEt.default),void 0===n&&(n={}),"number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");e=BEt[e]||e;var r=[];e=e.replace(wEt,(function(t,e){return r.push(e),"@@@"}));var i=CEt(CEt({},PEt),n);return(e=e.replace(mEt,(function(e){return ZEt[e](t,i)}))).replace(/@@@/g,(function(){return r.shift()}))};function HEt(t,e,n){if(void 0===n&&(n={}),"string"!=typeof e)throw new Error("Invalid format in fecha parse");if(e=BEt[e]||e,t.length>1e3)return null;var r={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],a=e.replace(wEt,(function(t,e){return o.push(DEt(e)),"@@@"})),c={},l={};a=DEt(a).replace(mEt,(function(t){var e=NEt[t],n=e[0],r=e[1],o=e[3];if(c[n])throw new Error("Invalid format. "+n+" specified twice in format");return c[n]=!0,o&&(l[o]=!0),i.push(e),"("+r+")"})),Object.keys(l).forEach((function(t){if(!c[t])throw new Error("Invalid format. "+t+" is required in specified format")})),a=a.replace(/@@@/g,(function(){return o.shift()}));var u=t.match(new RegExp(a,"i"));if(!u)return null;for(var s,f=CEt(CEt({},PEt),n),h=1;h<u.length;h++){var d=i[h-1],p=d[0],v=d[2],g=v?v(u[h],f):+u[h];if(null==g)return null;r[p]=g}if(1===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:0===r.isPm&&12==+r.hour&&(r.hour=0),null==r.timezoneOffset){s=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond);for(var m=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],y=(h=0,m.length);h<y;h++)if(c[m[h][0]]&&r[m[h][0]]!==s[m[h][1]]())return null}else if(s=new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond)),r.month>11||r.month<0||r.day>31||r.day<1||r.hour>23||r.hour<0||r.minute>59||r.minute<0||r.second>59||r.second<0)return null;return s}var WEt={format:UEt,parse:HEt,defaultI18n:AEt,setGlobalDateI18n:_Et,setGlobalDateMasks:zEt};var VEt="format";function GEt(t,e){return(x[VEt]||WEt[VEt])(t,e)}function XEt(t){return(0,tOt.HD)(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),(0,tOt.J_)(t)&&(t=t.getTime()),t}var qEt=1e3,YEt=6e4,$Et=36e5,KEt=24*$Et,JEt=31*KEt,QEt=365*KEt,tMt=[["HH:mm:ss",qEt],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",YEt],["HH:mm",6e5],["HH:mm",18e5],["HH",$Et],["HH",6*$Et],["HH",12*$Et],["YYYY-MM-DD",KEt],["YYYY-MM-DD",4*KEt],["YYYY-WW",7*KEt],["YYYY-MM",JEt],["YYYY-MM",4*JEt],["YYYY-MM",6*JEt],["YYYY",380*KEt]];function eMt(t,e,n){var r=(e-t)/n,i=function(t){return function(e,n,r,i){for(var o=(0,tOt.UM)(r)?0:r,a=(0,tOt.UM)(i)?e.length:i;o<a;){var c=o+a>>>1;t(e[c])>n?a=c:o=c+1}return o}}((function(t){return t[1]}))(tMt,r)-1,o=tMt[i];return i<0?o=tMt[0]:i>=tMt.length&&(o=(0,tOt.Z$)(tMt)),o}var nMt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return(0,QCt.ZT)(e,t),e.prototype.translate=function(t){t=XEt(t);var e=this.values.indexOf(t);return-1===e&&(e=(0,tOt.hj)(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var r=this.values[n],i=this.formatter;return r=i?i(r,e):GEt(r,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;(0,tOt.S6)(e,(function(t,n){e[n]=XEt(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}(gEt),rMt=nMt,iMt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return(0,QCt.ZT)(e,t),e.prototype.scale=function(t){if((0,tOt.UM)(t))return NaN;var e=this.rangeMin(),n=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(n-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=(0,tOt.YM)(e),r=(0,tOt.Z$)(e);n<this.min&&(this.min=n),r>this.max&&(this.max=r),(0,tOt.UM)(this.minLimit)||(this.min=n),(0,tOt.UM)(this.maxLimit)||(this.max=r)},e.prototype.setDomain=function(){var t=(0,tOt.rx)(this.values),e=t.min,n=t.max;(0,tOt.UM)(this.min)&&(this.min=e),(0,tOt.UM)(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},e.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=(0,tOt.hX)(n,(function(t){return t>=e.min&&t<=e.max}))),n},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(pEt),oMt=iMt,aMt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return(0,QCt.ZT)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(oMt),cMt=aMt;function lMt(t,e){var n=Math.E;return e>=0?Math.pow(n,Math.log(e)/t):-1*Math.pow(n,Math.log(-e)/t)}function uMt(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function sMt(t,e,n){(0,tOt.UM)(n)&&(n=Math.max.apply(null,t));var r=n;return(0,tOt.S6)(t,(function(t){t>0&&t<r&&(r=t)})),r===n&&(r=n/e),r>1&&(r=1),r}var fMt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return(0,QCt.ZT)(e,t),e.prototype.invert=function(t){var e,n=this.base,r=uMt(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,a=this.positiveMin;if(a){if(0===t)return 0;var c=1/(r-(e=uMt(n,a/n)))*o;if(t<c)return t/c*a}else e=uMt(n,this.min);var l=(t-i)/o*(r-e)+e;return Math.pow(n,l)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=sMt(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=1*i/r),t<i?t/i/(uMt(r,e)-uMt(r,n)):(uMt(r,t)-uMt(r,n))/(uMt(r,e)-uMt(r,n))},e}(oMt),hMt=fMt,dMt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return(0,QCt.ZT)(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,r=lMt(n,this.max),i=lMt(n,this.min),o=e*(r-i)+i,a=o>=0?1:-1;return Math.pow(o,n)*a},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent;return(lMt(r,t)-lMt(r,n))/(lMt(r,e)-lMt(r,n))},e}(oMt),pMt=dMt,vMt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return(0,QCt.ZT)(e,t),e.prototype.getText=function(t,e){var n=this.translate(t),r=this.formatter;return r?r(n,e):GEt(n,this.mask)},e.prototype.scale=function(e){var n=e;return((0,tOt.HD)(n)||(0,tOt.J_)(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(t){return XEt(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if((0,tOt.UM)(e)&&(0,tOt.hj)(e)||(this.min=this.translate(this.min)),(0,tOt.UM)(n)&&(0,tOt.hj)(n)||(this.max=this.translate(this.max)),t&&t.length){var r=[],i=1/0,o=i,a=0;(0,tOt.S6)(t,(function(t){var e=XEt(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");i>e?(o=i,i=e):o>e&&(o=e),a<e&&(a=e),r.push(e)})),t.length>1&&(this.minTickInterval=o-i),(0,tOt.UM)(e)&&(this.min=i),(0,tOt.UM)(n)&&(this.max=a)}},e}(cMt),gMt=vMt,mMt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return(0,QCt.ZT)(e,t),e.prototype.invert=function(t){var e=this.ticks,n=e.length,r=this.getInvertPercent(t),i=Math.floor(r*(n-1));if(i>=n-1)return(0,tOt.Z$)(e);if(i<0)return(0,tOt.YM)(e);var o=e[i],a=i/(n-1);return o+(r-a)/((i+1)/(n-1)-a)*(e[i+1]-o)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||((0,tOt.Z$)(e)!==this.max&&e.push(this.max),(0,tOt.YM)(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<(0,tOt.YM)(e))return 0;if(t>(0,tOt.Z$)(e))return 1;var n=0;return(0,tOt.S6)(e,(function(e,r){if(!(t>=e))return!1;n=r})),n/(e.length-1)},e}(oMt),yMt=mMt,bMt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return(0,QCt.ZT)(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(yMt),xMt=bMt,wMt={};function SMt(t){return wMt[t]}function kMt(t,e){if(SMt(t))throw new Error("type '"+t+"' existed.");wMt[t]=e}var CMt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return(0,QCt.ZT)(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&(0,tOt.hj)(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(pEt),OMt=CMt;function EMt(t){var e=t.values,n=t.tickInterval,r=t.tickCount,i=t.showLast;if((0,tOt.hj)(n)){var o=(0,tOt.hX)(e,(function(t,e){return e%n==0})),a=(0,tOt.Z$)(e);return i&&(0,tOt.Z$)(o)!==a&&o.push(a),o}var c=e.length,l=t.min,u=t.max;if((0,tOt.UM)(l)&&(l=0),(0,tOt.UM)(u)&&(u=e.length-1),!(0,tOt.hj)(r)||r>=c)return e.slice(l,u+1);if(r<=0||u<=0)return[];for(var s=1===r?c:Math.floor(c/(r-1)),f=[],h=l,d=0;d<r&&!(h>=u);d++)h=Math.min(l+d*s,u),d===r-1&&i?f.push(e[u]):f.push(e[h]);return f}var MMt=Math.sqrt(50),AMt=Math.sqrt(10),PMt=Math.sqrt(2),_Mt=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,n;void 0===t&&(t=5);var r,i=this._domain.slice(),o=0,a=this._domain.length-1,c=this._domain[o],l=this._domain[a];return l<c&&(c=(e=[l,c])[0],l=e[1],o=(n=[a,o])[0],a=n[1]),(r=DMt(c,l,t))>0?r=DMt(c=Math.floor(c/r)*r,l=Math.ceil(l/r)*r,t):r<0&&(r=DMt(c=Math.ceil(c*r)/r,l=Math.floor(l*r)/r,t)),r>0?(i[o]=Math.floor(c/r)*r,i[a]=Math.ceil(l/r)*r,this.domain(i)):r<0&&(i[o]=Math.ceil(c*r)/r,i[a]=Math.floor(l*r)/r,this.domain(i)),this},t.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,n){var r,i,o,a,c=-1;if(e=+e,n=+n,(t=+t)===e&&n>0)return[t];(r=e<t)&&(i=t,t=e,e=i);if(0===(a=DMt(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++c<i;)o[c]=(t+c)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++c<i;)o[c]=(t-c)/a;r&&o.reverse();return o}(this._domain[0],this._domain[this._domain.length-1],t||5)},t}();function DMt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=MMt?10:o>=AMt?5:o>=PMt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=MMt?10:o>=AMt?5:o>=PMt?2:1)}function TMt(t,e,n){return("ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e}function ZMt(t,e,n){var r=TMt(t,n,"floor"),i=TMt(e,n,"ceil");r=(0,tOt.ri)(r,n),i=(0,tOt.ri)(i,n);for(var o=[],a=Math.max((i-r)/(Math.pow(2,12)-1),n),c=r;c<=i;c+=a){var l=(0,tOt.ri)(c,a);o.push(l)}return{min:r,max:i,ticks:o}}function FMt(t,e,n){var r,i=t.minLimit,o=t.maxLimit,a=t.min,c=t.max,l=t.tickCount,u=void 0===l?5:l,s=(0,tOt.UM)(i)?(0,tOt.UM)(e)?a:e:i,f=(0,tOt.UM)(o)?(0,tOt.UM)(n)?c:n:o;if(s>f&&(f=(r=[s,f])[0],s=r[1]),u<=2)return[s,f];for(var h=(f-s)/(u-1),d=[],p=0;p<u;p++)d.push(s+h*p);return d}function jMt(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}var IMt=[1,5,2,2.5,4,3],RMt=100*Number.EPSILON;function LMt(t,e,n,r,i,o){var a=(0,tOt.dp)(e),c=(0,tOt.cq)(e,t),l=0,u=function(t,e){return(t%e+e)%e}(r,o);return(u<RMt||o-u<RMt)&&r<=0&&i>=0&&(l=1),1-c/(a-1)-n+l}function NMt(t,e,n){var r=(0,tOt.dp)(e);return 1-(0,tOt.cq)(e,t)/(r-1)-n+1}function BMt(t,e,n,r,i,o){var a=(t-1)/(o-i),c=(e-1)/(Math.max(o,r)-Math.min(n,i));return 2-Math.max(a/c,c/a)}function zMt(t,e){return t>=e?2-(t-1)/(e-1):1}function UMt(t,e,n,r){var i=e-t;return 1-.5*(Math.pow(e-r,2)+Math.pow(t-n,2))/Math.pow(.1*i,2)}function HMt(t,e,n){var r=e-t;if(n>r){var i=(n-r)/2;return 1-Math.pow(i,2)/Math.pow(.1*r,2)}return 1}function WMt(t,e,n,r,i,o){void 0===n&&(n=5),void 0===r&&(r=!0),void 0===i&&(i=IMt),void 0===o&&(o=[.25,.2,.5,.05]);var a=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||"number"!=typeof t||"number"!=typeof e||!a)return{min:0,max:0,ticks:[]};if(e-t<1e-15||1===a)return{min:t,max:e,ticks:[t]};if(e-t>1e148){var c=(e-t)/(w=n||5);return{min:t,max:e,ticks:Array(w).fill(null).map((function(e,n){return jMt(t+c*n)}))}}for(var l={score:-2,lmin:0,lmax:0,lstep:0},u=1;u<1/0;){for(var s=0;s<i.length;s+=1){var f=i[s],h=NMt(f,i,u);if(o[0]*h+o[1]+o[2]+o[3]<l.score){u=1/0;break}for(var d=2;d<1/0;){var p=zMt(d,a);if(o[0]*h+o[1]+o[2]*p+o[3]<l.score)break;for(var v=(e-t)/(d+1)/u/f,g=Math.ceil(Math.log10(v));g<1/0;){var m=u*f*Math.pow(10,g),y=HMt(t,e,m*(d-1));if(o[0]*h+o[1]*y+o[2]*p+o[3]<l.score)break;var b=Math.floor(e/m)*u-(d-1)*u,x=Math.ceil(t/m)*u;if(b<=x)for(var w=x-b,S=0;S<=w;S+=1){var k=(b+S)*(m/u),C=k+m*(d-1),O=m,E=LMt(f,i,u,k,C,O),M=UMt(t,e,k,C),A=BMt(d,a,t,e,k,C),P=o[0]*E+o[1]*M+o[2]*A+1*o[3];P>l.score&&(!r||k<=t&&C>=e)&&(l.lmin=k,l.lmax=C,l.lstep=O,l.score=P)}g+=1}d+=1}}u+=1}var _=jMt(l.lmax),D=jMt(l.lmin),T=jMt(l.lstep),Z=Math.floor(function(t){return Math.round(1e12*t)/1e12}((_-D)/T))+1,F=new Array(Z);F[0]=jMt(D);for(s=1;s<Z;s++)F[s]=jMt(F[s-1]+T);return{min:Math.min(t,(0,tOt.YM)(F)),max:Math.max(e,(0,tOt.Z$)(F)),ticks:F}}function VMt(t,e,n){if(void 0===n&&(n=5),t===e)return{max:e,min:t,ticks:[t]};var r=n<0?0:Math.round(n);if(0===r)return{max:e,min:t,ticks:[]};var i=(e-t)/r,o=Math.pow(10,Math.floor(Math.log10(i))),a=o;2*o-i<1.5*(i-a)&&5*o-i<2.75*(i-(a=2*o))&&10*o-i<1.5*(i-(a=5*o))&&(a=10*o);for(var c=Math.ceil(e/a),l=Math.floor(t/a),u=Math.max(c*a,e),s=Math.min(l*a,t),f=Math.floor((u-s)/a)+1,h=new Array(f),d=0;d<f;d++)h[d]=jMt(s+d*a);return{min:s,max:u,ticks:h}}function GMt(t,e){var n=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function XMt(t){return new Date(t).getFullYear()}function qMt(t){return new Date(t,0,1).getTime()}function YMt(t){return new Date(t).getMonth()}function $Mt(t,e){return new Date(t,e,1).getTime()}hEt("cat",EMt),hEt("time-cat",(function(t){return EMt((0,QCt.pi)({showLast:!0},t))})),hEt("wilkinson-extended",(function(t){var e=t.min,n=t.max,r=t.tickCount,i=t.nice,o=t.tickInterval,a=t.minLimit,c=t.maxLimit,l=WMt(e,n,r,i).ticks;return(0,tOt.UM)(a)&&(0,tOt.UM)(c)?o?ZMt(e,n,o).ticks:l:FMt(t,(0,tOt.YM)(l),(0,tOt.Z$)(l))})),hEt("r-pretty",(function(t){var e=t.min,n=t.max,r=t.tickCount,i=t.tickInterval,o=t.minLimit,a=t.maxLimit,c=VMt(e,n,r).ticks;return(0,tOt.UM)(o)&&(0,tOt.UM)(a)?i?ZMt(e,n,i).ticks:c:FMt(t,(0,tOt.YM)(c),(0,tOt.Z$)(c))})),hEt("time",(function(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickInterval,o=t.tickCount;if(i)o=Math.ceil((n-e)/i);else{var a=(n-e)/(i=eMt(e,n,o)[1])/o;a>1&&(i*=Math.ceil(a)),r&&i<r&&(i=r)}i=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),i);for(var c=[],l=e;l<n+i;l+=i)c.push(l);return c})),hEt("time-pretty",(function(t){var e=t.min,n=t.max,r=t.minTickInterval,i=t.tickCount,o=t.tickInterval,a=[];o||(o=(n-e)/i,r&&o<r&&(o=r)),o=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),o);var c=XMt(e);if(o>QEt)for(var l=XMt(n),u=Math.ceil(o/QEt),s=c;s<=l+u;s+=u)a.push(qMt(s));else if(o>JEt){var f=Math.ceil(o/JEt),h=YMt(e),d=function(t,e){var n=XMt(t),r=XMt(e),i=YMt(t);return 12*(r-n)+(YMt(e)-i)%12}(e,n);for(s=0;s<=d+f;s+=f)a.push($Mt(c,s+h))}else if(o>KEt){var p=(b=new Date(e)).getFullYear(),v=b.getMonth(),g=b.getDate(),m=Math.ceil(o/KEt),y=function(t,e){return Math.ceil((e-t)/KEt)}(e,n);for(s=0;s<y+m;s+=m)a.push(new Date(p,v,g+s).getTime())}else if(o>$Et){p=(b=new Date(e)).getFullYear(),v=b.getMonth(),m=b.getDate();var b,x=b.getHours(),w=Math.ceil(o/$Et),S=function(t,e){return Math.ceil((e-t)/$Et)}(e,n);for(s=0;s<=S+w;s+=w)a.push(new Date(p,v,m,x+s).getTime())}else if(o>YEt){var k=function(t,e){return Math.ceil((e-t)/6e4)}(e,n),C=Math.ceil(o/YEt);for(s=0;s<=k+C;s+=C)a.push(e+s*YEt)}else{var O=o;O<qEt&&(O=qEt);var E=Math.floor(e/qEt)*qEt,M=Math.ceil((n-e)/qEt),A=Math.ceil(O/qEt);for(s=0;s<M+A;s+=A)a.push(E+s*qEt)}return a.length>=512&&console.warn("Notice: current ticks length("+a.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+o+") is too small, increase the value to solve the problem!"),a})),hEt("log",(function(t){var e,n=t.base,r=t.tickCount,i=t.min,o=t.max,a=t.values,c=uMt(n,o);if(i>0)e=Math.floor(uMt(n,i));else{var l=sMt(a,n,o);e=Math.floor(uMt(n,l))}for(var u=c-e,s=Math.ceil(u/r),f=[],h=e;h<c+s;h+=s)f.push(Math.pow(n,h));return i<=0&&f.unshift(0),f})),hEt("pow",(function(t){var e=t.exponent,n=t.tickCount,r=Math.ceil(lMt(e,t.max));return VMt(Math.floor(lMt(e,t.min)),r,n).ticks.map((function(t){var n=t>=0?1:-1;return Math.pow(t,e)*n}))})),hEt("quantile",(function(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var r=n.slice().sort((function(t,e){return t-e})),i=[],o=0;o<e;o++){var a=o/(e-1);i.push(GMt(r,a))}return i})),hEt("d3-linear",(function(t){var e=t.min,n=t.max,r=t.tickInterval,i=t.minLimit,o=t.maxLimit,a=function(t){var e=t.min,n=t.max,r=t.nice,i=t.tickCount,o=new _Mt;return o.domain([e,n]),r&&o.nice(i),o.ticks(i)}(t);return(0,tOt.UM)(i)&&(0,tOt.UM)(o)?r?ZMt(e,n,r).ticks:a:FMt(t,(0,tOt.YM)(a),(0,tOt.Z$)(a))})),kMt("cat",gEt),kMt("category",gEt),kMt("identity",OMt),kMt("linear",cMt),kMt("log",hMt),kMt("pow",pMt),kMt("time",gMt),kMt("timeCat",rMt),kMt("quantize",yMt),kMt("quantile",xMt);var KMt={},JMt=function(t){return KMt[t.toLowerCase()]},QMt=function(t,e){if(JMt(t))throw new Error("Attribute type '".concat(t,"' existed."));KMt[t.toLowerCase()]=e};QMt("Color",nEt),QMt("Opacity",iEt),QMt("Position",aEt),QMt("Shape",lEt),QMt("Size",sEt);var tAt=n(30739);function eAt(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}!function(){var t,e=(t=new tAt.WT(3),tAt.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t)}();var nAt=n(20593),rAt=n(12579),iAt=function(){function t(t){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=t.start,n=t.end,r=t.matrix,i=void 0===r?[1,0,0,0,1,0,0,0,1]:r,o=t.isTransposed,a=void 0!==o&&o;this.start=e,this.end=n,this.matrix=i,this.originalMatrix=(0,QCt.ev)([],i),this.isTransposed=a}return t.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},t.prototype.update=function(t){(0,tOt.f0)(this,t),this.initial()},t.prototype.convertDim=function(t,e){var n,r=this[e],i=r.start,o=r.end;return this.isReflect(e)&&(i=(n=[o,i])[0],o=n[1]),i+t*(o-i)},t.prototype.invertDim=function(t,e){var n,r=this[e],i=r.start,o=r.end;return this.isReflect(e)&&(i=(n=[o,i])[0],o=n[1]),(t-i)/(o-i)},t.prototype.applyMatrix=function(t,e,n){void 0===n&&(n=0);var r=[t,e,n];return eAt(r,r,this.matrix),r},t.prototype.invertMatrix=function(t,e,n){void 0===n&&(n=0);var r=this.matrix,i=nAt.U_([0,0,0,0,0,0,0,0,0],r),o=[t,e,n];return i&&eAt(o,o,i),o},t.prototype.convert=function(t){var e=this.convertPoint(t),n=e.x,r=e.y,i=this.applyMatrix(n,r,1);return{x:i[0],y:i[1]}},t.prototype.invert=function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})},t.prototype.rotate=function(t){var e=this.matrix,n=this.center;return rAt.m$(e,e,[-n.x,-n.y]),rAt.zu(e,e,t),rAt.m$(e,e,[n.x,n.y]),this},t.prototype.reflect=function(t){return"x"===t?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},t.prototype.scale=function(t,e){var n=this.matrix,r=this.center;return rAt.m$(n,n,[-r.x,-r.y]),rAt.lh(n,n,[t,e]),rAt.m$(n,n,[r.x,r.y]),this},t.prototype.translate=function(t,e){var n=this.matrix;return rAt.m$(n,n,[t,e]),this},t.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},t.prototype.getCenter=function(){return this.center},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRadius=function(){return this.radius},t.prototype.isReflect=function(t){return"x"===t?this.isReflectX:this.isReflectY},t.prototype.resetMatrix=function(t){this.matrix=t||(0,QCt.ev)([],this.originalMatrix)},t}(),oAt=iAt,aAt=function(t){function e(e){var n=t.call(this,e)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return(0,QCt.ZT)(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=this.start,n=this.end;this.x={start:e.x,end:n.x},this.y={start:e.y,end:n.y}},e.prototype.convertPoint=function(t){var e,n=t.x,r=t.y;return this.isTransposed&&(n=(e=[r,n])[0],r=e[1]),{x:this.convertDim(n,"x"),y:this.convertDim(r,"y")}},e.prototype.invertPoint=function(t){var e,n=this.invertDim(t.x,"x"),r=this.invertDim(t.y,"y");return this.isTransposed&&(n=(e=[r,n])[0],r=e[1]),{x:n,y:r}},e}(oAt),cAt=aAt,lAt=n(17647),uAt=function(t){function e(e){var n=t.call(this,e)||this;n.isHelix=!0,n.type="helix";var r=e.startAngle,i=void 0===r?1.25*Math.PI:r,o=e.endAngle,a=void 0===o?7.25*Math.PI:o,c=e.innerRadius,l=void 0===c?0:c,u=e.radius;return n.startAngle=i,n.endAngle=a,n.innerRadius=l,n.radius=u,n.initial(),n}return(0,QCt.ZT)(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n*=this.radius),this.d=Math.floor(n*(1-this.innerRadius)/e),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+.99*this.d}},e.prototype.convertPoint=function(t){var e,n=t.x,r=t.y;this.isTransposed&&(n=(e=[r,n])[0],r=e[1]);var i=this.convertDim(n,"x"),o=this.a*i,a=this.convertDim(r,"y");return{x:this.center.x+Math.cos(i)*(o+a),y:this.center.y+Math.sin(i)*(o+a)}},e.prototype.invertPoint=function(t){var e,n=this.d+this.y.start,r=lAt.$X([0,0],[t.x,t.y],[this.center.x,this.center.y]),i=rAt.Dg(r,[1,0],!0),o=i*this.a;lAt.kE(r)<o&&(o=lAt.kE(r)),i=2*Math.floor((lAt.kE(r)-o)/n)*Math.PI+i;var a=this.a*i,c=lAt.kE(r)-a;c=(0,tOt.vQ)(c,0)?0:c;var l=this.invertDim(i,"x"),u=this.invertDim(c,"y");return l=(0,tOt.vQ)(l,0)?0:l,u=(0,tOt.vQ)(u,0)?0:u,this.isTransposed&&(l=(e=[u,l])[0],u=e[1]),{x:l,y:u}},e}(oAt),sAt=uAt,fAt=function(t){function e(e){var n=t.call(this,e)||this;n.isPolar=!0,n.type="polar";var r=e.startAngle,i=void 0===r?-Math.PI/2:r,o=e.endAngle,a=void 0===o?3*Math.PI/2:o,c=e.innerRadius,l=void 0===c?0:c,u=e.radius;return n.startAngle=i,n.endAngle=a,n.innerRadius=l,n.radius=u,n.initial(),n}return(0,QCt.ZT)(e,t),e.prototype.initial=function(){for(t.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var e,n=this.getOneBox(),r=n.maxX-n.minX,i=n.maxY-n.minY,o=Math.abs(n.minX)/r,a=Math.abs(n.minY)/i;this.height/i>this.width/r?(e=this.width/r,this.circleCenter={x:this.center.x-(.5-o)*this.width,y:this.center.y-(.5-a)*e*i}):(e=this.height/i,this.circleCenter={x:this.center.x-(.5-o)*e*r,y:this.center.y-(.5-a)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=e*this.radius:(this.radius<=0||this.radius>e)&&(this.polarRadius=e):this.polarRadius=e,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},e.prototype.getRadius=function(){return this.polarRadius},e.prototype.convertPoint=function(t){var e,n=this.getCenter(),r=t.x,i=t.y;return this.isTransposed&&(r=(e=[i,r])[0],i=e[1]),r=this.convertDim(r,"x"),i=this.convertDim(i,"y"),{x:n.x+Math.cos(r)*i,y:n.y+Math.sin(r)*i}},e.prototype.invertPoint=function(t){var e,n=this.getCenter(),r=[t.x-n.x,t.y-n.y],i=this.startAngle,o=this.endAngle;this.isReflect("x")&&(i=(e=[o,i])[0],o=e[1]);var a=[1,0,0,0,1,0,0,0,1];rAt.zu(a,a,i);var c=[1,0,0];eAt(c,c,a);var l=[c[0],c[1]],u=rAt.Dg(l,r,o<i);(0,tOt.vQ)(u,2*Math.PI)&&(u=0);var s=lAt.kE(r),f=u/(o-i);f=o-i>0?f:-f;var h=this.invertDim(s,"y"),d={x:0,y:0};return d.x=this.isTransposed?h:f,d.y=this.isTransposed?f:h,d},e.prototype.getCenter=function(){return this.circleCenter},e.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],r=[0,Math.sin(t),Math.sin(e)],i=Math.min(t,e);i<Math.max(t,e);i+=Math.PI/18)n.push(Math.cos(i)),r.push(Math.sin(i));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,r),maxY:Math.max.apply(Math,r)}},e}(oAt),hAt=fAt,dAt={},pAt=function(t,e){dAt[t.toLowerCase()]=e};function vAt(t,e,n){var r=new kOt.Event(e,n);r.target=t,r.propagationPath.push(t),t.emitDelegation(e,r);for(var i=t.getParent();i;)i.emitDelegation(e,r),r.propagationPath.push(i),i=i.getParent()}pAt("rect",cAt),pAt("cartesian",cAt),pAt("polar",hAt),pAt("helix",sAt);var gAt=[1,0,0,0,1,0,0,0,1];function mAt(t,e,n){return void 0===n&&(n=gAt),e?rAt.vs(n,[["t",-t.x,-t.y],["r",e],["t",t.x,t.y]]):null}function yAt(t,e){return t.x||t.y?rAt.vs(e||gAt,[["t",t.x,t.y]]):null}function bAt(t,e){var n=[0,0];return lAt.kK(n,e,t),n}function xAt(t,e,n,r){if(e){var i=mAt({x:n,y:r},e,t.getMatrix());t.setMatrix(i)}}function wAt(t,e,n){var r=yAt({x:e,y:n});t.attr("matrix",r)}function SAt(t){var e=0,n=0,r=0,i=0;return(0,tOt.hj)(t)?e=n=r=i=t:(0,tOt.kJ)(t)&&(e=t[0],r=(0,tOt.UM)(t[1])?t[0]:t[1],i=(0,tOt.UM)(t[2])?t[0]:t[2],n=(0,tOt.UM)(t[3])?r:t[3]),[e,r,i,n]}function kAt(t){for(var e=t.childNodes,n=e.length-1;n>=0;n--)t.removeChild(e[n])}function CAt(t){var e=t.start,n=t.end,r=Math.min(e.x,n.x),i=Math.min(e.y,n.y),o=Math.max(e.x,n.x),a=Math.max(e.y,n.y);return{x:r,y:i,minX:r,minY:i,maxX:o,maxY:a,width:o-r,height:a-i}}function OAt(t,e,n,r){var i=t+n,o=e+r;return{x:t,y:e,width:n,height:r,minX:t,minY:e,maxX:isNaN(i)?0:i,maxY:isNaN(o)?0:o}}function EAt(t,e,n){return(1-n)*t+e*n}function MAt(t,e,n){return{x:t.x+Math.cos(n)*e,y:t.y+Math.sin(n)*e}}var AAt=function(t,e,n){return void 0===n&&(n=Math.pow(Number.EPSILON,.5)),[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<n};function PAt(t){var e,n,r,i,o,a=t.getClip(),c=a&&a.getBBox();if(t.isGroup()){var l=1/0,u=-1/0,s=1/0,f=-1/0,h=t.getChildren();h.length>0?(0,tOt.S6)(h,(function(t){if(t.get("visible")){if(t.isGroup()&&0===t.get("children").length)return!0;var e=PAt(t),n=t.applyToMatrix([e.minX,e.minY,1]),r=t.applyToMatrix([e.minX,e.maxY,1]),i=t.applyToMatrix([e.maxX,e.minY,1]),o=t.applyToMatrix([e.maxX,e.maxY,1]),a=Math.min(n[0],r[0],i[0],o[0]),c=Math.max(n[0],r[0],i[0],o[0]),h=Math.min(n[1],r[1],i[1],o[1]),d=Math.max(n[1],r[1],i[1],o[1]);a<l&&(l=a),c>u&&(u=c),h<s&&(s=h),d>f&&(f=d)}})):(l=0,u=0,s=0,f=0),e=OAt(l,s,u-l,f-s)}else e=t.getBBox();return c?(n=e,r=c,i=Math.max(n.minX,r.minX),o=Math.max(n.minY,r.minY),OAt(i,o,Math.min(n.maxX,r.maxX)-i,Math.min(n.maxY,r.maxY)-o)):e}function _At(t){return t+"px"}function DAt(t,e,n,r){var i,o,a,c,l=r/(i=t,a=(o=e).x-i.x,c=o.y-i.y,Math.sqrt(a*a+c*c)),u=0;return"start"===n?u=0-l:"end"===n&&(u=1+l),{x:EAt(t.x,e.x,u),y:EAt(t.y,e.y,u)}}var TAt={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},ZAt=function(t){function e(e){var n=t.call(this,e)||this;return n.initCfg(),n}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var e=this,n=this.get("defaultCfg")||{};(0,tOt.S6)(t,(function(t,r){var i=t;e.get(r)!==t&&((0,tOt.Kn)(t)&&n[r]&&(i=(0,tOt.b$)({},n[r],t)),e.set(r,i))})),this.updateInner(t),this.afterUpdate(t)},e.prototype.updateInner=function(t){},e.prototype.afterUpdate=function(t){(0,tOt.wH)(t,"visible")&&(t.visible?this.show():this.hide()),(0,tOt.wH)(t,"capture")&&this.setCapture(t.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},e.prototype.setLocation=function(t){var e=(0,QCt.pi)({},t);this.update(e)},e.prototype.getLocation=function(){var t=this,e={},n=this.get("locationType"),r=TAt[n];return(0,tOt.S6)(r,(function(n){e[n]=t.get(n)})),e},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,e=this.get("defaultCfg");(0,tOt.S6)(e,(function(e,n){var r=t.get(n);if((0,tOt.Kn)(r)){var i=(0,tOt.b$)({},e,r);t.set(n,i)}}))},e}(kOt.Base),FAt=ZAt,jAt="update_status",IAt=["visible","tip","delegateObject"],RAt=["container","group","shapesMap","isRegister","isUpdating","destroyed"],LAt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear(),this.get("group").remove()},e.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},e.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get("component")},e.prototype.getElementById=function(t){return this.get("shapesMap")[t]},e.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},e.prototype.getElementsByName=function(t){var e=[];return(0,tOt.S6)(this.get("shapesMap"),(function(n){n.get("name")===t&&e.push(n)})),e},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},e.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},e.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},e.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},e.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),t.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var t=this.get("group"),e=this.getInnerLayoutBBox(),n=t.getTotalMatrix();return n&&(e=function(t,e){var n=bAt(t,[e.minX,e.minY]),r=bAt(t,[e.maxX,e.minY]),i=bAt(t,[e.minX,e.maxY]),o=bAt(t,[e.maxX,e.maxY]),a=Math.min(n[0],r[0],i[0],o[0]),c=Math.max(n[0],r[0],i[0],o[0]),l=Math.min(n[1],r[1],i[1],o[1]),u=Math.max(n[1],r[1],i[1],o[1]);return{x:a,y:l,minX:a,minY:l,maxX:c,maxY:u,width:c-a,height:u-l}}(n,e)),e},e.prototype.on=function(t,e,n){return this.get("group").on(t,e,n),this},e.prototype.off=function(t,e){var n=this.get("group");return n&&n.off(t,e),this},e.prototype.emit=function(t,e){this.get("group").emit(t,e)},e.prototype.init=function(){t.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},e.prototype.delegateEmit=function(t,e){var n=this.get("group");e.target=n,n.emit(t,e),vAt(n,t,e)},e.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},e.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},e.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",PAt(t)),t},e.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var n=t.addGroup(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var n=t.addShape(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addComponent=function(t,e){var n=e.id,r=e.component,i=(0,QCt._T)(e,["id","component"]),o=new r((0,QCt.pi)((0,QCt.pi)({},i),{id:n,container:t,updateAutoRender:this.get("updateAutoRender")}));return o.init(),o.render(),this.get("isRegister")&&this.registerElement(o.get("group")),o},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){this.get("group").off()},e.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},e.prototype.registerElement=function(t){var e=t.get("id");this.get("shapesMap")[e]=t},e.prototype.unregisterElement=function(t){var e=t.get("id");delete this.get("shapesMap")[e]},e.prototype.moveElementTo=function(t,e){var n=yAt(e);t.attr("matrix",n)},e.prototype.addAnimation=function(t,e,n){var r=e.attr("opacity");(0,tOt.UM)(r)&&(r=1),e.attr("opacity",0),e.animate({opacity:r},n)},e.prototype.removeAnimation=function(t,e,n){e.animate({opacity:0},n)},e.prototype.updateAnimation=function(t,e,n,r){e.animate(n,r)},e.prototype.updateElements=function(t,e){var n,r=this,i=this.get("animate"),o=this.get("animateOption"),a=t.getChildren().slice(0);(0,tOt.S6)(a,(function(t){var a=t.get("id"),c=r.getElementById(a),l=t.get("name");if(c)if(t.get("isComponent")){var u=t.get("component"),s=c.get("component"),f=(0,tOt.ei)(u.cfg,(0,tOt.e5)((0,tOt.XP)(u.cfg),RAt));s.update(f),c.set(jAt,"update")}else{var h=r.getReplaceAttrs(c,t);i&&o.update?r.updateAnimation(l,c,h,o.update):c.attr(h),t.isGroup()&&r.updateElements(t,c),(0,tOt.S6)(IAt,(function(e){c.set(e,t.get(e))})),function(t,e){if(t.getClip()||e.getClip()){var n=e.getClip();if(n){var r={type:n.get("type"),attrs:n.attr()};t.setClip(r)}else t.setClip(null)}}(c,t),n=c,c.set(jAt,"update")}else{e.add(t);var d=e.getChildren();if(d.splice(d.length-1,1),n){var p=d.indexOf(n);d.splice(p+1,0,t)}else d.unshift(t);if(r.registerElement(t),t.set(jAt,"add"),t.get("isComponent"))(u=t.get("component")).set("container",e);else t.isGroup()&&r.registerNewGroup(t);if(n=t,i){var v=r.get("isInit")?o.appear:o.enter;v&&r.addAnimation(l,t,v)}}}))},e.prototype.clearUpdateStatus=function(t){var e=t.getChildren();(0,tOt.S6)(e,(function(t){t.set(jAt,null)}))},e.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},e.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},e.prototype.appendDelegateObject=function(t,e){var n=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),(0,tOt.CD)(e.delegateObject,n)},e.prototype.getReplaceAttrs=function(t,e){var n=t.attr(),r=e.attr();return(0,tOt.S6)(n,(function(t,e){void 0===r[e]&&(r[e]=void 0)})),r},e.prototype.registerNewGroup=function(t){var e=this,n=t.getChildren();(0,tOt.S6)(n,(function(t){e.registerElement(t),t.set(jAt,"add"),t.isGroup()&&e.registerNewGroup(t)}))},e.prototype.deleteElements=function(){var t=this,e=this.get("shapesMap"),n=[];(0,tOt.S6)(e,(function(t,e){!t.get(jAt)||t.destroyed?n.push([e,t]):t.set(jAt,null)}));var r=this.get("animate"),i=this.get("animateOption");(0,tOt.S6)(n,(function(n){var o=n[0],a=n[1];if(!a.destroyed){var c=a.get("name");if(r&&i.leave){var l=(0,tOt.CD)({callback:function(){t.removeElement(a)}},i.leave);t.removeAnimation(c,a,l)}else t.removeElement(a)}delete e[o]}))},e.prototype.removeElement=function(t){if(t.get("isGroup")){var e=t.get("component");e&&e.destroy()}t.remove()},e}(FAt),NAt=LAt,BAt="…";function zAt(t,e){return t.charCodeAt(e)>0&&t.charCodeAt(e)<128?1:2}var UAt="…",HAt=2,WAt=400;function VAt(t){if(t.length>WAt)return function(t){for(var e=t.map((function(t){var e=t.attr("text");return(0,tOt.UM)(e)?"":""+e})),n=0,r=0,i=0;i<e.length;i+=1){for(var o=0,a=0;a<=e[i].length;a+=1){var c=e[i].charCodeAt(a);o+=c>=19968&&c<=40869?2:1}o>n&&(n=o,r=i)}return t[r].getBBox().width}(t);var e=0;return(0,tOt.S6)(t,(function(t){var n=t.getBBox().width;e<n&&(e=n)})),e}function GAt(t,e,n,r){var i;void 0===r&&(r="tail");var o=null!==(i=e.attr("text"))&&void 0!==i?i:"";if("tail"===r){var a=(0,tOt.ei)(e.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),c=(0,tOt.Lo)(o,n,a,"…");return o!==c?(e.attr("text",c),e.set("tip",o),!0):(e.set("tip",null),!1)}var l=function(t,e){var n=e.getCanvasBBox();return t?n.width:n.height}(t,e),u=function(t){for(var e=0,n=0;n<t.length;n++)e+=zAt(t,n);return e}(o),s=!1;if(n<l){var f=Math.floor(n/l*u)-HAt,h=void 0;h=f>=0?function(t,e,n){void 0===n&&(n="tail");var r=t.length,i="";if("tail"===n){for(var o=0,a=0;o<e&&o+zAt(t,a)<=e;)i+=t[a],o+=zAt(t,a),a++;i+=BAt}else if("head"===n){for(o=0,a=r-1;o<e&&o+zAt(t,a)<=e;)i+=t[a],o+=zAt(t,a),a--;i=BAt+i}else{for(var c="",l="",u=(o=0,0),s=r-1;o<e;){var f=zAt(t,u),h=!1;f+o<=e&&(c+=t[u],u++,o+=f,h=!0);var d=zAt(t,s);if(d+o<=e&&(l=t[s]+l,o+=d,s--,h=!0),!h)break}i=c+BAt+l}return i}(o,f,r):UAt,h&&(e.attr("text",h),s=!0)}return s?e.set("tip",o):e.set("tip",null),s}function XAt(t,e){var n=e.x,r=e.y,i=e.content,o=e.style,a=e.id,c=e.name,l=e.rotate,u=e.maxLength,s=e.autoEllipsis,f=e.isVertical,h=e.ellipsisPosition,d=e.background,p=t.addGroup({id:a+"-group",name:c+"-group",attrs:{x:n,y:r}}),v=p.addShape({type:"text",id:a,name:c,attrs:(0,QCt.pi)({x:0,y:0,text:i},o)}),g=SAt((0,tOt.U2)(d,"padding",0));u&&s&&GAt(!f,v,u-(g[1]+g[3]),h);if(d){var m=(0,tOt.U2)(d,"style",{}),y=v.getCanvasBBox(),b=y.minX,x=y.minY,w=y.width,S=y.height;p.addShape("rect",{id:a+"-bg",name:a+"-bg",attrs:(0,QCt.pi)({x:b-g[3],y:x-g[0],width:w+g[1]+g[3],height:S+g[0]+g[2]},m)}).toBack()}wAt(p,n,r),xAt(p,l,n,r)}var qAt={fontFamily:'\n  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"},YAt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:qAt.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:qAt.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:qAt.lineColor,lineWidth:1}}}})},e.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},e.prototype.renderLine=function(t){var e=this.get("start"),n=this.get("end"),r=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,QCt.pi)({x1:e.x,y1:e.y,x2:n.x,y2:n.y},r)})},e.prototype.getLabelPoint=function(t,e,n){var r;return((r="start"===n?0:"center"===n?.5:(0,tOt.HD)(n)&&-1!==n.indexOf("%")?parseInt(n,10)/100:(0,tOt.hj)(n)?n:1)>1||r<0)&&(r=1),{x:EAt(t.x,e.x,r),y:EAt(t.y,e.y,r)}},e.prototype.renderLabel=function(t){var e=this.get("text"),n=this.get("start"),r=this.get("end"),i=e.position,o=e.content,a=e.style,c=e.offsetX,l=e.offsetY,u=e.autoRotate,s=e.maxLength,f=e.autoEllipsis,h=e.ellipsisPosition,d=e.background,p=e.isVertical,v=void 0!==p&&p,g=this.getLabelPoint(n,r,i),m=g.x+c,y=g.y+l,b={id:this.getElementId("line-text"),name:"annotation-line-text",x:m,y:y,content:o,style:a,maxLength:s,autoEllipsis:f,ellipsisPosition:h,background:d,isVertical:v};if(u){var x=[r.x-n.x,r.y-n.y];b.rotate=Math.atan2(x[1],x[0])}XAt(t,b)},e}(NAt),$At=YAt,KAt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:qAt.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:qAt.fontFamily}}})},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.renderInner=function(t){var e=this.getLocation(),n=e.x,r=e.y,i=this.get("content"),o=this.get("style");XAt(t,{id:this.getElementId("text"),name:this.get("name")+"-text",x:n,y:r,content:i,style:o,maxLength:this.get("maxLength"),autoEllipsis:this.get("autoEllipsis"),isVertical:this.get("isVertical"),ellipsisPosition:this.get("ellipsisPosition"),background:this.get("background"),rotate:this.get("rotate")})},e.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var e=this.getLocation(),n=e.x,r=e.y,i=this.get("rotate");wAt(t,n,r),xAt(t,i,n,r)}},e}(NAt),JAt=KAt,QAt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},e.prototype.renderInner=function(t){this.renderArc(t)},e.prototype.getArcPath=function(){var t=this.getLocation(),e=t.center,n=t.radius,r=t.startAngle,i=t.endAngle,o=MAt(e,n,r),a=MAt(e,n,i),c=i-r>Math.PI?1:0,l=[["M",o.x,o.y]];if(i-r==2*Math.PI){var u=MAt(e,n,r+Math.PI);l.push(["A",n,n,0,c,1,u.x,u.y]),l.push(["A",n,n,0,c,1,a.x,a.y])}else l.push(["A",n,n,0,c,1,a.x,a.y]);return l},e.prototype.renderArc=function(t){var e=this.getArcPath(),n=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,QCt.pi)({path:e},n)})},e}(NAt),tPt=QAt,ePt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:qAt.regionColor,opacity:.4}}})},e.prototype.renderInner=function(t){this.renderRegion(t)},e.prototype.renderRegion=function(t){var e=this.get("start"),n=this.get("end"),r=this.get("style"),i=CAt({start:e,end:n});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,QCt.pi)({x:i.x,y:i.y,width:i.width,height:i.height},r)})},e}(NAt),nPt=ePt,rPt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},e.prototype.renderInner=function(t){this.renderImage(t)},e.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),n=this.get("style"),r=CAt({start:t,end:e}),i=this.get("src");return(0,QCt.pi)({x:r.x,y:r.y,img:i,width:r.width,height:r.height},n)},e.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},e}(NAt),iPt=rPt,oPt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:qAt.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:qAt.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:qAt.fontFamily}}}})},e.prototype.renderInner=function(t){(0,tOt.U2)(this.get("line"),"display")&&this.renderLine(t),(0,tOt.U2)(this.get("text"),"display")&&this.renderText(t),(0,tOt.U2)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},e.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},e.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:e})},e.prototype.renderText=function(t){var e=this.getShapeAttrs().text,n=e.x,r=e.y,i=e.text,o=(0,QCt._T)(e,["x","y","text"]),a=this.get("text"),c=a.background,l=a.maxLength,u=a.autoEllipsis,s=a.isVertival,f=a.ellipsisPosition;XAt(t,{x:n,y:r,id:this.getElementId("text"),name:"annotation-text",content:i,style:o,background:c,maxLength:l,autoEllipsis:u,isVertival:s,ellipsisPosition:f})},e.prototype.autoAdjust=function(t){var e=this.get("direction"),n=this.get("x"),r=this.get("y"),i=(0,tOt.U2)(this.get("line"),"length",0),o=this.get("coordinateBBox"),a=t.getBBox(),c=a.minX,l=a.maxX,u=a.minY,s=a.maxY,f=t.findById(this.getElementId("text-group")),h=t.findById(this.getElementId("text")),d=t.findById(this.getElementId("line"));if(o&&f){var p=f.attr("x"),v=f.attr("y"),g=h.getCanvasBBox(),m=g.width,y=g.height,b=0,x=0;if(n+c<=o.minX)if("leftward"===e)b=1;else{var w=o.minX-(n+c);p=f.attr("x")+w}else if(n+l>=o.maxX)if("rightward"===e)b=-1;else{w=n+l-o.maxX;p=f.attr("x")-w}if(b&&(d&&d.attr("path",[["M",0,0],["L",i*b,0]]),p=(i+2+m)*b),r+u<=o.minY)if("upward"===e)x=1;else{w=o.minY-(r+u);v=f.attr("y")+w}else if(r+s>=o.maxY)if("downward"===e)x=-1;else{w=r+s-o.maxY;v=f.attr("y")-w}x&&(d&&d.attr("path",[["M",0,0],["L",0,i*x]]),v=(i+2+y)*x),p===f.attr("x")&&v===f.attr("y")||wAt(f,p,v)}},e.prototype.getShapeAttrs=function(){var t=(0,tOt.U2)(this.get("line"),"display"),e=(0,tOt.U2)(this.get("point"),"style",{}),n=(0,tOt.U2)(this.get("line"),"style",{}),r=(0,tOt.U2)(this.get("text"),"style",{}),i=this.get("direction"),o=t?(0,tOt.U2)(this.get("line"),"length",0):0,a=0,c=0,l="top",u="start";switch(i){case"upward":c=-1,l="bottom";break;case"downward":c=1,l="top";break;case"leftward":a=-1,u="end";break;case"rightward":a=1,u="start"}return{point:(0,QCt.pi)({x:0,y:0},e),line:(0,QCt.pi)({path:[["M",0,0],["L",o*a,o*c]]},n),text:(0,QCt.pi)({x:(o+2)*a,y:(o+2)*c,text:(0,tOt.U2)(this.get("text"),"content",""),textBaseline:l,textAlign:u},r)}},e}(NAt),aPt=oPt,cPt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:qAt.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:qAt.textColor,fontFamily:qAt.fontFamily}}}})},e.prototype.renderInner=function(t){var e=(0,tOt.U2)(this.get("region"),"style",{}),n=((0,tOt.U2)(this.get("text"),"style",{}),this.get("lineLength")||0),r=this.get("points");if(r.length){var i=function(t){var e=t.map((function(t){return t.x})),n=t.map((function(t){return t.y})),r=Math.min.apply(Math,e),i=Math.min.apply(Math,n),o=Math.max.apply(Math,e),a=Math.max.apply(Math,n);return{x:r,y:i,minX:r,minY:i,maxX:o,maxY:a,width:o-r,height:a-i}}(r),o=[];o.push(["M",r[0].x,i.minY-n]),r.forEach((function(t){o.push(["L",t.x,t.y])})),o.push(["L",r[r.length-1].x,r[r.length-1].y-n]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,QCt.pi)({path:o},e)}),XAt(t,(0,QCt.pi)({id:this.getElementId("text"),name:"annotation-text",x:(i.minX+i.maxX)/2,y:i.minY-n},this.get("text")))}},e}(NAt),lPt=cPt,uPt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},e.prototype.renderInner=function(t){var e=this,n=this.get("start"),r=this.get("end"),i=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});(0,tOt.S6)(this.get("shapes"),(function(t,n){var r=t.get("type"),o=(0,tOt.d9)(t.attr());e.adjustShapeAttrs(o),e.addShape(i,{id:e.getElementId("shape-"+r+"-"+n),capture:!1,type:r,attrs:o})}));var o=CAt({start:n,end:r});i.setClip({type:"rect",attrs:{x:o.minX,y:o.minY,width:o.width,height:o.height}})},e.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},e}(NAt),sPt=uPt,fPt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"annotation",type:"shape",draw:tOt.ZT})},e.prototype.renderInner=function(t){var e=this.get("render");(0,tOt.mf)(e)&&e(t)},e}(NAt),hPt=fPt;function dPt(t,e,n){var r;try{r=window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.style[e]}catch(F2t){}finally{r=void 0===r?n:r}return r}function pPt(t,e){var n=function(t,e){var n=dPt(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)}(t,e),r=parseFloat(dPt(t,"borderLeftWidth"))||0,i=parseFloat(dPt(t,"paddingLeft"))||0,o=parseFloat(dPt(t,"paddingRight"))||0,a=parseFloat(dPt(t,"borderRightWidth"))||0,c=parseFloat(dPt(t,"marginRight"))||0;return n+r+a+i+o+(parseFloat(dPt(t,"marginLeft"))||0)+c}function vPt(t,e){var n=function(t,e){var n=dPt(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)}(t,e),r=parseFloat(dPt(t,"borderTopWidth"))||0,i=parseFloat(dPt(t,"paddingTop"))||0,o=parseFloat(dPt(t,"paddingBottom"))||0;return n+r+(parseFloat(dPt(t,"borderBottomWidth"))||0)+i+o+(parseFloat(dPt(t,"marginTop"))||0)+(parseFloat(dPt(t,"marginBottom"))||0)}var gPt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},e.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},e.prototype.getBBox=function(){var t=this.getContainer();return OAt(parseFloat(t.style.left)||0,parseFloat(t.style.top)||0,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){kAt(this.get("container"))},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),t.prototype.destroy.call(this)},e.prototype.init=function(){t.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var t=this.get("container");if((0,tOt.UM)(t)){t=this.createDom();var e=this.get("parent");(0,tOt.HD)(e)&&(e=document.getElementById(e),this.set("parent",e)),e.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else(0,tOt.HD)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},e.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles");t=t?(0,tOt.b$)({},e,t):e,this.set("domStyles",t)},e.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var e=this.getContainer();this.applyChildrenStyles(e,t);var n,r=this.get("containerClassName");if(r&&(n=r,e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)"))))mOt(e,t[r])}},e.prototype.applyChildrenStyles=function(t,e){(0,tOt.S6)(e,(function(e,n){var r=t.getElementsByClassName(n);(0,tOt.S6)(r,(function(t){mOt(t,e)}))}))},e.prototype.applyStyle=function(t,e){mOt(e,this.get("domStyles")[t])},e.prototype.createDom=function(){return gOt(this.get("containerTpl"))},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(t){(0,tOt.wH)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(FAt),mPt=gPt,yPt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},e.prototype.render=function(){var t=this.getContainer(),e=this.get("html");kAt(t);var n=(0,tOt.mf)(e)?e(t):e;if((0,tOt.kK)(n))t.appendChild(n);else if((0,tOt.HD)(n)||(0,tOt.hj)(n)){var r=gOt(""+n);r&&t.appendChild(r)}this.resetPosition()},e.prototype.resetPosition=function(){var t=this.getContainer(),e=this.getLocation(),n=e.x,r=e.y,i=this.get("alignX"),o=this.get("alignY"),a=this.get("offsetX"),c=this.get("offsetY"),l=pPt(t),u=vPt(t),s={x:n,y:r};"middle"===i?s.x-=Math.round(l/2):"right"===i&&(s.x-=Math.round(l)),"middle"===o?s.y-=Math.round(u/2):"bottom"===o&&(s.y-=Math.round(u)),a&&(s.x+=a),c&&(s.y+=c),mOt(t,{position:"absolute",left:s.x+"px",top:s.y+"px",zIndex:this.get("zIndex")})},e}(mPt),bPt=yPt;function xPt(t,e,n){var r=e+"Style",i=null;return(0,tOt.S6)(n,(function(e,n){t[n]&&e[r]&&(i||(i={}),(0,tOt.CD)(i,e[r]))})),i}var wPt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:qAt.lineColor}},tickLine:{style:{lineWidth:1,stroke:qAt.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:qAt.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:qAt.textColor,fontFamily:qAt.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:qAt.textColor,textBaseline:"middle",fontFamily:qAt.fontFamily,textAlign:"center"},iconStyle:{fill:qAt.descriptionIconFill,stroke:qAt.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:qAt.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},e.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("ticks")},e.prototype.setItems=function(t){this.update({ticks:t})},e.prototype.updateItem=function(t,e){(0,tOt.CD)(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},e.prototype.setItemState=function(t,e,n){t[e]=n,this.updateTickStates(t)},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("tickStates"),n=[];return(0,tOt.S6)(e,(function(e,r){t[r]&&n.push(r)})),n},e.prototype.clearItemsState=function(t){var e=this,n=this.getItemsByState(t);(0,tOt.S6)(n,(function(n){e.setItemState(n,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return(0,tOt.hX)(n,(function(n){return e.hasState(n,t)}))},e.prototype.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},e.prototype.getTextAnchor=function(t){var e;return(0,tOt.vQ)(t[0],0)?e="center":t[0]>0?e="start":t[0]<0&&(e="end"),e},e.prototype.getTextBaseline=function(t){var e;return(0,tOt.vQ)(t[1],0)?e="middle":t[1]>0?e="top":t[1]<0&&(e="bottom"),e},e.prototype.processOverlap=function(t){},e.prototype.drawLine=function(t){var e=this.getLinePath(),n=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,tOt.CD)({path:e},n.style)})},e.prototype.getTickLineItems=function(t){var e=this,n=[],r=this.get("tickLine"),i=r.alignTick,o=r.length,a=1;return t.length>=2&&(a=t[1].value-t[0].value),(0,tOt.S6)(t,(function(t){var r=t.point;i||(r=e.getTickPoint(t.value-a/2));var c=e.getSidePoint(r,o);n.push({startPoint:r,tickValue:t.value,endPoint:c,tickId:t.id,id:"tickline-"+t.id})})),n},e.prototype.getSubTickLineItems=function(t){var e=[],n=this.get("subTickLine"),r=n.count,i=t.length;if(i>=2)for(var o=0;o<i-1;o++)for(var a=t[o],c=t[o+1],l=0;l<r;l++){var u=(l+1)/(r+1),s=(1-u)*a.tickValue+u*c.tickValue,f=this.getTickPoint(s),h=this.getSidePoint(f,n.length);e.push({startPoint:f,endPoint:h,tickValue:s,id:"sub-"+a.id+"-"+l})}return e},e.prototype.getTickLineAttrs=function(t,e,n,r){var i=this.get(e).style,o={points:[t.startPoint,t.endPoint]},a=(0,tOt.U2)(this.get("theme"),["tickLine","style"],{});i=(0,tOt.mf)(i)?(0,tOt.CD)({},a,i(o,n,r)):i;var c=t.startPoint,l=t.endPoint;return(0,QCt.pi)({x1:c.x,y1:c.y,x2:l.x,y2:l.y},i)},e.prototype.drawTick=function(t,e,n,r,i){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-"+n,attrs:this.getTickLineAttrs(t,n,r,i)})},e.prototype.drawTickLines=function(t){var e=this,n=this.get("ticks"),r=this.get("subTickLine"),i=this.getTickLineItems(n),o=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),a=this.get("tickLine");if((0,tOt.S6)(i,(function(n,r){if(a.displayWithLabel){var c=e.getElementId("label-"+n.tickId);t.findById(c)&&e.drawTick(n,o,"tickLine",r,i)}else e.drawTick(n,o,"tickLine",r,i)})),r){var c=this.getSubTickLineItems(i);(0,tOt.S6)(c,(function(t,n){e.drawTick(t,o,"subTickLine",n,c)}))}},e.prototype.processTicks=function(){var t=this,e=this.get("ticks");(0,tOt.S6)(e,(function(e){e.point=t.getTickPoint(e.value),(0,tOt.UM)(e.id)&&(e.id=e.name)}))},e.prototype.drawTicks=function(t){var e=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var n=this.get("ticks");(0,tOt.S6)(n,(function(n){e.applyTickStates(n,t)}))},e.prototype.optimizeTicks=function(){var t=this.get("optimize"),e=this.get("ticks");if(t&&t.enable&&t.threshold>0){var n=(0,tOt.dp)(e);if(n>t.threshold){var r=Math.ceil(n/t.threshold),i=e.filter((function(t,e){return e%r==0}));this.set("ticks",i),this.set("originalTicks",e)}}},e.prototype.getLabelAttrs=function(t,e,n){var r=this.get("label"),i=r.offset,o=r.offsetX,a=r.offsetY,c=r.rotate,l=r.formatter,u=this.getSidePoint(t.point,i),s=this.getSideVector(i,u),f=l?l(t.name,t,e):t.name,h=r.style;h=(0,tOt.mf)(h)?(0,tOt.U2)(this.get("theme"),["label","style"],{}):h;var d=(0,tOt.CD)({x:u.x+o,y:u.y+a,text:f,textAlign:this.getTextAnchor(s),textBaseline:this.getTextBaseline(s)},h);return c&&(d.matrix=mAt(u,c)),d},e.prototype.drawLabels=function(t){var e=this,n=this.get("ticks"),r=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});(0,tOt.S6)(n,(function(t,i){e.addShape(r,{type:"text",name:"axis-label",id:e.getElementId("label-"+t.id),attrs:e.getLabelAttrs(t,i,n),delegateObject:{tick:t,item:t,index:i}})})),this.processOverlap(r);var i=r.getChildren(),o=(0,tOt.U2)(this.get("theme"),["label","style"],{}),a=this.get("label"),c=a.style,l=a.formatter;if((0,tOt.mf)(c)){var u=i.map((function(t){return(0,tOt.U2)(t.get("delegateObject"),"tick")}));(0,tOt.S6)(i,(function(t,e){var n=t.get("delegateObject").tick,r=l?l(n.name,n,e):n.name,i=(0,tOt.CD)({},o,c(r,e,u));t.attr(i)}))}},e.prototype.getTitleAttrs=function(){var t=this.get("title"),e=t.style,n=t.position,r=t.offset,i=t.spacing,o=void 0===i?0:i,a=t.autoRotate,c=e.fontSize,l=.5;"start"===n?l=0:"end"===n&&(l=1);var u=this.getTickPoint(l),s=this.getSidePoint(u,r||o+c/2),f=(0,tOt.CD)({x:s.x,y:s.y,text:t.text},e),h=t.rotate,d=h;if((0,tOt.UM)(h)&&a){var p=this.getAxisVector(u);d=rAt.Dg(p,[1,0],!0)}if(d){var v=mAt(s,d);f.matrix=v}return f},e.prototype.drawTitle=function(t){var e,n=this.getTitleAttrs(),r=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:n});(null===(e=this.get("title"))||void 0===e?void 0:e.description)&&this.drawDescriptionIcon(t,r,n.matrix)},e.prototype.drawDescriptionIcon=function(t,e,n){var r=this.addGroup(t,{name:"axis-description",id:this.getElementById("description")}),i=e.getBBox(),o=i.maxX,a=i.maxY,c=i.height,l=this.get("title").iconStyle,u=c/2,s=u/6,f=o+4,h=a-c/2,d=[f+u,h-u],p=d[0],v=d[1],g=[p+u,v+u],m=g[0],y=g[1],b=[p,y+u],x=b[0],w=b[1],S=[f,v+u],k=S[0],C=S[1],O=[f+u,h-c/4],E=O[0],M=O[1],A=[E,M+s],P=A[0],_=A[1],D=[P,_+s],T=D[0],Z=D[1],F=[T,Z+3*u/4],j=F[0],I=F[1];this.addShape(r,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:(0,QCt.pi)({path:[["M",p,v],["A",u,u,0,0,1,m,y],["A",u,u,0,0,1,x,w],["A",u,u,0,0,1,k,C],["A",u,u,0,0,1,p,v],["M",E,M],["L",P,_],["M",T,Z],["L",j,I]],lineWidth:s,matrix:n},l)}),this.addShape(r,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:f,y:h-c/2,width:c,height:c,stroke:"#000",fill:"#000",opacity:0,matrix:n,cursor:"pointer"}})},e.prototype.applyTickStates=function(t,e){if(this.getItemStates(t).length){var n=this.get("tickStates"),r=this.getElementId("label-"+t.id),i=e.findById(r);if(i){var o=xPt(t,"label",n);o&&i.attr(o)}var a=this.getElementId("tickline-"+t.id),c=e.findById(a);if(c){var l=xPt(t,"tickLine",n);l&&c.attr(l)}}},e.prototype.updateTickStates=function(t){var e=this.getItemStates(t),n=this.get("tickStates"),r=this.get("label"),i=this.getElementByLocalId("label-"+t.id),o=this.get("tickLine"),a=this.getElementByLocalId("tickline-"+t.id);if(e.length){if(i){var c=xPt(t,"label",n);c&&i.attr(c)}if(a){var l=xPt(t,"tickLine",n);l&&a.attr(l)}}else i&&i.attr(r.style),a&&a.attr(o.style)},e}(NAt),SPt=wPt;function kPt(t,e,n,r){var i=e.getChildren(),o=!1;return(0,tOt.S6)(i,(function(e){var i=GAt(t,e,n,r);o=o||i})),o}function CPt(){return EPt}function OPt(t,e,n){return kPt(t,e,n,"head")}function EPt(t,e,n){return kPt(t,e,n,"tail")}function MPt(t,e,n){return kPt(t,e,n,"middle")}function APt(t){var e=function(t){var e=t.attr("matrix");return e&&1!==e[0]}(t)?function(t){var e=[0,0,0];return eAt(e,[1,0,0],t),Math.atan2(e[1],e[0])}(t.attr("matrix")):0;return e%360}function PPt(t,e,n,r){var i=!1,o=APt(e),a=t?Math.abs(n.attr("y")-e.attr("y")):Math.abs(n.attr("x")-e.attr("x")),c=(t?n.attr("y")>e.attr("y"):n.attr("x")>e.attr("x"))?e.getBBox():n.getBBox();if(t){var l=Math.abs(Math.cos(o));i=AAt(l,0,Math.PI/180)?c.width+r>a:c.height/l+r>a}else{l=Math.abs(Math.sin(o));i=AAt(l,0,Math.PI/180)?c.width+r>a:c.height/l+r>a}return i}function _Pt(t,e,n,r){var i=(null==r?void 0:r.minGap)||0,o=e.getChildren().slice().filter((function(t){return t.get("visible")}));if(!o.length)return!1;var a=!1;n&&o.reverse();for(var c=o.length,l=o[0],u=1;u<c;u++){var s=o[u];s.getBBox();PPt(t,l,s,i)?(s.hide(),a=!0):l=s}return a}function DPt(t,e,n){var r=(null==n?void 0:n.minGap)||0,i=e.getChildren().slice();if(i.length<2)return!1;var o=!1,a=i[0],c=a.getBBox(),l=i[1],u=i.length,s=APt(a),f=t?Math.abs(l.attr("y")-a.attr("y")):Math.abs(l.attr("x")-a.attr("x")),h=0;if(t){var d=Math.abs(Math.cos(s));if(AAt(d,0,Math.PI/180))h=(VAt(i)+r)/f;else h=(c.height/d+r)/f}else{d=Math.abs(Math.sin(s));if(AAt(d,0,Math.PI/180))h=(VAt(i)+r)/f;else h=(c.height/d+r)/f}if(h>1){h=Math.ceil(h);for(var p=0;p<u;p++)p%h!=0&&(i[p].hide(),o=!0)}return o}function TPt(){return IPt}function ZPt(t,e,n,r){return _Pt(t,e,!1,r)}function FPt(t,e,n,r){return _Pt(t,e,!0,r)}function jPt(t,e,n,r){var i=(null==r?void 0:r.minGap)||0,o=e.getChildren().slice();if(o.length<=2)return!1;for(var a=!1,c=o.length,l=o[0],u=o[c-1],s=l,f=1;f<c-1;f++){var h=o[f];h.getBBox();PPt(t,s,h,i)?(h.hide(),a=!0):s=h}return PPt(t,s,u,i)&&(s.hide(),a=!0),a}function IPt(t,e,n,r){var i=DPt(t,e,r);return _Pt(t,e,!1)&&(i=!0),i}function RPt(t,e,n,r){var i=e.getChildren().slice(),o=DPt(t,e,r);if(i.length>2){var a=i[0],c=i[i.length-1];a.get("visible")||(a.show(),_Pt(t,e,!1,r)&&(o=!0)),c.get("visible")||(c.show(),_Pt(t,e,!0,r)&&(o=!0))}return o}function LPt(t,e,n,r){var i=e.getChildren();if(!i.length)return!1;if(!t&&i.length<2)return!1;var o=VAt(i),a=!1;t?a=!!n&&o>n:a=o>Math.abs(i[1].attr("x")-i[0].attr("x"));a&&function(t,e){(0,tOt.S6)(t,(function(t){var n=mAt({x:t.attr("x"),y:t.attr("y")},e);t.attr("matrix",n)}))}(i,r(n,o));return a}function NPt(){return BPt}function BPt(t,e,n,r){return LPt(t,e,n,(function(){return(0,tOt.hj)(r)?r:t?qAt.verticalAxisRotate:qAt.horizontalAxisRotate}))}function zPt(t,e,n){return LPt(t,e,n,(function(e,n){if(!e)return t?qAt.verticalAxisRotate:qAt.horizontalAxisRotate;if(t)return-Math.acos(e/n);var r=0;return(e>n||(r=Math.asin(e/n))>Math.PI/4)&&(r=Math.PI/4),r}))}var UPt,HPt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",e.x,e.y]),n},e.prototype.getInnerLayoutBBox=function(){var e=this.get("start"),n=this.get("end"),r=t.prototype.getInnerLayoutBBox.call(this),i=Math.min(e.x,n.x,r.x),o=Math.min(e.y,n.y,r.y),a=Math.max(e.x,n.x,r.maxX),c=Math.max(e.y,n.y,r.maxY);return{x:i,y:o,minX:i,minY:o,maxX:a,maxY:c,width:a-i,height:c-o}},e.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return(0,tOt.vQ)(t.x,e.x)},e.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return(0,tOt.vQ)(t.y,e.y)},e.prototype.getTickPoint=function(t){var e=this.get("start"),n=this.get("end"),r=n.x-e.x,i=n.y-e.y;return{x:e.x+r*t,y:e.y+i*t}},e.prototype.getSideVector=function(t){var e=this.getAxisVector(),n=lAt.Fv([0,0],e),r=this.get("verticalFactor"),i=[n[1],-1*n[0]];return lAt.bA([0,0],i,t*r)},e.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},e.prototype.processOverlap=function(t){var e=this,n=this.isVertical(),r=this.isHorizontal();if(n||r){var i=this.get("label"),o=this.get("title"),a=this.get("verticalLimitLength"),c=i.offset,l=a,u=0,s=0;o&&(u=o.style.fontSize,s=o.spacing),l&&(l=l-c-s-u);var f=this.get("overlapOrder");if((0,tOt.S6)(f,(function(n){i[n]&&e.canProcessOverlap(n)&&e.autoProcessOverlap(n,i[n],t,l)})),o&&(0,tOt.UM)(o.offset)){var h=t.getCanvasBBox(),d=n?h.width:h.height;o.offset=c+d+s+u/2}}},e.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||(0,tOt.UM)(e.rotate)},e.prototype.autoProcessOverlap=function(t,e,n,r){var i=this,o=this.isVertical(),a=!1,c=O[t];if(!0===e){this.get("label");a=c.getDefault()(o,n,r)}else if((0,tOt.mf)(e))a=e(o,n,r);else if((0,tOt.Kn)(e)){var l=e;c[l.type]&&(a=c[l.type](o,n,r,l.cfg))}else c[e]&&(a=c[e](o,n,r));if("autoRotate"===t){if(a){var u=n.getChildren(),s=this.get("verticalFactor");(0,tOt.S6)(u,(function(t){if("center"===t.attr("textAlign")){var e=s>0?"end":"start";t.attr("textAlign",e)}}))}}else if("autoHide"===t){var f=n.getChildren().slice(0);(0,tOt.S6)(f,(function(t){t.get("visible")||(i.get("isRegister")&&i.unregisterElement(t),t.remove())}))}},e}(SPt),WPt=HPt,VPt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getLinePath=function(){var t=this.get("center"),e=t.x,n=t.y,r=this.get("radius"),i=r,o=this.get("startAngle"),a=this.get("endAngle"),c=[];if(Math.abs(a-o)===2*Math.PI)c=[["M",e,n-i],["A",r,i,0,1,1,e,n+i],["A",r,i,0,1,1,e,n-i],["Z"]];else{var l=this.getCirclePoint(o),u=this.getCirclePoint(a),s=Math.abs(a-o)>Math.PI?1:0,f=o>a?0:1;c=[["M",e,n],["L",l.x,l.y],["A",r,i,0,s,f,u.x,u.y],["L",e,n]]}return c},e.prototype.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this.getCirclePoint(n)},e.prototype.getSideVector=function(t,e){var n=this.get("center"),r=[e.x-n.x,e.y-n.y],i=this.get("verticalFactor"),o=lAt.kE(r);return lAt.bA(r,r,i*t/o),r},e.prototype.getAxisVector=function(t){var e=this.get("center"),n=[t.x-e.x,t.y-e.y];return[n[1],-1*n[0]]},e.prototype.getCirclePoint=function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},e.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||(0,tOt.UM)(e.rotate)},e.prototype.processOverlap=function(t){var e=this,n=this.get("label"),r=this.get("title"),i=this.get("verticalLimitLength"),o=n.offset,a=i,c=0,l=0;r&&(c=r.style.fontSize,l=r.spacing),a&&(a=a-o-l-c);var u=this.get("overlapOrder");if((0,tOt.S6)(u,(function(r){n[r]&&e.canProcessOverlap(r)&&e.autoProcessOverlap(r,n[r],t,a)})),r&&(0,tOt.UM)(r.offset)){var s=t.getCanvasBBox().height;r.offset=o+s+l+c/2}},e.prototype.autoProcessOverlap=function(t,e,n,r){var i=this,o=!1,a=O[t];if(r>0)if(!0===e)o=a.getDefault()(!1,n,r);else if((0,tOt.mf)(e))o=e(!1,n,r);else if((0,tOt.Kn)(e)){var c=e;a[c.type]&&(o=a[c.type](!1,n,r,c.cfg))}else a[e]&&(o=a[e](!1,n,r));if("autoRotate"===t){if(o){var l=n.getChildren(),u=this.get("verticalFactor");(0,tOt.S6)(l,(function(t){if("center"===t.attr("textAlign")){var e=u>0?"end":"start";t.attr("textAlign",e)}}))}}else if("autoHide"===t){var s=n.getChildren().slice(0);(0,tOt.S6)(s,(function(t){t.get("visible")||(i.get("isRegister")&&i.unregisterElement(t),t.remove())}))}},e}(SPt),GPt=VPt,XPt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:qAt.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:qAt.textColor,textAlign:"center",textBaseline:"middle",fontFamily:qAt.fontFamily}},textBackground:{padding:5,style:{stroke:qAt.lineColor}}}})},e.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},e.prototype.renderText=function(t){var e=this.get("text"),n=e.style,r=e.autoRotate,i=e.content;if(!(0,tOt.UM)(i)){var o=this.getTextPoint(),a=null;if(r)a=mAt(o,this.getRotateAngle());this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({},o),{text:i,matrix:a}),n)})}},e.prototype.renderLine=function(t){var e=this.getLinePath(),n=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,QCt.pi)({path:e},n)})},e.prototype.renderBackground=function(t){var e=this.getElementId("text"),n=t.findById(e),r=this.get("textBackground");if(r&&n){var i=n.getBBox(),o=SAt(r.padding),a=r.style;this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,QCt.pi)({x:i.x-o[3],y:i.y-o[0],width:i.width+o[1]+o[3],height:i.height+o[0]+o[2],matrix:n.attr("matrix")},a)}).toBack()}},e}(NAt),qPt=XPt,YPt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get("text").position,i=Math.atan2(n.y-e.y,n.x-e.x);return"start"===r?i-Math.PI/2:i+Math.PI/2},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get("text");return DAt(e,n,r.position,r.offset)},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,n=t.end;return[["M",e.x,e.y],["L",n.x,n.y]]},e}(qPt),$Pt=YPt,KPt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,n=t.endAngle;return"start"===this.get("text").position?e+Math.PI/2:n-Math.PI/2},e.prototype.getTextPoint=function(){var t=this.get("text"),e=t.position,n=t.offset,r=this.getLocation(),i=r.center,o=r.radius,a=r.startAngle,c=r.endAngle,l="start"===e?a:c,u=this.getRotateAngle()-Math.PI,s=MAt(i,o,l),f=Math.cos(u)*n,h=Math.sin(u)*n;return{x:s.x+f,y:s.y+h}},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.center,n=t.radius,r=t.startAngle,i=t.endAngle,o=null;if(i-r==2*Math.PI){var a=e.x,c=e.y;o=[["M",a,c-n],["A",n,n,0,1,1,a,c+n],["A",n,n,0,1,1,a,c-n],["Z"]]}else{var l=MAt(e,n,r),u=MAt(e,n,i),s=Math.abs(i-r)>Math.PI?1:0,f=r>i?0:1;o=[["M",l.x,l.y],["A",n,n,0,s,f,u.x,u.y]]}return o},e}(qPt),JPt=KPt,QPt="g2-crosshair",t_t=QPt+"-line",e_t=QPt+"-text",n_t=((UPt={})[""+QPt]={position:"relative"},UPt[""+t_t]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},UPt[""+e_t]={position:"absolute",color:qAt.textColor,fontFamily:qAt.fontFamily},UPt),r_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+QPt+'"></div>',crosshairTpl:'<div class="'+t_t+'"></div>',textTpl:'<span class="'+e_t+'">{content}</span>',domStyles:null,containerClassName:QPt,defaultStyles:n_t,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},e.prototype.render=function(){this.resetText(),this.resetPosition()},e.prototype.initCrossHair=function(){var t=this.getContainer(),e=gOt(this.get("crosshairTpl"));t.appendChild(e),this.applyStyle(t_t,e),this.set("crosshairEl",e)},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,r=this.get("text");return DAt(e,n,r.position,r.offset)},e.prototype.resetText=function(){var t=this.get("text"),e=this.get("textEl");if(t){var n=t.content;if(!e){var r=this.getContainer();e=gOt((0,tOt.ng)(this.get("textTpl"),t)),r.appendChild(e),this.applyStyle(e_t,e),this.set("textEl",e)}e.innerHTML=n}else e&&e.remove()},e.prototype.isVertical=function(t,e){return t.x===e.x},e.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var e=this.get("start"),n=this.get("end"),r=Math.min(e.x,n.x),i=Math.min(e.y,n.y);this.isVertical(e,n)?mOt(t,{width:"1px",height:_At(Math.abs(n.y-e.y))}):mOt(t,{height:"1px",width:_At(Math.abs(n.x-e.x))}),mOt(t,{top:_At(i),left:_At(r)}),this.alignText()},e.prototype.alignText=function(){var t=this.get("textEl");if(t){var e=this.get("text").align,n=t.clientWidth,r=this.getTextPoint();switch(e){case"center":r.x=r.x-n/2;break;case"right":r.x=r.x-n}mOt(t,{top:_At(r.y),left:_At(r.x)})}},e.prototype.updateInner=function(e){(0,tOt.wH)(e,"text")&&this.resetText(),t.prototype.updateInner.call(this,e)},e}(mPt),i_t=r_t,o_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:qAt.lineColor}}}})},e.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},e.prototype.renderInner=function(t){this.drawGrid(t)},e.prototype.getAlternatePath=function(t,e){var n=this.getGridPath(t),r=e.slice(0).reverse(),i=this.getGridPath(r,!0);return this.get("closed")?n=n.concat(i):(i[0][0]="L",(n=n.concat(i)).push(["Z"])),n},e.prototype.getPathStyle=function(){return this.get("line").style},e.prototype.drawGrid=function(t){var e=this,n=this.get("line"),r=this.get("items"),i=this.get("alternateColor"),o=null;(0,tOt.S6)(r,(function(a,c){var l=a.id||c;if(n){var u=e.getPathStyle();u=(0,tOt.mf)(u)?u(a,c,r):u;var s=e.getElementId("line-"+l),f=e.getGridPath(a.points);e.addShape(t,{type:"path",name:"grid-line",id:s,attrs:(0,tOt.CD)({path:f},u)})}if(i&&c>0){var h=e.getElementId("region-"+l),d=c%2==0;if((0,tOt.HD)(i))d&&e.drawAlternateRegion(h,t,o.points,a.points,i);else{var p=d?i[1]:i[0];e.drawAlternateRegion(h,t,o.points,a.points,p)}}o=a}))},e.prototype.drawAlternateRegion=function(t,e,n,r,i){var o=this.getAlternatePath(n,r);this.addShape(e,{type:"path",id:t,name:"grid-region",attrs:{path:o,fill:i}})},e}(NAt),a_t=o_t;var c_t,l_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{type:"circle",center:null,closed:!0})},e.prototype.getGridPath=function(t,e){var n=this.getLineType(),r=this.get("closed"),i=[];if(t.length)if("circle"===n){var o=this.get("center"),a=t[0],c=function(t,e,n,r){var i=n-t,o=r-e;return Math.sqrt(i*i+o*o)}(o.x,o.y,a.x,a.y),l=e?0:1;r?(i.push(["M",o.x,o.y-c]),i.push(["A",c,c,0,0,l,o.x,o.y+c]),i.push(["A",c,c,0,0,l,o.x,o.y-c]),i.push(["Z"])):(0,tOt.S6)(t,(function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["A",c,c,0,0,l,t.x,t.y])}))}else(0,tOt.S6)(t,(function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["L",t.x,t.y])})),r&&i.push(["Z"]);return i},e}(a_t),u_t=l_t,s_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{type:"line"})},e.prototype.getGridPath=function(t){var e=[];return(0,tOt.S6)(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},e}(a_t),f_t=s_t,h_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},e.prototype.getLayoutBBox=function(){var e=t.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),r=this.get("maxHeight"),i=e.width,o=e.height;return n&&(i=Math.min(i,n)),r&&(o=Math.min(o,r)),OAt(e.minX,e.minY,i,o)},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),n=this.get("offsetX"),r=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+n,y:e+r})},e.prototype.applyOffset=function(){this.resetLocation()},e.prototype.getDrawPoint=function(){return this.get("currentPoint")},e.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},e.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},e.prototype.drawBackground=function(t){var e=this.get("background"),n=t.getBBox(),r=SAt(e.padding),i=(0,QCt.pi)({x:0,y:0,width:n.width+r[1]+r[3],height:n.height+r[0]+r[2]},e.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:i}).toBack()},e.prototype.drawTitle=function(t){var e=this.get("currentPoint"),n=this.get("title"),r=n.spacing,i=n.style,o=n.text,a=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,QCt.pi)({text:o,x:e.x,y:e.y},i)}).getBBox();this.set("currentPoint",{x:e.x,y:a.maxY+r})},e.prototype.resetDraw=function(){var t=this.get("background"),e={x:0,y:0};if(t){var n=SAt(t.padding);e.x=n[3],e.y=n[0]}this.set("currentPoint",e)},e}(NAt),d_t=h_t,p_t={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},v_t={fill:qAt.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:qAt.fontFamily,fontWeight:"normal",lineHeight:12},g_t="navigation-arrow-right",m_t="navigation-arrow-left",y_t={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},b_t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPageIndex=1,e.totalPagesCnt=1,e.pageWidth=0,e.pageHeight=0,e.startX=0,e.startY=0,e.onNavigationBack=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex>1){e.currentPageIndex-=1,e.updateNavigation();var n=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:n},100):t.attr({matrix:n})}},e.onNavigationAfter=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex<e.totalPagesCnt){e.currentPageIndex+=1,e.updateNavigation();var n=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:n},100):t.attr({matrix:n})}},e}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:qAt.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:qAt.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:p_t,itemName:{spacing:16,style:v_t},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:v_t,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:qAt.uncheckedColor},markerStyle:{fill:qAt.uncheckedColor,stroke:qAt.uncheckedColor}},inactive:{nameStyle:{fill:qAt.uncheckedColor},markerStyle:{opacity:.2}}}}})},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("items")},e.prototype.setItems=function(t){this.update({items:t})},e.prototype.updateItem=function(t,e){(0,tOt.CD)(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},e.prototype.setItemState=function(t,e,n){t[e]=n;var r=this.getElementByLocalId("item-"+t.id);if(r){var i=this.getItems().indexOf(t),o=this.createOffScreenGroup(),a=this.drawItem(t,i,this.getItemHeight(),o);this.updateElements(a,r),this.clearUpdateStatus(r)}},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("itemStates"),n=[];return(0,tOt.S6)(e,(function(e,r){t[r]&&n.push(r)})),n},e.prototype.clearItemsState=function(t){var e=this,n=this.getItemsByState(t);(0,tOt.S6)(n,(function(n){e.setItemState(n,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return(0,tOt.hX)(n,(function(n){return e.hasState(n,t)}))},e.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},e.prototype.processItems=function(){var t=this.get("items");(0,tOt.S6)(t,(function(t){t.id||(t.id=t.name)}))},e.prototype.drawItems=function(t){var e=this,n=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),r=this.addGroup(n,{id:this.getElementId("item-group"),name:"legend-item-group"}),i=this.getItemHeight(),o=this.get("itemWidth"),a=this.get("itemSpacing"),c=this.get("itemMarginBottom"),l=this.get("currentPoint"),u=l.x,s=l.y,f=this.get("layout"),h=this.get("items"),d=!1,p=0,v=this.get("maxWidth"),g=this.get("maxHeight");(0,tOt.S6)(h,(function(t,n){var h=e.drawItem(t,n,i,r),m=h.getBBox(),y=o||m.width;y>p&&(p=y),"horizontal"===f?(v&&v<l.x+y-u&&(d=!0,l.x=u,l.y+=i+c),e.moveElementTo(h,l),l.x+=y+a):(g&&g<l.y+i+c-s&&(d=!0,l.x+=p+a,l.y=s,p=0),e.moveElementTo(h,l),l.y+=i+c)})),d&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=u,this.startY=s,this.adjustNavigation(t,r))},e.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var e=(this.get("itemName")||{}).style;if((0,tOt.mf)(e)){var n=this.getItems();n.forEach((function(r,i){var o=(0,QCt.pi)((0,QCt.pi)({},v_t),e(r,i,n)).fontSize;t<o&&(t=o)}))}else e&&(t=e.fontSize)}return t},e.prototype.drawMarker=function(t,e,n,r){var i=(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({x:0,y:r/2},e.style),{symbol:(0,tOt.U2)(n.marker,"symbol","circle")}),(0,tOt.U2)(n.marker,"style",{})),o=this.addShape(t,{type:"marker",id:this.getElementId("item-"+n.id+"-marker"),name:"legend-item-marker",attrs:i}),a=o.getBBox();o.attr("x",a.width/2);var c=o.attr(),l=c.stroke,u=c.fill;return l&&o.set("isStroke",!0),u&&o.set("isFill",!0),o},e.prototype.drawItemText=function(t,e,n,r,i,o,a){var c=n.formatter,l=n.style,u=(0,QCt.pi)((0,QCt.pi)({x:o,y:i/2,text:c?c(r[e],r,a):r[e]},v_t),(0,tOt.mf)(l)?l(r,a,this.getItems()):l);return this.addShape(t,{type:"text",id:this.getElementId("item-"+r.id+"-"+e),name:"legend-item-"+e,attrs:u})},e.prototype.drawRadio=function(t,e,n,r,i){var o,a,c=e.style||{},l=null!==(o=c.r)&&void 0!==o?o:r/2,u=3.6*l/8,s=[i+l,r/2-l],f=s[0],h=s[1],d=[f+l,h+l],p=d[0],v=d[1],g=[f,v+l],m=g[0],y=g[1],b=[i,h+l],x=b[0],w=b[1],S=n.showRadio,k=(0,QCt.pi)((0,QCt.pi)({path:[["M",f,h],["A",l,l,0,0,1,p,v],["L",p-u,v],["L",p,v],["A",l,l,0,0,1,m,y],["L",m,y-u],["L",m,y],["A",l,l,0,0,1,x,w],["L",x+u,w],["L",x,w],["A",l,l,0,0,1,f,h],["L",f,h+u]],stroke:"#000000",fill:"#ffffff"},c),{opacity:S?null!==(a=null==c?void 0:c.opacity)&&void 0!==a?a:.45:0}),C=this.addShape(t,{type:"path",id:this.getElementId("item-"+n.id+"-radio"),name:"legend-item-radio",attrs:k});return C.set("tip",e.tip),C},e.prototype.drawItem=function(t,e,n,r){var i="item-"+t.id,o=this.addGroup(r,{name:"legend-item-container",id:this.getElementId("item-container-"+i),delegateObject:{item:t,index:e}}),a=this.addGroup(o,{name:"legend-item",id:this.getElementId(i),delegateObject:{item:t,index:e}}),c=this.get("marker"),l=this.get("itemName"),u=this.get("itemValue"),s=this.get("itemBackground"),f=this.get("radio"),h=this.getLimitItemWidth(),d=0;if(c){var p=this.drawMarker(a,c,t,n),v=c.spacing,g=(0,tOt.U2)(t,["marker","spacing"]);(0,tOt.hj)(g)&&(v=g),d=p.getBBox().maxX+v}if(l){var m=this.drawItemText(a,"name",l,t,n,d,e);h&&GAt(!0,m,(0,tOt.uZ)(h-d,0,h)),d=m.getBBox().maxX+l.spacing}if(u){var y=this.drawItemText(a,"value",u,t,n,d,e);h&&(u.alignRight?(y.attr({textAlign:"right",x:h}),GAt(!0,y,(0,tOt.uZ)(h-d,0,h),"head")):GAt(!0,y,(0,tOt.uZ)(h-d,0,h))),d=y.getBBox().maxX+u.spacing}if(f&&this.drawRadio(a,f,t,n,d),s){var b=a.getBBox();this.addShape(a,{type:"rect",name:"legend-item-background",id:this.getElementId(i+"-background"),attrs:(0,QCt.pi)({x:0,y:0,width:b.width,height:n},s.style)}).toBack()}return this.applyItemStates(t,a),a},e.prototype.adjustNavigation=function(t,e){var n=this,r=this.startX,i=this.startY,o=this.get("layout"),a=e.findAll((function(t){return"legend-item"===t.get("name")})),c=this.get("maxWidth"),l=this.get("maxHeight"),u=this.get("itemWidth"),s=this.get("itemSpacing"),f=this.getItemHeight(),h=(0,tOt.b$)({},p_t,this.get("pageNavigator")),d=this.drawNavigation(t,o,"00/00",h),p=d.getBBox(),v={x:r,y:i},g=1,m=0,y=0,b=0,x=this.get("itemMarginBottom");if("horizontal"===o){var w=this.get("maxRow")||1,S=f+(1===w?0:x),k=c-s-p.width-p.minX;this.pageHeight=S*w,this.pageWidth=k,(0,tOt.S6)(a,(function(t){var e=t.getBBox(),i=u||e.width;(m&&m<v.x+i+s||function(t,e){var n=t.getBBox(),r=u||n.width;return e.x+r+s+p.width>c}(t,v))&&(1===g&&(m=v.x+s,n.moveElementTo(d,{x:k,y:v.y+f/2-p.height/2-p.minY})),g+=1,v.x=r,v.y+=S),n.moveElementTo(t,v),t.getParent().setClip({type:"rect",attrs:{x:v.x,y:v.y,width:i+s,height:f}}),v.x+=i+s}))}else{(0,tOt.S6)(a,(function(t){var e=t.getBBox();e.width>y&&(y=e.width)})),b=y,y+=s,c&&(y=Math.min(c,y),b=Math.min(c,b)),this.pageWidth=y,this.pageHeight=l-Math.max(p.height,f+x);var C=Math.floor(this.pageHeight/(f+x));(0,tOt.S6)(a,(function(t,e){0!==e&&e%C==0&&(g+=1,v.x+=y,v.y=i),n.moveElementTo(t,v),t.getParent().setClip({type:"rect",attrs:{x:v.x,y:v.y,width:y,height:f}}),v.y+=f+x})),this.totalPagesCnt=g,this.moveElementTo(d,{x:r+b/2-p.width/2-p.minX,y:l-p.height-p.minY})}this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),"horizontal"===o&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(g/this.get("maxRow")):this.totalPagesCnt=g,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(d),e.attr("matrix",this.getCurrentNavigationMatrix())},e.prototype.drawNavigation=function(t,e,n,r){var i={x:0,y:0},o=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),a=(0,tOt.U2)(r.marker,"style",{}),c=a.size,l=void 0===c?12:c,u=(0,QCt._T)(a,["size"]),s=this.drawArrow(o,i,m_t,"horizontal"===e?"up":"left",l,u);s.on("click",this.onNavigationBack);var f=s.getBBox();i.x+=f.width+2;var h=this.addShape(o,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:(0,QCt.pi)({x:i.x,y:i.y+l/2,text:n,textBaseline:"middle"},(0,tOt.U2)(r.text,"style"))}).getBBox();return i.x+=h.width+2,this.drawArrow(o,i,g_t,"horizontal"===e?"down":"right",l,u).on("click",this.onNavigationAfter),o},e.prototype.updateNavigation=function(t){var e=(0,tOt.b$)({},p_t,this.get("pageNavigator")).marker.style,n=e.fill,r=e.opacity,i=e.inactiveFill,o=e.inactiveOpacity,a=this.currentPageIndex+"/"+this.totalPagesCnt,c=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),l=t?t.findById(this.getElementId(m_t)):this.getElementByLocalId(m_t),u=t?t.findById(this.getElementId(g_t)):this.getElementByLocalId(g_t);c.attr("text",a),l.attr("opacity",1===this.currentPageIndex?o:r),l.attr("fill",1===this.currentPageIndex?i:n),l.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),u.attr("opacity",this.currentPageIndex===this.totalPagesCnt?o:r),u.attr("fill",this.currentPageIndex===this.totalPagesCnt?i:n),u.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var s=l.getBBox().maxX+2;c.attr("x",s),s+=c.getBBox().width+2,this.updateArrowPath(u,{x:s,y:0})},e.prototype.drawArrow=function(t,e,n,r,i,o){var a=e.x,c=e.y,l=this.addShape(t,{type:"path",id:this.getElementId(n),name:n,attrs:(0,QCt.pi)({size:i,direction:r,path:[["M",a+i/2,c],["L",a,c+i],["L",a+i,c+i],["Z"]],cursor:"pointer"},o)});return l.attr("matrix",mAt({x:a+i/2,y:c+i/2},y_t[r])),l},e.prototype.updateArrowPath=function(t,e){var n=e.x,r=e.y,i=t.attr(),o=i.size,a=i.direction,c=mAt({x:n+o/2,y:r+o/2},y_t[a]);t.attr("path",[["M",n+o/2,r],["L",n,r+o],["L",n+o,r+o],["Z"]]),t.attr("matrix",c)},e.prototype.getCurrentNavigationMatrix=function(){var t=this,e=t.currentPageIndex,n=t.pageWidth,r=t.pageHeight;return yAt("horizontal"===this.get("layout")?{x:0,y:r*(1-e)}:{x:n*(1-e),y:0})},e.prototype.applyItemStates=function(t,e){if(this.getItemStates(t).length>0){var n=e.getChildren(),r=this.get("itemStates");(0,tOt.S6)(n,(function(e){var n=e.get("name").split("-")[2],i=xPt(t,n,r);i&&(e.attr(i),"marker"!==n||e.get("isStroke")&&e.get("isFill")||(e.get("isStroke")&&e.attr("fill",null),e.get("isFill")&&e.attr("stroke",null)))}))}},e.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),e=this.get("maxItemWidth");return e?t&&(e=t<=e?t:e):t&&(e=t),e},e}(d_t),x_t=b_t,w_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:qAt.textColor,textBaseline:"middle",fontFamily:qAt.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:qAt.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},e.prototype.isSlider=function(){return!0},e.prototype.getValue=function(){return this.getCurrentValue()},e.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},e.prototype.setRange=function(t,e){this.update({min:t,max:e})},e.prototype.setValue=function(t){var e=this.getValue();this.set("value",t);var n=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(n),this.delegateEmit("valuechanged",{originValue:e,value:t})},e.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},e.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},e.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},e.prototype.bindHandlersEvent=function(t){var e=this;t.on("legend-handler-min:drag",(function(t){var n=e.getValueByCanvasPoint(t.x,t.y),r=e.getCurrentValue()[1];r<n&&(r=n),e.setValue([n,r])})),t.on("legend-handler-max:drag",(function(t){var n=e.getValueByCanvasPoint(t.x,t.y),r=e.getCurrentValue()[0];r>n&&(r=n),e.setValue([r,n])}))},e.prototype.bindRailEvent=function(t){},e.prototype.bindTrackEvent=function(t){var e=this,n=null;t.on("legend-track:dragstart",(function(t){n={x:t.x,y:t.y}})),t.on("legend-track:drag",(function(t){if(n){var r=e.getValueByCanvasPoint(n.x,n.y),i=e.getValueByCanvasPoint(t.x,t.y),o=e.getCurrentValue(),a=o[1]-o[0],c=e.getRange(),l=i-r;l<0?o[0]+l>c.min?e.setValue([o[0]+l,o[1]+l]):e.setValue([c.min,c.min+a]):l>0&&(l>0&&o[1]+l<c.max?e.setValue([o[0]+l,o[1]+l]):e.setValue([c.max-a,c.max])),n={x:t.x,y:t.y}}})),t.on("legend-track:dragend",(function(t){n=null}))},e.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},e.prototype.drawLabel=function(t,e){var n=this.get("label"),r=n.style,i=n.align,o=n.formatter,a=this.get(t),c=this.getLabelAlignAttrs(t,i),l="label-"+t;this.addShape(e,{type:"text",id:this.getElementId(l),name:"legend-label-"+t,attrs:(0,QCt.pi)((0,QCt.pi)({x:0,y:0,text:(0,tOt.mf)(o)?o(a):a},r),c)})},e.prototype.getLabelAlignAttrs=function(t,e){var n="center",r="middle";return this.isVertical()?(n="start",r="rail"!==e?"min"===t?"top":"bottom":"top"):"rail"!==e?(r="top",n="min"===t?"start":"end"):(n="start",r="middle"),{textAlign:n,textBaseline:r}},e.prototype.getRailPath=function(t,e,n,r){var i=this.get("rail"),o=i.size,a=i.defaultLength,c=i.type,l=this.isVertical(),u=n,s=r;u||(u=l?o:a),s||(s=l?a:o);var f=[];return"color"===c?(f.push(["M",t,e]),f.push(["L",t+u,e]),f.push(["L",t+u,e+s]),f.push(["L",t,e+s]),f.push(["Z"])):(f.push(["M",t+u,e]),f.push(["L",t+u,e+s]),f.push(["L",t,e+s]),f.push(["Z"])),f},e.prototype.drawRail=function(t){var e=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,QCt.pi)({path:this.getRailPath(0,0)},e)})},e.prototype.getTrackColor=function(t){var e,n=t.length;if(!n)return null;if(1===n)return t[0];e=this.isVertical()?"l(90)":"l(0)";for(var r=0;r<n;r++){e+=" "+r/(n-1)+":"+t[r]}return e},e.prototype.getTrackPath=function(t){var e=this.getRailShape(t).attr("path");return(0,tOt.d9)(e)},e.prototype.getClipTrackAttrs=function(t){var e,n,r,i,o=this.getCurrentValue(),a=o[0],c=o[1],l=this.getRailBBox(t),u=this.getPointByValue(a,t),s=this.getPointByValue(c,t);return this.isVertical()?(e=l.minX,n=u.y,r=l.width,i=s.y-u.y):(e=u.x,n=l.minY,r=s.x-u.x,i=l.height),{x:e,y:n,width:r,height:i}},e.prototype.getTrackAttrs=function(t){var e=this.get("track"),n=this.get("colors"),r=this.getTrackPath(t);return(0,tOt.CD)({path:r,fill:this.getTrackColor(n)},e.style)},e.prototype.resetTrackClip=function(t){var e=t||this.get("group"),n=this.getElementId("track"),r=e.findById(n),i=r.getClip(),o=this.getClipTrackAttrs(t);i?i.attr(o):r.setClip({type:"rect",attrs:o})},e.prototype.resetTrack=function(t){var e=this.getElementId("track"),n=t.findById(e),r=this.getTrackAttrs(t);n?n.attr(r):this.addShape(t,{type:"path",id:e,draggable:this.get("slidable"),name:"legend-track",attrs:r})},e.prototype.getPointByValue=function(t,e){var n=this.getRange(),r=n.min,i=(t-r)/(n.max-r),o=this.getRailBBox(e),a={x:0,y:0};return this.isVertical()?(a.x=o.minX+o.width/2,a.y=EAt(o.minY,o.maxY,i)):(a.x=EAt(o.minX,o.maxX,i),a.y=o.minY+o.height/2),a},e.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},e.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},e.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},e.prototype.isVertical=function(){return"vertical"===this.get("layout")},e.prototype.getValueByCanvasPoint=function(t,e){var n=this.getRange(),r=n.min,i=n.max,o=this.getRailCanvasBBox(),a=this.isVertical(),c=this.get("step"),l=EAt(r,i,a?(e-o.minY)/o.height:(t-o.minX)/o.width);c&&(l=r+Math.round((l-r)/c)*c);return l>i&&(l=i),l<r&&(l=r),l},e.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var e=this.get("values");return e?[Math.max(Math.min.apply(Math,(0,QCt.pr)(e,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,(0,QCt.pr)(e,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},e.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),n=e[0],r=e[1];this.resetHandler(t,"min",n),this.resetHandler(t,"max",r)},e.prototype.getHandlerPath=function(t,e){var n=this.isVertical(),r=[],i=t.size,o=e.x,a=e.y,c=1.4*i,l=i/2,u=i/6;if(n){var s=o+.4*c;r.push(["M",o,a]),r.push(["L",s,a+l]),r.push(["L",o+c,a+l]),r.push(["L",o+c,a-l]),r.push(["L",s,a-l]),r.push(["Z"]),r.push(["M",s,a+u]),r.push(["L",o+c-2,a+u]),r.push(["M",s,a-u]),r.push(["L",o+c-2,a-u])}else{var f=a+.4*c;r.push(["M",o,a]),r.push(["L",o-l,f]),r.push(["L",o-l,a+c]),r.push(["L",o+l,a+c]),r.push(["L",o+l,f]),r.push(["Z"]),r.push(["M",o-u,f]),r.push(["L",o-u,a+c-2]),r.push(["M",o+u,f]),r.push(["L",o+u,a+c-2])}return r},e.prototype.resetHandler=function(t,e,n){var r=this.getPointByValue(n,t),i=this.get("handler"),o=this.getHandlerPath(i,r),a=this.getElementId("handler-"+e),c=t.findById(a),l=this.isVertical();c?c.attr("path",o):this.addShape(t,{type:"path",name:"legend-handler-"+e,draggable:!0,id:a,attrs:(0,QCt.pi)((0,QCt.pi)({path:o},i.style),{cursor:l?"ns-resize":"ew-resize"})})},e.prototype.fixedElements=function(t){var e=t.findById(this.getElementId("rail")),n=t.findById(this.getElementId("label-min")),r=t.findById(this.getElementId("label-max")),i=this.getDrawPoint();this.isVertical()?this.fixedVertail(n,r,e,i):this.fixedHorizontal(n,r,e,i)},e.prototype.fitRailLength=function(t,e,n,r){var i=this.isVertical()?"height":"width",o=this.get("label"),a=o.align,c=o.spacing,l=this.get("max"+(0,tOt.jC)(i));if(l){var u=("rail"===a?n[i]+t[i]+e[i]+2*c:n[i])-l;u>0&&this.changeRailLength(r,i,n[i]-u)}},e.prototype.changeRailLength=function(t,e,n){var r,i=t.getBBox();r="height"===e?this.getRailPath(i.x,i.y,i.width,n):this.getRailPath(i.x,i.y,n,i.height),t.attr("path",r)},e.prototype.changeRailPosition=function(t,e,n){var r=t.getBBox(),i=this.getRailPath(e,n,r.width,r.height);t.attr("path",i)},e.prototype.fixedHorizontal=function(t,e,n,r){var i=this.get("label"),o=i.align,a=i.spacing,c=n.getBBox(),l=t.getBBox(),u=e.getBBox(),s=c.height;this.fitRailLength(l,u,c,n),c=n.getBBox(),"rail"===o?(t.attr({x:r.x,y:r.y+s/2}),this.changeRailPosition(n,r.x+l.width+a,r.y),e.attr({x:r.x+l.width+c.width+2*a,y:r.y+s/2})):"top"===o?(t.attr({x:r.x,y:r.y}),e.attr({x:r.x+c.width,y:r.y}),this.changeRailPosition(n,r.x,r.y+l.height+a)):(this.changeRailPosition(n,r.x,r.y),t.attr({x:r.x,y:r.y+c.height+a}),e.attr({x:r.x+c.width,y:r.y+c.height+a}))},e.prototype.fixedVertail=function(t,e,n,r){var i=this.get("label"),o=i.align,a=i.spacing,c=n.getBBox(),l=t.getBBox(),u=e.getBBox();if(this.fitRailLength(l,u,c,n),c=n.getBBox(),"rail"===o)t.attr({x:r.x,y:r.y}),this.changeRailPosition(n,r.x,r.y+l.height+a),e.attr({x:r.x,y:r.y+l.height+c.height+2*a});else if("right"===o)t.attr({x:r.x+c.width+a,y:r.y}),this.changeRailPosition(n,r.x,r.y),e.attr({x:r.x+c.width+a,y:r.y+c.height});else{var s=Math.max(l.width,u.width);t.attr({x:r.x,y:r.y}),this.changeRailPosition(n,r.x+s+a,r.y),e.attr({x:r.x,y:r.y+c.height})}},e}(d_t),S_t=w_t,k_t="g2-tooltip",C_t="g2-tooltip-title",O_t="g2-tooltip-list",E_t="g2-tooltip-list-item",M_t="g2-tooltip-marker",A_t="g2-tooltip-value",P_t="g2-tooltip-name",__t="g2-tooltip-crosshair-x",D_t="g2-tooltip-crosshair-y",T_t=((c_t={})[""+k_t]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:qAt.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},c_t[""+C_t]={marginBottom:"4px"},c_t[""+O_t]={margin:"0px",listStyleType:"none",padding:"0px"},c_t[""+E_t]={listStyleType:"none",marginBottom:"4px"},c_t[""+M_t]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},c_t[""+A_t]={display:"inline-block",float:"right",marginLeft:"30px"},c_t[""+__t]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},c_t[""+D_t]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},c_t);var Z_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+k_t+'"><div class="'+C_t+'"></div><ul class="'+O_t+'"></ul></div>',itemTpl:'<li class="'+E_t+'" data-index={index}>\n          <span class="'+M_t+'" style="background:{color}"></span>\n          <span class="'+P_t+'">{name}</span>:\n          <span class="'+A_t+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+__t+'"></div>',yCrosshairTpl:'<div class="'+D_t+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:k_t,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:T_t})},e.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},e.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),mOt(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),mOt(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",n=this.get("xCrosshairDom"),r=this.get("yCrosshairDom");n&&mOt(n,{display:e}),r&&mOt(r,{display:e})},e.prototype.initContainer=function(){if(t.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var e=this.getHtmlContentNode();this.get("parent").appendChild(e),this.set("container",e),this.resetStyles(),this.applyStyles()}},e.prototype.updateInner=function(e){this.get("customContent")?this.renderCustomContent():(function(t,e){var n=!1;return(0,tOt.S6)(e,(function(e){if((0,tOt.wH)(t,e))return n=!0,!1})),n}(e,["title","showTitle"])&&this.resetTitle(),(0,tOt.wH)(e,"items")&&this.renderItems()),t.prototype.updateInner.call(this,e)},e.prototype.initDom=function(){this.cacheDoms()},e.prototype.removeDom=function(){t.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.resetPosition=function(){var t,e=this.get("x"),n=this.get("y"),r=this.get("offset"),i=this.getOffset(),o=i.offsetX,a=i.offsetY,c=this.get("position"),l=this.get("region"),u=this.getContainer(),s=this.getBBox(),f=s.width,h=s.height;l&&(t=CAt(l));var d=function(t,e,n,r,i,o,a){var c=function(t,e,n,r,i,o){var a=t,c=e;switch(o){case"left":a=t-r-n,c=e-i/2;break;case"right":a=t+n,c=e-i/2;break;case"top":a=t-r/2,c=e-i-n;break;case"bottom":a=t-r/2,c=e+n;break;default:a=t+n,c=e-i-n}return{x:a,y:c}}(t,e,n,r,i,o);if(a){var l=function(t,e,n,r,i){return{left:t<i.x,right:t+n>i.x+i.width,top:e<i.y,bottom:e+r>i.y+i.height}}(c.x,c.y,r,i,a);"auto"===o?(l.right&&(c.x=Math.max(0,t-r-n)),l.top&&(c.y=Math.max(0,e-i-n))):"top"===o||"bottom"===o?(l.left&&(c.x=a.x),l.right&&(c.x=a.x+a.width-r),"top"===o&&l.top&&(c.y=e+n),"bottom"===o&&l.bottom&&(c.y=e-i-n)):(l.top&&(c.y=a.y),l.bottom&&(c.y=a.y+a.height-i),"left"===o&&l.left&&(c.x=t+n),"right"===o&&l.right&&(c.x=t-r-n))}return c}(e,n,r,f,h,c,t);mOt(u,{left:_At(d.x+o),top:_At(d.y+a)}),this.resetCrosshairs()},e.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),n=this.get("container");n&&n.parentNode===e?e.replaceChild(t,n):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},e.prototype.getHtmlContentNode=function(){var t,e=this.get("customContent");if(e){var n=e(this.get("title"),this.get("items"));t=(0,tOt.kK)(n)?n:gOt(n)}return t},e.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(C_t)[0],n=t.getElementsByClassName(O_t)[0];this.set("titleDom",e),this.set("listDom",n)},e.prototype.resetTitle=function(){var t=this.get("title");this.get("showTitle")&&t?this.setTitle(t):this.setTitle("")},e.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},e.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),e=this.get("crosshairs");if(t&&e){var n=CAt(t),r=this.get("xCrosshairDom"),i=this.get("yCrosshairDom");"x"===e?(this.resetCrosshair("x",n),i&&(i.remove(),this.set("yCrosshairDom",null))):"y"===e?(this.resetCrosshair("y",n),r&&(r.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",n),this.resetCrosshair("y",n)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},e.prototype.resetCrosshair=function(t,e){var n=this.checkCrosshair(t),r=this.get(t);mOt(n,"x"===t?{left:_At(r),top:_At(e.y),height:_At(e.height)}:{top:_At(r),left:_At(e.x),width:_At(e.width)})},e.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",n=t+"CrosshairTpl",r="CROSSHAIR_"+t.toUpperCase(),i=M[r],o=this.get(e),a=this.get("parent");return o||(o=gOt(this.get(n)),this.applyStyle(i,o),a.appendChild(o),this.set(e,o)),o},e.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),e=this.get("itemTpl"),n=this.get("listDom");n&&((0,tOt.S6)(t,(function(t){var r=tEt.toCSSGradient(t.color),i=(0,QCt.pi)((0,QCt.pi)({},t),{color:r}),o=gOt((0,tOt.ng)(e,i));n.appendChild(o)})),this.applyChildrenStyles(n,this.get("domStyles")))},e.prototype.clearItemDoms=function(){this.get("listDom")&&kAt(this.get("listDom"))},e.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},e}(mPt),F_t=Z_t,j_t={opacity:0},I_t={stroke:"#C5C5C5",strokeOpacity:.85},R_t={fill:"#CACED4",opacity:.85},L_t=n(85687);function N_t(t){return function(t){return(0,tOt.UI)(t,(function(t,e){return[0===e?"M":"L",t[0],t[1]]}))}(t)}function B_t(t,e,n,r){void 0===r&&(r=!0);var i=new cMt({values:t}),o=new gEt({values:(0,tOt.UI)(t,(function(t,e){return e}))}),a=(0,tOt.UI)(t,(function(t,r){return[o.scale(r)*e,n-i.scale(t)*n]}));return r?function(t){if(t.length<=2)return N_t(t);var e=[];(0,tOt.S6)(t,(function(t){(0,tOt.Xy)(t,e.slice(e.length-2))||e.push(t[0],t[1])}));var n=(0,L_t.e9)(e,!1),r=(0,tOt.YM)(t),i=r[0],o=r[1];return n.unshift(["M",i,o]),n}(a):N_t(a)}function z_t(t,e,n,r){var i=(0,QCt.pr)(t),o=function(t,e){var n=new cMt({values:t}),r=n.max<0?n.max:Math.max(0,n.min);return e-n.scale(r)*e}(r,n);return i.push(["L",e,o]),i.push(["L",0,o]),i.push(["Z"]),i}var U_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:j_t,lineStyle:I_t,areaStyle:R_t})},e.prototype.renderInner=function(t){var e=this.cfg,n=e.width,r=e.height,i=e.data,o=e.smooth,a=e.isArea,c=e.backgroundStyle,l=e.lineStyle,u=e.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,QCt.pi)({x:0,y:0,width:n,height:r},c)});var s=B_t(i,n,r,o);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:(0,QCt.pi)({path:s},l)}),a){var f=z_t(s,n,r,i);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:(0,QCt.pi)({path:f},u)})}},e.prototype.applyOffset=function(){var t=this.cfg,e=t.x,n=t.y;this.moveElementTo(this.get("group"),{x:e,y:n})},e}(NAt),H_t={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},W_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"handler",x:0,y:0,width:10,height:24,style:H_t})},e.prototype.renderInner=function(t){var e=this.cfg,n=e.width,r=e.height,i=e.style,o=i.fill,a=i.stroke,c=i.radius,l=i.opacity,u=i.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:n,height:r,fill:o,stroke:a,radius:c,opacity:l,cursor:u}});var s=1/3*n,f=2/3*n,h=1/4*r,d=3/4*r;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:s,y1:h,x2:s,y2:d,stroke:a,cursor:u}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:f,y1:h,x2:f,y2:d,stroke:a,cursor:u}})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",(function(){var e=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",e),t.draw()})),this.get("group").on("mouseleave",(function(){var e=t.get("style").fill;t.getElementByLocalId("background").attr("fill",e),t.draw()}))},e.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},e}(NAt),V_t={fill:"#416180",opacity:.05},G_t={fill:"#5B8FF9",opacity:.15,cursor:"move"},X_t={width:10,height:24},q_t={textBaseline:"middle",fill:"#000",opacity:.45},Y_t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){return function(n){e.currentTarget=t;var r=n.originalEvent;r.stopPropagation(),r.preventDefault(),e.prevX=(0,tOt.U2)(r,"touches.0.pageX",r.pageX),e.prevY=(0,tOt.U2)(r,"touches.0.pageY",r.pageY);var i=e.getContainerDOM();i.addEventListener("mousemove",e.onMouseMove),i.addEventListener("mouseup",e.onMouseUp),i.addEventListener("mouseleave",e.onMouseUp),i.addEventListener("touchmove",e.onMouseMove),i.addEventListener("touchend",e.onMouseUp),i.addEventListener("touchcancel",e.onMouseUp)}},e.onMouseMove=function(t){var n=e.cfg.width,r=[e.get("start"),e.get("end")];t.stopPropagation(),t.preventDefault();var i=(0,tOt.U2)(t,"touches.0.pageX",t.pageX),o=(0,tOt.U2)(t,"touches.0.pageY",t.pageY),a=i-e.prevX,c=e.adjustOffsetRange(a/n);e.updateStartEnd(c),e.updateUI(e.getElementByLocalId("foreground"),e.getElementByLocalId("minText"),e.getElementByLocalId("maxText")),e.prevX=i,e.prevY=o,e.draw(),e.emit("sliderchange",[e.get("start"),e.get("end")].sort()),e.delegateEmit("valuechanged",{originValue:r,value:[e.get("start"),e.get("end")]})},e.onMouseUp=function(){e.currentTarget&&(e.currentTarget=void 0);var t=e.getContainerDOM();t&&(t.removeEventListener("mousemove",e.onMouseMove),t.removeEventListener("mouseup",e.onMouseUp),t.removeEventListener("mouseleave",e.onMouseUp),t.removeEventListener("touchmove",e.onMouseMove),t.removeEventListener("touchend",e.onMouseUp),t.removeEventListener("touchcancel",e.onMouseUp))},e}return(0,QCt.ZT)(e,t),e.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.get("start"),r=this.get("end"),i=(0,tOt.uZ)(n,t,e),o=(0,tOt.uZ)(r,t,e);this.get("isInit")||n===i&&r===o||this.setValue([i,o])},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var e=this.getRange();if((0,tOt.kJ)(t)&&2===t.length){var n=[this.get("start"),this.get("end")];this.update({start:(0,tOt.uZ)(t[0],e.min,e.max),end:(0,tOt.uZ)(t[1],e.min,e.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:n,value:t})}},e.prototype.getValue=function(){return[this.get("start"),this.get("end")]},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:V_t,foregroundStyle:G_t,handlerStyle:X_t,textStyle:q_t}})},e.prototype.update=function(e){var n=e.start,r=e.end,i=(0,QCt.pi)({},e);(0,tOt.UM)(n)||(i.start=(0,tOt.uZ)(n,0,1)),(0,tOt.UM)(r)||(i.end=(0,tOt.uZ)(r,0,1)),t.prototype.update.call(this,i),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},e.prototype.init=function(){this.set("start",(0,tOt.uZ)(this.get("start"),0,1)),this.set("end",(0,tOt.uZ)(this.get("end"),0,1)),t.prototype.init.call(this)},e.prototype.render=function(){t.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},e.prototype.renderInner=function(t){var e=this.cfg,n=(e.start,e.end,e.width),r=e.height,i=e.trendCfg,o=void 0===i?{}:i,a=e.minText,c=e.maxText,l=e.backgroundStyle,u=void 0===l?{}:l,s=e.foregroundStyle,f=void 0===s?{}:s,h=e.textStyle,d=void 0===h?{}:h,p=(0,tOt.b$)({},H_t,this.cfg.handlerStyle);(0,tOt.dp)((0,tOt.U2)(o,"data"))&&(this.trend=this.addComponent(t,(0,QCt.pi)({component:U_t,id:this.getElementId("trend"),x:0,y:0,width:n,height:r},o))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,QCt.pi)({x:0,y:0,width:n,height:r},u)});this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:(0,QCt.pi)({y:r/2,textAlign:"right",text:a,silent:!1},d)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:(0,QCt.pi)({y:r/2,textAlign:"left",text:c,silent:!1},d)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,QCt.pi)({y:0,height:r},f)});var v=(0,tOt.U2)(p,"width",10),g=(0,tOt.U2)(p,"height",24);this.minHandler=this.addComponent(t,{component:W_t,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(r-g)/2,width:v,height:g,cursor:"ew-resize",style:p}),this.maxHandler=this.addComponent(t,{component:W_t,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(r-g)/2,width:v,height:g,cursor:"ew-resize",style:p})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.updateUI=function(t,e,n){var r=this.cfg,i=r.start,o=r.end,a=r.width,c=r.minText,l=r.maxText,u=r.handlerStyle,s=r.height,f=i*a,h=o*a;this.trend&&(this.trend.update({width:a,height:s}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",f),t.attr("width",h-f);var d=(0,tOt.U2)(u,"width",10);e.attr("text",c),n.attr("text",l);var p=this._dodgeText([f,h],e,n),v=p[0],g=p[1];this.minHandler&&(this.minHandler.update({x:f-d/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,tOt.S6)(v,(function(t,n){return e.attr(n,t)})),this.maxHandler&&(this.maxHandler.update({x:h-d/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,tOt.S6)(g,(function(t,e){return n.attr(e,t)}))},e.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var e=t.findById(this.getElementId("foreground"));e.on("mousedown",this.onMouseDown("foreground")),e.on("touchstart",this.onMouseDown("foreground"))},e.prototype.adjustOffsetRange=function(t){var e=this.cfg,n=e.start,r=e.end;switch(this.currentTarget){case"minHandler":var i=0-n,o=1-n;return Math.min(o,Math.max(i,t));case"maxHandler":i=0-r,o=1-r;return Math.min(o,Math.max(i,t));case"foreground":i=0-n,o=1-r;return Math.min(o,Math.max(i,t))}},e.prototype.updateStartEnd=function(t){var e=this.cfg,n=e.start,r=e.end;switch(this.currentTarget){case"minHandler":n+=t;break;case"maxHandler":r+=t;break;case"foreground":n+=t,r+=t}this.set("start",n),this.set("end",r)},e.prototype._dodgeText=function(t,e,n){var r,i,o=this.cfg,a=o.handlerStyle,c=o.width,l=(0,tOt.U2)(a,"width",10),u=t[0],s=t[1],f=!1;u>s&&(u=(r=[s,u])[0],s=r[1],e=(i=[n,e])[0],n=i[1],f=!0);var h=e.getBBox(),d=n.getBBox(),p=h.width>u-2?{x:u+l/2+2,textAlign:"left"}:{x:u-l/2-2,textAlign:"right"},v=d.width>c-s-2?{x:s-l/2-2,textAlign:"right"}:{x:s+l/2+2,textAlign:"left"};return f?[v,p]:[p,v]},e.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},e.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},e}(NAt);function $_t(t,e,n){if(t){if("function"==typeof t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if("function"==typeof t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}var K_t={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},J_t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clearEvents=tOt.ZT,e.onStartEvent=function(t){return function(n){e.isMobile=t,n.originalEvent.preventDefault();var r=t?(0,tOt.U2)(n.originalEvent,"touches.0.clientX"):n.clientX,i=t?(0,tOt.U2)(n.originalEvent,"touches.0.clientY"):n.clientY;e.startPos=e.cfg.isHorizontal?r:i,e.bindLaterEvent()}},e.bindLaterEvent=function(){var t=e.getContainerDOM(),n=[];n=e.isMobile?[$_t(t,"touchmove",e.onMouseMove),$_t(t,"touchend",e.onMouseUp),$_t(t,"touchcancel",e.onMouseUp)]:[$_t(t,"mousemove",e.onMouseMove),$_t(t,"mouseup",e.onMouseUp),$_t(t,"mouseleave",e.onMouseUp)],e.clearEvents=function(){n.forEach((function(t){t.remove()}))}},e.onMouseMove=function(t){var n=e.cfg,r=n.isHorizontal,i=n.thumbOffset;t.preventDefault();var o=e.isMobile?(0,tOt.U2)(t,"touches.0.clientX"):t.clientX,a=e.isMobile?(0,tOt.U2)(t,"touches.0.clientY"):t.clientY,c=r?o:a,l=c-e.startPos;e.startPos=c,e.updateThumbOffset(i+l)},e.onMouseUp=function(t){t.preventDefault(),e.clearEvents()},e.onTrackClick=function(t){var n=e.cfg,r=n.isHorizontal,i=n.x,o=n.y,a=n.thumbLen,c=e.getContainerDOM().getBoundingClientRect(),l=t.clientX,u=t.clientY,s=r?l-c.left-i-a/2:u-c.top-o-a/2,f=e.validateRange(s);e.updateThumbOffset(f)},e.onThumbMouseOver=function(){var t=e.cfg.theme.hover.thumbColor;e.getElementByLocalId("thumb").attr("stroke",t),e.draw()},e.onThumbMouseOut=function(){var t=e.cfg.theme.default.thumbColor;e.getElementByLocalId("thumb").attr("stroke",t),e.draw()},e}return(0,QCt.ZT)(e,t),e.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.getValue(),r=(0,tOt.uZ)(n,t,e);n===r||this.get("isInit")||this.setValue(r)},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var e=this.getRange(),n=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,tOt.uZ)(t,e.min,e.max)}),this.delegateEmit("valuechange",{originalValue:n,value:this.getValue()})},e.prototype.getValue=function(){return(0,tOt.uZ)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:K_t})},e.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.renderTrackShape=function(t){var e=this.cfg,n=e.trackLen,r=e.theme,i=void 0===r?{default:{}}:r,o=(0,tOt.b$)({},K_t,i).default,a=o.lineCap,c=o.trackColor,l=o.size,u=(0,tOt.U2)(this.cfg,"size",l),s=this.get("isHorizontal")?{x1:0+u/2,y1:u/2,x2:n-u/2,y2:u/2,lineWidth:u,stroke:c,lineCap:a}:{x1:u/2,y1:0+u/2,x2:u/2,y2:n-u/2,lineWidth:u,stroke:c,lineCap:a};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:s})},e.prototype.renderThumbShape=function(t){var e=this.cfg,n=e.thumbOffset,r=e.thumbLen,i=e.theme,o=(0,tOt.b$)({},K_t,i).default,a=o.size,c=o.lineCap,l=o.thumbColor,u=(0,tOt.U2)(this.cfg,"size",a),s=this.get("isHorizontal")?{x1:n+u/2,y1:u/2,x2:n+r-u/2,y2:u/2,lineWidth:u,stroke:l,lineCap:c,cursor:"default"}:{x1:u/2,y1:n+u/2,x2:u/2,y2:n+r-u/2,lineWidth:u,stroke:l,lineCap:c,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:s})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick);var e=t.findById(this.getElementId("thumb"));e.on("mouseover",this.onThumbMouseOver),e.on("mouseout",this.onThumbMouseOut)},e.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},e.prototype.validateRange=function(t){var e=this.cfg,n=e.thumbLen,r=e.trackLen,i=t;return t+n>r?i=r-n:t+n<n&&(i=0),i},e.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},e.prototype.updateThumbOffset=function(t){var e=this.cfg,n=e.thumbOffset,r=e.isHorizontal,i=e.thumbLen,o=e.size,a=this.validateRange(t);if(a!==n){var c=this.getElementByLocalId("thumb");r?c.attr({x1:a+o/2,x2:a+i-o/2}):c.attr({y1:a+o/2,y2:a+i-o/2}),this.emitOffsetChange(a)}},e.prototype.emitOffsetChange=function(t){var e=this.cfg,n=e.thumbOffset,r=e.trackLen,i=e.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:(0,tOt.uZ)(t/(r-i),0,1)}),this.delegateEmit("valuechange",{originalValue:n,value:t})},e}(NAt),Q_t=WPt,tDt=GPt,eDt=f_t,nDt=u_t,rDt=x_t,iDt=S_t,oDt=F_t;function aDt(t){return 1===Array.from(new Set(t)).length}function cDt(t){return((0,tOt.VV)(t)+(0,tOt.Fp)(t))/2}function lDt(t,e,n,r){return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}}function uDt(t,e,n,r,i,o){void 0===o&&(o=0);var a=lDt(t,e,n,r),c=lDt(t,e,n,i),l=lDt(t,e,o,r),u=lDt(t,e,o,i);if(i-r==2*Math.PI){var s=lDt(t,e,n,r+Math.PI),f=lDt(t,e,o,r+Math.PI),h=[["M",a.x,a.y],["A",n,n,0,1,1,s.x,s.y],["A",n,n,0,1,1,c.x,c.y],["M",l.x,l.y]];return o&&(h.push(["A",o,o,0,1,0,f.x,f.y]),h.push(["A",o,o,0,1,0,u.x,u.y])),h.push(["M",a.x,a.y]),h.push(["Z"]),h}var d=i-r<=Math.PI?0:1,p=[["M",a.x,a.y],["A",n,n,0,d,1,c.x,c.y],["L",u.x,u.y]];return o&&p.push(["A",o,o,0,d,0,l.x,l.y]),p.push(["L",a.x,a.y]),p.push(["Z"]),p}function sDt(t,e,n,r,i){var o=lDt(t,e,n,r),a=lDt(t,e,n,i);if((0,tOt.vQ)(i-r,2*Math.PI)){var c=lDt(t,e,n,r+Math.PI);return[["M",o.x,o.y],["A",n,n,0,1,1,c.x,c.y],["A",n,n,0,1,1,o.x,o.y],["A",n,n,0,1,0,c.x,c.y],["A",n,n,0,1,0,o.x,o.y],["Z"]]}var l=i-r<=Math.PI?0:1;return[["M",o.x,o.y],["A",n,n,0,l,1,a.x,a.y]]}function fDt(t,e){var n,r,i=function(t){if((0,tOt.xb)(t))return null;var e=t[0].x,n=t[0].x,r=t[0].y,i=t[0].y;return(0,tOt.S6)(t,(function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,r=r>t.y?t.y:r,i=i<t.y?t.y:i})),{minX:e,maxX:n,minY:r,maxY:i,centerX:(e+n)/2,centerY:(r+i)/2}}(t.points),o=e.startAngle,a=e.endAngle-o;return e.isTransposed?(n=i.maxY*a,r=i.minY*a):(n=i.maxX*a,r=i.minX*a),{startAngle:r+=o,endAngle:n+=o}}function hDt(t,e){var n=t.attr(),r=e.attr();return(0,tOt.S6)(n,(function(t,e){void 0===r[e]&&(r[e]=void 0)})),r}function dDt(t,e,n){var r=Math.min(e,n),i=Math.max(e,n);return t>=r&&t<=i}function pDt(t,e){return"object"==typeof t&&e.forEach((function(e){delete t[e]})),t}function vDt(t,e,n){var r,i;void 0===e&&(e=[]),void 0===n&&(n=new Map);try{for(var o=(0,QCt.XA)(t),a=o.next();!a.done;a=o.next()){var c=a.value;n.has(c)||(e.push(c),n.set(c,!0))}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return e}var gDt=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=t,this.y=e,this.height=r,this.width=n}return t.fromRange=function(e,n,r,i){return new t(e,n,r-e,i-n)},t.fromObject=function(e){return new t(e.minX,e.minY,e.width,e.height)},Object.defineProperty(t.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.contains=function(t){return t.minX>=this.minX&&t.maxX<=this.maxX&&t.minY>=this.minY&&t.maxY<=this.maxY},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return(0,tOt.S6)(t,(function(t){n.x=Math.min(t.x,n.x),n.y=Math.min(t.y,n.y),n.width=Math.max(t.maxX,n.maxX)-n.x,n.height=Math.max(t.maxY,n.maxY)-n.y})),n},t.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return(0,tOt.S6)(t,(function(t){n.x=Math.max(t.x,n.x),n.y=Math.max(t.y,n.y),n.width=Math.min(t.maxX,n.maxX)-n.x,n.height=Math.min(t.maxY,n.maxY)-n.y})),n},t.prototype.cut=function(e,n){var r=e.width,i=e.height;switch(n){case $Ct.TOP:case $Ct.TOP_LEFT:case $Ct.TOP_RIGHT:return t.fromRange(this.minX,this.minY+i,this.maxX,this.maxY);case $Ct.RIGHT:case $Ct.RIGHT_TOP:case $Ct.RIGHT_BOTTOM:return t.fromRange(this.minX,this.minY,this.maxX-r,this.maxY);case $Ct.BOTTOM:case $Ct.BOTTOM_LEFT:case $Ct.BOTTOM_RIGHT:return t.fromRange(this.minX,this.minY,this.maxX,this.maxY-i);case $Ct.LEFT:case $Ct.LEFT_TOP:case $Ct.LEFT_BOTTOM:return t.fromRange(this.minX+r,this.minY,this.maxX,this.maxY);default:return this}},t.prototype.shrink=function(e){var n=(0,QCt.CR)(e,4),r=n[0],i=n[1],o=n[2],a=n[3];return new t(this.x+a,this.y+r,this.width-a-i,this.height-r-o)},t.prototype.expand=function(e){var n=(0,QCt.CR)(e,4),r=n[0],i=n[1],o=n[2],a=n[3];return new t(this.x-a,this.y-r,this.width+a+i,this.height+r+o)},t.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},t.prototype.collide=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.size=function(){return this.width*this.height},t.prototype.isPointIn=function(t){return t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY},t}();function mDt(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),n=t.convert({x:1,y:0});return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function yDt(t,e){var n=t.getCenter();return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function bDt(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)}function xDt(t,e){void 0===e&&(e=0);var n,r=t.start,i=t.end,o=t.getWidth(),a=t.getHeight();if(t.isPolar){var c=t.startAngle,l=t.endAngle,u=t.getCenter(),s=t.getRadius();return{type:"path",startState:{path:uDt(u.x,u.y,s+e,c,c)},endState:function(t){var n=(l-c)*t+c;return{path:uDt(u.x,u.y,s+e,c,n)}},attrs:{path:uDt(u.x,u.y,s+e,c,l)}}}return n=t.isTransposed?{height:a+2*e}:{width:o+2*e},{type:"rect",startState:{x:r.x-e,y:i.y-e,width:t.isTransposed?o+2*e:0,height:t.isTransposed?0:a+2*e},endState:n,attrs:{x:r.x-e,y:i.y-e,width:o+2*e,height:a+2*e}}}var wDt=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function SDt(t,e,n,r){return void 0===e&&(e={}),e.type?e.type:"identity"!==t.type&&hOt.includes(n)&&["interval"].includes(r)||t.isCategory?"cat":t.type}function kDt(t,e,n){var r=e||[];if((0,tOt.hj)(t)||(0,tOt.UM)((0,tOt.Wx)(r,t))&&(0,tOt.xb)(n))return new(SMt("identity"))({field:t.toString(),values:[t]});var i=(0,tOt.I)(r,t),o=(0,tOt.U2)(n,"type",function(t){var e="linear";return wDt.test(t)?e="timeCat":(0,tOt.HD)(t)&&(e="cat"),e}(i[0]));return new(SMt(o))((0,QCt.pi)({field:t,values:i},n))}function CDt(t){return t.alias||t.field}function ODt(t,e,n){var r,i=t.values.length;if(1===i)r=[.5,1];else{var o=0;r=function(t){if(t.isPolar){var e=t.startAngle;return t.endAngle-e==2*Math.PI}return!1}(e)?e.isTransposed?[(o=1/i*(0,tOt.U2)(n,"widthRatio.multiplePie",1/1.3))/2,1-o/2]:[0,1-1/i]:[o=1/i/2,1-o]}return r}function EDt(t){var e=t.values.filter((function(t){return!(0,tOt.UM)(t)&&!isNaN(t)}));return Math.max.apply(Math,(0,QCt.ev)((0,QCt.ev)([],(0,QCt.CR)(e),!1),[(0,tOt.UM)(t.max)?-1/0:t.max],!1))}function MDt(t,e){var n={start:{x:0,y:0},end:{x:0,y:0}};t.isRect?n=function(t){var e,n;switch(t){case $Ct.TOP:e={x:0,y:1},n={x:1,y:1};break;case $Ct.RIGHT:e={x:1,y:0},n={x:1,y:1};break;case $Ct.BOTTOM:e={x:0,y:0},n={x:1,y:0};break;case $Ct.LEFT:e={x:0,y:0},n={x:0,y:1};break;default:e=n={x:0,y:0}}return{start:e,end:n}}(e):t.isPolar&&(n=function(t){var e,n;return t.isTransposed?(e={x:0,y:0},n={x:1,y:0}):(e={x:0,y:0},n={x:0,y:1}),{start:e,end:n}}(t));var r=n.start,i=n.end;return{start:t.convert(r),end:t.convert(i)}}function ADt(t){var e=t.start,n=t.end;return e.x===n.x}function PDt(t,e){var n=t.start,r=t.end;return ADt(t)?(n.y-r.y)*(e.x-n.x)>0?1:-1:(r.x-n.x)*(n.y-e.y)>0?-1:1}function _Dt(t,e){var n=(0,tOt.U2)(t,["components","axis"],{});return(0,tOt.b$)({},(0,tOt.U2)(n,["common"],{}),(0,tOt.b$)({},(0,tOt.U2)(n,[e],{})))}function DDt(t,e,n){var r=(0,tOt.U2)(t,["components","axis"],{});return(0,tOt.b$)({},(0,tOt.U2)(r,["common","title"],{}),(0,tOt.b$)({},(0,tOt.U2)(r,[e,"title"],{})),n)}function TDt(t){var e=t.x,n=t.y,r=t.circleCenter,i=n.start>n.end,o=t.isTransposed?t.convert({x:i?0:1,y:0}):t.convert({x:0,y:i?0:1}),a=[o.x-r.x,o.y-r.y],c=[1,0],l=o.y>r.y?lAt.EU(a,c):-1*lAt.EU(a,c),u=l+(e.end-e.start);return{center:r,radius:Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),startAngle:l,endAngle:u}}function ZDt(t,e){return(0,tOt.jn)(t)?!1!==t&&{}:(0,tOt.U2)(t,[e])}function FDt(t,e){return(0,tOt.U2)(t,"position",e)}function jDt(t,e){return(0,tOt.U2)(e,["title","text"],CDt(t))}var IDt=function(){function t(t,e){this.destroyed=!1,this.facets=[],this.view=t,this.cfg=(0,tOt.b$)({},this.getDefaultCfg(),e)}return t.prototype.init=function(){this.container||(this.container=this.createContainer());var t=this.view.getData();this.facets=this.generateFacets(t)},t.prototype.render=function(){this.renderViews()},t.prototype.update=function(){},t.prototype.clear=function(){this.clearFacetViews()},t.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},t.prototype.facetToView=function(t){var e=t.region,n=t.data,r=t.padding,i=void 0===r?this.cfg.padding:r,o=this.view.createView({region:e,padding:i});o.data(n||[]),t.view=o,this.beforeEachView(o,t);var a=this.cfg.eachView;return a&&a(o,t),this.afterEachView(o,t),o},t.prototype.createContainer=function(){return this.view.getLayer(YCt.FORE).addGroup()},t.prototype.renderViews=function(){this.createFacetViews()},t.prototype.createFacetViews=function(){var t=this;return this.facets.map((function(e){return t.facetToView(e)}))},t.prototype.clearFacetViews=function(){var t=this;(0,tOt.S6)(this.facets,(function(e){e.view&&(t.view.removeView(e.view),e.view=void 0)}))},t.prototype.parseSpacing=function(){var t=this.view.viewBBox,e=t.width,n=t.height;return this.cfg.spacing.map((function(t,r){return(0,tOt.hj)(t)?t/(0===r?e:n):parseFloat(t)/100}))},t.prototype.getFieldValues=function(t,e){var n=[],r={};return(0,tOt.S6)(t,(function(t){var i=t[e];(0,tOt.UM)(i)||r[i]||(n.push(i),r[i]=!0)})),n},t.prototype.getRegion=function(t,e,n,r){var i=(0,QCt.CR)(this.parseSpacing(),2),o=i[0],a=i[1],c=(1+o)/(0===e?1:e)-o,l=(1+a)/(0===t?1:t)-a,u={x:(c+o)*n,y:(l+a)*r};return{start:u,end:{x:u.x+c,y:u.y+l}}},t.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},t.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},t.prototype.processAxis=function(t,e){var n=t.getOptions(),r=n.coordinate,i=t.geometries;if("rect"===(0,tOt.U2)(r,"type","rect")&&i.length){(0,tOt.UM)(n.axes)&&(n.axes={});var o=n.axes,a=(0,QCt.CR)(i[0].getXYFields(),2),c=a[0],l=a[1],u=ZDt(o,c),s=ZDt(o,l);!1!==u&&(n.axes[c]=this.getXAxisOption(c,o,u,e)),!1!==s&&(n.axes[l]=this.getYAxisOption(l,o,s,e))}},t.prototype.getFacetDataFilter=function(t){return function(e){return(0,tOt.yW)(t,(function(t){var n=t.field,r=t.value;return!(!(0,tOt.UM)(r)&&n)||e[n]===r}))}},t}(),RDt={},LDt=function(t,e){RDt[(0,tOt.vl)(t)]=e},NDt=function(){function t(t,e){this.context=t,this.cfg=e,t.addAction(this)}return t.prototype.applyCfg=function(t){(0,tOt.f0)(this,t)},t.prototype.init=function(){this.applyCfg(this.cfg)},t.prototype.destroy=function(){this.context.removeAction(this),this.context=null},t}(),BDt=NDt,zDt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.callback=null},e}(BDt),UDt=zDt,HDt={};function WDt(t){var e=HDt[t];return(0,tOt.U2)(e,"ActionClass")}function VDt(t,e,n){HDt[t]={ActionClass:e,cfg:n}}function GDt(t,e){var n=new UDt(e);return n.callback=t,n.name="callback",n}function XDt(t,e){for(var n=[t[0]],r=1,i=t.length;r<i;r+=2){var o=e.convert({x:t[r],y:t[r+1]});n.push(o.x,o.y)}return n}function qDt(t,e){var n=e.isTransposed,r=t[1],i=t[6],o=t[7],a=e.convert({x:i,y:o});return["A",r,r,0,0,n?0:1,a.x,a.y]}var YDt=function(t,e,n,r){var i,o,a,c,l,u,s,f,h=[],d=!!r;if(d){c=(i=(0,QCt.CR)(r,2))[0],l=i[1];for(var p=0,v=t.length;p<v;p++){var g=t[p];c=lAt.VV([0,0],c,g),l=lAt.Fp([0,0],l,g)}}p=0;for(var m=t.length;p<m;p++){g=t[p];if(0!==p||n)if(p!==m-1||n){o=t[n?p?p-1:m-1:p-1],a=t[n?(p+1)%m:p+1];var y=[0,0];y=lAt.lu(y,a,o),y=lAt.bA(y,y,e);var b=lAt.TE(g,o),x=lAt.TE(g,a),w=b+x;0!==w&&(b/=w,x/=w);var S=lAt.bA([0,0],y,-b),k=lAt.bA([0,0],y,x);s=lAt.IH([0,0],g,S),u=lAt.IH([0,0],g,k),u=lAt.VV([0,0],u,lAt.Fp([0,0],a,g)),u=lAt.Fp([0,0],u,lAt.VV([0,0],a,g)),S=lAt.lu([0,0],u,g),S=lAt.bA([0,0],S,-b/x),s=lAt.IH([0,0],g,S),s=lAt.VV([0,0],s,lAt.Fp([0,0],o,g)),s=lAt.Fp([0,0],s,lAt.VV([0,0],o,g)),k=lAt.lu([0,0],g,s),k=lAt.bA([0,0],k,x/b),u=lAt.IH([0,0],g,k),d&&(s=lAt.Fp([0,0],s,c),s=lAt.VV([0,0],s,l),u=lAt.Fp([0,0],u,c),u=lAt.VV([0,0],u,l)),h.push(f),h.push(s),f=u}else s=g,h.push(f),h.push(s);else f=g}return n&&h.push(h.shift()),h};function $Dt(t,e,n){for(var r=!!e,i=[],o=0,a=t.length;o<a;o+=2)i.push([t[o],t[o+1]]);var c,l,u,s=YDt(i,.4,r,n),f=i.length,h=[];for(o=0;o<f-1;o++)c=s[2*o],l=s[2*o+1],u=i[o+1],h.push(["C",c[0],c[1],l[0],l[1],u[0],u[1]]);return r&&(c=s[f],l=s[f+1],u=i[0],h.push(["C",c[0],c[1],l[0],l[1],u[0],u[1]])),h}function KDt(t,e){return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var r=1,i=t.length;r<i;r+=1){var o=t[r];n.push(["L",o.x,o.y])}e&&n.push(["Z"])}return n}(t,e)}function JDt(t,e,n){var r=[],i=t[0],o=null;if(t.length<=2)return KDt(t,e);for(var a=0,c=t.length;a<c;a++){var l=t[a];o&&o.x===l.x&&o.y===l.y||(r.push(l.x),r.push(l.y),o=l)}var u=$Dt(r,e,n||[[0,0],[1,1]]);return u.unshift(["M",i.x,i.y]),u}function QDt(t,e){var n,r,i,o=[];return(0,tOt.S6)(e,(function(a,c){switch(a[0].toLowerCase()){case"m":case"c":case"q":o.push(XDt(a,t));break;case"l":n=e[c-1],r=a,i=t.isTransposed,(i?n[n.length-2]===r[1]:n[n.length-1]===r[2])?o=o.concat(function(t,e,n){var r=n.isTransposed,i=n.startAngle,o=n.endAngle,a="a"===t[0].toLowerCase()?{x:t[6],y:t[7]}:{x:t[1],y:t[2]},c={x:e[1],y:e[2]},l=[],u=r?"y":"x",s=Math.abs(c[u]-a[u])*(o-i),f=c[u]>=a[u]?1:0,h=s>Math.PI?1:0,d=n.convert(c),p=yDt(n,d);if(p>=.5)if(s===2*Math.PI){var v={x:(c.x+a.x)/2,y:(c.y+a.y)/2},g=n.convert(v);l.push(["A",p,p,0,h,f,g.x,g.y]),l.push(["A",p,p,0,h,f,d.x,d.y])}else l.push(["A",p,p,0,h,f,d.x,d.y]);return l}(n,r,t)):o.push(XDt(a,t));break;case"a":o.push(qDt(a,t));break;default:o.push(a)}})),function(t){(0,tOt.S6)(t,(function(e,n){if("a"===e[0].toLowerCase()){var r=t[n-1],i=t[n+1];i&&"a"===i[0].toLowerCase()?r&&"l"===r[0].toLowerCase()&&(r[0]="M"):r&&"a"===r[0].toLowerCase()&&i&&"l"===i[0].toLowerCase()&&(i[0]="M")}}))}(o),o}function tTt(t,e){return nTt(t.event.target,e)}function eTt(t,e){var n=t.getCanvasBBox(),r=n.width,i=n.height;return r>0&&i>0&&(r>=e||i>=e)}function nTt(t,e){var n=t.getCanvasBBox();return eTt(t,e)?n:null}function rTt(t,e){return t.event.maskShapes.map((function(t){return nTt(t,e)})).filter((function(t){return!!t}))}function iTt(t,e){return eTt(t,e)?t.attr("path"):null}function oTt(t){var e,n=t.event.target;return n&&(e=n.get("element")),e}function aTt(t){var e,n=t.event.target;return n&&(e=n.get("delegateObject")),e}function cTt(t){var e=t.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function lTt(t){return t&&t.component&&t.component.isList()}function uTt(t){return t&&t.component&&t.component.isSlider()}function sTt(t){var e=t.event.target;return e&&"mask"===(null==e?void 0:e.get("name"))||fTt(t)}function fTt(t){var e;return"multi-mask"===(null===(e=t.event.target)||void 0===e?void 0:e.get("name"))}function hTt(t,e){var n=t.event.target;if(fTt(t))return function(t,e){var n=t.event.target;if("path"===n.get("type")){var r=function(t,e){return t.event.maskShapes.map((function(t){return iTt(t,e)}))}(t,e);return r.length>0?r.flatMap((function(e){return xTt(t.view,e)})):null}var i=rTt(t,e);if(i.length>0)return i.flatMap((function(e){return yTt(t.view,e)}));return null}(t,e);if("path"===n.get("type")){var r=function(t,e){return iTt(t.event.target,e)}(t,e);if(!r)return;return xTt(t.view,r)}var i=tTt(t,e);return i?yTt(t.view,i):null}function dTt(t,e,n){if(fTt(t))return function(t,e,n){var r=rTt(t,n);if(r.length>0)return r.flatMap((function(n){return pTt(n,t,e)}));return null}(t,e,n);var r=tTt(t,n);return r?pTt(r,t,e):null}function pTt(t,e,n){var r=e.view,i=OTt(r,n,{x:t.x,y:t.y}),o=OTt(r,n,{x:t.maxX,y:t.maxY});return yTt(n,{minX:i.x,minY:i.y,maxX:o.x,maxY:o.y})}function vTt(t){var e=t.geometries,n=[];return(0,tOt.S6)(e,(function(t){var e=t.elements;n=n.concat(e)})),t.views&&t.views.length&&(0,tOt.S6)(t.views,(function(t){n=n.concat(vTt(t))})),n}function gTt(t,e){var n=t.geometries,r=[];return(0,tOt.S6)(n,(function(t){var n=t.getElementsBy((function(t){return t.hasState(e)}));r=r.concat(n)})),r}function mTt(t,e){var n=t.getModel().data;return(0,tOt.kJ)(n)?n[0][e]:n[e]}function yTt(t,e){var n=vTt(t),r=[];return(0,tOt.S6)(n,(function(t){var n,i,o=t.shape.getCanvasBBox();n=e,(i=o).minX>n.maxX||i.maxX<n.minX||i.minY>n.maxY||i.maxY<n.minY||r.push(t)})),r}function bTt(t){var e=[];return(0,tOt.S6)(t,(function(t){if("A"!==t[0])for(var n=1;n<t.length;n+=2)e.push([t[n],t[n+1]]);else{var r=t.length;e.push([t[r-2],t[r-1]])}})),e}function xTt(t,e){var n=vTt(t),r=bTt(e),i=n.filter((function(t){var e,n,i=t.shape;if("path"===i.get("type"))e=bTt(i.attr("path"));else{var o=i.getCanvasBBox();e=[[(n=o).minX,n.minY],[n.maxX,n.minY],[n.maxX,n.maxY],[n.minX,n.maxY]]}return(0,L_t.Wq)(r,e)}));return i}function wTt(t){return t.getComponents().map((function(t){return t.component}))}function STt(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function kTt(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y}function CTt(t){var e=t.parent,n=null;return e&&(n=e.views.filter((function(e){return e!==t}))),n}function OTt(t,e,n){var r=function(t,e){return t.getCoordinate().invert(e)}(t,n);return e.getCoordinate().convert(r)}function ETt(t,e,n,r){var i=!1;return(0,tOt.S6)(t,(function(t){if(t[n]===e[n]&&t[r]===e[r])return i=!0,!1})),i}function MTt(t,e){var n=t.getScaleByField(e);return!n&&t.views&&(0,tOt.S6)(t.views,(function(t){if(n=MTt(t,e))return!1})),n}var ATt=function(){function t(t){this.actions=[],this.event=null,this.cacheMap={},this.view=t}return t.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return this.cacheMap[t[0]];2===t.length&&(this.cacheMap[t[0]]=t[1])},t.prototype.getAction=function(t){return this.actions.find((function(e){return e.name===t}))},t.prototype.addAction=function(t){this.actions.push(t)},t.prototype.removeAction=function(t){var e=this.actions,n=this.actions.indexOf(t);n>=0&&e.splice(n,1)},t.prototype.getCurrentPoint=function(){var t=this.event;return t?t.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(t.clientX,t.clientY):{x:t.x,y:t.y}:null},t.prototype.getCurrentShape=function(){return(0,tOt.U2)(this.event,["gEvent","shape"])},t.prototype.isInPlot=function(){var t=this.getCurrentPoint();return!!t&&this.view.isPointInPlot(t)},t.prototype.isInShape=function(t){var e=this.getCurrentShape();return!!e&&e.get("name")===t},t.prototype.isInComponent=function(t){var e=wTt(this.view),n=this.getCurrentPoint();return!!n&&!!e.find((function(e){var r=e.getBBox();return t?e.get("name")===t&&kTt(r,n):kTt(r,n)}))},t.prototype.destroy=function(){(0,tOt.S6)(this.actions.slice(),(function(t){t.destroy()})),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},t}(),PTt=ATt,_Tt=function(){function t(t,e){this.view=t,this.cfg=e}return t.prototype.init=function(){this.initEvents()},t.prototype.initEvents=function(){},t.prototype.clearEvents=function(){},t.prototype.destroy=function(){this.clearEvents()},t}();function DTt(t,e,n){var r=t.split(":"),i=r[0],o=e.getAction(i)||function(t,e){var n=HDt[t],r=null;return n&&((r=new(0,n.ActionClass)(e,n.cfg)).name=t,r.init()),r}(i,e);if(!o)throw new Error("There is no action named ".concat(i));return{action:o,methodName:r[1],arg:n}}function TTt(t){var e=t.action,n=t.methodName,r=t.arg;if(!e[n])throw new Error("Action(".concat(e.name,") doesn't have a method called ").concat(n));e[n](r)}var ZTt="start",FTt="showEnable",jTt="end",ITt="rollback",RTt="processing",LTt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.callbackCaches={},r.emitCaches={},r.steps=n,r}return(0,QCt.ZT)(e,t),e.prototype.init=function(){this.initContext(),t.prototype.init.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var t=this;(0,tOt.S6)(this.steps,(function(e,n){(0,tOt.S6)(e,(function(e){var r=t.getActionCallback(n,e);r&&t.bindEvent(e.trigger,r)}))}))},e.prototype.clearEvents=function(){var t=this;(0,tOt.S6)(this.steps,(function(e,n){(0,tOt.S6)(e,(function(e){var r=t.getActionCallback(n,e);r&&t.offEvent(e.trigger,r)}))}))},e.prototype.initContext=function(){var t=this.view,e=new PTt(t);this.context=e;var n=this.steps;(0,tOt.S6)(n,(function(t){(0,tOt.S6)(t,(function(t){if((0,tOt.mf)(t.action))t.actionObject={action:GDt(t.action,e),methodName:"execute"};else if((0,tOt.HD)(t.action))t.actionObject=DTt(t.action,e,t.arg);else if((0,tOt.kJ)(t.action)){var n=t.action,r=(0,tOt.kJ)(t.arg)?t.arg:[t.arg];t.actionObject=[],(0,tOt.S6)(n,(function(n,i){t.actionObject.push(DTt(n,e,r[i]))}))}}))}))},e.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t)return!0;if(t===FTt)return!0;if(t===RTt)return e===ZTt;if(t===ZTt)return e!==RTt;if(t===jTt)return e===RTt||e===ZTt;if(t===ITt){if(n[jTt])return e===jTt;if(e===ZTt)return!0}return!1},e.prototype.isAllowExecute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return(!e.once||!this.emitCaches[n])&&(!e.isEnable||e.isEnable(this.context))}return!1},e.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},e.prototype.afterExecute=function(t,e){t!==FTt&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},e.prototype.getKey=function(t,e){return t+e.trigger+e.action},e.prototype.getActionCallback=function(t,e){var n=this,r=this.context,i=this.callbackCaches,o=e.actionObject;if(e.action&&o){var a=this.getKey(t,e);if(!i[a]){var c=function(i){r.event=i,n.isAllowExecute(t,e)?((0,tOt.kJ)(o)?(0,tOt.S6)(o,(function(t){r.event=i,TTt(t)})):(r.event=i,TTt(o)),n.afterExecute(t,e),e.callback&&(r.event=i,e.callback(r))):r.event=null};e.debounce?i[a]=(0,tOt.Ds)(c,e.debounce.wait,e.debounce.immediate):e.throttle?i[a]=(0,tOt.P2)(c,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):i[a]=c}return i[a]}return null},e.prototype.bindEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.addEventListener(n[1],e):"document"===n[0]?document.addEventListener(n[1],e):this.view.on(t,e)},e.prototype.offEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.removeEventListener(n[1],e):"document"===n[0]?document.removeEventListener(n[1],e):this.view.off(t,e)},e}(_Tt),NTt=LTt,BTt={};function zTt(t,e){BTt[(0,tOt.vl)(t)]=e}function UTt(t,e,n){var r=function(t){return BTt[(0,tOt.vl)(t)]}(t);if(!r)return null;if((0,tOt.PO)(r)){var i=(0,tOt.CD)((0,tOt.d9)(r),n);return new NTt(e,i)}return new r(e,n)}function HTt(t){var e,n={point:{default:{fill:t.pointFillColor,r:t.pointSize,stroke:t.pointBorderColor,lineWidth:t.pointBorder,fillOpacity:t.pointFillOpacity},active:{stroke:t.pointActiveBorderColor,lineWidth:t.pointActiveBorder},selected:{stroke:t.pointSelectedBorderColor,lineWidth:t.pointSelectedBorder},inactive:{fillOpacity:t.pointInactiveFillOpacity,strokeOpacity:t.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:t.hollowPointFillColor,lineWidth:t.hollowPointBorder,stroke:t.hollowPointBorderColor,strokeOpacity:t.hollowPointBorderOpacity,r:t.hollowPointSize},active:{stroke:t.hollowPointActiveBorderColor,strokeOpacity:t.hollowPointActiveBorderOpacity},selected:{lineWidth:t.hollowPointSelectedBorder,stroke:t.hollowPointSelectedBorderColor,strokeOpacity:t.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:t.hollowPointInactiveBorderOpacity}},area:{default:{fill:t.areaFillColor,fillOpacity:t.areaFillOpacity,stroke:null},active:{fillOpacity:t.areaActiveFillOpacity},selected:{fillOpacity:t.areaSelectedFillOpacity},inactive:{fillOpacity:t.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:t.hollowAreaBorderColor,lineWidth:t.hollowAreaBorder,strokeOpacity:t.hollowAreaBorderOpacity},active:{fill:null,lineWidth:t.hollowAreaActiveBorder},selected:{fill:null,lineWidth:t.hollowAreaSelectedBorder},inactive:{strokeOpacity:t.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:t.intervalFillColor,fillOpacity:t.intervalFillOpacity},active:{stroke:t.intervalActiveBorderColor,lineWidth:t.intervalActiveBorder},selected:{stroke:t.intervalSelectedBorderColor,lineWidth:t.intervalSelectedBorder},inactive:{fillOpacity:t.intervalInactiveFillOpacity,strokeOpacity:t.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:t.hollowIntervalFillColor,stroke:t.hollowIntervalBorderColor,lineWidth:t.hollowIntervalBorder,strokeOpacity:t.hollowIntervalBorderOpacity},active:{stroke:t.hollowIntervalActiveBorderColor,lineWidth:t.hollowIntervalActiveBorder,strokeOpacity:t.hollowIntervalActiveBorderOpacity},selected:{stroke:t.hollowIntervalSelectedBorderColor,lineWidth:t.hollowIntervalSelectedBorder,strokeOpacity:t.hollowIntervalSelectedBorderOpacity},inactive:{stroke:t.hollowIntervalInactiveBorderColor,lineWidth:t.hollowIntervalInactiveBorder,strokeOpacity:t.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:t.lineBorderColor,lineWidth:t.lineBorder,strokeOpacity:t.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:t.lineActiveBorder},selected:{lineWidth:t.lineSelectedBorder},inactive:{strokeOpacity:t.lineInactiveBorderOpacity}}},r=function(t){return{title:{autoRotate:!0,position:"center",spacing:t.axisTitleSpacing,style:{fill:t.axisTitleTextFillColor,fontSize:t.axisTitleTextFontSize,lineHeight:t.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily},iconStyle:{fill:t.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:t.axisLabelOffset,style:{fill:t.axisLabelFillColor,fontSize:t.axisLabelFontSize,lineHeight:t.axisLabelLineHeight,fontFamily:t.fontFamily}},line:{style:{lineWidth:t.axisLineBorder,stroke:t.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:t.axisGridBorderColor,lineWidth:t.axisGridBorder,lineDash:t.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:t.axisTickLineBorder,stroke:t.axisTickLineBorderColor},alignTick:!0,length:t.axisTickLineLength},subTickLine:null,animate:!0}}(t),i=function(t){return{title:null,marker:{symbol:"circle",spacing:t.legendMarkerSpacing,style:{r:t.legendCircleMarkerSize,fill:t.legendMarkerColor}},itemName:{spacing:5,style:{fill:t.legendItemNameFillColor,fontFamily:t.fontFamily,fontSize:t.legendItemNameFontSize,lineHeight:t.legendItemNameLineHeight,fontWeight:t.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:t.legendPageNavigatorMarkerSize,inactiveFill:t.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:t.legendPageNavigatorMarkerInactiveFillOpacity,fill:t.legendPageNavigatorMarkerFillColor,opacity:t.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:t.legendPageNavigatorTextFillColor,fontSize:t.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:t.legendItemSpacing,itemMarginBottom:t.legendItemMarginBottom,padding:t.legendPadding}}(t);return{background:t.backgroundColor,defaultColor:t.brandColor,subColor:t.subColor,semanticRed:t.paletteSemanticRed,semanticGreen:t.paletteSemanticGreen,padding:"auto",fontFamily:t.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:t.paletteQualitative10,colors20:t.paletteQualitative20,sequenceColors:t.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:function(t){var e=t.geometry.coordinate;if(e.isPolar&&e.isTransposed){var r=fDt(t.getModel(),e),i=(r.startAngle+r.endAngle)/2,o=7.5*Math.cos(i),a=7.5*Math.sin(i);return{matrix:rAt.vs(null,[["t",o,a]])}}return n.interval.selected}}},"hollow-rect":{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},line:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},tick:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},funnel:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}},pyramid:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},line:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},dot:{default:{style:(0,QCt.pi)((0,QCt.pi)({},n.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:(0,QCt.pi)((0,QCt.pi)({},n.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:(0,QCt.pi)((0,QCt.pi)({},n.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:(0,QCt.pi)((0,QCt.pi)({},n.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:(0,QCt.pi)((0,QCt.pi)({},n.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:(0,QCt.pi)((0,QCt.pi)({},n.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:(0,QCt.pi)((0,QCt.pi)({},n.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:(0,QCt.pi)((0,QCt.pi)({},n.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hvh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},polygon:{polygon:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},point:{circle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},square:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},bowtie:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},diamond:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},hexagon:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},triangle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"triangle-down":{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"hollow-circle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-square":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-bowtie":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-diamond":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-hexagon":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle-down":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},cross:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},tick:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},plus:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},hyphen:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},line:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}}},area:{area:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},smooth:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},line:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"smooth-line":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}},schema:{candle:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},box:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}}},edge:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},arc:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},violin:{violin:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hollow:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"hollow-smooth":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}}},components:{axis:{common:r,top:{position:"top",grid:null,title:null,verticalLimitLength:.5},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:.5},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,tOt.b$)({},r.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,tOt.b$)({},r.grid,{line:{type:"circle"}})}},legend:{common:i,right:{layout:"vertical",padding:t.legendVerticalPadding},left:{layout:"vertical",padding:t.legendVerticalPadding},top:{layout:"horizontal",padding:t.legendHorizontalPadding},bottom:{layout:"horizontal",padding:t.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:t.sliderRailHeight,defaultLength:t.sliderRailWidth,style:{fill:t.sliderRailFillColor,stroke:t.sliderRailBorderColor,lineWidth:t.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:t.sliderLabelTextFillColor,fontSize:t.sliderLabelTextFontSize,lineHeight:t.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},handler:{size:t.sliderHandlerWidth,style:{fill:t.sliderHandlerFillColor,stroke:t.sliderHandlerBorderColor}},slidable:!0,padding:i.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:t.tooltipCrosshairsBorderColor,lineWidth:t.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(e={},e["".concat(k_t)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:t.tooltipContainerFillColor,opacity:t.tooltipContainerFillOpacity,boxShadow:t.tooltipContainerShadow,borderRadius:"".concat(t.tooltipContainerBorderRadius,"px"),color:t.tooltipTextFillColor,fontSize:"".concat(t.tooltipTextFontSize,"px"),fontFamily:t.fontFamily,lineHeight:"".concat(t.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},e["".concat(C_t)]={marginBottom:"12px",marginTop:"12px"},e["".concat(O_t)]={margin:0,listStyleType:"none",padding:0},e["".concat(E_t)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e["".concat(M_t)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e["".concat(A_t)]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:t.annotationArcBorderColor,lineWidth:t.annotationArcBorder},animate:!0},line:{style:{stroke:t.annotationLineBorderColor,lineDash:t.annotationLineDash,lineWidth:t.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textAlign:"start",fontFamily:t.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:t.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:t.annotationRegionBorder,stroke:t.annotationRegionBorderColor,fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:t.brandColor,lineWidth:2}},line:{style:{stroke:t.annotationLineBorderColor,lineWidth:t.annotationLineBorder},length:t.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:t.cSliderBackgroundFillColor,opacity:t.cSliderBackgroundFillOpacity},foregroundStyle:{fill:t.cSliderForegroundFillColor,opacity:t.cSliderForegroundFillOpacity},handlerStyle:{width:t.cSliderHandlerWidth,height:t.cSliderHandlerHeight,fill:t.cSliderHandlerFillColor,opacity:t.cSliderHandlerFillOpacity,stroke:t.cSliderHandlerBorderColor,lineWidth:t.cSliderHandlerBorder,radius:t.cSliderHandlerBorderRadius,highLightFill:t.cSliderHandlerHighlightFillColor},textStyle:{fill:t.cSliderTextFillColor,opacity:t.cSliderTextFillOpacity,fontSize:t.cSliderTextFontSize,lineHeight:t.cSliderTextLineHeight,fontWeight:t.cSliderTextFontWeight,stroke:t.cSliderTextBorderColor,lineWidth:t.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:t.scrollbarTrackFillColor,thumbColor:t.scrollbarThumbFillColor}},hover:{style:{thumbColor:t.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:t.labelFillColor,fontSize:t.labelFontSize,fontFamily:t.fontFamily,stroke:t.labelBorderColor,lineWidth:t.labelBorder},fillColorDark:t.labelFillColorDark,fillColorLight:t.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:t.innerLabelFillColor,fontSize:t.innerLabelFontSize,fontFamily:t.fontFamily,stroke:t.innerLabelBorderColor,lineWidth:t.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:t.overflowLabelFillColor,fontSize:t.overflowLabelFontSize,fontFamily:t.fontFamily,stroke:t.overflowLabelBorderColor,lineWidth:t.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:t.labelLineBorder}},autoRotate:!0}}}var WTt="#000",VTt="#595959",GTt="#8C8C8C",XTt="#BFBFBF",qTt="#D9D9D9",YTt="#F0F0F0",$Tt="#FFFFFF",KTt="#D9D9D9",JTt=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],QTt=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],tZt=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],eZt=function(t){void 0===t&&(t={});var e=t.paletteQualitative10,n=void 0===e?JTt:e,r=t.paletteQualitative20,i=void 0===r?QTt:r,o=t.brandColor,a=void 0===o?n[0]:o,c={backgroundColor:"transparent",brandColor:a,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:n,paletteQualitative20:i,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:tZt,fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"',axisLineBorderColor:XTt,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:VTt,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:KTt,axisTickLineBorderColor:XTt,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:qTt,axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:GTt,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:qTt,axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:GTt,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:a,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:VTt,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:WTt,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:WTt,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:GTt,legendPageNavigatorTextFontSize:12,sliderRailFillColor:qTt,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:GTt,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:YTt,sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:XTt,annotationArcBorderColor:qTt,annotationArcBorder:1,annotationLineBorderColor:XTt,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:VTt,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:WTt,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:XTt,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:VTt,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:VTt,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:$Tt,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:VTt,overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:$Tt,overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:XTt,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:a,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:$Tt,pointBorderOpacity:1,pointActiveBorderColor:WTt,pointSelectedBorder:2,pointSelectedBorderColor:WTt,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:a,hollowPointBorderOpacity:.95,hollowPointFillColor:$Tt,hollowPointActiveBorder:1,hollowPointActiveBorderColor:WTt,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:WTt,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:a,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:a,areaFillOpacity:.25,areaActiveFillColor:a,areaActiveFillOpacity:.5,areaSelectedFillColor:a,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:a,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:WTt,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:WTt,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:a,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:WTt,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:WTt,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:a,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:$Tt,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:WTt,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:WTt,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return(0,QCt.pi)((0,QCt.pi)({},c),t)};eZt();function nZt(t){var e=t.styleSheet,n=void 0===e?{}:e,r=(0,QCt._T)(t,["styleSheet"]),i=eZt(n);return(0,tOt.b$)({},HTt(i),r)}var rZt={default:nZt({})};function iZt(t){return(0,tOt.U2)(rZt,(0,tOt.vl)(t),rZt.default)}function oZt(t,e,n){var r=n.translate(t),i=n.translate(e);return(0,tOt.vQ)(r,i)}function aZt(t,e,n){var r=n.coordinate,i=n.getYScale(),o=i.field,a=r.invert(e),c=i.invert(a.y);return(0,tOt.sE)(t,(function(t){var e=t[dOt];return e[o][0]<=c&&e[o][1]>=c}))||t[t.length-1]}var cZt=(0,tOt.HP)((function(t){if(t.isCategory)return 1;for(var e=t.values,n=e.length,r=t.translate(e[0]),i=r,o=0;o<n;o++){var a=e[o],c=t.translate(a);c<r&&(r=c),c>i&&(i=c)}return(i-r)/(n-1)}));function lZt(t){var e,n,r,i=function(t){var e=(0,tOt.VO)(t.attributes);return(0,tOt.hX)(e,(function(t){return(0,tOt.FX)(hOt,t.type)}))}(t);try{for(var o=(0,QCt.XA)(i),a=o.next();!a.done;a=o.next()){var c=a.value,l=c.getScale(c.type);if(l&&l.isLinear)if("cat"!==SDt(l,(0,tOt.U2)(t.scaleDefs,l.field),c.type,t.type)){r=l;break}}}catch(f){e={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}var u=t.getXScale(),s=t.getYScale();return r||s||u}function uZt(t,e,n){if(0===e.length)return null;var r=n.type,i=n.getXScale(),o=n.getYScale(),a=i.field,c=o.field,l=null;if("heatmap"===r||"point"===r){for(var u=n.coordinate.invert(t),s=i.invert(u.x),f=o.invert(u.y),h=1/0,d=0;d<e.length;d++){var p=e[d],v=p[dOt],g=Math.pow(v[a]-s,2)+Math.pow(v[c]-f,2);g<h&&(h=g,l=p)}return l}var m=e[0],y=e[e.length-1],b=function(t,e){var n=e.coordinate,r=e.getXScale(),i=r.range,o=i[i.length-1],a=i[0],c=n.invert(t).x;return n.isPolar&&c>(1+o)/2&&(c=a),r.translate(r.invert(c))}(t,n),x=m[dOt][a],w=m[dOt][c],S=y[dOt][a],k=o.isLinear&&(0,tOt.kJ)(w);if((0,tOt.kJ)(x)){for(d=0;d<e.length;d++){v=(P=e[d])[dOt];if(i.translate(v[a][0])<=b&&i.translate(v[a][1])>=b){if(!k){l=P;break}(0,tOt.kJ)(l)||(l=[]),l.push(P)}}(0,tOt.kJ)(l)&&(l=aZt(l,t,n))}else{var C=void 0;if(i.isLinear||"timeCat"===i.type){if((b>i.translate(S)||b<i.translate(x))&&(b>i.max||b<i.min))return null;for(var O=0,E=e.length-1,M=void 0;O<=E;){var A=e[M=Math.floor((O+E)/2)][dOt][a];if(oZt(A,b,i))return e[M];i.translate(A)<=i.translate(b)?(O=M+1,y=e[M],C=e[M+1]):(0===E&&(y=e[0]),E=M-1)}}else{for(d=0;d<e.length;d++){var P;if(oZt((v=(P=e[d])[dOt])[a],b,i)){if(!k){l=P;break}(0,tOt.kJ)(l)||(l=[]),l.push(P)}else i.translate(v[a])<=b&&(y=P,C=e[d+1])}(0,tOt.kJ)(l)&&(l=aZt(l,t,n))}y&&C&&Math.abs(i.translate(y[dOt][a])-b)>Math.abs(i.translate(C[dOt][a])-b)&&(y=C)}var _=cZt(n.getXScale());return!l&&Math.abs(i.translate(y[dOt][a])-b)<=_/2&&(l=y),l}function sZt(t,e,n,r){var i,o;void 0===n&&(n=""),void 0===r&&(r=!1);var a,c,l=t[dOt],u=function(t,e,n){var r=e.getAttribute("position").getFields(),i=e.scales,o=(0,tOt.mf)(n)||!n?r[0]:n,a=i[o],c=a?a.getText(t[o]):t[o]||o;return(0,tOt.mf)(n)?n(c,t):c}(l,e,n),s=e.tooltipOption,f=e.theme.defaultColor,h=[];function d(e,n){if(r||!(0,tOt.UM)(n)&&""!==n){var i={title:u,data:l,mappingData:t,name:e,value:n,color:t.color||f,marker:!0};h.push(i)}}if((0,tOt.Kn)(s)){var p=s.fields,v=s.callback;if(v){var g=p.map((function(e){return t[dOt][e]})),m=v.apply(void 0,(0,QCt.ev)([],(0,QCt.CR)(g),!1)),y=(0,QCt.pi)({data:t[dOt],mappingData:t,title:u,color:t.color||f,marker:!0},m);h.push(y)}else{var b=e.scales;try{for(var x=(0,QCt.XA)(p),w=x.next();!w.done;w=x.next()){var S=w.value;if(!(0,tOt.UM)(l[S])){var k=b[S];d(a=CDt(k),c=k.getText(l[S]))}}}catch(O){i={error:O}}finally{try{w&&!w.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}}}else{var C=lZt(e);c=function(t,e){var n=t[e.field];return(0,tOt.kJ)(n)?n.map((function(t){return e.getText(t)})).join("-"):e.getText(n)}(l,C),a=function(t,e){var n,r=e.getGroupScales();if(r.length&&(n=r[0]),n){var i=n.field;return n.getText(t[i])}return CDt(lZt(e))}(l,e),d(a,c)}return h}function fZt(t,e,n,r){var i,o,a=r.showNil,c=[],l=t.dataArray;if(!(0,tOt.xb)(l)){t.sort(l);try{for(var u=(0,QCt.XA)(l),s=u.next();!s.done;s=u.next()){var f=uZt(e,s.value,t);if(f){var h=t.getElementId(f),d=t.elementsMap[h];if("heatmap"===t.type||d.visible){var p=sZt(f,t,n,a);p.length&&c.push(p)}}}}catch(v){i={error:v}}finally{try{s&&!s.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}return c}function hZt(t,e,n,r){var i=r.showNil,o=[],a=t.container.getShape(e.x,e.y);if(a&&a.get("visible")&&a.get("origin")){var c=sZt(a.get("origin").mappingData,t,n,i);c.length&&o.push(c)}return o}function dZt(t,e,n){var r,i,o=[],a=t.geometries,c=n.shared,l=n.title,u=n.reversed;try{for(var s=(0,QCt.XA)(a),f=s.next();!f.done;f=s.next()){var h=f.value;if(h.visible&&!1!==h.tooltipOption){var d=h.type,p=void 0;(p=["point","edge","polygon"].includes(d)?hZt(h,e,l,n):["area","line","path","heatmap"].includes(d)||!1!==c?fZt(h,e,l,n):hZt(h,e,l,n)).length&&(u&&p.reverse(),o.push(p))}}}catch(v){r={error:v}}finally{try{f&&!f.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o}function pZt(t){void 0===t&&(t=0);var e=(0,tOt.kJ)(t)?t:[t];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=(0,QCt.ev)((0,QCt.ev)([],(0,QCt.CR)(e),!1),(0,QCt.CR)(e),!1);break;case 3:e=(0,QCt.ev)((0,QCt.ev)([],(0,QCt.CR)(e),!1),[e[1]],!1);break;default:e=e.slice(0,4)}return e}var vZt={};function gZt(t,e){vZt[t]=e}var mZt=function(){function t(t){this.option=this.wrapperOption(t)}return t.prototype.update=function(t){return this.option=this.wrapperOption(t),this},t.prototype.hasAction=function(t){var e=this.option.actions;return(0,tOt.G)(e,(function(e){return e[0]===t}))},t.prototype.create=function(t,e){var n=this.option,r=n.type,i=n.cfg,o="theta"===r,a=(0,QCt.pi)({start:t,end:e},i),c=function(t){return dAt[t.toLowerCase()]}(o?"polar":r);return this.coordinate=new c(a),this.coordinate.type=r,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},t.prototype.adjust=function(t,e){return this.coordinate.update({start:t,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},t.prototype.rotate=function(t){return this.option.actions.push(["rotate",t]),this},t.prototype.reflect=function(t){return this.option.actions.push(["reflect",t]),this},t.prototype.scale=function(t,e){return this.option.actions.push(["scale",t,e]),this},t.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},t.prototype.getOption=function(){return this.option},t.prototype.getCoordinate=function(){return this.coordinate},t.prototype.wrapperOption=function(t){return(0,QCt.pi)({type:"rect",actions:[],cfg:{}},t)},t.prototype.execActions=function(t){var e=this,n=this.option.actions;(0,tOt.S6)(n,(function(n){var r,i=(0,QCt.CR)(n),o=i[0],a=i.slice(1);(!!(0,tOt.UM)(t)||t.includes(o))&&(r=e.coordinate)[o].apply(r,(0,QCt.ev)([],(0,QCt.CR)(a),!1))}))},t}(),yZt=mZt,bZt=function(){function t(t,e,n){this.view=t,this.gEvent=e,this.data=n,this.type=e.type}return t.fromData=function(e,n,r){return new t(e,new kOt.Event(n,{}),r)},Object.defineProperty(t.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},t.prototype.clone=function(){return new t(this.view,this.gEvent,this.data)},t}(),xZt=bZt;function wZt(t){var e=t.getController("axis"),n=t.getController("legend"),r=t.getController("annotation");[e,t.getController("slider"),t.getController("scrollbar"),n,r].forEach((function(t){t&&t.layout()}))}var SZt=function(){function t(){this.scales=new Map,this.syncScales=new Map}return t.prototype.createScale=function(t,e,n,r){var i=n,o=this.getScaleMeta(r);if(0===e.length&&o){var a=o.scale,c={type:a.type};a.isCategory&&(c.values=a.values),i=(0,tOt.b$)(c,o.scaleDef,n)}var l=kDt(t,e,i);return this.cacheScale(l,n,r),l},t.prototype.sync=function(t,e){var n=this;this.syncScales.forEach((function(r,i){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,c=[];(0,tOt.S6)(r,(function(t){var e=n.getScale(t);a=(0,tOt.hj)(e.max)?Math.max(a,e.max):a,o=(0,tOt.hj)(e.min)?Math.min(o,e.min):o,(0,tOt.S6)(e.values,(function(t){c.includes(t)||c.push(t)}))})),(0,tOt.S6)(r,(function(r){var i=n.getScale(r);if(i.isContinuous)i.change({min:o,max:a,values:c});else if(i.isCategory){var l=i.range,u=n.getScaleMeta(r);c&&!(0,tOt.U2)(u,["scaleDef","range"])&&(l=ODt((0,tOt.b$)({},i,{values:c}),t,e)),i.change({values:c,range:l})}}))}))},t.prototype.cacheScale=function(t,e,n){var r=this.getScaleMeta(n);r&&r.scale.type===t.type?(!function(t,e){if("identity"!==t.type&&"identity"!==e.type){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);t.change(n)}}(r.scale,t),r.scaleDef=e):(r={key:n,scale:t,scaleDef:e},this.scales.set(n,r));var i=this.getSyncKey(r);if(r.syncKey=i,this.removeFromSyncScales(n),i){var o=this.syncScales.get(i);o||(o=[],this.syncScales.set(i,o)),o.push(n)}},t.prototype.getScale=function(t){var e=this.getScaleMeta(t);if(!e){var n=(0,tOt.Z$)(t.split("-")),r=this.syncScales.get(n);r&&r.length&&(e=this.getScaleMeta(r[0]))}return e&&e.scale},t.prototype.deleteScale=function(t){var e=this.getScaleMeta(t);if(e){var n=e.syncKey,r=this.syncScales.get(n);if(r&&r.length){var i=r.indexOf(t);-1!==i&&r.splice(i,1)}}this.scales.delete(t)},t.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},t.prototype.removeFromSyncScales=function(t){var e=this;this.syncScales.forEach((function(n,r){var i=n.indexOf(t);if(-1!==i)return n.splice(i,1),0===n.length&&e.syncScales.delete(r),!1}))},t.prototype.getSyncKey=function(t){var e=t.scale,n=t.scaleDef,r=e.field,i=(0,tOt.U2)(n,["sync"]);return!0===i?r:!1===i?void 0:i},t.prototype.getScaleMeta=function(t){return this.scales.get(t)},t}(),kZt=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.top=t,this.right=e,this.bottom=n,this.left=r}return t.instance=function(e,n,r,i){return void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),new t(e,n,r,i)},t.prototype.max=function(t){var e=(0,QCt.CR)(t,4),n=e[0],r=e[1],i=e[2],o=e[3];return this.top=Math.max(this.top,n),this.right=Math.max(this.right,r),this.bottom=Math.max(this.bottom,i),this.left=Math.max(this.left,o),this},t.prototype.shrink=function(t){var e=(0,QCt.CR)(t,4),n=e[0],r=e[1],i=e[2],o=e[3];return this.top+=n,this.right+=r,this.bottom+=i,this.left+=o,this},t.prototype.inc=function(t,e){var n=t.width,r=t.height;switch(e){case $Ct.TOP:case $Ct.TOP_LEFT:case $Ct.TOP_RIGHT:this.top+=r;break;case $Ct.RIGHT:case $Ct.RIGHT_TOP:case $Ct.RIGHT_BOTTOM:this.right+=n;break;case $Ct.BOTTOM:case $Ct.BOTTOM_LEFT:case $Ct.BOTTOM_RIGHT:this.bottom+=r;break;case $Ct.LEFT:case $Ct.LEFT_TOP:case $Ct.LEFT_BOTTOM:this.left+=n}return this},t.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},t.prototype.clone=function(){return new(t.bind.apply(t,(0,QCt.ev)([void 0],(0,QCt.CR)(this.getPadding()),!1)))},t}();function CZt(t){var e=t.padding;if(!function(t){return!(0,tOt.hj)(t)&&!(0,tOt.kJ)(t)}(e))return new(kZt.bind.apply(kZt,(0,QCt.ev)([void 0],(0,QCt.CR)(pZt(e)),!1)));var n=t.viewBBox,r=new kZt,i=[],o=[],a=[];return(0,tOt.S6)(t.getComponents(),(function(t){var e=t.type;e===KCt.AXIS?i.push(t):[KCt.LEGEND,KCt.SLIDER,KCt.SCROLLBAR].includes(e)?o.push(t):e!==KCt.GRID&&e!==KCt.TOOLTIP&&a.push(t)})),(0,tOt.S6)(i,(function(t){var e=t.component.getLayoutBBox(),i=new gDt(e.x,e.y,e.width,e.height).exceed(n);r.max(i)})),(0,tOt.S6)(o,(function(t){var e=t.component,n=t.direction,i=e.getLayoutBBox(),o=e.get("padding"),a=new gDt(i.x,i.y,i.width,i.height).expand(o);r.inc(a,n)})),(0,tOt.S6)(a,(function(t){var e=t.component,n=t.direction,i=e.getLayoutBBox(),o=new gDt(i.x,i.y,i.width,i.height);r.inc(o,n)})),r}function OZt(t,e,n){var r=n.instance();e.forEach((function(t){t.autoPadding=r.max(t.autoPadding.getPadding())}))}var EZt=function(t){function e(e){var n=t.call(this,{visible:e.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=Object.keys(vZt),n.scalePool=new SZt,n.layoutFunc=wZt,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(t){var e=t.name;if(!e.includes(":")){var r=n.createViewEvent(t);n.doPlotEvent(r),n.emit(e,r)}},n.onDelegateEvents=function(t){var e=t.name;if(e.includes(":")){var r=n.createViewEvent(t);n.emit(e,r)}};var r=e.id,i=void 0===r?(0,tOt.EL)("view"):r,o=e.parent,a=e.canvas,c=e.backgroundGroup,l=e.middleGroup,u=e.foregroundGroup,s=e.region,f=void 0===s?{start:{x:0,y:0},end:{x:1,y:1}}:s,h=e.padding,d=e.appendPadding,p=e.theme,v=e.options,g=e.limitInPlot,m=e.syncViewPadding;return n.parent=o,n.canvas=a,n.backgroundGroup=c,n.middleGroup=l,n.foregroundGroup=u,n.region=f,n.padding=h,n.appendPadding=d,n.options=(0,QCt.pi)((0,QCt.pi)({},n.options),v),n.limitInPlot=g,n.id=i,n.syncViewPadding=m,n.themeObject=(0,tOt.Kn)(p)?(0,tOt.b$)({},iZt("default"),nZt(p)):iZt(p),n.init(),n}return(0,QCt.ZT)(e,t),e.prototype.setLayout=function(t){this.layoutFunc=t},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},e.prototype.render=function(t,e){void 0===t&&(t=!1),this.emit(eOt.BEFORE_RENDER,xZt.fromData(this,eOt.BEFORE_RENDER,e)),this.paint(t),this.emit(eOt.AFTER_RENDER,xZt.fromData(this,eOt.AFTER_RENDER,e)),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this;this.emit(eOt.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear(),e[n].container.remove(!0),e[n].labelsContainer.remove(!0);this.geometries=[];var r=this.controllers;for(n=0;n<r.length;n++)"annotation"===r[n].name?r[n].clear(!0):r[n].clear();this.createdScaleKeys.forEach((function(e,n){t.getRootView().scalePool.deleteScale(n)})),this.createdScaleKeys.clear();var i=this.views;for(n=0;n<i.length;n++)i[n].clear();this.emit(eOt.AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(eOt.BEFORE_DESTROY);var e=this.interactions;(0,tOt.S6)(e,(function(t){t&&t.destroy()})),this.clear();for(var n=this.controllers,r=0,i=n.length;r<i;r++){n[r].destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.geometries,r=0,i=n.length;r<i;r++){n[r].changeVisible(e)}var o=this.controllers;for(r=0,i=o.length;r<i;r++){o[r].changeVisible(e)}return this.foregroundGroup.set("visible",e),this.middleGroup.set("visible",e),this.backgroundGroup.set("visible",e),this.getCanvas().draw(),this},e.prototype.data=function(t){return(0,tOt.t8)(this.options,"data",t),this.isDataChanged=!0,this},e.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},e.prototype.filter=function(t,e){return(0,tOt.mf)(e)?((0,tOt.t8)(this.options,["filters",t],e),this):(!e&&(0,tOt.U2)(this.options,["filters",t])&&delete this.options.filters[t],this)},e.prototype.axis=function(t,e){return(0,tOt.jn)(t)?(0,tOt.t8)(this.options,["axes"],t):(0,tOt.t8)(this.options,["axes",t],e),this},e.prototype.legend=function(t,e){return(0,tOt.jn)(t)?(0,tOt.t8)(this.options,["legends"],t):(0,tOt.HD)(t)?((0,tOt.t8)(this.options,["legends",t],e),(0,tOt.PO)(e)&&(null==e?void 0:e.selected)&&(0,tOt.t8)(this.options,["filters",t],(function(t){var n;return null===(n=null==e?void 0:e.selected[t])||void 0===n||n}))):(0,tOt.t8)(this.options,["legends"],t),this},e.prototype.scale=function(t,e){var n=this;return(0,tOt.HD)(t)?(0,tOt.t8)(this.options,["scales",t],e):(0,tOt.Kn)(t)&&(0,tOt.S6)(t,(function(t,e){(0,tOt.t8)(n.options,["scales",e],t)})),this},e.prototype.tooltip=function(t){return(0,tOt.t8)(this.options,"tooltip",t),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},e.prototype.coordinate=function(t,e){return(0,tOt.HD)(t)?(0,tOt.t8)(this.options,"coordinate",{type:t,cfg:e}):(0,tOt.t8)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},e.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=function(t){return RDt[(0,tOt.vl)(t)]}(t);if(!n)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new n(this,(0,QCt.pi)((0,QCt.pi)({},e),{type:t})),this},e.prototype.animate=function(t){return(0,tOt.t8)(this.options,"animate",t),this},e.prototype.updateOptions=function(t){return this.clear(),(0,tOt.CD)(this.options,t),this.views.forEach((function(t){return t.destroy()})),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},e.prototype.option=function(t,n){if(e.prototype[t])throw new Error("Can't use built in variable name \"".concat(t,'", please change another one.'));return(0,tOt.t8)(this.options,t,n),this},e.prototype.theme=function(t){return this.themeObject=(0,tOt.Kn)(t)?(0,tOt.b$)({},this.themeObject,nZt(t)):iZt(t),this},e.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var r=UTt(t,this,e);return r&&(r.init(),this.interactions[t]=r),this},e.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},e.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(eOt.BEFORE_CHANGE_DATA,xZt.fromData(this,eOt.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var e=this.views,n=0,r=e.length;n<r;n++){e[n].changeData(t)}this.emit(eOt.AFTER_CHANGE_DATA,xZt.fromData(this,eOt.AFTER_CHANGE_DATA,null))},e.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:(0,tOt.d9)(this.options.scales),axes:(0,tOt.d9)(this.options.axes),coordinate:(0,tOt.d9)(this.coordinateController.getOption()),tooltip:(0,tOt.d9)(this.options.tooltip),legends:(0,tOt.d9)(this.options.legends),animate:this.options.animate,visible:this.visible},r=new e((0,QCt.pi)((0,QCt.pi)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:cOt}),middleGroup:this.middleGroup.addGroup({zIndex:aOt}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:oOt}),theme:this.themeObject,padding:this.padding},t),{options:(0,QCt.pi)((0,QCt.pi)({},n),(0,tOt.U2)(t,"options",{}))}));return this.views.push(r),r},e.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},e.prototype.removeView=function(t){var e=(0,tOt.Od)(this.views,(function(e){return e===t}))[0];return e&&e.destroy(),e},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},e.prototype.getYScales=function(){var t={},e=[];return this.geometries.forEach((function(n){var r=n.getYScale(),i=r.field;t[i]||(t[i]=!0,e.push(r))})),e},e.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},r=0,i=e.length;r<i;r++){var o=e[r],a="x"===t?o.getXScale():o.getYScale();a&&!n[a.field]&&(n[a.field]=a)}return n},e.prototype.getScale=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},e.prototype.getScaleByField=function(t,e){return this.getScale(t,e)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getOriginalData=function(){return this.options.data},e.prototype.getPadding=function(){return this.autoPadding.getPadding()},e.prototype.getGeometries=function(){return this.geometries},e.prototype.getElements=function(){return(0,tOt.u4)(this.geometries,(function(t,e){return t.concat(e.getElements())}),[])},e.prototype.getElementsBy=function(t){return this.getElements().filter((function(e){return t(e)}))},e.prototype.getLayer=function(t){return t===YCt.BG?this.backgroundGroup:t===YCt.MID?this.middleGroup:(YCt.FORE,this.foregroundGroup)},e.prototype.isPointInPlot=function(t){return function(t,e){var n=!1;if(t)if("theta"===t.type){var r=t.start,i=t.end;n=dDt(e.x,r.x,i.x)&&dDt(e.y,r.y,i.y)}else{var o=t.invert(e);n=dDt(o.x,0,1)&&dDt(o.y,0,1)}return n}(this.getCoordinate(),t)},e.prototype.getLegendAttributes=function(){return(0,tOt.xH)(this.geometries.map((function(t){return t.getGroupAttributes()})))},e.prototype.getGroupScales=function(){var t=this.geometries.map((function(t){return t.getGroupScales()}));return vDt((0,tOt.xH)(t))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},e.prototype.getXY=function(t){var e,n,r=this.getCoordinate(),i=this.getScalesByDim("x"),o=this.getScalesByDim("y");if((0,tOt.S6)(t,(function(t,r){i[r]&&(e=i[r].scale(t)),o[r]&&(n=o[r].scale(t))})),!(0,tOt.UM)(e)&&!(0,tOt.UM)(n))return r.convert({x:e,y:n})},e.prototype.getController=function(t){return(0,tOt.sE)(this.controllers,(function(e){return e.name===t}))},e.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},e.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},e.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},e.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},e.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},e.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],r=0,i=e.length;r<i;r++){var o=e[r],a=o.dataArray;o.sort(a);for(var c=void 0,l=0,u=a.length;l<u;l++){(c=uZt(t,a[l],o))&&n.push(c)}}var s=this.views;for(r=0,i=s.length;r<i;r++){var f=s[r].getSnapRecords(t);n=n.concat(f)}return n},e.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,r=e.length;n<r;n++){var i=e[n];t=t.concat(i.getComponents())}return t},e.prototype.filterData=function(t){var e=this.options.filters;return 0===(0,tOt.dp)(e)?t:(0,tOt.hX)(t,(function(t,n){return Object.keys(e).every((function(r){return(0,e[r])(t[r],t,n)}))}))},e.prototype.filterFieldData=function(t,e){var n=this.options.filters,r=(0,tOt.U2)(n,t);return(0,tOt.o8)(r)?e:e.filter((function(e,n){return r(e[t],e,n)}))},e.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,r=this.coordinateBBox.bl,i=this.coordinateBBox.tr;(0,tOt.Xy)(e,r)&&(0,tOt.Xy)(n,i)?this.isCoordinateChanged=!1:(this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(r,i))},e.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(eOt.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(eOt.AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,tOt.U2)(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var e=this.viewBBox,n=e.x,r=e.y,i=e.width,o=e.height;this.backgroundStyleRectShape.attr({fill:t,x:n,y:r,width:i,height:o})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},e.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=CZt(this).shrink(pZt(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();var e=this.controllers.find((function(t){return"tooltip"===t.name}));e.update();for(var n=this.views,r=0,i=n.length;r<i;r++){n[r].renderPaddingRecursive(t)}},e.prototype.renderLayoutRecursive=function(t){var e=!0===this.syncViewPadding?OZt:(0,tOt.mf)(this.syncViewPadding)?this.syncViewPadding:void 0;e&&(e(this,this.views,kZt),this.views.forEach((function(t){t.coordinateBBox=t.viewBBox.shrink(t.autoPadding.getPadding()),t.adjustCoordinate()}))),this.doLayout();for(var n=this.views,r=0,i=n.length;r<i;r++){n[r].renderLayoutRecursive(t)}},e.prototype.renderPaintRecursive=function(t){var e=this.middleGroup;if(this.limitInPlot){var n=xDt(this.coordinateInstance),r=n.type,i=n.attrs;e.setClip({type:r,attrs:i})}else e.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var o=this.views,a=0,c=o.length;a<c;a++){o[a].renderPaintRecursive(t)}},e.prototype.createScale=function(t,e,n,r){var i=(0,tOt.U2)(this.options.scales,[t]),o=(0,QCt.pi)((0,QCt.pi)({},i),n);return this.parent?this.parent.createScale(t,e,o,r):this.scalePool.createScale(t,e,o,r)},e.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,r=e.length;n<r;n++){e[n].renderDataRecursive(t)}},e.prototype.calculateViewBBox=function(){var t,e,n,r;if(this.parent){var i=this.parent.coordinateBBox;t=i.x,e=i.y,n=i.width,r=i.height}else t=0,e=0,n=this.canvas.get("width"),r=this.canvas.get("height");var o=this.region,a=o.start,c=o.end,l=new gDt(t+n*a.x,e+r*a.y,n*(c.x-a.x),r*(c.y-a.y));this.viewBBox&&this.viewBBox.isEqual(l)||(this.viewBBox=new gDt(t+n*a.x,e+r*a.y,n*(c.x-a.x),r*(c.y-a.y))),this.coordinateBBox=this.viewBBox},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var r=t[e],i=vZt[r];i&&this.controllers.push(new i(this))}},e.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,r=e?e.get("origin"):null,i=new xZt(this,t,r);return i.type=n,i},e.prototype.doPlotEvent=function(t){var e=t.type,n={x:t.x,y:t.y};if(["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(e)){var r=this.isPointInPlot(n),i=t.clone();if(r){var o="plot:".concat(e);i.type=o,this.emit(o,i),"mouseleave"!==e&&"touchend"!==e||(this.isPreMouseInPlot=!1)}"mousemove"===e||"touchmove"===e?(this.isPreMouseInPlot&&!r?("mousemove"===e&&(i.type=rOt.MOUSE_LEAVE,this.emit(rOt.MOUSE_LEAVE,i)),i.type=rOt.LEAVE,this.emit(rOt.LEAVE,i)):!this.isPreMouseInPlot&&r&&("mousemove"===e&&(i.type=rOt.MOUSE_ENTER,this.emit(rOt.MOUSE_ENTER,i)),i.type=rOt.ENTER,this.emit(rOt.ENTER,i)),this.isPreMouseInPlot=r):"mouseleave"!==e&&"touchend"!==e||this.isPreMouseInPlot&&("mouseleave"===e&&(i.type=rOt.MOUSE_LEAVE,this.emit(rOt.MOUSE_LEAVE,i)),i.type=rOt.LEAVE,this.emit(rOt.LEAVE,i),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},e.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,tOt.U2)(this.options,"scales",{}),r=this.geometries,i=0,o=r.length;i<o;i++){var a=r[i];a.scales=this.getGeometryScales();var c={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?a.update(c):a.init(c)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),r=n.data,i=n.scales,o=void 0===i?{}:i,a=this.filteredData,c=0,l=t.length;c<l;c++){var u=t[c],s=o[u],f=this.getScaleKey(u);this.createScale(u,e.includes(u)?r:a,s,f),this.createdScaleKeys.set(f,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},e.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var r=t[n];e[r]=this.getScaleByField(r)}return e},e.prototype.getScaleFields=function(){for(var t=[],e=new Map,n=this.geometries,r=0;r<n.length;r++){vDt(n[r].getScaleFields(),t,e)}return t},e.prototype.getGroupedFields=function(){for(var t=[],e=new Map,n=this.geometries,r=0;r<n.length;r++){vDt(n[r].getGroupFields(),t,e)}return t},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,QCt.ev)([this.getXScale()],(0,QCt.CR)(this.getYScales()),!1).filter((function(t){return!!t})),n=this.getCoordinate(),r=this.options.scales;(0,tOt.S6)(e,(function(e){var i=e.field,o=e.values,a=e.isCategory,c=e.isIdentity;(a||c)&&o&&!(0,tOt.U2)(r,[i,"range"])&&(e.range=ODt(e,n,t.theme))}))},e.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var r=e[n];t?r.update():(r.clear(),r.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},e.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),r={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},i=this.geometries,o=0;o<i.length;o++){var a=i[o];a.coordinate=n,a.canvasRegion=r,e||a.animate(!1),a.paint(t)}},e.prototype.renderComponents=function(t){for(var e=this.getComponents(),n=0;n<e.length;n++){e[n].component.render()}},e.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){var t=this,e=this.options,n=e.geometries,r=void 0===n?[]:n,i=e.interactions,o=void 0===i?[]:i,a=e.views,c=void 0===a?[]:a,l=e.annotations,u=void 0===l?[]:l,s=e.coordinate,f=e.events,h=e.facets;this.coordinateController?s&&this.coordinateController.update(s):this.coordinateController=new yZt(s);for(var d=0;d<r.length;d++){var p=r[d];this.createGeometry(p)}for(var v=0;v<o.length;v++){var g=o[v],m=g.type,y=g.cfg;this.interaction(m,y)}for(var b=0;b<c.length;b++){var x=c[b];this.createView(x)}for(var w=this.getController("annotation"),S=0;S<u.length;S++){var k=u[S];w.annotation(k)}f&&(0,tOt.S6)(f,(function(e,n){t.on(n,e)})),h&&(0,tOt.S6)(h,(function(e){var n=e.type,r=(0,QCt._T)(e,["type"]);t.facet(n,r)}))},e.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,r=void 0===n?{}:n;if(this[e]){var i=this[e](r);(0,tOt.S6)(t,(function(t,e){(0,tOt.mf)(i[e])&&i[e](t)}))}},e.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},e}(SOt);function MZt(t,e){EZt.prototype[t.toLowerCase()]=function(t){void 0===t&&(t={});var n=(0,QCt.pi)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),r=new e(n);return this.geometries.push(r),r}}var AZt=function(t){function e(e){var n=this,r=e.container,i=e.width,o=e.height,a=e.autoFit,c=void 0!==a&&a,l=e.padding,u=e.appendPadding,s=e.renderer,f=void 0===s?"canvas":s,h=e.pixelRatio,d=e.localRefresh,p=void 0===d||d,v=e.visible,g=void 0===v||v,m=e.supportCSSTransform,y=void 0!==m&&m,b=e.defaultInteractions,x=void 0===b?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:b,w=e.options,S=e.limitInPlot,k=e.theme,C=e.syncViewPadding,O=(0,tOt.HD)(r)?document.getElementById(r):r,E=gOt('<div style="position:relative;"></div>');O.appendChild(E);var M=bOt(O,c,i,o),A=new(function(t){var e=pOt[t];if(!e)throw new Error("G engine '".concat(t,"' is not exist, please register it at first."));return e}(f).Canvas)((0,QCt.pi)({container:E,pixelRatio:h,localRefresh:p,supportCSSTransform:y},M));return(n=t.call(this,{parent:null,canvas:A,backgroundGroup:A.addGroup({zIndex:cOt}),middleGroup:A.addGroup({zIndex:aOt}),foregroundGroup:A.addGroup({zIndex:oOt}),padding:l,appendPadding:u,visible:g,options:w,limitInPlot:S,theme:k,syncViewPadding:C})||this).onResize=(0,tOt.Ds)((function(){n.forceFit()}),300),n.ele=O,n.canvas=A,n.width=M.width,n.height=M.height,n.autoFit=c,n.localRefresh=p,n.renderer=f,n.wrapperElement=E,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(x),n}return(0,QCt.ZT)(e,t),e.prototype.initDefaultInteractions=function(t){var e=this;(0,tOt.S6)(t,(function(t){e.interaction(t)}))},e.prototype.aria=function(t){var e="aria-label";!1===t?this.ele.removeAttribute(e):this.ele.setAttribute(e,t.label)},e.prototype.changeSize=function(t,e){return this.width===t&&this.height===e||(this.emit(eOt.BEFORE_CHANGE_SIZE),this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this.emit(eOt.AFTER_CHANGE_SIZE)),this},e.prototype.clear=function(){t.prototype.clear.call(this),this.aria(!1)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),function(t){var e=t.parentNode;e&&e.removeChild(t)}(this.wrapperElement),this.wrapperElement=null},e.prototype.changeVisible=function(e){return t.prototype.changeVisible.call(this,e),this.wrapperElement.style.display=e?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var t=bOt(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},e.prototype.updateCanvasStyle=function(){mOt(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},e}(EZt),PZt=AZt,_Zt=function(){function t(t){this.visible=!0,this.components=[],this.view=t}return t.prototype.clear=function(t){(0,tOt.S6)(this.components,(function(t){t.component.destroy()})),this.components=[]},t.prototype.destroy=function(){this.clear()},t.prototype.getComponents=function(){return this.components},t.prototype.changeVisible=function(t){this.visible!==t&&(this.components.forEach((function(e){t?e.component.show():e.component.hide()})),this.visible=t)},t}();var DZt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLocked=!1,e}return(0,QCt.ZT)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},e.prototype.render=function(){},e.prototype.showTooltip=function(t){if(this.point=t,this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(n.length){var r=this.getTitle(n),i={x:n[0].x,y:n[0].y};e.emit("tooltip:show",xZt.fromData(e,"tooltip:show",(0,QCt.pi)({items:n,title:r},t)));var o=this.getTooltipCfg(),a=o.follow,c=o.showMarkers,l=o.showCrosshairs,u=o.showContent,s=o.marker,f=this.items,h=this.title;if((0,tOt.Xy)(h,r)&&(0,tOt.Xy)(f,n)?(this.tooltip&&a&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",xZt.fromData(e,"tooltip:change",(0,QCt.pi)({items:n,title:r},t))),((0,tOt.mf)(u)?u(n):u)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,tOt.CD)({},o,{items:this.getItemsAfterProcess(n),title:r},a?t:{})),this.tooltip.show()),c&&this.renderTooltipMarkers(n,s)),this.items=n,this.title=r,l){var d=(0,tOt.U2)(o,["crosshairs","follow"],!1);this.renderCrosshairs(d?t:i,o)}}else this.hideTooltip()}},e.prototype.hideTooltip=function(){if(this.getTooltipCfg().follow){var t=this.tooltipMarkersGroup;t&&t.hide();var e=this.xCrosshair,n=this.yCrosshair;e&&e.hide(),n&&n.hide();var r=this.tooltip;r&&r.hide(),this.view.emit("tooltip:hide",xZt.fromData(this.view,"tooltip:hide",{})),this.point=null}else this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,r=t.yCrosshair,i=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),r&&r.clear(),i&&i.clear(),(null==e?void 0:e.get("customContent"))&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},e.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,r=e.tooltipMarkersGroup,i=e.xCrosshair,o=e.yCrosshair;t?(n&&n.show(),r&&r.show(),i&&i.show(),o&&o.show()):(n&&n.hide(),r&&r.hide(),i&&i.hide(),o&&o.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var e,n,r,i,o,a,c=this.findItemsFromView(this.view,t);if(c.length){c=(0,tOt.xH)(c);try{for(var l=(0,QCt.XA)(c),u=l.next();!u.done;u=l.next()){var s=u.value;try{for(var f=(r=void 0,(0,QCt.XA)(s)),h=f.next();!h.done;h=f.next()){var d=h.value,p=d.mappingData,v=p.x,g=p.y;d.x=(0,tOt.kJ)(v)?v[v.length-1]:v,d.y=(0,tOt.kJ)(g)?g[g.length-1]:g}}catch(k){r={error:k}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}}catch(C){e={error:C}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}if(!1===this.getTooltipCfg().shared&&c.length>1){var m=c[0],y=Math.abs(t.y-m[0].y);try{for(var b=(0,QCt.XA)(c),x=b.next();!x.done;x=b.next()){var w=x.value,S=Math.abs(t.y-w[0].y);S<=y&&(m=w,y=S)}}catch(O){o={error:O}}finally{try{x&&!x.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}c=[m]}return function(t){for(var e=[],n=function(n){var r=t[n];(0,tOt.sE)(e,(function(t){return t.color===r.color&&t.name===r.name&&t.value===r.value&&t.title===r.title}))||e.push(r)},r=0;r<t.length;r++)n(r);return e}((0,tOt.xH)(c))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},e.prototype.isCursorEntered=function(t){if(this.tooltip){var e=this.tooltip.getContainer(),n=this.tooltip.get("capture");if(e&&n){var r=e.getBoundingClientRect(),i=r.x,o=r.y,a=r.width,c=r.height;return new gDt(i,o,a,c).isPointIn(t)}}return!1},e.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=this.processCustomContent(e),r=t.getTheme(),i=(0,tOt.U2)(r,["components","tooltip"],{}),o=(0,tOt.U2)(n,"enterable",i.enterable);return(0,tOt.b$)({},i,n,{capture:!(!o&&!this.isLocked)})},e.prototype.processCustomContent=function(t){if((0,tOt.jn)(t)||!(0,tOt.U2)(t,"customContent"))return t;var e=t.customContent;return(0,QCt.pi)((0,QCt.pi)({},t),{customContent:function(t,n){var r=e(t,n)||"";return(0,tOt.HD)(r)?'<div class="g2-tooltip">'+r+"</div>":r}})},e.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},e.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),r=new oDt((0,QCt.pi)((0,QCt.pi)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));r.init(),this.tooltip=r},e.prototype.renderTooltipMarkers=function(t,e){var n,r,i=this.getTooltipMarkersGroup(),o=this.view.getRootView(),a=o.limitInPlot;try{for(var c=(0,QCt.XA)(t),l=c.next();!l.done;l=c.next()){var u=l.value,s=u.x,f=u.y;if(a||(null==i?void 0:i.getClip())){var h=xDt(o.getCoordinate()),d=h.type,p=h.attrs;null==i||i.setClip({type:d,attrs:p})}else null==i||i.setClip(void 0);var v=this.view.getTheme(),g=(0,tOt.U2)(v,["components","tooltip","marker"],{}),m=(0,QCt.pi)((0,QCt.pi)({fill:u.color,symbol:"circle",shadowColor:u.color},(0,tOt.mf)(e)?(0,QCt.pi)((0,QCt.pi)({},g),e(u)):e),{x:s,y:f});i.addShape("marker",{attrs:m})}}catch(y){n={error:y}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}},e.prototype.renderCrosshairs=function(t,e){var n=(0,tOt.U2)(e,["crosshairs","type"],"x");"x"===n?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===n?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===n&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},e.prototype.renderXCrosshairs=function(t,e){var n,r,i=this.getViewWithGeometry(this.view).getCoordinate();if(i.isRect)i.isTransposed?(n={x:i.start.x,y:t.y},r={x:i.end.x,y:t.y}):(n={x:t.x,y:i.end.y},r={x:t.x,y:i.start.y});else{var o=bDt(i,t),a=i.getCenter(),c=i.getRadius();r=lDt(a.x,a.y,c,o),n=a}var l=(0,tOt.b$)({start:n,end:r,container:this.getTooltipCrosshairsGroup()},(0,tOt.U2)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete l.type;var u=this.xCrosshair;u?u.update(l):(u=new $Pt(l)).init(),u.render(),u.show(),this.xCrosshair=u},e.prototype.renderYCrosshairs=function(t,e){var n,r,i=this.getViewWithGeometry(this.view).getCoordinate();if(i.isRect){var o=void 0,a=void 0;i.isTransposed?(o={x:t.x,y:i.end.y},a={x:t.x,y:i.start.y}):(o={x:i.start.x,y:t.y},a={x:i.end.x,y:t.y}),n={start:o,end:a},r="Line"}else n={center:i.getCenter(),radius:yDt(i,t),startAngle:i.startAngle,endAngle:i.endAngle},r="Circle";delete(n=(0,tOt.b$)({container:this.getTooltipCrosshairsGroup()},n,(0,tOt.U2)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type;var c=this.yCrosshair;c?i.isRect&&"circle"===c.get("type")||!i.isRect&&"line"===c.get("type")?(c=new E[r](n)).init():c.update(n):(c=new E[r](n)).init(),c.render(),c.show(),this.yCrosshair=c},e.prototype.getCrosshairsText=function(t,e,n){var r=(0,tOt.U2)(n,["crosshairs","text"]),i=(0,tOt.U2)(n,["crosshairs","follow"]),o=this.items;if(r){var a=this.getViewWithGeometry(this.view),c=o[0],l=a.getXScale(),u=a.getYScales()[0],s=void 0,f=void 0;if(i){var h=this.view.getCoordinate().invert(e);s=l.invert(h.x),f=u.invert(h.y)}else s=c.data[l.field],f=c.data[u.field];var d="x"===t?s:f;return(0,tOt.mf)(r)?r=r(t,d,o,e):r.content=d,{text:r}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.findItemsFromView=function(t,e){var n,r;if(!1===t.getOptions().tooltip)return[];var i=dZt(t,e,this.getTooltipCfg());try{for(var o=(0,QCt.XA)(t.views),a=o.next();!a.done;a=o.next()){var c=a.value;i=i.concat(this.findItemsFromView(c,e))}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},e.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,tOt.sE)(t.views,(function(t){return e.getViewWithGeometry(t)}))},e.prototype.getItemsAfterProcess=function(t){var e=this.getTooltipCfg().customItems,n=e||function(t){return t};return n(t)},e}(_Zt),TZt=DZt,ZZt={};function FZt(t){return ZZt[t.toLowerCase()]}function jZt(t,e){ZZt[t.toLowerCase()]=e}var IZt={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},RZt={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},LZt={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function NZt(t,e,n){var r=RZt[t];return r&&((0,tOt.mf)(r)&&(r=r(e)),r=(0,tOt.b$)({},IZt,r),n)?r[n]:r}function BZt(t,e,n){var r=(0,tOt.U2)(t.get("origin"),"data",dOt),i=e.animation,o=function(t,e){return{delay:(0,tOt.mf)(t.delay)?t.delay(e):t.delay,easing:(0,tOt.mf)(t.easing)?t.easing(e):t.easing,duration:(0,tOt.mf)(t.duration)?t.duration(e):t.duration,callback:t.callback,repeat:t.repeat}}(e,r);if(i){var a=FZt(i);a&&a(t,o,n)}else t.animate(n.toAttrs,o)}var zZt="element-background",UZt=function(t){function e(e){var n=t.call(this,e)||this;n.labelShape=[],n.states=[];var r=e.shapeFactory,i=e.container,o=e.offscreenGroup,a=e.elementIndex,c=e.visible,l=void 0===c||c;return n.shapeFactory=r,n.container=i,n.offscreenGroup=o,n.visible=l,n.elementIndex=a,n}return(0,QCt.ZT)(e,t),e.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},e.prototype.update=function(t){var e=this.shapeFactory,n=this.shape;if(n){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(n,t);var r=this.getOffscreenGroup(),i=e.drawShape(this.shapeType,t,r);i.cfg.data=this.data,i.cfg.origin=t,i.cfg.element=this,this.syncShapeStyle(n,i,this.getStates(),this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var e=this.shapeFactory,n=this.shape;if(n){var r=this.getAnimateCfg("leave");r?BZt(n,r,{coordinate:e.coordinate,toAttrs:(0,QCt.pi)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e),e?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach((function(t){t.show()}))):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach((function(t){t.hide()})))},e.prototype.setState=function(t,e){var n=this,r=n.states,i=n.shapeFactory,o=n.model,a=n.shape,c=n.shapeType,l=r.indexOf(t);if(e){if(l>-1)return;r.push(t),"active"!==t&&"selected"!==t||null==a||a.toFront()}else{if(-1===l)return;if(r.splice(l,1),"active"===t||"selected"===t){var u=this.geometry,s=u.sortZIndex,f=u.zIndexReversed?this.geometry.elements.length-this.elementIndex:this.elementIndex;s?a.setZIndex(f):a.set("zIndex",f)}}var h=i.drawShape(c,o,this.getOffscreenGroup());r.length?this.syncShapeStyle(a,h,r,null):this.syncShapeStyle(a,h,["reset"],null),h.remove(!0);var d={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",d),vAt(this.shape,"statechange",d)},e.prototype.clearStates=function(){var t=this,e=this.states;(0,tOt.S6)(e,(function(e){t.setState(e,!1)})),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,n={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(n=t.getCanvasBBox()),e&&e.forEach((function(t){var e=t.getCanvasBBox();n.x=Math.min(e.x,n.x),n.y=Math.min(e.y,n.y),n.minX=Math.min(e.minX,n.minX),n.minY=Math.min(e.minY,n.minY),n.maxX=Math.max(e.maxX,n.maxX),n.maxY=Math.max(e.maxY,n.maxY)})),n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,r=t.shapeFactory,i=n.stateOption,o=r.defaultShapeType,a=r.theme[e]||r.theme[o];this.statesStyle=(0,tOt.b$)({},a,i)}return this.statesStyle},e.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),r=(0,tOt.U2)(n,[t,"style"],{}),i=r[e]||r;return(0,tOt.mf)(i)?i(this):i},e.prototype.getAnimateCfg=function(t){var e=this,n=this.animate;if(n){var r=n[t];return r?(0,QCt.pi)((0,QCt.pi)({},r),{callback:function(){var t;(0,tOt.mf)(r.callback)&&r.callback(),null===(t=e.geometry)||void 0===t||t.emit(nOt.AFTER_DRAW_ANIMATE)}}):r}return null},e.prototype.drawShape=function(t,e){var n;void 0===e&&(e=!1);var r=this,i=r.shapeFactory,o=r.container,a=r.shapeType;if(this.shape=i.drawShape(a,t,o),this.shape){this.setShapeInfo(this.shape,t);var c=this.shape.cfg.name;c?(0,tOt.HD)(c)&&(this.shape.cfg.name=["element",c]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var l=e?"enter":"appear",u=this.getAnimateCfg(l);u&&(null===(n=this.geometry)||void 0===n||n.emit(nOt.BEFORE_DRAW_ANIMATE),BZt(this.shape,u,{coordinate:i.coordinate,toAttrs:(0,QCt.pi)({},this.shape.attr())}))}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,e){var n=this;(t.cfg.origin=e,t.cfg.element=this,t.isGroup())&&t.get("children").forEach((function(t){n.setShapeInfo(t,e)}))},e.prototype.syncShapeStyle=function(t,e,n,r,i){var o,a=this;if(void 0===n&&(n=[]),void 0===i&&(i=0),t&&e){var c=t.get("clipShape"),l=e.get("clipShape");if(this.syncShapeStyle(c,l,n,r),t.isGroup())for(var u=t.get("children"),s=e.get("children"),f=0;f<u.length;f++)this.syncShapeStyle(u[f],s[f],n,r,i+f);else{if(!(0,tOt.xb)(n)&&!(0,tOt.Xy)(n,["reset"])){var h=t.get("name");(0,tOt.kJ)(h)&&(h=h[1]),(0,tOt.S6)(n,(function(t){if(e.get("name")!==zZt){var n=a.getStateStyle(t,h||i);e.attr(n)}}))}var d=hDt(t,e);this.animate?r?(null===(o=this.geometry)||void 0===o||o.emit(nOt.BEFORE_DRAW_ANIMATE),BZt(t,r,{coordinate:this.shapeFactory.coordinate,toAttrs:d,shapeModel:this.model})):(0,tOt.xb)(n)?t.attr(d):(t.stopAnimate(),t.animate(d,{duration:300})):t.attr(d)}}},e.prototype.getShapeType=function(t){var e=(0,tOt.U2)(t,"shape");return(0,tOt.kJ)(e)?e[0]:e},e}(SOt),HZt=UZt,WZt={},VZt={};function GZt(t,e){WZt[t.toLowerCase()]=e}function XZt(t,e){VZt[t.toLowerCase()]=e}var qZt={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(t,e){var n=this.getShape(t);return n.getPoints?n.getPoints(e):this.getDefaultPoints(e)},getShape:function(t){var e=this[t]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getDefaultStyle:function(t){return(0,tOt.U2)(t,[this.defaultShapeType,"default","style"],{})},getMarker:function(t,e){var n=this.getShape(t);if(!n.getMarker){var r=this.defaultShapeType;n=this.getShape(r)}var i=this.theme,o=(0,tOt.U2)(i,[t,"default"],{}),a=n.getMarker(e);return(0,tOt.b$)({},o,a)},drawShape:function(t,e,n){return this.getShape(t).draw(e,n)}},YZt={coordinate:null,parsePath:function(t){var e=this.coordinate,n=(0,L_t.tr)(t);return n=e.isPolar?QDt(e,n):function(t,e){var n=[];return(0,tOt.S6)(e,(function(e){switch(e[0].toLowerCase()){case"m":case"l":case"c":n.push(XDt(e,t));break;case"a":n.push(qDt(e,t));break;default:n.push(e)}})),n}(e,n),n},parsePoint:function(t){return this.coordinate.convert(t)},parsePoints:function(t){var e=this.coordinate;return t.map((function(t){return e.convert(t)}))},draw:function(t,e){}},$Zt={};function KZt(t,e){var n=(0,tOt.jC)(t),r=(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({},qZt),e),{geometryType:t});return $Zt[n]=r,r}function JZt(t,e,n){var r=(0,tOt.jC)(t),i=$Zt[r],o=(0,QCt.pi)((0,QCt.pi)({},YZt),n);return i[e]=o,o}function QZt(t){var e=(0,tOt.jC)(t);return $Zt[e]}function tFt(t,e){return(0,tOt.G)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],(function(n){return!(0,tOt.Xy)(t[n],e[n])}))}function eFt(t){return(0,tOt.kJ)(t)?t:t.split("*")}function nFt(t,e){for(var n=[],r=[],i=[],o=new Map,a=0;a<e.length;a++){var c=e[a];t[c]?r.push(c):n.push(c),o.set(c,!0)}return Object.keys(t).forEach((function(t){o.has(t)||i.push(t)})),{added:n,updated:r,removed:i}}var rFt=function(t){function e(e){var n=t.call(this,e)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var r=e.container,i=e.labelsContainer,o=e.coordinate,a=e.data,c=e.sortable,l=void 0!==c&&c,u=e.visible,s=void 0===u||u,f=e.theme,h=e.scales,d=void 0===h?{}:h,p=e.scaleDefs,v=void 0===p?{}:p,g=e.intervalPadding,m=e.dodgePadding,y=e.maxColumnWidth,b=e.minColumnWidth,x=e.columnWidthRatio,w=e.roseWidthRatio,S=e.multiplePieWidthRatio,k=e.zIndexReversed,C=e.sortZIndex,O=e.useDeferredLabel;return n.container=r,n.labelsContainer=i,n.coordinate=o,n.data=a,n.sortable=l,n.visible=s,n.userTheme=f,n.scales=d,n.scaleDefs=v,n.intervalPadding=g,n.dodgePadding=m,n.maxColumnWidth=y,n.minColumnWidth=b,n.columnWidthRatio=x,n.roseWidthRatio=w,n.multiplePieWidthRatio=S,n.zIndexReversed=k,n.sortZIndex=C,n.useDeferredLabel=O?"number"==typeof O?O:1/0:null,n}return(0,QCt.ZT)(e,t),e.prototype.position=function(t){var e=t;(0,tOt.PO)(t)||(e={fields:eFt(t)});var n=(0,tOt.U2)(e,"fields");return 1===n.length&&(n.unshift("1"),(0,tOt.t8)(e,"fields",n)),(0,tOt.t8)(this.attributeOption,"position",e),this},e.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},e.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},e.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},e.prototype.adjust=function(t){var e=t;return((0,tOt.HD)(t)||(0,tOt.PO)(t))&&(e=[t]),(0,tOt.S6)(e,(function(t,n){(0,tOt.Kn)(t)||(e[n]={type:t})})),this.adjustOption=e,this},e.prototype.style=function(t,e){if((0,tOt.HD)(t)){var n=eFt(t);this.styleOption={fields:n,callback:e}}else{var r=t,i=(n=r.fields,r.callback),o=r.cfg;this.styleOption=n||i||o?t:{cfg:t}}return this},e.prototype.tooltip=function(t,e){if((0,tOt.HD)(t)){var n=eFt(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},e.prototype.animate=function(t){return this.animateOption=t,this},e.prototype.label=function(t,e,n){if((0,tOt.HD)(t)){var r={},i=eFt(t);r.fields=i,(0,tOt.mf)(e)?r.callback=e:(0,tOt.PO)(e)&&(r.cfg=e),n&&(r.cfg=n),this.labelOption=r}else this.labelOption=t;return this},e.prototype.state=function(t){return this.stateOption=t,this},e.prototype.customInfo=function(t){return this.customOption=t,this},e.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(t){void 0===t&&(t={});var e=t.data,n=t.isDataChanged,r=t.isCoordinateChanged,i=this.attributeOption,o=this.lastAttributeOption;(0,tOt.Xy)(i,o)?!e||!n&&(0,tOt.Xy)(e,this.data)?this.setCfg(t):(this.setCfg(t),this.initAttributes(),this.processData(e)):this.init(t),this.adjustScale(),this.isCoordinateChanged=r},e.prototype.paint=function(t){var e=this;void 0===t&&(t=!1),this.animateOption&&(this.animateOption=(0,tOt.b$)({},NZt(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[],this.getOffscreenGroup().clear();var n=this.beforeMappingData,r=this.beforeMapping(n);this.dataArray=new Array(r.length);for(var i=0;i<r.length;i++){var o=r[i];this.dataArray[i]=this.mapping(o)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var a=this.container,c=this.type,l=this.coordinate,u=(0,tOt.U2)(this.animateOption,"appear"),s=this.getYScale(),f=l.convert({x:0,y:s.scale(this.getYMinValue())});!function(t,e,n,r,i){if(LZt[n]){var o=LZt[n](r),a=FZt((0,tOt.U2)(o,"animation",""));if(a){var c=(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({},IZt.appear),o),e);t.stopAnimate(),a(t,c,{coordinate:r,minYPoint:i,toAttrs:null})}}}(a,u,c,l,f)}if(this.labelOption){var h=this.useDeferredLabel,d=function(){return e.renderLabels((0,tOt.xH)(e.dataArray),t)}.bind(this);if("number"==typeof h){var p="number"==typeof h&&h!==1/0?h:0;if(window.requestIdleCallback){var v=p&&p!==1/0?{timeout:p}:void 0;window.requestIdleCallback(d,v)}else setTimeout(d,p)}else d()}this.lastAttributeOption=(0,QCt.pi)({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,r=t.offscreenGroup;e&&e.clear(),n&&n.clear(),r&&r.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},e.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,t.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var t=[];return(0,tOt.S6)(this.attributes,(function(e){hOt.includes(e.type)&&t.push(e)})),t},e.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,tOt.xb)(n.scales)&&(e=n.values[0]),e},e.prototype.getAttributeValues=function(t,e){for(var n=[],r=t.scales,i=0,o=r.length;i<o;i++){var a=r[i],c=a.field;a.isIdentity?n.push(a.values):n.push(e[c])}return t.mapping.apply(t,(0,QCt.ev)([],(0,QCt.CR)(n),!1))},e.prototype.getAdjust=function(t){return this.adjusts[t]},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.getData=function(){return this.data},e.prototype.getShapeMarker=function(t,e){return this.getShapeFactory().getMarker(t,e)},e.prototype.getElementsBy=function(t){return this.elements.filter((function(e){return t(e)}))},e.prototype.getElements=function(){return this.elements},e.prototype.getElementId=function(t){var e=(t=(0,tOt.kJ)(t)?t[0]:t)[dOt];if(this.idFields.length){for(var n=e[this.idFields[0]],r=1;r<this.idFields.length;r++)n+="-"+e[this.idFields[r]];return n}var i,o,a=this.type,c=this.getXScale(),l=this.getYScale(),u=c.field||"x",s=e[l.field||"y"];i="identity"===c.type?c.values[0]:e[u],o="interval"===a||"schema"===a?"".concat(i):"line"===a||"area"===a||"path"===a?a:"".concat(i,"-").concat(s);for(var f=this.groupScales,h=(r=0,f.length);r<h;r++){var d=f[r].field;o="".concat(o,"-").concat(e[d])}var p=this.getAdjust("dodge");if(p){var v=p.dodgeBy;v&&(o="".concat(o,"-").concat(e[v]))}return this.getAdjust("jitter")&&(o="".concat(o,"-").concat(t.x,"-").concat(t.y)),o},e.prototype.getScaleFields=function(){var t=[],e=new Map,n=this,r=n.attributeOption,i=n.labelOption,o=n.tooltipOption;for(var a in r)if(r.hasOwnProperty(a)){var c=r[a];c.fields?vDt(c.fields,t,e):c.values&&vDt(c.values,t,e)}return i&&i.fields&&vDt(i.fields,t,e),(0,tOt.Kn)(o)&&o.fields&&vDt(o.fields,t,e),t},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.elements,r=0,i=n.length;r<i;r++){n[r].changeVisible(e)}e?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getFields=function(){var t=new Map,e=[];return Object.values(this.attributeOption).forEach((function(n){((null==n?void 0:n.fields)||[]).forEach((function(n){t.has(n)||e.push(n),t.set(n,!0)}))}),[]),e},e.prototype.getGroupFields=function(){for(var t=[],e=new Map,n=0,r=hOt.length;n<r;n++){var i=hOt[n],o=this.attributeOption[i];o&&o.fields&&vDt(o.fields,t,e)}return t},e.prototype.getXYFields=function(){var t=(0,QCt.CR)(this.attributeOption.position.fields,2);return[t[0],t[1]]},e.prototype.getXField=function(){return(0,tOt.U2)(this.getXYFields(),[0])},e.prototype.getYField=function(){return(0,tOt.U2)(this.getXYFields(),[1])},e.prototype.getShapes=function(){return this.elements.map((function(t){return t.shape}))},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,r=0;r<t.length;r++){t[r].sort((function(t,r){return e.translate(t[dOt][n])-e.translate(r[dOt][n])}))}this.hasSorted=!0},e.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var t=this.shapeType;if(QZt(t))return this.shapeFactory||(this.shapeFactory=(0,tOt.d9)(QZt(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale();return{x:this.normalizeValues(t[e.field],e),y:n?this.normalizeValues(t[n.field],n):t.y?t.y:.1,y0:n?n.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(t,e,n){void 0===n&&(n=!1);var r=this.container,i=this.getDrawCfg(t),o=this.getShapeFactory(),a=new HZt({shapeFactory:o,container:r,offscreenGroup:this.getOffscreenGroup(),elementIndex:e});return a.animate=this.animateOption,a.geometry=this,a.draw(i,n),a},e.prototype.getDrawCfg=function(t){var e=t[dOt],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},r=t.shape;!r&&this.getShapeFactory()&&(r=this.getShapeFactory().defaultShapeType),n.shape=r;var i=this.theme.geometries[this.shapeType];n.defaultStyle=(0,tOt.U2)(i,[r,"default"],{}).style,!n.defaultStyle&&this.getShapeFactory()&&(n.defaultStyle=this.getShapeFactory().getDefaultStyle(i));var o=this.styleOption;return o&&(n.style=this.getStyleCfg(o,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},e.prototype.updateElements=function(t,e){var n,r,i,o,a,c;void 0===e&&(e=!1);for(var l=new Map,u=[],s=new Map,f=0,h=0;h<t.length;h++)for(var d=t[h],p=0;p<d.length;p++){var v=d[p],g=this.getElementId(v),m=l.has(g)?"".concat(g,"-").concat(h,"-").concat(p):g;u.push(m),l.set(m,v),s.set(m,f),f++}this.elements=new Array(f);var y=nFt(this.lastElementsMap,u),b=y.added,x=y.updated,w=y.removed;try{for(var S=(0,QCt.XA)(b),k=S.next();!k.done;k=S.next()){g=k.value,v=l.get(g),h=s.get(g);var C=this.createElement(v,h,e);this.elements[h]=C,this.elementsMap[g]=C,C.shape&&C.shape.set("zIndex",this.zIndexReversed?this.elements.length-h:h)}}catch(D){n={error:D}}finally{try{k&&!k.done&&(r=S.return)&&r.call(S)}finally{if(n)throw n.error}}try{for(var O=(0,QCt.XA)(x),E=O.next();!E.done;E=O.next()){g=E.value,C=this.lastElementsMap[g],v=l.get(g);var M=this.getDrawCfg(v),A=C.getModel();h=s.get(g);(this.isCoordinateChanged||tFt(M,A))&&(C.animate=this.animateOption,C.update(M)),this.elements[h]=C,this.elementsMap[g]=C,C.shape&&C.shape.set("zIndex",this.zIndexReversed?this.elements.length-h:h)}}catch(T){i={error:T}}finally{try{E&&!E.done&&(o=O.return)&&o.call(O)}finally{if(i)throw i.error}}this.container&&this.container.sort();try{for(var P=(0,QCt.XA)(w),_=P.next();!_.done;_=P.next()){g=_.value;(C=this.lastElementsMap[g]).animate=this.animateOption,C.destroy()}}catch(Z){a={error:Z}}finally{try{_&&!_.done&&(c=P.return)&&c.call(P)}finally{if(a)throw a.error}}},e.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,r=t.type,i=n.type,o=n.isTransposed,a=(0,tOt.U2)(e,["cfg","type"]);return a||(a="polar"===i?o?"pie":"polar":"theta"===i?"pie":"interval"===r||"polygon"===r?"interval":"base"),a},e.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max;return e>=0?e:n<=0?n:0},e.prototype.createAttrOption=function(t,e,n){if((0,tOt.UM)(e)||(0,tOt.Kn)(e))(0,tOt.Kn)(e)&&(0,tOt.Xy)(Object.keys(e),["values"])?(0,tOt.t8)(this.attributeOption,t,{fields:e.values}):(0,tOt.t8)(this.attributeOption,t,e);else{var r={};(0,tOt.hj)(e)?r.values=[e]:r.fields=eFt(e),n&&((0,tOt.mf)(n)?r.callback=n:r.values=n),(0,tOt.t8)(this.attributeOption,t,r)}},e.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,r=e.attributeOption,i=e.theme,o=e.shapeType;this.groupScales=[];var a={},c=function(e){if(r.hasOwnProperty(e)){var c=r[e];if(!c)return{value:void 0};var l=(0,QCt.pi)({},c),u=l.callback,s=l.values,f=l.fields,h=(void 0===f?[]:f).map((function(n){var r=t.scales[n];!a[n]&&hOt.includes(e)&&("cat"===SDt(r,(0,tOt.U2)(t.scaleDefs,n),e,t.type)&&(t.groupScales.push(r),a[n]=!0));return r}));l.scales=h,"position"!==e&&1===h.length&&"identity"===h[0].type?l.values=h[0].values:u||s||("size"===e?l.values=i.sizes:"shape"===e?l.values=i.shapes[o]||[]:"color"===e&&(h.length?l.values=h[0].values.length<=10?i.colors10:i.colors20:l.values=i.colors10));var d=JMt(e);n[e]=new d(l)}};for(var l in r){var u=c(l);if("object"==typeof u)return u.value}},e.prototype.processData=function(t){var e,n;this.hasSorted=!1;for(var r=this.getAttribute("position").scales.filter((function(t){return t.isCategory})),i=this.groupData(t),o=[],a=0,c=i.length;a<c;a++){for(var l=i[a],u=[],s=0,f=l.length;s<f;s++){var h=l[s],d={};for(var p in h)d[p]=h[p];d[dOt]=h;try{for(var v=(e=void 0,(0,QCt.XA)(r)),g=v.next();!g.done;g=v.next()){var m=g.value,y=m.field;d[y]=m.translate(d[y])}}catch(x){e={error:x}}finally{try{g&&!g.done&&(n=v.return)&&n.call(v)}finally{if(e)throw e.error}}u.push(d)}o.push(u)}var b=this.adjustData(o);return this.beforeMappingData=b,b},e.prototype.adjustData=function(t){var e=this.adjustOption,n=this,r=n.intervalPadding,i=n.dodgePadding,o=n.theme,a=this.maxColumnWidth||o.maxColumnWidth,c=this.minColumnWidth||o.minColumnWidth,l=this.columnWidthRatio||o.columnWidthRatio,u=t;if(e){var s=this.getXScale(),f=this.getYScale(),h=s.field,d=f?f.field:null,p=mDt(this.coordinate),v=s.values.length,g=this.getAttribute("size"),m=void 0;g&&(m=g.values[0]);for(var y=0,b=e.length;y<b;y++){var x=e[y],w=(0,QCt.pi)({xField:h,yField:d,intervalPadding:r,dodgePadding:i,xDimensionLength:p,groupNum:v,defaultSize:m,maxColumnWidth:a,minColumnWidth:c,columnWidthRatio:l},x),S=x.type;if("dodge"===S){var k=[];if(s.isCategory||"identity"===s.type)k.push("x");else{if(f)throw new Error("dodge is not support linear attribute, please use category attribute!");k.push("y")}w.adjustNames=k,w.dodgeRatio=l}else if("stack"===S){var C=this.coordinate;if(!f){w.height=C.getHeight();var O=this.getDefaultValue("size")||3;w.size=O}!C.isTransposed&&(0,tOt.UM)(w.reverseOrder)&&(w.reverseOrder=!0)}var E=MOt(S);w.dimValuesMap={},s&&s.values&&(w.dimValuesMap[s.field]=s.values.map((function(t){return s.translate(t)})));var M=new E(w);u=M.process(u),this.adjusts[S]=M}}return u},e.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,r={},i=[],o=0;o<e.length;o++){var a=e[o].field;i.push(a),(0,tOt.U2)(n,[a,"values"])&&(r[a]=n[a].values)}return function(t,e,n){var r,i;if(void 0===n&&(n={}),!e)return[t];var o=(0,tOt.Ms)(t,e),a=[];if(1===e.length&&n[e[0]]){var c=n[e[0]];try{for(var l=(0,QCt.XA)(c),u=l.next();!u.done;u=l.next()){var s=u.value,f=o["_".concat(s)];f&&a.push(f)}}catch(p){r={error:p}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}else for(var h in o)if(o.hasOwnProperty(h)){var d=o[h];a.push(d)}return a}(t,i,r)},e.prototype.updateStackRange=function(t,e){for(var n=(0,tOt.xH)(e),r=t.field,i=t.min,o=t.max,a=0;a<n.length;a++){var c=n[a],l=Math.min.apply(null,c[r]),u=Math.max.apply(null,c[r]);l<i&&(i=l),u>o&&(o=u)}var s=this.scaleDefs,f={};i<t.min&&!(0,tOt.U2)(s,[r,"min"])&&(f.min=i),o>t.max&&!(0,tOt.U2)(s,[r,"max"])&&(f.max=o),t.change(f)},e.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,r=e.length;n<r;n++){var i=e[n];this.generateShapePoints(i);var o=e[n+1];o&&(this.generateShapePoints(o),i[0].nextPoints=o[0].points)}return e},e.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),r=0;r<t.length;r++){var i=t[r],o=this.createShapePointsCfg(i),a=n?this.getAttributeValues(n,i):null,c=e.getShapePoints(a,o);i.points=c}},e.prototype.normalizeValues=function(t,e){var n=[];if((0,tOt.kJ)(t))for(var r=0;r<t.length;r++){var i=t[r];n.push(e.scale(i))}else n=e.scale(t);return n},e.prototype.mapping=function(t){for(var e=this.attributes,n=[],r=0;r<t.length;r++){var i=t[r],o={_origin:i[dOt],points:i.points,nextPoints:i.nextPoints};for(var a in e)if(e.hasOwnProperty(a)){var c=e[a],l=c.names,u=this.getAttributeValues(c,i);if(l.length>1)for(var s=0;s<u.length;s+=1){var f=u[s];o[l[s]]=(0,tOt.kJ)(f)&&1===f.length?f[0]:f}else o[l[0]]=1===u.length?u[0]:u}this.convertPoint(o),n.push(o)}return n},e.prototype.convertPoint=function(t){var e,n,r,i=t.x,o=t.y,a=this.coordinate;if((0,tOt.kJ)(i)&&(0,tOt.kJ)(o)){e=[],n=[];for(var c=0,l=0,u=i.length,s=o.length;c<u&&l<s;c+=1,l+=1)r=a.convert({x:i[c],y:o[l]}),e.push(r.x),n.push(r.y)}else if((0,tOt.kJ)(o)){n=[];for(var f=0;f<o.length;f++){var h=o[f];r=a.convert({x:i,y:h}),e&&e!==r.x?((0,tOt.kJ)(e)||(e=[e]),e.push(r.x)):e=r.x,n.push(r.y)}}else if((0,tOt.kJ)(i)){e=[];for(f=0;f<i.length;f++){var d=i[f];r=a.convert({x:d,y:o}),n&&n!==r.y?((0,tOt.kJ)(n)||(n=[n]),n.push(r.y)):n=r.y,e.push(r.x)}}else{var p=a.convert({x:i,y:o});e=p.x,n=p.y}t.x=e,t.y=n},e.prototype.getStyleCfg=function(t,e){var n=t.fields,r=void 0===n?[]:n,i=t.callback,o=t.cfg;if(o)return o;var a=r.map((function(t){return e[t]}));return i.apply(void 0,(0,QCt.ev)([],(0,QCt.CR)(a),!1))},e.prototype.setCfg=function(t){var e=this,n=t.coordinate,r=t.data,i=t.theme,o=t.scaleDefs;n&&(this.coordinate=n),r&&(this.data=r),o&&(this.scaleDefs=o,this.idFields=[],(0,tOt.S6)(o,(function(t,n){t&&t.key&&e.idFields.push(n)}))),i&&(this.theme=this.userTheme?(0,tOt.b$)({},i,this.userTheme):i)},e.prototype.renderLabels=function(t,e){return void 0===e&&(e=!1),(0,QCt.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,c,l,u,s,f,h,d,p=this;return(0,QCt.Jh)(this,(function(v){switch(v.label){case 0:return n=this.geometryLabel,this.emit(nOt.BEFORE_RENDER_LABEL),n||(r=this.getLabelType(),i=function(t){return WZt[t.toLowerCase()]}(r),n=new i(this),this.geometryLabel=n),[4,n.render(t,e)];case 1:v.sent(),o=n.labelsRenderer.shapesMap,a=new Map,(0,tOt.S6)(o,(function(t,e){for(var n=t.getChildren()||[],r=0;r<n.length;r++){var i=n[r],o=p.elementsMap[i.get("elementId")||e.split(" ")[0]];if(o){i.cfg.name=["element","label"],i.cfg.element=o;var c=a.get(o)||new Set;c.add(t),a.set(o,c)}}}));try{for(c=(0,QCt.XA)(a.entries()),l=c.next();!l.done;l=c.next())u=(0,QCt.CR)(l.value,2),s=u[0],f=u[1],s.labelShape=(0,QCt.ev)([],(0,QCt.CR)(f),!1)}catch(g){h={error:g}}finally{try{l&&!l.done&&(d=c.return)&&d.call(c)}finally{if(h)throw h.error}}return this.emit(nOt.AFTER_RENDER_LABEL),[2]}}))}))},e.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===(0,tOt.U2)(this.animateOption,"appear")||(0,tOt.U2)(this.animateOption,"appear")&&void 0===(0,tOt.U2)(this.animateOption,["appear","animation"]))},e}(SOt),iFt=rFt,oFt=rAt.vs;function aFt(t,e,n){var r=oFt(t.getMatrix(),[["t",e,n]]);t.setMatrix(r)}function cFt(t,e){var n=function(t,e){var n=t.attr(),r=n.x,i=n.y;return oFt(t.getMatrix(),[["t",-r,-i],["r",e],["t",r,i]])}(t,e);t.setMatrix(n)}function lFt(t){return t.find((function(t){return"text"===t.get("type")}))}function uFt(t,e,n){void 0===n&&(n=[0,0,0,0]);var r=t&&t.getChildren()[0];if(r){var i=r.clone();(null==e?void 0:e.rotate)&&cFt(i,-e.rotate);var o=i.getCanvasBBox(),a=o.x,c=o.y,l=o.width,u=o.height;i.destroy();var s=n;return(0,tOt.UM)(s)?s=[2,2,2,2]:(0,tOt.hj)(s)&&(s=new Array(4).fill(s)),{x:a-s[3],y:c-s[0],width:l+s[1]+s[3],height:u+s[0]+s[2],rotation:(null==e?void 0:e.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function sFt(t,e){var n=t.getBBox();return(0,tOt.G)(e,(function(t){var e=t.getBBox();return function(t,e,n){return void 0===n&&(n=0),Math.max(0,Math.min(t.x+t.width+n,e.x+e.width+n)-Math.max(t.x-n,e.x-n))*Math.max(0,Math.min(t.y+t.height+n,e.y+e.height+n)-Math.max(t.y-n,e.y-n))}(n,e,2)>0}))}function fFt(t,e,n){var r=n.data,i=n.origin,o=n.animateCfg,a=n.coordinate,c=(0,tOt.U2)(o,"update");t.set("data",r),t.set("origin",i),t.set("animateCfg",o),t.set("coordinate",a),t.set("visible",e.get("visible")),(t.getChildren()||[]).forEach((function(l,u){var s=e.getChildByIndex(u);if(s){l.set("data",r),l.set("origin",i),l.set("animateCfg",o),l.set("coordinate",a);var f=hDt(l,s);c?BZt(l,c,{toAttrs:f,coordinate:a}):l.attr(f),s.isGroup()&&fFt(l,s,n)}else t.removeChild(l),l.remove(!0)})),(0,tOt.S6)(e.getChildren(),(function(e,n){n>=t.getCount()&&(e.destroyed||t.add(e))}))}var hFt=function(){function t(t){this.shapesMap={};var e=t.layout,n=t.container;this.layout=e,this.container=n}return t.prototype.render=function(t,e,n){return void 0===n&&(n=!1),(0,QCt.mG)(this,void 0,void 0,(function(){var r,i,o,a,c,l,u,s,f=this;return(0,QCt.Jh)(this,(function(h){switch(h.label){case 0:if(r={},i=this.createOffscreenGroup(),!t.length)return[3,2];try{for(o=(0,QCt.XA)(t),a=o.next();!a.done;a=o.next())(c=a.value)&&(r[c.id]=this.renderLabel(c,i))}catch(d){u={error:d}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(u)throw u.error}}return[4,this.doLayout(t,e,r)];case 1:h.sent(),this.renderLabelLine(t,r),this.renderLabelBackground(t,r),this.adjustLabel(t,r),h.label=2;case 2:return l=this.shapesMap,(0,tOt.S6)(r,(function(t,e){if(t.destroyed)delete r[e];else{if(l[e]){var i=t.get("data"),o=t.get("origin"),a=t.get("coordinate"),c=t.get("animateCfg"),u=l[e];fFt(u,r[e],{data:i,origin:o,animateCfg:c,coordinate:a}),r[e]=u}else{if(f.container.destroyed)return;f.container.add(t);var s=(0,tOt.U2)(t.get("animateCfg"),n?"enter":"appear");s&&BZt(t,s,{toAttrs:(0,QCt.pi)({},t.attr()),coordinate:t.get("coordinate")})}delete l[e]}})),(0,tOt.S6)(l,(function(t){var e=(0,tOt.U2)(t.get("animateCfg"),"leave");e?BZt(t,e,{toAttrs:null,coordinate:t.get("coordinate")}):t.remove(!0)})),this.shapesMap=r,i.destroy(),[2]}}))}))},t.prototype.clear=function(){this.container.clear(),this.shapesMap={}},t.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},t.prototype.renderLabel=function(t,e){var n,r=t.id,i=t.elementId,o=t.data,a=t.mappingData,c=t.coordinate,l=t.animate,u=t.content,s={id:r,elementId:i,capture:t.capture,data:o,origin:(0,QCt.pi)((0,QCt.pi)({},a),{data:a[dOt]}),coordinate:c},f=e.addGroup((0,QCt.pi)({name:"label",animateCfg:!1!==this.animate&&null!==l&&!1!==l&&(0,tOt.b$)({},this.animate,l)},s));if(u.isGroup&&u.isGroup()||u.isShape&&u.isShape()){var h=u.getCanvasBBox(),d=h.width,p=h.height,v=(0,tOt.U2)(t,"textAlign","left"),g=t.x;"center"===v?g-=d/2:"right"!==v&&"end"!==v||(g-=d),aFt(u,g,t.y-p/2),n=u,f.add(u)}else{var m=(0,tOt.U2)(t,["style","fill"]);n=f.addShape("text",(0,QCt.pi)({attrs:(0,QCt.pi)((0,QCt.pi)({x:t.x,y:t.y,textAlign:t.textAlign,textBaseline:(0,tOt.U2)(t,"textBaseline","middle"),text:t.content},t.style),{fill:(0,tOt.Ft)(m)?t.color:m})},s))}return t.rotate&&cFt(n,t.rotate),f},t.prototype.doLayout=function(t,e,n){return(0,QCt.mG)(this,void 0,void 0,(function(){var r,i=this;return(0,QCt.Jh)(this,(function(o){switch(o.label){case 0:return this.layout?(r=(0,tOt.kJ)(this.layout)?this.layout:[this.layout],[4,Promise.all(r.map((function(r){var o=function(t){return VZt[t.toLowerCase()]}((0,tOt.U2)(r,"type",""));if(o){var a=[],c=[];return(0,tOt.S6)(n,(function(t,n){a.push(t),c.push(e[t.get("elementId")])})),o(t,a,c,i.region,r.cfg)}})))]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}}))}))},t.prototype.renderLabelLine=function(t,e){(0,tOt.S6)(t,(function(t){var n=(0,tOt.U2)(t,"coordinate");if(t&&n){var r=n.getCenter(),i=n.getRadius();if(t.labelLine){var o=(0,tOt.U2)(t,"labelLine",{}),a=t.id,c=o.path;if(!c){var l=lDt(r.x,r.y,i,t.angle);c=[["M",l.x,l.y],["L",t.x,t.y]]}var u=e[a];u.destroyed||u.addShape("path",{capture:!1,attrs:(0,QCt.pi)({path:c,stroke:t.color?t.color:(0,tOt.U2)(t,["style","fill"],"#000"),fill:null},o.style),id:a,origin:t.mappingData,data:t.data,coordinate:t.coordinate})}}}))},t.prototype.renderLabelBackground=function(t,e){(0,tOt.S6)(t,(function(t){var n=(0,tOt.U2)(t,"coordinate"),r=(0,tOt.U2)(t,"background");if(r&&n){var i=t.id,o=e[i];if(!o.destroyed){var a=o.getChildren()[0];if(a){var c=uFt(o,t,r.padding),l=c.rotation,u=(0,QCt._T)(c,["rotation"]),s=o.addShape("rect",{attrs:(0,QCt.pi)((0,QCt.pi)({},u),r.style||{}),id:i,origin:t.mappingData,data:t.data,coordinate:t.coordinate});if(s.setZIndex(-1),l){var f=a.getMatrix();s.setMatrix(f)}}}}}))},t.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},t.prototype.adjustLabel=function(t,e){(0,tOt.S6)(t,(function(t){if(t){var n=t.id,r=e[n];if(!r.destroyed){var i=r.findAll((function(t){return"path"!==t.get("type")}));(0,tOt.S6)(i,(function(e){e&&(t.offsetX&&e.attr("x",e.attr("x")+t.offsetX),t.offsetY&&e.attr("y",e.attr("y")+t.offsetY))}))}}}))},t}(),dFt=hFt;function pFt(t){var e=0;return(0,tOt.S6)(t,(function(t){e+=t})),e/t.length}var vFt=function(){function t(t){this.geometry=t}return t.prototype.getLabelItems=function(t){var e=this,n=[],r=this.getLabelCfgs(t);return(0,tOt.S6)(t,(function(t,i){var o=r[i];if(!o||(0,tOt.UM)(t.x)||(0,tOt.UM)(t.y))n.push(null);else{var a=(0,tOt.kJ)(o.content)?o.content:[o.content];o.content=a;var c=a.length;(0,tOt.S6)(a,(function(r,i){if((0,tOt.UM)(r)||""===r)n.push(null);else{var a=(0,QCt.pi)((0,QCt.pi)({},o),e.getLabelPoint(o,t,i));a.textAlign||(a.textAlign=e.getLabelAlign(a,i,c)),a.offset<=0&&(a.labelLine=null),n.push(a)}}))}})),n},t.prototype.render=function(t,e){return void 0===e&&(e=!1),(0,QCt.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,QCt.Jh)(this,(function(o){switch(o.label){case 0:return n=this.getLabelItems(t),r=this.getLabelsRenderer(),i=this.getGeometryShapes(),[4,r.render(n,i,e)];case 1:return o.sent(),[2]}}))}))},t.prototype.clear=function(){var t=this.labelsRenderer;t&&t.clear()},t.prototype.destroy=function(){var t=this.labelsRenderer;t&&t.destroy(),this.labelsRenderer=null},t.prototype.getCoordinate=function(){return this.geometry.coordinate},t.prototype.getDefaultLabelCfg=function(t,e){var n=this.geometry,r=n.type,i=n.theme;return"polygon"===r||"interval"===r&&"middle"===e||t<0&&!["line","point","path"].includes(r)?(0,tOt.U2)(i,"innerLabels",{}):(0,tOt.U2)(i,"labels",{})},t.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg(),r=e.type,i=e.theme;return"polygon"===r||t.offset<0&&!["line","point","path"].includes(r)?(0,tOt.b$)({},n,i.innerLabels,t):(0,tOt.b$)({},n,i.labels,t)},t.prototype.setLabelPosition=function(t,e,n,r){},t.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),n=this.getOffsetVector(t);return e.isTransposed?n[0]:n[1]},t.prototype.getLabelOffsetPoint=function(t,e,n){var r=t.offset,i=this.getCoordinate().isTransposed,o=i?"x":"y",a=i?1:-1,c={x:0,y:0};return c[o]=e>0||1===n?r*a:r*a*-1,c},t.prototype.getLabelPoint=function(t,e,n){var r=this.getCoordinate(),i=t.content.length;function o(e,n,r){void 0===r&&(r=!1);var i=e;return(0,tOt.kJ)(i)&&(i=1===t.content.length?r?pFt(i):i.length<=2?i[e.length-1]:pFt(i):i[n]),i}var a={content:t.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},c=(0,tOt.kJ)(e.shape)?e.shape[0]:e.shape,l="funnel"===c||"pyramid"===c;if("polygon"===this.geometry.type){var u=function(t,e){if((0,tOt.hj)(t)&&(0,tOt.hj)(e))return[t,e];if(aDt(t)||aDt(e))return[cDt(t),cDt(e)];for(var n,r,i=-1,o=0,a=0,c=t.length-1,l=0;++i<t.length;)n=c,c=i,l+=r=t[n]*e[c]-t[c]*e[n],o+=(t[n]+t[c])*r,a+=(e[n]+e[c])*r;return[o/(l*=3),a/l]}(e.x,e.y);a.x=u[0],a.y=u[1]}else"interval"!==this.geometry.type||l?(a.x=o(e.x,n),a.y=o(e.y,n)):(a.x=o(e.x,n,!0),a.y=o(e.y,n));if(l){var s=(0,tOt.U2)(e,"nextPoints"),f=(0,tOt.U2)(e,"points");if(s){var h=r.convert(f[1]),d=r.convert(s[1]);a.x=(h.x+d.x)/2,a.y=(h.y+d.y)/2}else if("pyramid"===c){h=r.convert(f[1]),d=r.convert(f[2]);a.x=(h.x+d.x)/2,a.y=(h.y+d.y)/2}}t.position&&this.setLabelPosition(a,e,n,t.position);var p=this.getLabelOffsetPoint(t,n,i);return a.start={x:a.x,y:a.y},a.x+=p.x,a.y+=p.y,a.color=e.color,a},t.prototype.getLabelAlign=function(t,e,n){var r="center";if(this.getCoordinate().isTransposed){var i=t.offset;r=i<0?"right":0===i?"center":"left",n>1&&0===e&&("right"===r?r="left":"left"===r&&(r="right"))}return r},t.prototype.getLabelId=function(t){var e=this.geometry,n=e.type,r=e.getXScale(),i=e.getYScale(),o=t[dOt],a=e.getElementId(t);return"line"===n||"area"===n?a+=" ".concat(o[r.field]):"path"===n&&(a+=" ".concat(o[r.field],"-").concat(o[i.field])),a},t.prototype.getLabelsRenderer=function(){var t=this.geometry,e=t.labelsContainer,n=t.labelOption,r=t.canvasRegion,i=t.animateOption,o=this.geometry.coordinate,a=this.labelsRenderer;return a||(a=new dFt({container:e,layout:(0,tOt.U2)(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=a),a.region=r,a.animate=!!i&&NZt("label",o),a},t.prototype.getLabelCfgs=function(t){var e=this,n=this.geometry,r=n.labelOption,i=n.scales,o=n.coordinate,a=r,c=a.fields,l=a.callback,u=a.cfg,s=c.map((function(t){return i[t]})),f=[];return(0,tOt.S6)(t,(function(t,n){var r,i=t[dOt],a=e.getLabelText(i,s);if(l){var h=c.map((function(t){return i[t]}));if(r=l.apply(void 0,(0,QCt.ev)([],(0,QCt.CR)(h),!1)),(0,tOt.UM)(r))return void f.push(null)}var d=(0,QCt.pi)((0,QCt.pi)({id:e.getLabelId(t),elementId:e.geometry.getElementId(t),data:i,mappingData:t,coordinate:o},u),r);(0,tOt.mf)(d.position)&&(d.position=d.position(i,t,n));var p=e.getLabelOffset(d.offset||0),v=e.getDefaultLabelCfg(p,d.position);(d=(0,tOt.b$)({},v,d)).offset=e.getLabelOffset(d.offset||0);var g=d.content;(0,tOt.mf)(g)?d.content=g(i,t,n):(0,tOt.o8)(g)&&(d.content=a[0]),f.push(d)})),f},t.prototype.getLabelText=function(t,e){var n=[];return(0,tOt.S6)(e,(function(e){var r=t[e.field];r=(0,tOt.kJ)(r)?r.map((function(t){return e.getText(t)})):e.getText(r),(0,tOt.UM)(r)||""===r?n.push(null):n.push(r)})),n},t.prototype.getOffsetVector=function(t){void 0===t&&(t=0);var e=this.getCoordinate(),n=0;return(0,tOt.hj)(t)&&(n=t),e.isTransposed?e.applyMatrix(n,0):e.applyMatrix(0,n)},t.prototype.getGeometryShapes=function(){var t=this.geometry,e={};return(0,tOt.S6)(t.elementsMap,(function(t,n){e[n]=t.shape})),(0,tOt.S6)(t.getOffscreenGroup().getChildren(),(function(n){var r=t.getElementId(n.get("origin").mappingData);e[r]=n})),e},t}(),gFt=vFt;function mFt(t,e,n){if(!t)return n;var r;if(t.callback&&t.callback.length>1){var i=Array(t.callback.length-1).fill("");r=t.mapping.apply(t,(0,QCt.ev)([e],(0,QCt.CR)(i),!1)).join("")}else r=t.mapping(e).join("");return r||n}var yFt={hexagon:function(t,e,n){var r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]},bowtie:function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}},bFt=["line","cross","tick","plus","hyphen"];function xFt(t){var e=t.symbol;(0,tOt.HD)(e)&&yFt[e]&&(t.symbol=yFt[e])}function wFt(t){return t.startsWith($Ct.LEFT)||t.startsWith($Ct.RIGHT)?"vertical":"horizontal"}function SFt(t,e,n,r,i){var o=n.getScale(n.type);if(o.isCategory){var a=o.field,c=e.getAttribute("color"),l=e.getAttribute("shape"),u=t.getTheme().defaultColor,s=e.coordinate.isPolar;return o.getTicks().map((function(n,f){var h,d=n.text,p=n.value,v=d,g=o.invert(p),m=0===t.filterFieldData(a,[(h={},h[a]=g,h)]).length;(0,tOt.S6)(t.views,(function(t){var e;t.filterFieldData(a,[(e={},e[a]=g,e)]).length||(m=!0)}));var y=mFt(c,g,u),b=mFt(l,g,"point"),x=e.getShapeMarker(b,{color:y,isInPolar:s}),w=i;return(0,tOt.mf)(w)&&(w=w(v,f,(0,QCt.pi)({name:v,value:g},(0,tOt.b$)({},r,x)))),function(t,e){var n=t.symbol;if((0,tOt.HD)(n)&&-1!==bFt.indexOf(n)){var r=(0,tOt.U2)(t,"style",{}),i=(0,tOt.U2)(r,"lineWidth",1),o=r.stroke||r.fill||e;t.style=(0,tOt.b$)({},t.style,{lineWidth:i,stroke:o,fill:null})}}(x=(0,tOt.b$)({},r,x,pDt((0,QCt.pi)({},w),["style"])),y),w&&w.style&&(x.style=function(t,e){return(0,tOt.mf)(e)?e(t):(0,tOt.b$)({},t,e)}(x.style,w.style)),xFt(x),{id:g,name:v,value:g,marker:x,unchecked:m}}))}return[]}function kFt(t,e){var n=(0,tOt.U2)(t,["components","legend"],{});return(0,tOt.b$)({},(0,tOt.U2)(n,["common"],{}),(0,tOt.b$)({},(0,tOt.U2)(n,[e],{})))}function CFt(t){return!t&&(null==t||isNaN(t))}function OFt(t){if((0,tOt.kJ)(t))return CFt(t[1].y);var e=t.y;return(0,tOt.kJ)(e)?CFt(e[0]):CFt(e)}function EFt(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!0),!t.length||1===t.length&&!n)return[];if(e){for(var r=[],i=0,o=t.length;i<o;i++){OFt(l=t[i])||r.push(l)}return[r]}var a=[],c=[];for(i=0,o=t.length;i<o;i++){var l;OFt(l=t[i])?c.length&&((1!==c.length||n)&&a.push(c),c=[]):c.push(l)}return c.length&&a.push(c),a}function MFt(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var i=0===n?"M":"L";e.push([i,r.x,r.y])}}var o=t[0];return o&&(e.push(["L",o.x,o.y]),e.push(["z"])),e}function AFt(t){for(var e=t.length/2,n=[],r=[],i=0;i<t.length;i++)i<e?n.push(t[i]):r.push(t[i]);var o=JDt(n,!1),a=JDt(r,!1);r.length&&o.push(["L",r[0].x,r[0].y]),a.shift();var c=o.concat(a);return n.length&&c.push(["L",n[0].x,n[0].y]),c.push(["z"]),c}function PFt(t,e,n,r){void 0===r&&(r="");var i=t.style,o=void 0===i?{}:i,a=t.defaultStyle,c=t.color,l=t.size,u=(0,QCt.pi)((0,QCt.pi)({},a),o);return c&&(e&&(o.stroke||(u.stroke=c)),n&&(o.fill||(u.fill=c))),r&&(0,tOt.UM)(o[r])&&!(0,tOt.UM)(l)&&(u[r]=l),u}function _Ft(t){return(0,tOt.b$)({},{fill:"#CCD6EC",fillOpacity:.3},(0,tOt.U2)(t,["background","style"]))}function DFt(t){var e=t.x;return((0,tOt.kJ)(t.y)?t.y:[t.y]).map((function(t,n){return{x:(0,tOt.kJ)(e)?e[n]:e,y:t}}))}var TFt={line:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dot:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dash:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},smooth:function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]},hv:function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]},vh:function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]},hvh:function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]},vhv:function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}};function ZFt(t,e){var n=t.color;return{symbol:TFt[e],style:{lineWidth:2,r:6,stroke:n}}}function FFt(t,e,n,r,i){return 1===t.length?[["M",t[0].x,t[0].y-i.lineWidth/2],["L",t[0].x,t[0].y],["L",t[0].x,t[0].y+i.lineWidth/2]]:(n?(e&&t.length&&t.push({x:t[0].x,y:t[0].y}),o=JDt(t,!1,r)):(o=KDt(t,!1),e&&o.push(["Z"])),o);var o}function jFt(t,e,n,r,i,o){if(t.length){var a=t[0];return(0,tOt.kJ)(a.y)?function(t,e,n,r,i,o){var a=[],c=[];(0,tOt.S6)(t,(function(t){var e=DFt(t);a.push(e[1]),c.push(e[0])}));var l=FFt(a,e,r,i,o),u=FFt(c,e,r,i,o);return n?l:l.concat(u)}(t,e,n,r,i,o):FFt(t,e,r,i,o)}return[]}KZt("line",{defaultShapeType:"line"});(0,tOt.S6)(["line","dot","dash","smooth"],(function(t){JZt("line",t,{draw:function(e,n){var r,i="smooth"===t;if(i){var o=this.coordinate,a=o.start,c=o.end;r=[[a.x,c.y],[c.x,a.y]]}var l=function(t,e,n){for(var r=t.isStack,i=t.connectNulls,o=t.isInCircle,a=t.showSinglePoint,c=PFt(t,!0,!1,"lineWidth"),l=EFt(t.points,i,a),u=[],s=0,f=l.length;s<f;s++){var h=l[s];u=u.concat(jFt(h,o,r,e,n,c))}return c.path=u,c}(e,i,r);return n.addShape({type:"path",attrs:l,name:"line",capture:!i})},getMarker:function(e){return ZFt(e,t)}})}));var IFt={getLegendItems:SFt,translate:aFt,rotate:cFt,zoom:function(t,e){var n=t.getBBox(),r=(n.minX+n.maxX)/2,i=(n.minY+n.maxY)/2;t.applyToMatrix([r,i,1]);var o=oFt(t.getMatrix(),[["t",-r,-i],["s",e,e],["t",r,i]]);t.setMatrix(o)},transform:oFt,getAngle:fDt,getSectorPath:uDt,polarToCartesian:lDt,getDelegationObject:aTt,getTooltipItems:sZt,getMappingValue:mFt,getPath:jFt,getPathPoints:EFt},RFt="#000",LFt="#262626",NFt="#BFBFBF",BFt="#F0F0F0",zFt="#FFFFFF",UFt="#A6A6A6",HFt="#737373",WFt="#404040",VFt="#262626",GFt=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],XFt=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],qFt=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],YFt=function(t){void 0===t&&(t={});var e=t.paletteQualitative10,n=void 0===e?GFt:e,r=t.paletteQualitative20,i=void 0===r?XFt:r,o=t.brandColor,a={backgroundColor:"#141414",brandColor:void 0===o?n[0]:o,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:n,paletteQualitative20:i,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:qFt,fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"',axisLineBorderColor:WFt,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:UFt,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:LFt,axisTickLineBorderColor:WFt,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:VFt,axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:HFt,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:VFt,axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:HFt,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:GFt[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:UFt,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:HFt,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:HFt,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:UFt,legendPageNavigatorTextFontSize:12,sliderRailFillColor:VFt,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:HFt,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:BFt,sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:NFt,annotationArcBorderColor:VFt,annotationArcBorder:1,annotationLineBorderColor:WFt,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:UFt,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:zFt,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:WFt,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:UFt,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:UFt,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:RFt,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:UFt,overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:RFt,overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:WFt,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:GFt[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:RFt,pointBorderOpacity:1,pointActiveBorderColor:zFt,pointSelectedBorder:2,pointSelectedBorderColor:zFt,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:GFt[0],hollowPointBorderOpacity:.95,hollowPointFillColor:RFt,hollowPointActiveBorder:1,hollowPointActiveBorderColor:zFt,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:zFt,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:GFt[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:GFt[0],areaFillOpacity:.25,areaActiveFillColor:GFt[0],areaActiveFillOpacity:.5,areaSelectedFillColor:GFt[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:GFt[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:zFt,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:zFt,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:GFt[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:zFt,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:zFt,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:GFt[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:RFt,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:zFt,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:zFt,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return(0,QCt.pi)((0,QCt.pi)({},a),t)}();function $Ft(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function KFt(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r}function JFt(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function QFt(t,e){return t[0]===e[0]&&t[1]===e[1]}var tjt=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ejt=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,njt=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,rjt=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function ijt(t,e){var n=t.match(rjt);(0,tOt.S6)(n,(function(t){var n=t.split(":");e.addColorStop(n[0],n[1])}))}function ojt(t,e,n){var r=e.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if((0,tOt.HD)(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(t,e,n){var r,i,o=tjt.exec(n),a=parseFloat(o[1])%360*(Math.PI/180),c=o[2],l=e.getBBox();a>=0&&a<.5*Math.PI?(r={x:l.minX,y:l.minY},i={x:l.maxX,y:l.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:l.maxX,y:l.minY},i={x:l.minX,y:l.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:l.maxX,y:l.maxY},i={x:l.minX,y:l.minY}):(r={x:l.minX,y:l.maxY},i={x:l.maxX,y:l.minY});var u=Math.tan(a),s=u*u,f=(i.x-r.x+u*(i.y-r.y))/(s+1)+r.x,h=u*(i.x-r.x+u*(i.y-r.y))/(s+1)+r.y,d=t.createLinearGradient(r.x,r.y,f,h);return ijt(c,d),d}(t,e,n);if("r"===n[0])return function(t,e,n){var r=ejt.exec(n),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),c=r[4];if(0===a){var l=c.match(rjt);return l[l.length-1].split(":")[1]}var u=e.getBBox(),s=u.maxX-u.minX,f=u.maxY-u.minY,h=Math.sqrt(s*s+f*f)/2,d=t.createRadialGradient(u.minX+s*i,u.minY+f*o,0,u.minX+s/2,u.minY+f/2,a*h);return ijt(c,d),d}(t,e,n);if("p"===n[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var r,i,o=njt.exec(n),a=o[1],c=o[2];function l(){r=t.createPattern(i,a),e.set("pattern",r),e.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;default:a="no-repeat"}return i=new Image,c.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=c,i.complete?l():(i.onload=l,i.src=i.src),r}(t,e,n)}return n}return n instanceof CanvasPattern?n:void 0}function ajt(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function cjt(t,e){return ajt(t)*ajt(e)?(t[0]*e[0]+t[1]*e[1])/(ajt(t)*ajt(e)):1}function ljt(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(cjt(t,e))}function ujt(t,e){var n=e[1],r=e[2],i=(0,tOt.wQ)((0,tOt.c$)(e[3]),2*Math.PI),o=e[4],a=e[5],c=t[0],l=t[1],u=e[6],s=e[7],f=Math.cos(i)*(c-u)/2+Math.sin(i)*(l-s)/2,h=-1*Math.sin(i)*(c-u)/2+Math.cos(i)*(l-s)/2,d=f*f/(n*n)+h*h/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(h*h)+r*r*(f*f),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*h/r:0,m=n?v*-r*f/n:0,y=(c+u)/2+Math.cos(i)*g-Math.sin(i)*m,b=(l+s)/2+Math.sin(i)*g+Math.cos(i)*m,x=[(f-g)/n,(h-m)/r],w=[(-1*f-g)/n,(-1*h-m)/r],S=ljt([1,0],x),k=ljt(x,w);return cjt(x,w)<=-1&&(k=Math.PI),cjt(x,w)>=1&&(k=0),0===a&&k>0&&(k-=2*Math.PI),1===a&&k<0&&(k+=2*Math.PI),{cx:y,cy:b,rx:QFt(t,[u,s])?0:n,ry:QFt(t,[u,s])?0:r,startAngle:S,endAngle:S+k,xRotation:i,arcFlag:o,sweepFlag:a}}var sjt=Math.sin,fjt=Math.cos,hjt=Math.atan2,djt=Math.PI;function pjt(t,e,n,r,i,o,a){var c=e.stroke,l=e.lineWidth,u=hjt(r-o,n-i),s=new oIt({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*fjt(djt/6)+","+10*sjt(djt/6)+" L0,0 L"+10*fjt(djt/6)+",-"+10*sjt(djt/6),stroke:c,lineWidth:l}});s.translate(i,o),s.rotateAtPoint(i,o,u),t.set(a?"startArrowShape":"endArrowShape",s)}function vjt(t,e,n,r,i,o,a){var c=e.startArrow,l=e.endArrow,u=e.stroke,s=e.lineWidth,f=a?c:l,h=f.d,d=f.fill,p=f.stroke,v=f.lineWidth,g=(0,QCt._T)(f,["d","fill","stroke","lineWidth"]),m=hjt(r-o,n-i);h&&(i-=fjt(m)*h,o-=sjt(m)*h);var y=new oIt({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:(0,QCt.pi)((0,QCt.pi)({},g),{stroke:p||u,lineWidth:v||s,fill:d})});y.translate(i,o),y.rotateAtPoint(i,o,m),t.set(a?"startArrowShape":"endArrowShape",y)}function gjt(t,e,n,r,i){var o=hjt(r-e,n-t);return{dx:fjt(o)*i,dy:sjt(o)*i}}function mjt(t,e,n,r,i,o){"object"==typeof e.startArrow?vjt(t,e,n,r,i,o,!0):e.startArrow?pjt(t,e,n,r,i,o,!0):t.set("startArrowShape",null)}function yjt(t,e,n,r,i,o){"object"==typeof e.endArrow?vjt(t,e,n,r,i,o,!1):e.endArrow?pjt(t,e,n,r,i,o,!1):t.set("startArrowShape",null)}var bjt={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function xjt(t,e){var n=e.attr();for(var r in n){var i=n[r],o=bjt[r]?bjt[r]:r;"matrix"===o&&i?t.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===o&&t.setLineDash?(0,tOt.kJ)(i)&&t.setLineDash(i):("strokeStyle"===o||"fillStyle"===o?i=ojt(t,e,i):"globalAlpha"===o&&(i*=t.globalAlpha),t[o]=i)}}function wjt(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];i.cfg.visible?i.draw(t,n):i.skipDraw()}}function Sjt(t,e,n){var r=t.get("refreshElements");(0,tOt.S6)(r,(function(e){if(e!==t)for(var n=e.cfg.parent;n&&n!==t&&!n.cfg.refresh;)n.cfg.refresh=!0,n=n.cfg.parent})),r[0]===t?Ojt(e,n):kjt(e,n)}function kjt(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&Ojt(r.cfg.children,e);else if(r.cfg.refresh)r.isGroup()&&kjt(r.cfg.children,e);else{var i=Ejt(r,e);r.cfg.refresh=i,i&&r.isGroup()&&kjt(r.cfg.children,e)}}}function Cjt(t){for(var e=0;e<t.length;e++){var n=t[e];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&Cjt(n.cfg.children)}}function Ojt(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.visible&&(r.cfg.refresh=!0,r.isGroup()&&Ojt(r.get("children"),e))}}function Ejt(t,e){var n=t.cfg.cacheCanvasBBox;return t.cfg.isInView&&n&&JFt(n,e)}function Mjt(t,e,n,r){var i=n.path,o=n.startArrow,a=n.endArrow;if(i){var c=[0,0],l=[0,0],u={dx:0,dy:0};e.beginPath();for(var s=0;s<i.length;s++){var f=i[s],h=f[0];if(0===s&&o&&o.d)u=gjt((d=t.getStartTangent())[0][0],d[0][1],d[1][0],d[1][1],o.d);else if(s===i.length-2&&"Z"===i[s+1][0]&&a&&a.d){if("Z"===i[s+1][0])u=gjt((d=t.getEndTangent())[0][0],d[0][1],d[1][0],d[1][1],a.d)}else if(s===i.length-1&&a&&a.d){var d;if("Z"!==i[0])u=gjt((d=t.getEndTangent())[0][0],d[0][1],d[1][0],d[1][1],a.d)}var p=u.dx,v=u.dy;switch(h){case"M":e.moveTo(f[1]-p,f[2]-v),l=[f[1],f[2]];break;case"L":e.lineTo(f[1]-p,f[2]-v);break;case"Q":e.quadraticCurveTo(f[1],f[2],f[3]-p,f[4]-v);break;case"C":e.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-p,f[6]-v);break;case"A":var g=void 0;r?(g=r[s])||(g=ujt(c,f),r[s]=g):g=ujt(c,f);var m=g.cx,y=g.cy,b=g.rx,x=g.ry,w=g.startAngle,S=g.endAngle,k=g.xRotation,C=g.sweepFlag;if(e.ellipse)e.ellipse(m,y,b,x,k,w,S,1-C);else{var O=b>x?b:x,E=b>x?1:b/x,M=b>x?x/b:1;e.translate(m,y),e.rotate(k),e.scale(E,M),e.arc(0,0,O,w,S,1-C),e.scale(1/E,1/M),e.rotate(-k),e.translate(-m,-y)}break;case"Z":e.closePath()}if("Z"===h)c=l;else{var A=f.length;c=[f[A-2],f[A-1]]}}}}function Ajt(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))}function Pjt(t){var e,n,r;if(t.destroyed)e=t._cacheCanvasBBox;else{var i=t.get("cacheCanvasBBox"),o=i&&!(!i.width||!i.height),a=t.getCanvasBBox(),c=a&&!(!a.width||!a.height);o&&c?(r=a,e=(n=i)&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r):o?e=i:c&&(e=a)}return e}var _jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.onCanvasChange=function(t){Ajt(this,t)},e.prototype.getShapeBase=function(){return A},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),xjt(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];(0,tOt.S6)(t,(function(t){var r=t.cfg.cacheCanvasBBox;r&&t.cfg.isInView&&(e.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(e.length){var i=(0,tOt.VV)(e),o=(0,tOt.Fp)(e),a=(0,tOt.VV)(n),c=(0,tOt.Fp)(n);r={minX:i,minY:a,x:i,y:a,maxX:o,maxY:c,width:o-i,height:c-a};var l=this.cfg.canvas;if(l){var u=l.getViewRange();this.set("isInView",JFt(r,u))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},e.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),xjt(t,this),this._applyClip(t,this.getClip()),wjt(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(kOt.AbstractGroup),Djt=_jt,Tjt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return A},e.prototype.getGroupBase=function(){return Djt},e.prototype.onCanvasChange=function(t){Ajt(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=(0,kOt.getBBoxMethod)(t)(this),r=e/2,i=n.x-r,o=n.y-r,a=n.x+n.width+r,c=n.y+n.height+r;return{x:i,minX:i,y:o,minY:o,width:n.width+e,height:n.height+e,maxX:a,maxY:c}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,e){e&&(t.save(),xjt(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!JFt(e,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),xjt(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=JFt(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&((0,tOt.UM)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.isStroke()&&n>0&&((0,tOt.UM)(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(kOt.AbstractShape),Zjt=Tjt,Fjt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,c=o.y,l=o.r,u=i/2,s=$Ft(a,c,t,e);return r&&n?s<=l+u:r?s<=l:!!n&&(s>=l-u&&s<=l+u)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()},e}(Zjt),jjt=Fjt;function Ijt(t,e,n,r){return t/(n*n)+e/(r*r)}var Rjt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=i/2,c=o.x,l=o.y,u=o.rx,s=o.ry,f=(t-c)*(t-c),h=(e-l)*(e-l);return r&&n?Ijt(f,h,u+a,s+a)<=1:r?Ijt(f,h,u,s)<=1:!!n&&(Ijt(f,h,u-a,s-a)>=1&&Ijt(f,h,u+a,s+a)<=1)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,c=i>o?1:i/o,l=i>o?o/i:1;t.save(),t.translate(n,r),t.scale(c,l),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}},e}(Zjt),Ljt=Rjt;function Njt(t){return t instanceof HTMLElement&&(0,tOt.HD)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var Bjt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,tOt.HD)(t)){var r=new Image;r.onload=function(){if(e.destroyed)return!1;e.attr("img",r),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},r.crossOrigin="Anonymous",r.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):Njt(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.sx,c=e.sy,l=e.swidth,u=e.sheight,s=e.img;(s instanceof Image||Njt(s))&&((0,tOt.UM)(a)||(0,tOt.UM)(c)||(0,tOt.UM)(l)||(0,tOt.UM)(u)?t.drawImage(s,n,r,i,o):t.drawImage(s,a,c,l,u,n,r,i,o))},e}(Zjt),zjt=Bjt,Ujt=n(58609);function Hjt(t,e,n,r,i,o,a){var c=Math.min(t,n),l=Math.max(t,n),u=Math.min(e,r),s=Math.max(e,r),f=i/2;return o>=c-f&&o<=l+f&&a>=u-f&&a<=s+f&&Ujt.x1.pointToLine(t,e,n,r,o,a)<=i/2}var Wjt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=t.startArrow,a=t.endArrow;o&&mjt(this,t,r,i,e,n),a&&yjt(this,t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr();return Hjt(o.x1,o.y1,o.x2,o.y2,i,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.startArrow,c=e.endArrow,l={dx:0,dy:0},u={dx:0,dy:0};a&&a.d&&(l=gjt(n,r,i,o,e.startArrow.d)),c&&c.d&&(u=gjt(n,r,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+l.dx,r+l.dy),t.lineTo(i-u.dx,o-u.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return Ujt.x1.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Ujt.x1.pointAt(n,r,i,o,t)},e}(Zjt),Vjt=Wjt,Gjt={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},Xjt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return(0,tOt.UM)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,r=this.attr(),i=r.x,o=r.y,a=r.symbol||"circle",c=this._getR(r);if((0,tOt.mf)(a))n=(t=a)(i,o,c),n=(0,L_t.wb)(n);else{if(!(t=e.Symbols[a]))return console.warn(a+" marker is not supported."),null;n=t(i,o,c)}return n},e.prototype.createPath=function(t){Mjt(this,t,{path:this._getPath()},this.get("paramsCache"))},e.Symbols=Gjt,e}(Zjt),qjt=Xjt;function Yjt(t,e,n){var r=(0,kOt.getOffScreenContext)();return t.createPath(r),r.isPointInPath(e,n)}var $jt=1e-6;function Kjt(t){return Math.abs(t)<$jt?0:t<0?-1:1}function Jjt(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function Qjt(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],c=t[(o+1)%i];if(Jjt(a,c,[e,n]))return!0;Kjt(a[1]-n)>0!=Kjt(c[1]-n)>0&&Kjt(e-(n-a[1])*(a[0]-c[0])/(a[1]-c[1])-a[0])<0&&(r=!r)}return r}function tIt(t,e,n,r,i,o,a,c){var l=(Math.atan2(c-e,a-t)+2*Math.PI)%(2*Math.PI);if(l<r||l>i)return!1;var u={x:t+n*Math.cos(l),y:e+n*Math.sin(l)};return $Ft(u.x,u.y,a,c)<=o/2}var eIt=rAt.vs;var nIt=(0,QCt.pi)({hasArc:function(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r][0];if("C"===i||"A"===i||"Q"===i){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,n=[],r=[],i=[],o=0;o<e;o++){var a=t[o],c=a[0];"M"===c?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===c?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}},isPointInStroke:function(t,e,n,r,i){for(var o=!1,a=e/2,c=0;c<t.length;c++){var l=t[c],u=l.currentPoint,s=l.params,f=l.prePoint,h=l.box;if(!h||KFt(h.x-a,h.y-a,h.width+e,h.height+e,n,r)){switch(l.command){case"L":case"Z":o=Hjt(f[0],f[1],u[0],u[1],e,n,r);break;case"Q":o=Ujt.lD.pointDistance(f[0],f[1],s[1],s[2],s[3],s[4],n,r)<=e/2;break;case"C":o=Ujt.Ll.pointDistance(f[0],f[1],s[1],s[2],s[3],s[4],s[5],s[6],n,r,i)<=e/2;break;case"A":var d=l.arcParams,p=d.cx,v=d.cy,g=d.rx,m=d.ry,y=d.startAngle,b=d.endAngle,x=d.xRotation,w=[n,r,1],S=g>m?g:m;eAt(w,w,eIt(null,[["t",-p,-v],["r",-x],["s",1/(g>m?1:g/m),1/(g>m?m/g:1)]])),o=tIt(0,0,S,y,b,e,w[0],w[1])}if(o)break}}return o}},kOt.PathUtil);function rIt(t,e,n){for(var r=!1,i=0;i<t.length;i++){if(r=Qjt(t[i],e,n))break}return r}var iIt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=(0,L_t.wb)(t);var e=nIt.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,L_t.zx)(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t,e=this.attr(),n=e.startArrow,r=e.endArrow;n&&mjt(this,e,(t=this.getStartTangent())[0][0],t[0][1],t[1][0],t[1][1]);r&&yjt(this,e,(t=this.getEndTangent())[0][0],t[0][1],t[1][0],t[1][1])},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.getSegments(),a=this.get("hasArc"),c=!1;if(n){var l=this.getTotalLength();c=nIt.isPointInStroke(o,i,t,e,l)}if(!c&&r)if(a)c=Yjt(this,t,e);else{var u=this.attr("path"),s=nIt.extractPolygons(u);c=rIt(s.polygons,t,e)||rIt(s.polylines,t,e)}return c},e.prototype.createPath=function(t){Mjt(this,t,this.attr(),this.get("paramsCache"))},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,tOt.UM)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;(0,tOt.S6)(r,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}));var o=i[n];if((0,tOt.UM)(o)||(0,tOt.UM)(n))return null;var a=o.length,c=i[n+1];return Ujt.Ll.pointAt(o[a-2],o[a-1],c[1],c[2],c[3],c[4],c[5],c[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",nIt.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,r,i=0,o=0,a=[],c=this.get("curve");c&&((0,tOt.S6)(c,(function(t,e){n=c[e+1],r=t.length,n&&(i+=Ujt.Ll.length(t[r-2],t[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",i),0!==i?((0,tOt.S6)(c,(function(l,u){n=c[u+1],r=l.length,n&&((t=[])[0]=o/i,e=Ujt.Ll.length(l[r-2],l[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=e||0,t[1]=o/i,a.push(t))})),this.set("tCache",a)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,i=e[1].startTangent;t=[],i?(t.push([n[0]-i[0],n[1]-i[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var r=e[n-2].currentPoint,i=e[n-1].currentPoint,o=e[n-1].endTangent;t=[],o?(t.push([i[0]-o[0],i[1]-o[1]]),t.push([i[0],i[1]])):(t.push([r[0],r[1]]),t.push([i[0],i[1]]))}return t},e}(Zjt),oIt=iIt;function aIt(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(Hjt(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,n,r))return!0}if(i){var c=t[0],l=t[o-1];if(Hjt(c[0],c[1],l[0],l[1],e,n,r))return!0}return!1}var cIt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr().points,a=!1;return n&&(a=aIt(o,i,t,e,!0)),!a&&r&&(a=Qjt(o,t,e)),a},e.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];0===n?t.moveTo(r[0],r[1]):t.lineTo(r[0],r[1])}t.closePath()}},e}(Zjt),lIt=cIt,uIt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,i=e.endArrow,o=n.length,a=n[0][0],c=n[0][1],l=n[o-1][0],u=n[o-1][1];r&&mjt(this,t,n[1][0],n[1][1],a,c),i&&yjt(this,t,n[o-2][0],n[o-2][1],l,u)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!(!n||!i)&&aIt(this.attr().points,i,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,i=e.endArrow,o=n.length;if(!(n.length<2)){var a,c=n[0][0],l=n[0][1],u=n[o-1][0],s=n[o-1][1];if(r&&r.d)c+=(a=gjt(c,l,n[1][0],n[1][1],r.d)).dx,l+=a.dy;if(i&&i.d)u-=(a=gjt(n[o-2][0],n[o-2][1],u,s,i.d)).dx,s-=a.dy;t.beginPath(),t.moveTo(c,l);for(var f=0;f<o-1;f++){var h=n[f];t.lineTo(h[0],h[1])}t.lineTo(u,s)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,tOt.UM)(e)?(this.set("totalLength",Ujt.aH.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,tOt.S6)(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),Ujt.x1.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,o=[];(0,tOt.S6)(t,(function(a,c){t[c+1]&&((n=[])[0]=i/e,r=Ujt.x1.length(a[0],a[1],t[c+1][0],t[c+1][1]),i+=r,n[1]=i/e,o.push(n))})),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(Zjt),sIt=uIt;var fIt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,c=o.y,l=o.width,u=o.height,s=o.radius;if(s){var f=!1;return n&&(f=function(t,e,n,r,i,o,a,c){return Hjt(t+i,e,t+n-i,e,o,a,c)||Hjt(t+n,e+i,t+n,e+r-i,o,a,c)||Hjt(t+n-i,e+r,t+i,e+r,o,a,c)||Hjt(t,e+r-i,t,e+i,o,a,c)||tIt(t+n-i,e+i,i,1.5*Math.PI,2*Math.PI,o,a,c)||tIt(t+n-i,e+r-i,i,0,.5*Math.PI,o,a,c)||tIt(t+i,e+r-i,i,.5*Math.PI,Math.PI,o,a,c)||tIt(t+i,e+i,i,Math.PI,1.5*Math.PI,o,a,c)}(a,c,l,u,s,i,t,e)),!f&&r&&(f=Yjt(this,t,e)),f}var h=i/2;return r&&n?KFt(a-h,c-h,l+h,u+h,t,e):r?KFt(a,c,l,u,t,e):n?function(t,e,n,r,i,o,a){var c=i/2;return KFt(t-c,e-c,n,i,o,a)||KFt(t+n-c,e-c,i,r,o,a)||KFt(t+c,e+r-c,n,i,o,a)||KFt(t-c,e+c,i,r,o,a)}(a,c,l,u,i,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.radius;if(t.beginPath(),0===a)t.rect(n,r,i,o);else{var c=function(t){var e=0,n=0,r=0,i=0;return(0,tOt.kJ)(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,[e,n,r,i]}(a),l=c[0],u=c[1],s=c[2],f=c[3];t.moveTo(n+l,r),t.lineTo(n+i-u,r),0!==u&&t.arc(n+i-u,r+u,u,-Math.PI/2,0),t.lineTo(n+i,r+o-s),0!==s&&t.arc(n+i-s,r+o-s,s,0,Math.PI/2),t.lineTo(n+f,r+o),0!==f&&t.arc(n+f,r+o-f,f,Math.PI/2,Math.PI),t.lineTo(n,r+l),0!==l&&t.arc(n+l,r+l,l,Math.PI,1.5*Math.PI),t.closePath()}},e}(Zjt),hIt=fIt,dIt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,kOt.assembleFont)(t)},e.prototype._setText=function(t){var e=null;(0,tOt.HD)(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var r,i=this.attrs,o=i.textBaseline,a=i.x,c=i.y,l=1*i.fontSize,u=this._getSpaceingY(),s=(0,kOt.getTextHeight)(i.text,i.fontSize,i.lineHeight);(0,tOt.S6)(e,(function(e,i){r=c+i*(u+l)-s+l,"middle"===o&&(r+=s-l-(s-l)/2),"top"===o&&(r+=s-l),(0,tOt.UM)(e)||(n?t.fillText(e,a,r):t.strokeText(e,a,r))}))},e.prototype._drawText=function(t,e){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");if(o)this._drawTextArr(t,o,e);else{var a=n.text;(0,tOt.UM)(a)||(e?t.fillText(a,r,i):t.strokeText(a,r,i))}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&n>0&&((0,tOt.UM)(i)||1===i||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&((0,tOt.UM)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(Zjt),pIt=dIt;function vIt(t,e,n){var r=t.getTotalMatrix();if(r){var i=function(t,e){if(e){var n=(0,kOt.invert)(e);return(0,kOt.multiplyVec2)(n,t)}return t}([e,n,1],r);return[i[0],i[1]]}return[e,n]}function gIt(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!(0,kOt.isAllowCapture)(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var r=vIt(t,e,n),i=r[0],o=r[1];if(t.isClipped(i,o))return!1}var a=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=a.minX&&e<=a.maxX&&n>=a.minY&&n<=a.maxY}function mIt(t,e,n){if(!gIt(t,e,n))return null;for(var r=null,i=t.getChildren(),o=i.length-1;o>=0;o--){var a=i[o];if(a.isGroup())r=mIt(a,e,n);else if(gIt(a,e,n)){var c=a,l=vIt(a,e,n),u=l[0],s=l[1];c.isInShape(u,s)&&(r=a)}if(r)break}return r}var yIt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.renderer="canvas",e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return A},e.prototype.getGroupBase=function(){return Djt},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*e,i.height=o*n,o>1&&r.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(e,n){return this.get("quickHit")?mIt(this,e,n):t.prototype.getShape.call(this,e,n,null)},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();e.length&&e[0]===this?t=n:(t=function(t){if(!t.length)return null;var e=[],n=[],r=[],i=[];return(0,tOt.S6)(t,(function(t){var o=Pjt(t);o&&(e.push(o.minX),n.push(o.minY),r.push(o.maxX),i.push(o.maxY))})),{minX:(0,tOt.VV)(e),minY:(0,tOt.VV)(n),maxX:(0,tOt.Fp)(r),maxY:(0,tOt.Fp)(i)}}(e),t&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1,this.get("clipView")&&(t=function(t,e){return t&&e&&JFt(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}(t,n))));return t},e.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,tOt.VS)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),xjt(t,this),wjt(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),xjt(t,this),Sjt(this,n,r),wjt(t,n,r),t.restore()):e.length&&Cjt(e),(0,tOt.S6)(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,tOt.U7)((function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)})),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(kOt.AbstractCanvas),bIt=yIt,xIt="0.5.12",wIt={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},SIt={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function kIt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function CIt(t){var e=wIt[t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var r=kIt(e);if(t.get("id")&&(r.id=t.get("id")),t.set("el",r),t.set("attrs",{}),n){var i=n.get("el");i||(i=n.createDom(),n.set("el",i)),i.appendChild(r)}return r}function OIt(t,e){var n=t.get("el"),r=(0,tOt.qo)(n.children).sort(e),i=document.createDocumentFragment();r.forEach((function(t){i.appendChild(t)})),n.appendChild(i)}function EIt(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)}}function MIt(t,e){var n=t.getClip(),r=t.get("el");if(n){if(n&&!r.hasAttribute("clip-path")){CIt(n),n.createPath(e);var i=e.addClip(n);r.setAttribute("clip-path","url(#"+i+")")}}else r.removeAttribute("clip-path")}function AIt(t,e){e.forEach((function(e){e.draw(t)}))}function PIt(t,e){var n=t.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context"),i=t.getParent(),o=i?i.getChildren():[n],a=t.get("el");if("remove"===e)if(t.get("isClipShape")){var c=a&&a.parentNode,l=c&&c.parentNode;c&&l&&l.removeChild(c)}else a&&a.parentNode&&a.parentNode.removeChild(a);else if("show"===e)a.setAttribute("visibility","visible");else if("hide"===e)a.setAttribute("visibility","hidden");else if("zIndex"===e)!function(t,e){var n=t.parentNode,r=Array.from(n.childNodes).filter((function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()})),i=r[e],o=r.indexOf(t);if(i){if(o>e)n.insertBefore(t,i);else if(o<e){var a=r[e+1];a?n.insertBefore(t,a):n.appendChild(t)}}else n.appendChild(t)}(a,o.indexOf(t));else if("sort"===e){var u=t.get("children");u&&u.length&&OIt(t,(function(t,e){return u.indexOf(t)-u.indexOf(e)?1:0}))}else"clear"===e?a&&(a.innerHTML=""):"matrix"===e?EIt(t):"clip"===e?MIt(t,r):"attr"===e||"add"===e&&t.draw(r)}}var _It=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=kIt("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.createPath(r,e)}},e.prototype.onCanvasChange=function(t){PIt(this,t)},e.prototype.getShapeBase=function(){return _},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),MIt(this,t),this.createPath(t),e.length&&AIt(t,e))},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,tOt.S6)(e||n,(function(t,e){SIt[e]&&r.setAttribute(SIt[e],t)})),EIt(this)},e}(kOt.AbstractGroup),DIt=_It,TIt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.draw(r,e)}},e.prototype.getShapeBase=function(){return _},e.prototype.getGroupBase=function(){return DIt},e.prototype.onCanvasChange=function(t){PIt(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,kOt.getBBoxMethod)(this.get("type"));n&&(e=n(this))}if(e){var r=e.x,i=e.y,o=e.width,a=e.height,c=this.getHitLineWidth(),l=c/2,u=r-l,s=i-l;return{x:u,y:s,minX:u,minY:s,maxX:r+o+l,maxY:i+a+l,width:o+c,height:a+c}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},e.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||CIt(this),MIt(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),r=n.fill,i=n.fillStyle,o=n.stroke,a=n.strokeStyle,c=n.fillOpacity,l=n.strokeOpacity,u=n.lineWidth,s=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",r):"fillStyle"in n&&this._setColor(t,"fill",i):this._setColor(t,"fill",r||i),c&&s.setAttribute(SIt.fillOpacity,c)),this.canStroke&&u>0&&(e?"stroke"in n?this._setColor(t,"stroke",o):"strokeStyle"in n&&this._setColor(t,"stroke",a):this._setColor(t,"stroke",o||a),l&&s.setAttribute(SIt.strokeOpacity,l),u&&s.setAttribute(SIt.lineWidth,u))},e.prototype._setColor=function(t,e,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(i=t.find("gradient",n))||(i=t.addGradient(n)),r.setAttribute(SIt[e],"url(#"+i+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var i;(i=t.find("pattern",n))||(i=t.addPattern(n)),r.setAttribute(SIt[e],"url(#"+i+")")}else r.setAttribute(SIt[e],n);else r.setAttribute(SIt[e],"none")},e.prototype.shadow=function(t,e){var n=this.attr(),r=e||n,i=r.shadowOffsetX,o=r.shadowOffsetY,a=r.shadowBlur,c=r.shadowColor;(i||o||a||c)&&function(t,e){var n=t.cfg.el,r=t.attr(),i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var o=e.find("filter",i);o||(o=e.addShadow(i)),n.setAttribute("filter","url(#"+o+")")}else n.removeAttribute("filter")}(this,t)},e.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&EIt(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var n=this.get("el"),r=this.get("canvas").get("el").getBoundingClientRect(),i=t+r.left,o=e+r.top,a=document.elementFromPoint(i,o);return!(!a||!a.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},e}(kOt.AbstractShape),ZIt=TIt,FIt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{x:0,y:0,r:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,tOt.S6)(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):SIt[e]&&r.setAttribute(SIt[e],t)}))},e}(ZIt),jIt=FIt,IIt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return(0,QCt.ZT)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");if((0,tOt.S6)(e||n,(function(t,e){SIt[e]&&r.setAttribute(SIt[e],t)})),"function"==typeof n.html){var i=n.html.call(this,n);if(i instanceof Element||i instanceof HTMLDocument){for(var o=r.childNodes,a=o.length-1;a>=0;a--)r.removeChild(o[a]);r.appendChild(i)}else r.innerHTML=i}else r.innerHTML=n.html},e}(ZIt),RIt=IIt,LIt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,tOt.S6)(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):SIt[e]&&r.setAttribute(SIt[e],t)}))},e}(ZIt),NIt=LIt,BIt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");(0,tOt.S6)(e||r,(function(t,e){"img"===e?n._setImage(r.img):SIt[e]&&i.setAttribute(SIt[e],t)}))},e.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},e.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,tOt.HD)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,tOt.HD)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+t.width),r.setAttribute("height",""+t.height),r.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",r.toDataURL())}},e}(ZIt),zIt=BIt,UIt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,tOt.S6)(e||n,(function(e,i){if("startArrow"===i||"endArrow"===i)if(e){var o=(0,tOt.Kn)(e)?t.addArrow(n,SIt[i]):t.getDefaultArrow(n,SIt[i]);r.setAttribute(SIt[i],"url(#"+o+")")}else r.removeAttribute(SIt[i]);else SIt[i]&&r.setAttribute(SIt[i],e)}))},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return Ujt.x1.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Ujt.x1.pointAt(n,r,i,o,t)},e}(ZIt),HIt=UIt,WIt={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},triangleDown:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},VIt={get:function(t){return WIt[t]},register:function(t,e){WIt[t]=e},remove:function(t){delete WIt[t]},getAll:function(){return WIt}},GIt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return(0,QCt.ZT)(e,t),e.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return(0,tOt.kJ)(t)?t.map((function(t){return t.join(" ")})).join(""):t},e.prototype._getPath=function(){var t,e=this.attr(),n=e.x,r=e.y,i=e.r||e.radius,o=e.symbol||"circle";return(t=(0,tOt.mf)(o)?o:VIt.get(o))?t(n,r,i):(console.warn(t+" symbol is not exist."),null)},e.symbolsFactory=VIt,e}(ZIt),XIt=GIt,qIt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");(0,tOt.S6)(e||r,(function(e,o){if("path"===o&&(0,tOt.kJ)(e))i.setAttribute("d",n._formatPath(e));else if("startArrow"===o||"endArrow"===o)if(e){var a=(0,tOt.Kn)(e)?t.addArrow(r,SIt[o]):t.getDefaultArrow(r,SIt[o]);i.setAttribute(SIt[o],"url(#"+a+")")}else i.removeAttribute(SIt[o]);else SIt[o]&&i.setAttribute(SIt[o],e)}))},e.prototype._formatPath=function(t){var e=t.map((function(t){return t.join(" ")})).join("");return~e.indexOf("NaN")?"":e},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength();if(0===n)return null;var r=e?e.getPointAtLength(t*n):null;return r?{x:r.x,y:r.y}:null},e}(ZIt),YIt=qIt,$It=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return(0,QCt.ZT)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,tOt.S6)(e||n,(function(t,e){"points"===e&&(0,tOt.kJ)(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):SIt[e]&&r.setAttribute(SIt[e],t)}))},e}(ZIt),KIt=$It,JIt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");(0,tOt.S6)(e||n,(function(t,e){"points"===e&&(0,tOt.kJ)(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):SIt[e]&&r.setAttribute(SIt[e],t)}))},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,tOt.UM)(e)?(this.set("totalLength",Ujt.aH.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,tOt.S6)(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),Ujt.x1.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,o=[];(0,tOt.S6)(t,(function(a,c){t[c+1]&&((n=[])[0]=i/e,r=Ujt.x1.length(a[0],a[1],t[c+1][0],t[c+1][1]),i+=r,n[1]=i/e,o.push(n))})),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(ZIt),QIt=JIt;var tRt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el"),o=!1,a=["x","y","width","height","radius"];(0,tOt.S6)(e||r,(function(t,e){-1===a.indexOf(e)||o?-1===a.indexOf(e)&&SIt[e]&&i.setAttribute(SIt[e],t):(i.setAttribute("d",n._assembleRect(r)),o=!0)}))},e.prototype._assembleRect=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius;if(!o)return"M "+e+","+n+" l "+r+",0 l 0,"+i+" l"+-r+" 0 z";var a=function(t){var e=0,n=0,r=0,i=0;return(0,tOt.kJ)(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}}(o);return(0,tOt.kJ)(o)?1===o.length?a.r1=a.r2=a.r3=a.r4=o[0]:2===o.length?(a.r1=a.r3=o[0],a.r2=a.r4=o[1]):3===o.length?(a.r1=o[0],a.r2=a.r4=o[1],a.r3=o[2]):(a.r1=o[0],a.r2=o[1],a.r3=o[2],a.r4=o[3]):a.r1=a.r2=a.r3=a.r4=o,[["M "+(e+a.r1)+","+n],["l "+(r-a.r1-a.r2)+",0"],["a "+a.r2+","+a.r2+",0,0,1,"+a.r2+","+a.r2],["l 0,"+(i-a.r2-a.r3)],["a "+a.r3+","+a.r3+",0,0,1,"+-a.r3+","+a.r3],["l "+(a.r3+a.r4-r)+",0"],["a "+a.r4+","+a.r4+",0,0,1,"+-a.r4+","+-a.r4],["l 0,"+(a.r4+a.r1-i)],["a "+a.r1+","+a.r1+",0,0,1,"+a.r1+","+-a.r1],["z"]].join(" ")},e}(ZIt),eRt=tRt,nRt=n(23537),rRt={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},iRt={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},oRt={left:"left",start:"left",center:"middle",right:"end",end:"end"},aRt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return(0,QCt.ZT)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return(0,QCt.pi)((0,QCt.pi)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");this._setFont(),(0,tOt.S6)(e||r,(function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?EIt(n):SIt[e]&&i.setAttribute(SIt[e],t)})),i.setAttribute("paint-order","stroke"),i.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,r=e.textAlign,i=(0,nRt.qY)();i&&"firefox"===i.name?t.setAttribute("dominant-baseline",iRt[n]||"alphabetic"):t.setAttribute("alignment-baseline",rRt[n]||"baseline"),t.setAttribute("text-anchor",oRt[r]||"left")},e.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),r=n.x,i=n.textBaseline,o=void 0===i?"bottom":i;if(t)if(~t.indexOf("\n")){var a=t.split("\n"),c=a.length-1,l="";(0,tOt.S6)(a,(function(t,e){0===e?"alphabetic"===o?l+='<tspan x="'+r+'" dy="'+-c+'em">'+t+"</tspan>":"top"===o?l+='<tspan x="'+r+'" dy="0.9em">'+t+"</tspan>":"middle"===o?l+='<tspan x="'+r+'" dy="'+-(c-1)/2+'em">'+t+"</tspan>":"bottom"===o?l+='<tspan x="'+r+'" dy="-'+(c+.3)+'em">'+t+"</tspan>":"hanging"===o&&(l+='<tspan x="'+r+'" dy="'+(-(c-1)-.3)+'em">'+t+"</tspan>"):l+='<tspan x="'+r+'" dy="1em">'+t+"</tspan>"})),e.innerHTML=l}else e.innerHTML=t;else e.innerHTML=""},e}(ZIt),cRt=aRt,lRt=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,uRt=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,sRt=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function fRt(t){var e=t.match(sRt);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),(0,tOt.S6)(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}var hRt=function(){function t(t){this.cfg={};var e=null,n=(0,tOt.EL)("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,r,i=lRt.exec(t),o=(0,tOt.wQ)((0,tOt.c$)(parseFloat(i[1])),2*Math.PI),a=i[2];o>=0&&o<.5*Math.PI?(n={x:0,y:0},r={x:1,y:1}):.5*Math.PI<=o&&o<Math.PI?(n={x:1,y:0},r={x:0,y:1}):Math.PI<=o&&o<1.5*Math.PI?(n={x:1,y:1},r={x:0,y:0}):(n={x:0,y:1},r={x:1,y:0});var c=Math.tan(o),l=c*c,u=(r.x-n.x+c*(r.y-n.y))/(l+1)+n.x,s=c*(r.x-n.x+c*(r.y-n.y))/(l+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",u),e.setAttribute("y2",s),e.innerHTML=fRt(a)}(t,e=kIt("linearGradient")):function(t,e){var n=uRt.exec(t),r=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),a=n[4];e.setAttribute("cx",r),e.setAttribute("cy",i),e.setAttribute("r",o),e.innerHTML=fRt(a)}(t,e=kIt("radialGradient")),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),dRt=hRt,pRt={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},vRt={x:"-40%",y:"-40%",width:"200%",height:"200%"},gRt=function(){function t(t){this.type="filter",this.cfg={},this.type="filter";var e=kIt("filter");return(0,tOt.S6)(vRt,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=(0,tOt.EL)("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,r=this.cfg;return(0,tOt.S6)(Object.keys(r),(function(t){if(r[t]!==e[t])return n=!1,!1})),n},t.prototype.update=function(t,e){var n=this.cfg;return n[pRt[t]]=e,this._parseShadow(n,this.el),this},t.prototype._parseShadow=function(t,e){var n='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}(),mRt=gRt,yRt=function(){function t(t,e){this.cfg={};var n=kIt("marker"),r=(0,tOt.EL)("marker_");n.setAttribute("id",r);var i=kIt("path");i.setAttribute("stroke",t.stroke||"none"),i.setAttribute("fill",t.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r;var o=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===o?this._setDefaultPath(e,i):(this.cfg=o,this._setMarker(t.lineWidth,i)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},t.prototype._setMarker=function(t,e){var n=this.el,r=this.cfg.path,i=this.cfg.d;(0,tOt.kJ)(r)&&(r=r.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",r),n.appendChild(e),i&&n.setAttribute("refX",""+i/t)},t.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}(),bRt=yRt,xRt=function(){function t(t){this.type="clip",this.cfg={};var e=kIt("clipPath");this.el=e,this.id=(0,tOt.EL)("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}(),wRt=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,SRt=function(){function t(t){this.cfg={};var e=kIt("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=kIt("image");e.appendChild(n);var r=(0,tOt.EL)("pattern_");e.id=r,this.el=e,this.id=r,this.cfg=t;var i=wRt.exec(t)[2];n.setAttribute("href",i);var o=new Image;function a(){e.setAttribute("width",""+o.width),e.setAttribute("height",""+o.height)}return i.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=i,o.complete?a():(o.onload=a,o.src=o.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),kRt=SRt,CRt=function(){function t(t){var e=kIt("defs"),n=(0,tOt.EL)("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return t.prototype.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},t.prototype.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new bRt(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},t.prototype.addGradient=function(t){var e=new dRt(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var n=new bRt(t,e);return this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addShadow=function(t){var e=new mRt(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addPattern=function(t){var e=new kRt(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addClip=function(t){var e=new xRt(t);return this.el.appendChild(e.el),this.add(e),e.id},t}(),ORt=CRt,ERt=function(t){function e(e){return t.call(this,(0,QCt.pi)((0,QCt.pi)({},e),{autoDraw:!0,renderer:"svg"}))||this}return(0,QCt.ZT)(e,t),e.prototype.getShapeBase=function(){return _},e.prototype.getGroupBase=function(){return DIt},e.prototype.getShape=function(t,e,n){var r=n.target||n.srcElement;if(!wIt[r.tagName]){for(var i=r.parentNode;i&&!wIt[i.tagName];)i=i.parentNode;r=i}return this.find((function(t){return t.get("el")===r}))},e.prototype.createDom=function(){var t=kIt("svg"),e=new ORt(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},e.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if("sort"===t){var r=this.get("children");r&&r.length&&OIt(this,(function(t,e){return r.indexOf(t)-r.indexOf(e)?1:0}))}else if("clear"===t){if(n){n.innerHTML="";var i=e.el;i.innerHTML="",n.appendChild(i)}}else"matrix"===t?EIt(this):"clip"===t?MIt(this,e):"changeSize"===t&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();MIt(this,t),e.length&&AIt(t,e)},e}(kOt.AbstractCanvas),MRt=ERt,ARt="0.5.6",PRt=function(t){function e(e){var n=t.call(this,e)||this;n.type="path",n.shapeType="line";var r=e.connectNulls,i=void 0!==r&&r,o=e.showSinglePoint,a=void 0===o||o;return n.connectNulls=i,n.showSinglePoint=a,n}return(0,QCt.ZT)(e,t),e.prototype.updateElements=function(t,e){var n,r,i,o,a,c;void 0===e&&(e=!1);for(var l=new Map,u=new Map,s=[],f=0,h=0;h<t.length;h++){var d=t[h],p=this.getElementId(d);s.push(p),l.set(p,d),u.set(p,f),f++}this.elements=new Array(f);var v=nFt(this.lastElementsMap,s),g=v.added,m=v.updated,y=v.removed;try{for(var b=(0,QCt.XA)(g),x=b.next();!x.done;x=b.next()){p=x.value,d=l.get(p);var w=this.getShapeFactory(),S=this.getShapeInfo(d);h=u.get(p);(O=new HZt({shapeFactory:w,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:h})).geometry=this,O.animate=this.animateOption,O.draw(S,e),this.elementsMap[p]=O,this.elements[h]=O}}catch(P){n={error:P}}finally{try{x&&!x.done&&(r=b.return)&&r.call(b)}finally{if(n)throw n.error}}try{for(var k=(0,QCt.XA)(m),C=k.next();!C.done;C=k.next()){p=C.value,d=l.get(p);var O=this.lastElementsMap[p],E=(h=u.get(p),S=this.getShapeInfo(d),O.getModel());(this.isCoordinateChanged||tFt(E,S))&&(O.animate=this.animateOption,O.update(S)),this.elementsMap[p]=O,this.elements[h]=O}}catch(_){i={error:_}}finally{try{C&&!C.done&&(o=k.return)&&o.call(k)}finally{if(i)throw i.error}}try{for(var M=(0,QCt.XA)(y),A=M.next();!A.done;A=M.next()){p=A.value;(O=this.lastElementsMap[p]).animate=this.animateOption,O.destroy()}}catch(D){a={error:D}}finally{try{A&&!A.done&&(c=M.return)&&c.call(M)}finally{if(a)throw a.error}}},e.prototype.getPointsAndData=function(t){for(var e=[],n=[],r=0,i=t.length;r<i;r++){var o=t[r];e.push({x:o.x,y:o.y}),n.push(o[dOt])}return{points:e,data:n}},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),r=n.points,i=n.data;return e.mappingData=t,e.data=i,e.isStack=!!this.getAdjust("stack"),e.points=r,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},e}(iFt),_Rt=PRt;function DRt(t,e,n,r,i){var o=[];if(t.length){for(var a=[],c=[],l=0,u=t.length;l<u;l++){var s=t[l];a.push(s[1]),c.push(s[0])}c=c.reverse(),(0,tOt.S6)([a,c],(function(t,l){var u=[],s=r.parsePoints(t),f=s[0];1===a.length&&1===c.length?u=0===l?[["M",f.x-.5,f.y],["L",f.x+.5,f.y]]:[["L",f.x+.5,f.y],["L",f.x-.5,f.y]]:(e&&s.push({x:f.x,y:f.y}),u=n?JDt(s,!1,i):KDt(s,!1),l>0&&(u[0][0]="L")),o=o.concat(u)})),o.push(["Z"])}return o}function TRt(t,e,n,r,i){for(var o=PFt(t,e,!e,"lineWidth"),a=t.connectNulls,c=t.isInCircle,l=EFt(t.points,a,t.showSinglePoint),u=[],s=0,f=l.length;s<f;s++){var h=l[s];u=u.concat(DRt(h,c,n,r,i))}return o.path=u,o}function ZRt(t){var e=t.start,n=t.end;return[[e.x,n.y],[n.x,e.y]]}KZt("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,n=t.y0;return((0,tOt.kJ)(t.y)?t.y:[n,t.y]).map((function(t){return{x:e,y:t}}))}});JZt("area","area",{draw:function(t,e){var n=TRt(t,!1,!1,this);return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color,fillOpacity:1}}}});var FRt=function(t){function e(e){var n=t.call(this,e)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var r=e.startOnZero,i=void 0===r||r,o=e.sortable,a=void 0!==o&&o,c=e.showSinglePoint,l=void 0!==c&&c;return n.startOnZero=i,n.sortable=a,n.showSinglePoint=l,n}return(0,QCt.ZT)(e,t),e.prototype.getPointsAndData=function(t){for(var e=[],n=[],r=0,i=t.length;r<i;r++){var o=t[r];e.push(o.points),n.push(o[dOt])}return{points:e,data:n}},e.prototype.getYMinValue=function(){return this.startOnZero?t.prototype.getYMinValue.call(this):this.getYScale().min},e}(_Rt),jRt=FRt;KZt("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return DFt(t)}});JZt("edge","line",{draw:function(t,e){var n=PFt(t,!0,!1,"lineWidth"),r=KDt(this.parsePoints(t.points),this.coordinate.isPolar);return e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var IRt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="edge",e.shapeType="edge",e.generatePoints=!0,e}return(0,QCt.ZT)(e,t),e}(iFt),RRt=IRt,LRt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e.paletteCache={},e}return(0,QCt.ZT)(e,t),e.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var n=0;n<t.length;n++){var r=t[n],i=this.prepareRange(r),o=this.prepareSize(),a=(0,tOt.U2)(this.styleOption,["cfg","shadowBlur"]);(0,tOt.hj)(a)||(a=o/2),this.prepareGreyScaleBlurredCircle(o,a),this.drawWithRange(r,i,o,a)}},e.prototype.color=function(t,e){return this.createAttrOption("color",t,"function"!=typeof e?e:""),this},e.prototype.clear=function(){t.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(t){var e=this.getAttribute("color").getFields()[0],n=1/0,r=-1/0;return t.forEach((function(t){var i=t[dOt][e];i>r&&(r=i),i<n&&(n=i)})),n===r&&(n=r-1),[n,r]},e.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,tOt.hj)(t)||(t=this.getDefaultSize()),t},e.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),r=t+e,i=n.getContext("2d");n.width=n.height=2*r,i.clearRect(0,0,n.width,n.height),i.shadowOffsetX=i.shadowOffsetY=2*r,i.shadowBlur=e,i.shadowColor="black",i.beginPath(),i.arc(-r,-r,t,0,2*Math.PI,!0),i.closePath(),i.fill()},e.prototype.drawWithRange=function(t,e,n,r){var i,o,a=this.coordinate,c=a.start,l=a.end,u=this.coordinate.getWidth(),s=this.coordinate.getHeight(),f=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var h=this.getShadowCanvasCtx();e&&(t=t.filter((function(t){return t[dOt][f]<=e[1]&&t[dOt][f]>=e[0]})));var d=this.scales[f];try{for(var p=(0,QCt.XA)(t),v=p.next();!v.done;v=p.next()){var g=v.value,m=this.getDrawCfg(g),y=m.x,b=m.y,x=d.scale(g[dOt][f]);this.drawGrayScaleBlurredCircle(y-c.x,b-l.y,n+r,x,h)}}catch(k){i={error:k}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}var w=h.getImageData(0,0,u,s);this.clearShadowCanvasCtx(),this.colorize(w),h.putImageData(w,0,0);var S=this.getImageShape();S.attr("x",c.x),S.attr("y",l.y),S.attr("width",u),S.attr("height",s),S.attr("img",h.canvas),S.set("origin",this.getShapeInfo(t))},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(t,e,n,r,i){var o=this.getGrayScaleBlurredCanvas();i.globalAlpha=r,i.drawImage(o,t-n,e-n)},e.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,r=this.paletteCache,i=3;i<n.length;i+=4){var o=n[i];if((0,tOt.hj)(o)){var a=r[o]?r[o]:tEt.rgb2arr(e.gradient(o/256));n[i-3]=a[0],n[i-2]=a[1],n[i-1]=a[2],n[i]=o}}},e.prototype.getImageShape=function(){var t=this.imageShape;return t||(t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t,t)},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=t.map((function(t){return t[dOt]}));return(0,QCt.pi)((0,QCt.pi)({},e),{mappingData:t,data:n})},e}(iFt),NRt=LRt;function BRt(t){var e,n,r,i,o,a,c=t.x,l=t.y,u=t.y0,s=t.size;(0,tOt.kJ)(l)?(r=(e=(0,QCt.CR)(l,2))[0],i=e[1]):(r=u,i=l),(0,tOt.kJ)(c)?(o=(n=(0,QCt.CR)(c,2))[0],a=n[1]):(o=c-s/2,a=c+s/2);var f=[{x:o,y:r},{x:o,y:i}];return f.push({x:a,y:i},{x:a,y:r}),f}function zRt(t,e){void 0===e&&(e=!0);var n=[],r=t[0];n.push(["M",r.x,r.y]);for(var i=1,o=t.length;i<o;i++)n.push(["L",t[i].x,t[i].y]);return e&&(n.push(["L",r.x,r.y]),n.push(["z"])),n}function URt(t,e){var n=0,r=0,i=0,o=0;return(0,tOt.kJ)(t)?1===t.length?n=r=i=o=t[0]:2===t.length?(n=i=t[0],r=o=t[1]):3===t.length?(n=t[0],r=o=t[1],i=t[2]):(n=t[0],r=t[1],i=t[2],o=t[3]):n=r=i=o=t,n+r>e&&(r=e-(n=n?e/(1+r/n):0)),i+o>e&&(o=e-(i=i?e/(1+o/i):0)),[n||0,r||0,i||0,o||0]}function HRt(t,e,n){var r=[];if(n.isRect){var i=n.isTransposed?{x:n.start.x,y:e[0].y}:{x:e[0].x,y:n.start.y},o=n.isTransposed?{x:n.end.x,y:e[2].y}:{x:e[3].x,y:n.end.y},a=(0,tOt.U2)(t,["background","style","radius"]);if(a){var c=n.isTransposed?Math.abs(e[0].y-e[2].y):e[2].x-e[1].x,l=n.isTransposed?n.getWidth():n.getHeight(),u=(0,QCt.CR)(URt(a,Math.min(c,l)),4),s=u[0],f=u[1],h=u[2],d=u[3],p=n.isTransposed&&n.isReflect("y"),v=p?0:1,g=function(t){return p?-t:t};r.push(["M",i.x,o.y+g(s)]),0!==s&&r.push(["A",s,s,0,0,v,i.x+s,o.y]),r.push(["L",o.x-f,o.y]),0!==f&&r.push(["A",f,f,0,0,v,o.x,o.y+g(f)]),r.push(["L",o.x,i.y-g(h)]),0!==h&&r.push(["A",h,h,0,0,v,o.x-h,i.y]),r.push(["L",i.x+d,i.y]),0!==d&&r.push(["A",d,d,0,0,v,i.x,i.y-g(d)])}else r.push(["M",i.x,i.y]),r.push(["L",o.x,i.y]),r.push(["L",o.x,o.y]),r.push(["L",i.x,o.y]),r.push(["L",i.x,i.y]);r.push(["z"])}if(n.isPolar){var m=n.getCenter(),y=fDt(t,n),b=y.startAngle,x=y.endAngle;if("theta"===n.type||n.isTransposed){var w=function(t){return Math.pow(t,2)};s=Math.sqrt(w(m.x-e[0].x)+w(m.y-e[0].y)),f=Math.sqrt(w(m.x-e[2].x)+w(m.y-e[2].y));r=uDt(m.x,m.y,s,n.startAngle,n.endAngle,f)}else r=uDt(m.x,m.y,n.getRadius(),b,x)}return r}function WRt(t,e,n){var r=[];return(0,tOt.UM)(e)?n?r.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",(t[2].x+t[3].x)/2,(t[2].y+t[3].y)/2],["Z"]):r.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]):r.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),r}function VRt(t,e){return[e,t]}KZt("interval",{defaultShapeType:"rect",getDefaultPoints:function(t){return BRt(t)}});JZt("interval","rect",{draw:function(t,e){var n,r=PFt(t,!1,!0),i=e,o=null==t?void 0:t.background;if(o){i=e.addGroup({name:"interval-group"});var a=_Ft(t),c=HRt(t,this.parsePoints(t.points),this.coordinate);i.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},a),{path:c}),capture:!1,zIndex:-1,name:zZt})}n=r.radius&&this.coordinate.isRect?function(t,e,n){var r,i,o,a,c,l,u,s=(0,QCt.CR)((0,QCt.ev)([],(0,QCt.CR)(t),!1),4),f=s[0],h=s[1],d=s[2],p=s[3],v=(0,QCt.CR)("number"==typeof n?Array(4).fill(n):n,4),g=v[0],m=v[1],y=v[2],b=v[3];e.isTransposed&&(h=(r=(0,QCt.CR)(VRt(h,p),2))[0],p=r[1]),e.isReflect("y")&&(f=(i=(0,QCt.CR)(VRt(f,h),2))[0],h=i[1],d=(o=(0,QCt.CR)(VRt(d,p),2))[0],p=o[1]),e.isReflect("x")&&(f=(a=(0,QCt.CR)(VRt(f,p),2))[0],p=a[1],h=(c=(0,QCt.CR)(VRt(h,d),2))[0],d=c[1]);var x=[],w=function(t){return Math.abs(t)};return g=(l=(0,QCt.CR)(URt([g,m,y,b],Math.min(w(p.x-f.x),w(h.y-f.y))).map((function(t){return w(t)})),4))[0],m=l[1],y=l[2],b=l[3],e.isTransposed&&(g=(u=(0,QCt.CR)([b,g,m,y],4))[0],m=u[1],y=u[2],b=u[3]),f.y<h.y?(x.push(["M",p.x,p.y+y]),0!==y&&x.push(["A",y,y,0,0,0,p.x-y,p.y]),x.push(["L",f.x+b,f.y]),0!==b&&x.push(["A",b,b,0,0,0,f.x,f.y+b]),x.push(["L",h.x,h.y-g]),0!==g&&x.push(["A",g,g,0,0,0,h.x+g,h.y]),x.push(["L",d.x-m,d.y]),0!==m&&x.push(["A",m,m,0,0,0,d.x,d.y-m]),x.push(["L",p.x,p.y+y]),x.push(["z"])):p.x<f.x?(x.push(["M",d.x+m,d.y]),0!==m&&x.push(["A",m,m,0,0,0,d.x,d.y+m]),x.push(["L",p.x,p.y-y]),0!==y&&x.push(["A",y,y,0,0,0,p.x+y,p.y]),x.push(["L",f.x-b,f.y]),0!==b&&x.push(["A",b,b,0,0,0,f.x,f.y-b]),x.push(["L",h.x,h.y+g]),0!==g&&x.push(["A",g,g,0,0,0,h.x-g,h.y]),x.push(["L",d.x+m,d.y]),x.push(["z"])):(x.push(["M",h.x,h.y+g]),0!==g&&x.push(["A",g,g,0,0,1,h.x+g,h.y]),x.push(["L",d.x-m,d.y]),0!==m&&x.push(["A",m,m,0,0,1,d.x,d.y+m]),x.push(["L",p.x,p.y-y]),0!==y&&x.push(["A",y,y,0,0,1,p.x-y,p.y]),x.push(["L",f.x+b,f.y]),0!==b&&x.push(["A",b,b,0,0,1,f.x,f.y-b]),x.push(["L",h.x,h.y+g]),x.push(["z"])),x}(this.parsePoints(t.points),this.coordinate,r.radius):this.parsePath(function(t,e,n){var r=n.getWidth(),i=n.getHeight(),o="rect"===n.type,a=[],c=(t[2].x-t[1].x)/2,l=n.isTransposed?c*i/r:c*r/i;return"round"===e?(o?(a.push(["M",t[0].x,t[0].y+l]),a.push(["L",t[1].x,t[1].y-l]),a.push(["A",c,c,0,0,1,t[2].x,t[2].y-l]),a.push(["L",t[3].x,t[3].y+l]),a.push(["A",c,c,0,0,1,t[0].x,t[0].y+l])):(a.push(["M",t[0].x,t[0].y]),a.push(["L",t[1].x,t[1].y]),a.push(["A",c,c,0,0,1,t[2].x,t[2].y]),a.push(["L",t[3].x,t[3].y]),a.push(["A",c,c,0,0,1,t[0].x,t[0].y])),a.push(["z"])):a=zRt(t),a}(t.points,r.lineCap,this.coordinate));var l=i.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},r),{path:n}),name:"interval"});return o?i:l},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});function GRt(t){var e=t.theme,n=t.coordinate,r=t.getXScale(),i=r.values,o=t.beforeMappingData,a=i.length,c=mDt(t.coordinate),l=t.intervalPadding,u=t.dodgePadding,s=t.maxColumnWidth||e.maxColumnWidth,f=t.minColumnWidth||e.minColumnWidth,h=t.columnWidthRatio||e.columnWidthRatio,d=t.multiplePieWidthRatio||e.multiplePieWidthRatio,p=t.roseWidthRatio||e.roseWidthRatio;if(r.isLinear&&i.length>1){i.sort();var v=function(t,e){var n=t.length,r=t;(0,tOt.HD)(r[0])&&(r=t.map((function(t){return e.translate(t)})));for(var i=r[1]-r[0],o=2;o<n;o++){var a=r[o]-r[o-1];i>a&&(i=a)}return i}(i,r);a=(r.max-r.min)/v,i.length>a&&(a=i.length)}var g=r.range,m=1/a,y=1;(n.isPolar?y=n.isTransposed&&a>1?d:p:(r.isLinear&&(m*=g[1]-g[0]),y=h),!(0,tOt.UM)(l)&&l>=0)?m=(1-(a-1)*(l/c))/a:m*=y;if(t.getAdjust("dodge")){var b=function(t,e){if(e){var n=(0,tOt.xH)(t);return(0,tOt.I)(n,e).length}return t.length}(o,t.getAdjust("dodge").dodgeBy);if(!(0,tOt.UM)(u)&&u>=0)m=(m-u/c*(b-1))/b;else!(0,tOt.UM)(l)&&l>=0?(m*=y,m/=b):m/=b;m=m>=0?m:0}if(!(0,tOt.UM)(s)&&s>=0){var x=s/c;m>x&&(m=x)}if(!(0,tOt.UM)(f)&&f>=0){var w=f/c;m<w&&(m=w)}return m}var XRt=function(t){function e(e){var n=t.call(this,e)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var r=e.background;return n.background=r,n}return(0,QCt.ZT)(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),i=this.getAttribute("size");i?(n=this.getAttributeValues(i,e)[0],n/=mDt(this.coordinate)):(this.defaultSize||(this.defaultSize=GRt(this)),n=this.defaultSize);return r.size=n,r},e.prototype.adjustScale=function(){t.prototype.adjustScale.call(this);var e=this.getYScale();if("theta"===this.coordinate.type)e.change({nice:!1,min:0,max:EDt(e)});else{var n=this.scaleDefs,r=e.field,i=e.min,o=e.max;"time"!==e.type&&(i>0&&!(0,tOt.U2)(n,[r,"min"])&&e.change({min:0}),o<=0&&!(0,tOt.U2)(n,[r,"max"])&&e.change({max:0}))}},e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return n.background=this.background,n},e}(iFt),qRt=XRt,YRt=function(t){function e(e){var n=t.call(this,e)||this;n.type="line";var r=e.sortable,i=void 0!==r&&r;return n.sortable=i,n}return(0,QCt.ZT)(e,t),e}(_Rt),$Rt=YRt,KRt=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function JRt(t,e,n,r,i){var o,a,c=PFt(e,i,!i,"r"),l=t.parsePoints(e.points),u=l[0];if(e.isStack)u=l[1];else if(l.length>1){var s=n.addGroup();try{for(var f=(0,QCt.XA)(l),h=f.next();!h.done;h=f.next()){var d=h.value;s.addShape({type:"marker",attrs:(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({},c),{symbol:yFt[r]||r}),d)})}}catch(p){o={error:p}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}return s}return n.addShape({type:"marker",attrs:(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({},c),{symbol:yFt[r]||r}),u)})}KZt("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(t){return DFt(t)}});(0,tOt.S6)(KRt,(function(t){JZt("point","hollow-".concat(t),{draw:function(e,n){return JRt(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:yFt[t]||t,style:{r:4.5,stroke:n,fill:null}}}})}));var QRt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="point",e.shapeType="point",e.generatePoints=!0,e}return(0,QCt.ZT)(e,t),e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return(0,QCt.pi)((0,QCt.pi)({},n),{isStack:!!this.getAdjust("stack")})},e}(iFt),tLt=QRt;KZt("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(t){var e=[];return(0,tOt.S6)(t.x,(function(n,r){var i=t.y[r];e.push({x:n,y:i})})),e}});JZt("polygon","polygon",{draw:function(t,e){if(!(0,tOt.xb)(t.points)){var n=PFt(t,!0,!0),r=this.parsePath(function(t){for(var e=t[0],n=1,r=[["M",e.x,e.y]];n<t.length;){var i=t[n];i.x===t[n-1].x&&i.y===t[n-1].y||(r.push(["L",i.x,i.y]),i.x===e.x&&i.y===e.y&&n<t.length-1&&(e=t[n+1],r.push(["Z"]),r.push(["M",e.x,e.y]),n++)),n++}return(0,tOt.Xy)((0,tOt.Z$)(r),e)||r.push(["L",e.x,e.y]),r.push(["Z"]),r}(t.points));return e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},n),{path:r}),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}});var eLt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e}return(0,QCt.ZT)(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),i=r.x,o=r.y;if(!(0,tOt.kJ)(i)||!(0,tOt.kJ)(o)){var a=this.getXScale(),c=this.getYScale(),l=.5/a.values.length,u=.5/c.values.length;a.isCategory&&c.isCategory?(i=[i-l,i-l,i+l,i+l],o=[o-u,o+u,o+u,o-u]):(0,tOt.kJ)(i)?(i=[(n=i)[0],n[0],n[1],n[1]],o=[o-u/2,o+u/2,o+u/2,o-u/2]):(0,tOt.kJ)(o)&&(o=[(n=o)[0],n[1],n[1],n[0]],i=[i-l/2,i-l/2,i+l/2,i+l/2]),r.x=i,r.y=o}return r},e}(iFt),nLt=eLt,rLt=(KZt("schema",{defaultShapeType:""}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e}return(0,QCt.ZT)(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),i=this.getAttribute("size");i?(n=this.getAttributeValues(i,e)[0],n/=mDt(this.coordinate)):(this.defaultSize||(this.defaultSize=GRt(this)),n=this.defaultSize);return r.size=n,r},e}(iFt)),iLt=rLt;KZt("violin",{defaultShapeType:"violin",getDefaultPoints:function(t){var e=t.size/2,n=[],r=function(t){if(!(0,tOt.kJ)(t))return[];var e=(0,tOt.Fp)(t);return(0,tOt.UI)(t,(function(t){return t/e}))}(t._size);return(0,tOt.S6)(t.y,(function(i,o){var a=r[o]*e,c=0===o,l=o===t.y.length-1;n.push({isMin:c,isMax:l,x:t.x-a,y:i}),n.unshift({isMin:c,isMax:l,x:t.x+a,y:i})})),n}});JZt("violin","violin",{draw:function(t,e){var n=PFt(t,!0,!0),r=this.parsePath(MFt(t.points));return e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},n),{path:r}),name:"violin"})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:t.color}}}});var oLt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="violin",e.shapeType="violin",e.generatePoints=!0,e}return(0,QCt.ZT)(e,t),e.prototype.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),i=this.getAttribute("size");i?(n=this.getAttributeValues(i,e)[0],n/=mDt(this.coordinate)):(this.defaultSize||(this.defaultSize=GRt(this)),n=this.defaultSize);return r.size=n,r._size=(0,tOt.U2)(e[dOt],[this._sizeField]),r},e.prototype.initAttributes=function(){var e=this.attributeOption,n=e.size?e.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete e.size,t.prototype.initAttributes.call(this)},e}(iFt),aLt=oLt;function cLt(t,e){return["C",1*t.x/2+1*e.x/2,t.y,1*t.x/2+1*e.x/2,e.y,e.x,e.y]}function lLt(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var r=["Q"];return(0,tOt.S6)(n,(function(t){r.push(t.x,t.y)})),r}JZt("area","line",{draw:function(t,e){var n=TRt(t,!0,!1,this);return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),JZt("area","smooth",{draw:function(t,e){var n=TRt(t,!1,!0,this,ZRt(this.coordinate));return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color,fillOpacity:1}}}}),JZt("area","smooth-line",{draw:function(t,e){var n=TRt(t,!0,!0,this,ZRt(this.coordinate));return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),JZt("edge","arc",{draw:function(t,e){var n,r=PFt(t,!0,!1,"lineWidth"),i=t.points,o=i.length>2?"weight":"normal";if(t.isInCircle){var a={x:0,y:1};return"normal"===o?n=function(t,e,n){var r=lLt(e,n),i=[["M",t.x,t.y]];return i.push(r),i}(i[0],i[1],a):(r.fill=r.stroke,n=function(t,e){var n=lLt(t[1],e),r=lLt(t[3],e),i=[["M",t[0].x,t[0].y]];return i.push(r),i.push(["L",t[3].x,t[3].y]),i.push(["L",t[2].x,t[2].y]),i.push(n),i.push(["L",t[1].x,t[1].y]),i.push(["L",t[0].x,t[0].y]),i.push(["Z"]),i}(i,a)),n=this.parsePath(n),e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},r),{path:n})})}if("normal"===o)return n=sDt(((i=this.parsePoints(i))[1].x+i[0].x)/2,i[0].y,Math.abs(i[1].x-i[0].x)/2,Math.PI,2*Math.PI),e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},r),{path:n})});var c=cLt(i[1],i[3]),l=cLt(i[2],i[0]);return n=[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],c,["L",i[3].x,i[3].y],["L",i[2].x,i[2].y],l,["Z"]],n=this.parsePath(n),r.fill=r.stroke,e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},r),{path:n})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),JZt("edge","smooth",{draw:function(t,e){var n=PFt(t,!0,!1,"lineWidth"),r=t.points,i=this.parsePath(function(t,e){var n=cLt(t,e),r=[["M",t.x,t.y]];return r.push(n),r}(r[0],r[1]));return e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},n),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var uLt=1/3;JZt("edge","vhv",{draw:function(t,e){var n=PFt(t,!0,!1,"lineWidth"),r=t.points,i=this.parsePath(function(t,e){var n=[];n.push({x:t.x,y:t.y*(1-uLt)+e.y*uLt}),n.push({x:e.x,y:t.y*(1-uLt)+e.y*uLt}),n.push(e);var r=[["M",t.x,t.y]];return(0,tOt.S6)(n,(function(t){r.push(["L",t.x,t.y])})),r}(r[0],r[1]));return e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},n),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),JZt("interval","funnel",{getPoints:function(t){return t.size=2*t.size,BRt(t)},draw:function(t,e){var n=PFt(t,!1,!0),r=this.parsePath(WRt(t.points,t.nextPoints,!1));return e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},n),{path:r}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),JZt("interval","hollow-rect",{draw:function(t,e){var n=PFt(t,!0,!1),r=e,i=null==t?void 0:t.background;if(i){r=e.addGroup();var o=_Ft(t),a=HRt(t,this.parsePoints(t.points),this.coordinate);r.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},o),{path:a}),capture:!1,zIndex:-1,name:zZt})}var c=this.parsePath(zRt(t.points)),l=r.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},n),{path:c}),name:"interval"});return i?r:l},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}}),JZt("interval","line",{getPoints:function(t){return function(t){var e=t.x,n=t.y,r=t.y0;return(0,tOt.kJ)(n)?n.map((function(t,n){return{x:(0,tOt.kJ)(e)?e[n]:e,y:t}})):[{x:e,y:r},{x:e,y:n}]}(t)},draw:function(t,e){var n=PFt(t,!0,!1,"lineWidth"),r=pDt((0,QCt.pi)({},n),["fill"]),i=this.parsePath(zRt(t.points,!1));return e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},r),{path:i}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:t.color}}}}),JZt("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,BRt(t)},draw:function(t,e){var n=PFt(t,!1,!0),r=this.parsePath(WRt(t.points,t.nextPoints,!0));return e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},n),{path:r}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),JZt("interval","tick",{getPoints:function(t){return function(t){var e,n,r,i=t.x,o=t.y,a=t.y0,c=t.size;(0,tOt.kJ)(o)?(n=(e=(0,QCt.CR)(o,2))[0],r=e[1]):(n=a,r=o);var l=i+c/2,u=i-c/2;return[{x:i,y:n},{x:i,y:r},{x:u,y:n},{x:l,y:n},{x:u,y:r},{x:l,y:r}]}(t)},draw:function(t,e){var n=PFt(t,!0,!1),r=this.parsePath(function(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y]]}(t.points));return e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},n),{path:r}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:t.color}}}});var sLt=function(t,e,n){var r,i=t.x,o=t.y,a=e.x,c=e.y;switch(n){case"hv":r=[{x:a,y:o}];break;case"vh":r=[{x:i,y:c}];break;case"hvh":var l=(a+i)/2;r=[{x:l,y:o},{x:l,y:c}];break;case"vhv":var u=(o+c)/2;r=[{x:i,y:u},{x:a,y:u}]}return r};function fLt(t,e){var n=EFt(t.points,t.connectNulls,t.showSinglePoint),r=[];return(0,tOt.S6)(n,(function(t){var n=function(t,e){var n=[];return(0,tOt.S6)(t,(function(r,i){var o=t[i+1];if(n.push(r),o){var a=sLt(r,o,e);n=n.concat(a)}})),n}(t,e);r=r.concat(function(t){return t.map((function(t,e){return 0===e?["M",t.x,t.y]:["L",t.x,t.y]}))}(n))})),(0,QCt.pi)((0,QCt.pi)({},PFt(t,!0,!1,"lineWidth")),{path:r})}function hLt(t){var e=(0,tOt.kJ)(t)?t:[t],n=e[0],r=e[e.length-1],i=e.length>1?e[1]:n;return{min:n,max:r,min1:i,max1:e.length>3?e[3]:r,median:e.length>2?e[2]:i}}function dLt(t,e,n){var r,i=n/2;if((0,tOt.kJ)(e)){var o=hLt(e),a=o.min,c=o.max,l=o.median,u=o.min1,s=t-i,f=t+i;r=[[s,c],[f,c],[t,c],[t,h=o.max1],[s,u],[s,h],[f,h],[f,u],[t,u],[t,a],[s,a],[f,a],[s,l],[f,l]]}else{e=(0,tOt.UM)(e)?.5:e;var h,d=hLt(t),p=(a=d.min,c=d.max,l=d.median,e-i),v=e+i;r=[[a,p],[a,v],[a,e],[u=d.min1,e],[u,p],[u,v],[h=d.max1,v],[h,p],[h,e],[c,e],[c,p],[c,v],[l,p],[l,v]]}return r.map((function(t){return{x:t[0],y:t[1]}}))}function pLt(t){var e=((0,tOt.kJ)(t)?t:[t]).sort((function(t,e){return e-t}));return function(t,e,n){if((0,tOt.HD)(t))return t.padEnd(e,n);if((0,tOt.kJ)(t)){var r=t.length;if(r<e)for(var i=e-r,o=0;o<i;o++)t.push(n)}return t}(e,4,e[e.length-1])}function vLt(t,e,n){var r=pLt(e);return[{x:t,y:r[0]},{x:t,y:r[1]},{x:t-n/2,y:r[2]},{x:t-n/2,y:r[1]},{x:t+n/2,y:r[1]},{x:t+n/2,y:r[2]},{x:t,y:r[2]},{x:t,y:r[3]}]}function gLt(t,e){var n=Math.abs(t[0].x-t[2].x),r=Math.abs(t[0].y-t[2].y),i=Math.min(n,r);return e&&(i=(0,tOt.uZ)(e,0,Math.min(n,r))),i/=2,{x:(t[0].x+t[2].x)/2-i,y:(t[0].y+t[2].y)/2-i,width:2*i,height:2*i}}(0,tOt.S6)(["hv","vh","hvh","vhv"],(function(t){JZt("line",t,{draw:function(e,n){var r=fLt(e,t);return n.addShape({type:"path",attrs:r,name:"line"})},getMarker:function(e){return ZFt(e,t)}})})),(0,tOt.S6)(["cross","tick","plus","hyphen","line"],(function(t){JZt("point",t,{draw:function(e,n){return JRt(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:yFt[t],style:{r:4.5,stroke:n,fill:null}}}})})),JZt("point","image",{draw:function(t,e){var n,r,i=PFt(t,!1,!1,"r").r,o=this.parsePoints(t.points),a=o[0];if(t.isStack)a=o[1];else if(o.length>1){var c=e.addGroup();try{for(var l=(0,QCt.XA)(o),u=l.next();!u.done;u=l.next()){var s=u.value;c.addShape("image",{attrs:{x:s.x-i/2,y:s.y-i,width:i,height:i,img:t.shape[1]}})}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return c}return e.addShape("image",{attrs:{x:a.x-i/2,y:a.y-i,width:i,height:i,img:t.shape[1]}})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),(0,tOt.S6)(KRt,(function(t){JZt("point",t,{draw:function(e,n){return JRt(this,e,n,t,!1)},getMarker:function(e){var n=e.color;return{symbol:yFt[t]||t,style:{r:4.5,fill:n}}}})})),JZt("schema","box",{getPoints:function(t){return dLt(t.x,t.y,t.size)},draw:function(t,e){var n=PFt(t,!0,!1),r=this.parsePath(function(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y],["L",t[6].x,t[6].y],["L",t[7].x,t[7].y],["L",t[4].x,t[4].y],["Z"],["M",t[8].x,t[8].y],["L",t[9].x,t[9].y],["M",t[10].x,t[10].y],["L",t[11].x,t[11].y],["M",t[12].x,t[12].y],["L",t[13].x,t[13].y]]}(t.points));return e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},n),{path:r,name:"schema"})})},getMarker:function(t){return{symbol:function(t,e,n){var r=dLt(t,[e-6,e-3,e,e+3,e+6],n);return[["M",r[0].x+1,r[0].y],["L",r[1].x-1,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x+1,r[10].y],["L",r[11].x-1,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]},style:{r:6,lineWidth:1,stroke:t.color}}}}),JZt("schema","candle",{getPoints:function(t){return vLt(t.x,t.y,t.size)},draw:function(t,e){var n=PFt(t,!0,!0),r=this.parsePath(function(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["L",t[4].x,t[4].y],["L",t[5].x,t[5].y],["Z"],["M",t[6].x,t[6].y],["L",t[7].x,t[7].y]]}(t.points));return e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},n),{path:r,name:"schema"})})},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){var r=vLt(t,[e+7.5,e+3,e-3,e-7.5],n);return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}}),JZt("polygon","square",{draw:function(t,e){if(!(0,tOt.xb)(t.points)){var n=PFt(t,!0,!0),r=this.parsePoints(t.points);return e.addShape("rect",{attrs:(0,QCt.pi)((0,QCt.pi)({},n),gLt(r,t.size)),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),JZt("violin","smooth",{draw:function(t,e){var n=PFt(t,!0,!0),r=this.parsePath(AFt(t.points));return e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{stroke:null,r:4,fill:t.color}}}}),JZt("violin","hollow",{draw:function(t,e){var n=PFt(t,!0,!1),r=this.parsePath(MFt(t.points));return e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:null,stroke:t.color}}}}),JZt("violin","hollow-smooth",{draw:function(t,e){var n=PFt(t,!0,!1),r=this.parsePath(AFt(t.points));return e.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4,fill:null,stroke:t.color}}}});var mLt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getLabelValueDir=function(t){var e=t.points;return e[0].y<=e[2].y?1:-1},e.prototype.getLabelOffsetPoint=function(e,n,r,i){var o,a=t.prototype.getLabelOffsetPoint.call(this,e,n,r),c=this.getCoordinate(),l=c.isTransposed?"x":"y",u=this.getLabelValueDir(e.mappingData);return a=(0,QCt.pi)((0,QCt.pi)({},a),((o={})[l]=a[l]*u,o)),c.isReflect("x")&&(a=(0,QCt.pi)((0,QCt.pi)({},a),{x:-1*a.x})),c.isReflect("y")&&(a=(0,QCt.pi)((0,QCt.pi)({},a),{y:-1*a.y})),a},e.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg(),r=e.theme;return(0,tOt.b$)({},n,r.labels,"middle"===t.position?{offset:0}:{},t)},e.prototype.setLabelPosition=function(t,e,n,r){var i,o,a,c,l=this.getCoordinate(),u=l.isTransposed,s=e.points,f=l.convert(s[0]),h=l.convert(s[2]),d=this.getLabelValueDir(e),p=(0,tOt.kJ)(e.shape)?e.shape[0]:e.shape;if("funnel"===p||"pyramid"===p){var v=(0,tOt.U2)(e,"nextPoints"),g=(0,tOt.U2)(e,"points");if(v){var m=l.convert(g[0]),y=l.convert(g[1]),b=l.convert(v[0]),x=l.convert(v[1]);u?(i=Math.min(b.y,m.y),a=Math.max(b.y,m.y),o=(y.x+x.x)/2,c=(m.x+b.x)/2):(i=Math.min((y.y+x.y)/2,(m.y+b.y)/2),a=Math.max((y.y+x.y)/2,(m.y+b.y)/2),o=x.x,c=m.x)}else i=Math.min(h.y,f.y),a=Math.max(h.y,f.y),o=h.x,c=f.x}else i=Math.min(h.y,f.y),a=Math.max(h.y,f.y),o=h.x,c=f.x;switch(r){case"right":t.x=o,t.y=(i+a)/2,t.textAlign=(0,tOt.U2)(t,"textAlign",d>0?"left":"right");break;case"left":t.x=c,t.y=(i+a)/2,t.textAlign=(0,tOt.U2)(t,"textAlign",d>0?"left":"right");break;case"bottom":u&&(t.x=(o+c)/2),t.y=a,t.textAlign=(0,tOt.U2)(t,"textAlign","center"),t.textBaseline=(0,tOt.U2)(t,"textBaseline",d>0?"bottom":"top");break;case"middle":u&&(t.x=(o+c)/2),t.y=(i+a)/2,t.textAlign=(0,tOt.U2)(t,"textAlign","center"),t.textBaseline=(0,tOt.U2)(t,"textBaseline","middle");break;case"top":u&&(t.x=(o+c)/2),t.y=i,t.textAlign=(0,tOt.U2)(t,"textAlign","center"),t.textBaseline=(0,tOt.U2)(t,"textBaseline",d>0?"bottom":"top")}},e}(gFt),yLt=mLt,bLt=Math.PI/2,xLt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),n=0;if((0,tOt.hj)(t))n=t;else if((0,tOt.HD)(t)&&-1!==t.indexOf("%")){var r=e.getRadius();e.innerRadius>0&&(r*=1-e.innerRadius),n=.01*parseFloat(t)*r}return n},e.prototype.getLabelItems=function(e){var n=t.prototype.getLabelItems.call(this,e),r=this.geometry.getYScale();return(0,tOt.UI)(n,(function(t){if(t&&r){var e=r.scale((0,tOt.U2)(t.data,r.field));return(0,QCt.pi)((0,QCt.pi)({},t),{percent:e})}return t}))},e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate();if(t.labelEmit)e=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(n.isTransposed){var r=n.getCenter(),i=t.offset;e=Math.abs(t.x-r.x)<1?"center":t.angle>Math.PI||t.angle<=0?i>0?"left":"right":i>0?"right":"left"}else e="center";return e},e.prototype.getLabelPoint=function(t,e,n){var r,i=1,o=t.content[n];this.isToMiddle(e)?r=this.getMiddlePoint(e.points):(1===t.content.length&&0===n?n=1:0===n&&(i=-1),r=this.getArcPoint(e,n));var a=t.offset*i,c=this.getPointAngle(r),l=t.labelEmit,u=this.getCirclePoint(c,a,r,l);return 0===u.r?u.content="":(u.content=o,u.angle=c,u.color=e.color),u.rotate=t.autoRotate?this.getLabelRotate(c,a,l):t.rotate,u.start={x:r.x,y:r.y},u},e.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),(0,tOt.kJ)(t.x)||(0,tOt.kJ)(t.y)?{x:(0,tOt.kJ)(t.x)?t.x[e]:t.x,y:(0,tOt.kJ)(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},e.prototype.getPointAngle=function(t){return bDt(this.getCoordinate(),t)},e.prototype.getCirclePoint=function(t,e,n,r){var i=this.getCoordinate(),o=i.getCenter(),a=yDt(i,n);if(0===a)return(0,QCt.pi)((0,QCt.pi)({},o),{r:a});var c=t;i.isTransposed&&a>e&&!r?c=t+2*Math.asin(e/(2*a)):a+=e;return{x:o.x+a*Math.cos(c),y:o.y+a*Math.sin(c),r:a}},e.prototype.getLabelRotate=function(t,e,n){var r=t+bLt;return n&&(r-=bLt),r&&(r>bLt?r-=Math.PI:r<-bLt&&(r+=Math.PI)),r},e.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,r={x:0,y:0};return(0,tOt.S6)(t,(function(t){r.x+=t.x,r.y+=t.y})),r.x/=n,r.y/=n,r=e.convert(r)},e.prototype.isToMiddle=function(t){return t.x.length>2},e}(gFt),wLt=xLt,SLt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultLayout="distribute",e}return(0,QCt.ZT)(e,t),e.prototype.getDefaultLabelCfg=function(e,n){var r=t.prototype.getDefaultLabelCfg.call(this,e,n);return(0,tOt.b$)({},r,(0,tOt.U2)(this.geometry.theme,"pieLabels",{}))},e.prototype.getLabelOffset=function(e){return t.prototype.getLabelOffset.call(this,e)||0},e.prototype.getLabelRotate=function(t,e,n){var r;return e<0&&((r=t)>Math.PI/2&&(r-=Math.PI),r<-Math.PI/2&&(r+=Math.PI)),r},e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate().getCenter();return e=t.angle<=Math.PI/2&&t.x>=n.x?"left":"right",t.offset<=0&&(e="right"===e?"left":"right"),e},e.prototype.getArcPoint=function(t){return t},e.prototype.getPointAngle=function(t){var e,n=this.getCoordinate(),r={x:(0,tOt.kJ)(t.x)?t.x[0]:t.x,y:t.y[0]},i={x:(0,tOt.kJ)(t.x)?t.x[1]:t.x,y:t.y[1]},o=bDt(n,r);if(t.points&&t.points[0].y===t.points[1].y)e=o;else{var a=bDt(n,i);o>=a&&(a+=2*Math.PI),e=o+(a-o)/2}return e},e.prototype.getCirclePoint=function(t,e){var n=this.getCoordinate(),r=n.getCenter(),i=n.getRadius()+e;return(0,QCt.pi)((0,QCt.pi)({},lDt(r.x,r.y,i,t)),{angle:t,r:i})},e}(wLt),kLt=SLt;function CLt(t,e,n){var r=t.filter((function(t){return!t.invisible}));r.sort((function(t,e){return t.y-e.y}));var i,o=!0,a=n.minY,c=n.maxY,l=Math.abs(a-c),u=0,s=Number.MIN_VALUE,f=r.map((function(t){return t.y>u&&(u=t.y),t.y<s&&(s=t.y),{content:t.content,size:e,targets:[t.y-a],pos:null}}));for(s-=a,u-a>l&&(l=u-a);o;)for(f.forEach((function(t){var e=(Math.min.apply(s,t.targets)+Math.max.apply(s,t.targets))/2;t.pos=Math.min(Math.max(s,e-t.size/2),l-t.size),t.pos=Math.max(0,t.pos)})),o=!1,i=f.length;i--;)if(i>0){var h=f[i-1],d=f[i];h.pos+h.size>d.pos&&(h.size+=d.size,h.targets=h.targets.concat(d.targets),h.pos+h.size>l&&(h.pos=l-h.size),f.splice(i,1),o=!0)}i=0,f.forEach((function(t){var n=a+e/2;t.targets.forEach((function(){r[i].y=t.pos+n,n+=e,i++}))}))}var OLt=4;var ELt=4,MLt=4;var ALt=100,PLt=function(){function t(t){void 0===t&&(t={}),this.bitmap={};var e=t.xGap,n=void 0===e?1:e,r=t.yGap,i=void 0===r?8:r;this.xGap=n,this.yGap=i}return t.prototype.hasGap=function(t){for(var e=!0,n=this.bitmap,r=Math.round(t.minX),i=Math.round(t.maxX),o=Math.round(t.minY),a=Math.round(t.maxY),c=r;c<=i;c+=1)if(n[c]){if(c===r||c===i){for(var l=o;l<=a;l++)if(n[c][l]){e=!1;break}}else if(n[c][o]||n[c][a]){e=!1;break}}else n[c]={};return e},t.prototype.fillGap=function(t){for(var e=this.bitmap,n=Math.round(t.minX),r=Math.round(t.maxX),i=Math.round(t.minY),o=Math.round(t.maxY),a=n;a<=r;a+=1)e[a]||(e[a]={});for(a=n;a<=r;a+=this.xGap){for(var c=i;c<=o;c+=this.yGap)e[a][c]=!0;e[a][o]=!0}if(1!==this.yGap)for(a=i;a<=o;a+=1)e[n][a]=!0,e[r][a]=!0;if(1!==this.xGap)for(a=n;a<=r;a+=1)e[a][i]=!0,e[a][o]=!0},t.prototype.destroy=function(){this.bitmap={}},t}();function _Lt(t,e,n,r){var i=t.getCanvasBBox(),o=i.width,a=i.height,c={x:e,y:n,textAlign:"center"};switch(r){case 0:c.y-=a+1,c.x+=1,c.textAlign="left";break;case 1:c.y-=a+1,c.x-=1,c.textAlign="right";break;case 2:c.y+=a+1,c.x-=1,c.textAlign="right";break;case 3:c.y+=a+1,c.x+=1,c.textAlign="left";break;case 5:c.y-=2*a+2;break;case 6:c.y+=2*a+2;break;case 7:c.x+=o+1,c.textAlign="left";break;case 8:c.x-=o+1,c.textAlign="right"}return t.attr(c),t.getCanvasBBox()}function DLt(t){if(t.length>4)return[];var e=function(t,e){return[e.x-t.x,e.y-t.y]};return[e(t[0],t[1]),e(t[1],t[2])]}function TLt(t,e,n){void 0===e&&(e=0),void 0===n&&(n={x:0,y:0});var r=t.x,i=t.y;return{x:(r-n.x)*Math.cos(-e)+(i-n.y)*Math.sin(-e)+n.x,y:(n.x-r)*Math.sin(-e)+(i-n.y)*Math.cos(-e)+n.y}}function ZLt(t){var e=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=t.rotation;return n?[TLt(e[0],n,e[0]),TLt(e[1],n,e[0]),TLt(e[2],n,e[0]),TLt(e[3],n,e[0])]:e}function FLt(t,e){if(t.length>4)return{min:0,max:0};var n=[];return t.forEach((function(t){n.push(function(t,e){return(t[0]||0)*(e[0]||0)+(t[1]||0)*(e[1]||0)+(t[2]||0)*(e[2]||0)}([t.x,t.y],e))})),{min:Math.min.apply(Math,(0,QCt.ev)([],(0,QCt.CR)(n),!1)),max:Math.max.apply(Math,(0,QCt.ev)([],(0,QCt.CR)(n),!1))}}function jLt(t,e){return t.max>e.min&&t.min<e.max}function ILt(t){return["x","y","width","height"].every((function(e){return"number"==typeof(n=t[e])&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0;var n}))}function RLt(t,e,n){if(void 0===n&&(n=0),!ILt(t)||!ILt(e))return!1;if(!t.rotation&&!e.rotation)return function(t,e,n){return void 0===n&&(n=0),!(e.x>t.x+t.width+n||e.x+e.width<t.x-n||e.y>t.y+t.height+n||e.y+e.height<t.y-n)}(t,e,n);for(var r=ZLt(t),i=ZLt(e),o=DLt(r).concat(DLt(i)),a=0;a<o.length;a++){var c=o[a];if(!jLt(FLt(r,c),FLt(i,c)))return!1}return!0}var LLt=function(){function t(t){var e=this;this.queue=[],this.worker=new Worker(t),this.worker.onmessage=function(t){var n;null===(n=e.queue.shift())||void 0===n||n.resolve(t)},this.worker.onmessageerror=function(t){var n;console.warn("[AntV G2] Web worker is not available"),null===(n=e.queue.shift())||void 0===n||n.reject(t)}}return t.prototype.post=function(t,e){var n=this;return new Promise((function(r,i){n.queue.push({resolve:r,reject:i});try{n.worker.postMessage(t)}catch(F2t){console.warn("[AntV G2] Web worker is not available"),(0,tOt.mf)(e)&&e()}}))},t.prototype.destroy=function(){this.worker.terminate()},t}();var NLt="\n   self.onmessage = ".concat(function(t){var e=function(){function t(t){if(t.length>4)return[];var e=function(t,e){return[e.x-t.x,e.y-t.y]};return[e(t[0],t[1]),e(t[1],t[2])]}function e(t,e,n){void 0===e&&(e=0),void 0===n&&(n={x:0,y:0});var r=t.x,i=t.y;return{x:(r-n.x)*Math.cos(-e)+(i-n.y)*Math.sin(-e)+n.x,y:(n.x-r)*Math.sin(-e)+(i-n.y)*Math.cos(-e)+n.y}}function n(t){var n=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],r=t.rotation;return r?[e(n[0],r,n[0]),e(n[1],r,n[0]),e(n[2],r,n[0]),e(n[3],r,n[0])]:n}function r(t,e){if(t.length>4)return{min:0,max:0};var n=[];return t.forEach((function(t){n.push(function(t,e){return(t[0]||0)*(e[0]||0)+(t[1]||0)*(e[1]||0)+(t[2]||0)*(e[2]||0)}([t.x,t.y],e))})),{min:Math.min.apply(null,n),max:Math.max.apply(null,n)}}function i(t,e){return t.max>e.min&&t.min<e.max}function o(t){return["x","y","width","height"].every((function(e){return"number"==typeof(n=t[e])&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0;var n}))}return{intersect:function(e,a,c){if(void 0===c&&(c=0),!o(e)||!o(a))return!1;if(!e.rotation&&!a.rotation)return function(t,e,n){return void 0===n&&(n=0),!(e.x>t.x+t.width+n||e.x+e.width<t.x-n||e.y>t.y+t.height+n||e.y+e.height<t.y-n)}(e,a,c);for(var l=n(e),u=n(a),s=t(l).concat(t(u)),f=0;f<s.length;f++){var h=s[f];if(!i(r(l,h),r(u,h)))return!1}return!0}}}().intersect;var n={"hide-overlap":function(t){for(var n=t.slice(),r=0;r<n.length;r++){var i=n[r];if(i.visible)for(var o=r+1;o<n.length;o++){var a=n[o];i!==a&&a.visible&&e(i,a)&&(a.visible=!1)}}return n}};try{var r=JSON.parse(t.data);if(!r||!r.type||!n[r.type])return;var i=r.type,o=r.items,a=n[i](o);self.postMessage(a)}catch(t){throw t}}.toString(),"\n"),BLt=function(t){for(var e=t.slice(),n=0;n<e.length;n++){var r=e[n];if(r.visible)for(var i=n+1;i<e.length;i++){var o=e[i];r!==o&&o.visible&&RLt(r,o)&&(o.visible=!1)}}return e},zLt=new Map,ULt=function(t){if("undefined"!=typeof window){var e;try{e=new Blob([t.toString()],{type:"application/javascript"})}catch(F2t){(e=new window.BlobBuilder).append(t.toString()),e=e.getBlob()}return new LLt(URL.createObjectURL(e))}}(NLt);var HLt,WLt={"#5B8FF9":!0};function VLt(t,e,n){return!!t.getAdjust("stack")||e.every((function(e,r){var i=n[r];return function(t,e,n){var r=t.coordinate,i=lFt(e),o=gDt.fromObject(i.getCanvasBBox()),a=gDt.fromObject(n.getBBox());return r.isTransposed?a.height>=o.height:a.width>=o.width}(t,e,i)}))}function GLt(t,e,n){return t.some((function(t){return n(t,e)}))}function XLt(t,e){return GLt(t,e,(function(t,e){var n=lFt(t),r=lFt(e);return function(t,e,n){return void 0===n&&(n=0),Math.max(0,Math.min(t.x+t.width+n,e.x+e.width+n)-Math.max(t.x-n,e.x-n))*Math.max(0,Math.min(t.y+t.height+n,e.y+e.height+n)-Math.max(t.y-n,e.y-n))}(n.getCanvasBBox(),r.getCanvasBBox(),2)>0}))}function qLt(t,e,n){return t.some((function(t){return n(t,e)}))}function YLt(t,e){return qLt(t,e,(function(t,e){var n=lFt(t),r=lFt(e);return function(t,e,n){return void 0===n&&(n=0),Math.max(0,Math.min(t.x+t.width+n,e.x+e.width+n)-Math.max(t.x-n,e.x-n))*Math.max(0,Math.min(t.y+t.height+n,e.y+e.height+n)-Math.max(t.y-n,e.y-n))}(n.getCanvasBBox(),r.getCanvasBBox(),2)>0}))}function $Lt(){return HLt||(HLt=document.createElement("canvas").getContext("2d")),HLt}var KLt=(0,tOt.HP)((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant,c=$Lt();return c.font=[o,a,i,"".concat(n,"px"),r].join(" "),c.measureText((0,tOt.HD)(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),(0,QCt.ev)([t],(0,QCt.CR)((0,tOt.VO)(e)),!1).join("")}));function JLt(t,e,n,r,i){var o,a,c=n.start,l=n.end,u=n.getWidth(),s=n.getHeight();"y"===i?(o=c.x+u/2,a=r.y<c.y?r.y:c.y):"x"===i?(o=r.x>c.x?r.x:c.x,a=c.y+s/2):"xy"===i&&(n.isPolar?(o=n.getCenter().x,a=n.getCenter().y):(o=(c.x+l.x)/2,a=(c.y+l.y)/2));var f=function(t,e,n){var r,i=(0,QCt.CR)(e,2),o=i[0],a=i[1];return t.applyToMatrix([o,a,1]),"x"===n?(t.setMatrix(rAt.vs(t.getMatrix(),[["t",-o,-a],["s",.01,1],["t",o,a]])),r=rAt.vs(t.getMatrix(),[["t",-o,-a],["s",100,1],["t",o,a]])):"y"===n?(t.setMatrix(rAt.vs(t.getMatrix(),[["t",-o,-a],["s",1,.01],["t",o,a]])),r=rAt.vs(t.getMatrix(),[["t",-o,-a],["s",1,100],["t",o,a]])):"xy"===n&&(t.setMatrix(rAt.vs(t.getMatrix(),[["t",-o,-a],["s",.01,.01],["t",o,a]])),r=rAt.vs(t.getMatrix(),[["t",-o,-a],["s",100,100],["t",o,a]])),r}(t,[o,a],i);t.animate({matrix:f},e)}function QLt(t,e){var n,r=ujt(t,e),i=r.startAngle,o=r.endAngle;return!(0,tOt.vQ)(i,.5*-Math.PI)&&i<.5*-Math.PI&&(i+=2*Math.PI),!(0,tOt.vQ)(o,.5*-Math.PI)&&o<.5*-Math.PI&&(o+=2*Math.PI),0===e[5]&&(i=(n=(0,QCt.CR)([o,i],2))[0],o=n[1]),(0,tOt.vQ)(i,1.5*Math.PI)&&(i=-.5*Math.PI),(0,tOt.vQ)(o,-.5*Math.PI)&&!(0,tOt.vQ)(i,o)&&(o=1.5*Math.PI),{startAngle:i,endAngle:o}}function tNt(t){var e;return"M"===t[0]||"L"===t[0]?e=[t[1],t[2]]:"a"!==t[0]&&"A"!==t[0]&&"C"!==t[0]||(e=[t[t.length-2],t[t.length-1]]),e}function eNt(t){var e,n,r,i=t.filter((function(t){return"A"===t[0]||"a"===t[0]}));if(0===i.length)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var o=i[0],a=i.length>1?i[1]:i[0],c=t.indexOf(o),l=t.indexOf(a),u=tNt(t[c-1]),s=tNt(t[l-1]),f=QLt(u,o),h=f.startAngle,d=f.endAngle,p=QLt(s,a),v=p.startAngle,g=p.endAngle;(0,tOt.vQ)(h,v)&&(0,tOt.vQ)(d,g)?(n=h,r=d):(n=Math.min(h,v),r=Math.max(d,g));var m=o[1],y=i[i.length-1][1];return m<y?(m=(e=(0,QCt.CR)([y,m],2))[0],y=e[1]):m===y&&(y=0),{startAngle:n,endAngle:r,radius:m,innerRadius:y}}function nNt(t,e,n){if(t.isGroup())(0,tOt.S6)(t.getChildren(),(function(t){nNt(t,e,n)}));else{var r=t.getBBox(),i=(r.minX+r.maxX)/2,o=(r.minY+r.maxY)/2;if(t.applyToMatrix([i,o,1]),"zoomIn"===n){var a=rAt.vs(t.getMatrix(),[["t",-i,-o],["s",.01,.01],["t",i,o]]);t.setMatrix(a),t.animate({matrix:rAt.vs(t.getMatrix(),[["t",-i,-o],["s",100,100],["t",i,o]])},e)}else t.animate({matrix:rAt.vs(t.getMatrix(),[["t",-i,-o],["s",.01,.01],["t",i,o]])},(0,QCt.pi)((0,QCt.pi)({},e),{callback:function(){t.remove(!0),(0,tOt.mf)(e.callback)&&e.callback()}}))}}function rNt(t){return[$Ct.TOP,$Ct.BOTTOM].includes(t)?{offsetX:0,offsetY:t===$Ct.TOP?-8:8,style:{textAlign:"center",textBaseline:t===$Ct.TOP?"bottom":"top"}}:[$Ct.LEFT,$Ct.RIGHT].includes(t)?{offsetX:t===$Ct.LEFT?-8:8,offsetY:0,style:{textAlign:t===$Ct.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function iNt(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}var oNt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){return(0,tOt.b$)({},t.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(t,e){var n=2*Math.PI/t,r=-1*Math.PI/2+n*e,i=.5/(1+1/Math.sin(n/2)),o=iNt({x:.5,y:.5},.5-i,r),a=5*Math.PI/4,c=1*Math.PI/4;return{start:iNt(o,i,a),end:iNt(o,i,c)}},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){var e=this,n=this.cfg,r=n.fields,i=n.type,o=(0,QCt.CR)(r,1)[0];if(!o)throw new Error("No `fields` specified!");var a=this.getFieldValues(t,o),c=a.length,l=[];return a.forEach((function(n,r){var u=[{field:o,value:n,values:a}],s=(0,tOt.hX)(t,e.getFacetDataFilter(u)),f={type:i,data:s,region:e.getRegion(c,r),columnValue:n,columnField:o,columnIndex:r,columnValuesLength:c,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};l.push(f)})),l},e.prototype.getXAxisOption=function(t,e,n,r){return n},e.prototype.getYAxisOption=function(t,e,n,r){return n},e.prototype.renderTitle=function(){var t=this;(0,tOt.S6)(this.facets,(function(e){var n=e.columnValue,r=e.view,i=(0,tOt.U2)(t.cfg.title,"formatter"),o=(0,tOt.b$)({position:["50%","0%"],content:i?i(n):n},rNt($Ct.TOP),t.cfg.title);r.annotation().text(o)}))},e}(IDt),aNt=oNt,cNt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){return(0,tOt.b$)({},t.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,r=this.cfg.cols,i=(0,QCt.CR)(n,1)[0];if(!i)throw new Error("No `fields` specified!");var o=this.getFieldValues(t,i),a=o.length;r=r||a;var c=this.getPageCount(a,r),l=[];return o.forEach((function(n,u){var s=e.getRowCol(u,r),f=s.row,h=s.col,d=[{field:i,value:n,values:o}],p=(0,tOt.hX)(t,e.getFacetDataFilter(d)),v={type:e.cfg.type,data:p,region:e.getRegion(c,r,h,f),columnValue:n,rowValue:n,columnField:i,rowField:null,columnIndex:h,rowIndex:f,columnValuesLength:r,rowValuesLength:c,total:a};l.push(v)})),l},e.prototype.getXAxisOption=function(t,e,n,r){return r.rowIndex!==r.rowValuesLength-1&&r.columnValuesLength*r.rowIndex+r.columnIndex+1+r.columnValuesLength<=r.total?(0,QCt.pi)((0,QCt.pi)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return 0!==r.columnIndex?(0,QCt.pi)((0,QCt.pi)({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;(0,tOt.S6)(this.facets,(function(e){var n=e.columnValue,r=e.view,i=(0,tOt.U2)(t.cfg.title,"formatter"),o=(0,tOt.b$)({position:["50%","0%"],content:i?i(n):n},rNt($Ct.TOP),t.cfg.title);r.annotation().text(o)}))},e.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},e.prototype.getRowCol=function(t,e){return{row:Math.floor(t/e),col:t%e}},e}(IDt),lNt=cNt,uNt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){return(0,tOt.b$)({},t.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,QCt.pi)({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,QCt.pi)({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,r=e.type,i=n.length,o=i,a=[],c=0;c<o;c++)for(var l=n[c],u=0;u<i;u++){var s=n[u],f={type:r,data:t,region:this.getRegion(i,o,c,u),columnValue:l,rowValue:s,columnField:l,rowField:s,columnIndex:c,rowIndex:u,columnValuesLength:o,rowValuesLength:i};a.push(f)}return a},e.prototype.getXAxisOption=function(t,e,n,r){return r.rowIndex!==r.rowValuesLength-1?(0,QCt.pi)((0,QCt.pi)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return 0!==r.columnIndex?(0,QCt.pi)((0,QCt.pi)({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;(0,tOt.S6)(this.facets,(function(e,n){var r=e.columnIndex,i=e.rowIndex,o=e.columnValuesLength,a=(e.rowValuesLength,e.columnValue),c=e.rowValue,l=e.view;if(0===i){var u=(0,tOt.U2)(t.cfg.columnTitle,"formatter"),s=(0,tOt.b$)({position:["50%","0%"],content:u?u(a):a},rNt($Ct.TOP),t.cfg.columnTitle);l.annotation().text(s)}if(r===o-1){u=(0,tOt.U2)(t.cfg.rowTitle,"formatter"),s=(0,tOt.b$)({position:["100%","50%"],content:u?u(c):c},rNt($Ct.RIGHT),t.cfg.rowTitle);l.annotation().text(s)}}))},e}(IDt),sNt=uNt,fNt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getDefaultCfg=function(){return(0,tOt.b$)({},t.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.generateFacets=function(t){var e,n,r=this,i=(0,QCt.CR)(this.cfg.fields,1)[0],o=[],a=1,c=1,l=[""],u=[""];return this.cfg.transpose?(e=i,l=this.getFieldValues(t,e).slice(0,2),a=l.length):(n=i,u=this.getFieldValues(t,n).slice(0,2),c=u.length),l.forEach((function(i,s){u.forEach((function(f,h){var d=[{field:e,value:i,values:l},{field:n,value:f,values:u}],p=(0,tOt.hX)(t,r.getFacetDataFilter(d)),v={type:r.cfg.type,data:p,region:r.getRegion(c,a,s,h),columnValue:i,rowValue:f,columnField:e,rowField:n,columnIndex:s,rowIndex:h,columnValuesLength:a,rowValuesLength:c};o.push(v)}))})),o},e.prototype.getXAxisOption=function(t,e,n,r){return 1===r.columnIndex||1===r.rowIndex?(0,QCt.pi)((0,QCt.pi)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return n},e.prototype.renderTitle=function(){var t=this;(0,tOt.S6)(this.facets,(function(e,n){var r=e.columnValue,i=e.rowValue,o=e.view,a=(0,tOt.U2)(t.cfg.title,"formatter");if(t.cfg.transpose){var c=(0,tOt.b$)({position:["50%","0%"],content:a?a(r):r},rNt($Ct.TOP),t.cfg.title);o.annotation().text(c)}else{c=(0,tOt.b$)({position:["100%","50%"],content:a?a(i):i},rNt($Ct.RIGHT),t.cfg.title);o.annotation().text(c)}}))},e}(IDt),hNt=fNt,dNt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.getDefaultCfg=function(){return(0,tOt.b$)({},t.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,QCt.pi)({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,QCt.pi)({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(t){var e=this,n=(0,QCt.CR)(this.cfg.fields,2),r=n[0],i=n[1],o=[],a=1,c=1,l=[""],u=[""];return r&&(l=this.getFieldValues(t,r),a=l.length),i&&(u=this.getFieldValues(t,i),c=u.length),l.forEach((function(n,s){u.forEach((function(f,h){var d=[{field:r,value:n,values:l},{field:i,value:f,values:u}],p=(0,tOt.hX)(t,e.getFacetDataFilter(d)),v={type:e.cfg.type,data:p,region:e.getRegion(c,a,s,h),columnValue:n,rowValue:f,columnField:r,rowField:i,columnIndex:s,rowIndex:h,columnValuesLength:a,rowValuesLength:c};o.push(v)}))})),o},e.prototype.renderTitle=function(){var t=this;(0,tOt.S6)(this.facets,(function(e,n){var r=e.columnIndex,i=e.rowIndex,o=e.columnValuesLength,a=e.columnValue,c=e.rowValue,l=e.view;if(0===i){var u=(0,tOt.U2)(t.cfg.columnTitle,"formatter"),s=(0,tOt.b$)({position:["50%","0%"],content:u?u(a):a},rNt($Ct.TOP),t.cfg.columnTitle);l.annotation().text(s)}if(r===o-1){u=(0,tOt.U2)(t.cfg.rowTitle,"formatter"),s=(0,tOt.b$)({position:["100%","50%"],content:u?u(c):c},rNt($Ct.RIGHT),t.cfg.rowTitle);l.annotation().text(s)}}))},e.prototype.getXAxisOption=function(t,e,n,r){return r.rowIndex!==r.rowValuesLength-1?(0,QCt.pi)((0,QCt.pi)({},n),{title:null,label:null}):r.columnIndex!==Math.floor((r.columnValuesLength-1)/2)?(0,QCt.pi)((0,QCt.pi)({},n),{title:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return 0!==r.columnIndex?(0,QCt.pi)((0,QCt.pi)({},n),{title:null,label:null}):r.rowIndex!==Math.floor((r.rowValuesLength-1)/2)?(0,QCt.pi)((0,QCt.pi)({},n),{title:null}):n},e}(IDt),pNt=dNt,vNt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.afterChartRender=function(){e.facets&&e.cfg.line&&(e.container.clear(),e.drawLines(e.facets))},e}return(0,QCt.ZT)(e,t),e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.init=function(){t.prototype.init.call(this),this.view.on(eOt.AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return(0,tOt.b$)({},t.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(t){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var e=[],n={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return e.push(n),n.children=this.getChildFacets(t,1,e),this.setRegion(e),e},e.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach((function(t){t.region=e.getRegion(t.rowValuesLength,t.columnValuesLength,t.columnIndex,t.rowIndex)}))},e.prototype.getRegion=function(t,e,n,r){var i=1/e,o=1/t,a={x:i*n,y:o*r};return{start:a,end:{x:a.x+i,y:a.y+2*o/3}}},e.prototype.forceColIndex=function(t){var e,n,r=this,i=[],o=0;t.forEach((function(t){r.isLeaf(t)&&(i.push(t),t.columnIndex=o,o++)})),i.forEach((function(t){t.columnValuesLength=i.length}));for(var a=this.cfg.fields.length-1;a>=0;a--){var c=this.getFacetsByLevel(t,a);try{for(var l=(e=void 0,(0,QCt.XA)(c)),u=l.next();!u.done;u=l.next()){var s=u.value;this.isLeaf(s)||(s.originColIndex=s.columnIndex,s.columnIndex=this.getRegionIndex(s.children),s.columnValuesLength=i.length)}}catch(f){e={error:f}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}}},e.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach((function(t){t.rowIndex===e&&n.push(t)})),n},e.prototype.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].columnIndex-e.columnIndex)/2+e.columnIndex},e.prototype.isLeaf=function(t){return!t.children||!t.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(t,e,n){var r=this,i=this.cfg.fields;if(!(i.length<e)){var o=[],a=i[e-1],c=this.getFieldValues(t,a);return c.forEach((function(i,l){var u=[{field:a,value:i,values:c}],s=t.filter(r.getFacetDataFilter(u));if(s.length){var f={type:r.cfg.type,data:s,region:null,columnValue:i,rowValue:"",columnField:a,rowField:"",columnIndex:l,rowValuesLength:r.getRows(),columnValuesLength:1,rowIndex:e,children:r.getChildFacets(s,e+1,n)};o.push(f),n.push(f)}})),o}},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var t=this;(0,tOt.S6)(this.facets,(function(e){var n=e.columnValue,r=e.view,i=(0,tOt.U2)(t.cfg.title,"formatter"),o=(0,tOt.b$)({position:["50%","0%"],content:i?i(n):n},rNt($Ct.TOP),t.cfg.title);r.annotation().text(o)}))},e.prototype.drawLines=function(t){var e=this;t.forEach((function(t){if(!e.isLeaf(t)){var n=t.children;e.addFacetLines(t,n)}}))},e.prototype.addFacetLines=function(t,e){var n=this,r=t.view.coordinateBBox,i={x:r.x+r.width/2,y:r.y+r.height};e.forEach((function(t){var e=t.view.coordinateBBox,r={x:e.bl.x+(e.tr.x-e.bl.x)/2,y:e.tr.y},o={x:i.x,y:i.y+(r.y-i.y)/2},a={x:r.x,y:o.y};n.drawLine([i,o,a,r])}))},e.prototype.getPath=function(t){var e=[];return this.cfg.line.smooth?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach((function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},e.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,tOt.f0)({path:e},n)})},e.prototype.getXAxisOption=function(t,e,n,r){return r.rowIndex!==r.rowValuesLength-1?(0,QCt.pi)((0,QCt.pi)({},n),{title:null,label:null}):n},e.prototype.getYAxisOption=function(t,e,n,r){return 0!==r.originColIndex&&0!==r.columnIndex?(0,QCt.pi)((0,QCt.pi)({},n),{title:null,label:null}):n},e}(IDt),gNt=vNt;function mNt(t){var e=(0,QCt.ev)([],(0,QCt.CR)(t),!1);e.sort((function(t,e){return t-e}));var n=e.length;return 0===n?0:n%2==1?e[(n-1)/2]:(e[n/2]+e[n/2-1])/2}function yNt(t,e){if(!e)return null;var n;switch(t){case"start":return 0;case"center":return.5;case"end":return 1;case"median":n=e.isCategory?mNt(e.values.map((function(t,e){return e}))):mNt(e.values);break;case"mean":n=e.isCategory?(e.values.length-1)/2:function(t){var e=(0,tOt.u4)(t,(function(t,e){return t+(isNaN(e)||!(0,tOt.hj)(e)?0:e)}),0);return 0===t.length?0:e/t.length}(e.values);break;case"min":n=e.isCategory?0:e[t];break;case"max":n=e.isCategory?e.values.length-1:e[t];break;default:n=t}return e.scale(n)}var bNt=["regionFilter","shape"],xNt=function(t){function e(e){var n=t.call(this,e)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(YCt.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(YCt.BG).addGroup(),n.option=[],n}return(0,QCt.ZT)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){this.update()},e.prototype.render=function(){},e.prototype.update=function(){var t=this;this.onAfterRender((function(){var e=new Map;(0,tOt.S6)(t.option,(function(n){if((0,tOt.q9)(bNt,n.type)){var r=t.updateOrCreate(n);r&&e.set(t.getCacheKey(n),r)}})),t.cache=t.syncCache(e)}));var e=new Map;(0,tOt.S6)(this.option,(function(n){if(!(0,tOt.q9)(bNt,n.type)){var r=t.updateOrCreate(n);r&&e.set(t.getCacheKey(n),r)}})),this.cache=this.syncCache(e)},e.prototype.clear=function(e){void 0===e&&(e=!1),t.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),e&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.clearComponents=function(){this.getComponents().forEach((function(t){t.component.destroy()})),this.cache.clear()},e.prototype.onAfterRender=function(t){var e=!1;this.view.getOptions().animate&&this.view.geometries.forEach((function(n){n.animateOption&&(n.once(nOt.AFTER_DRAW_ANIMATE,(function(){t()})),e=!0)})),e||this.view.getRootView().once(eOt.AFTER_RENDER,(function(){t()}))},e.prototype.createAnnotation=function(t){var e=t.type,n=w[(0,tOt.jC)(e)];if(n){var r=this.getAnnotationTheme(e),i=this.getAnnotationCfg(e,t,r);return i?{component:new n(i),layer:this.isTop(i)?YCt.FORE:YCt.BG,direction:$Ct.NONE,type:KCt.ANNOTATION,extra:t}:null}},e.prototype.annotation=function(t){this.option.push(t)},e.prototype.arc=function(t){return this.annotation((0,QCt.pi)({type:"arc"},t)),this},e.prototype.image=function(t){return this.annotation((0,QCt.pi)({type:"image"},t)),this},e.prototype.line=function(t){return this.annotation((0,QCt.pi)({type:"line"},t)),this},e.prototype.region=function(t){return this.annotation((0,QCt.pi)({type:"region"},t)),this},e.prototype.text=function(t){return this.annotation((0,QCt.pi)({type:"text"},t)),this},e.prototype.dataMarker=function(t){return this.annotation((0,QCt.pi)({type:"dataMarker"},t)),this},e.prototype.dataRegion=function(t){this.annotation((0,QCt.pi)({type:"dataRegion"},t))},e.prototype.regionFilter=function(t){this.annotation((0,QCt.pi)({type:"regionFilter"},t))},e.prototype.shape=function(t){this.annotation((0,QCt.pi)({type:"shape"},t))},e.prototype.html=function(t){this.annotation((0,QCt.pi)({type:"html"},t))},e.prototype.parsePosition=function(t){var e,n,r=this.view.getXScale(),i=this.view.getScalesByDim("y"),o=(0,tOt.mf)(t)?t.call(null,r,i):t,a=0,c=0;if((0,tOt.kJ)(o)){var l=(0,QCt.CR)(o,2),u=l[0],s=l[1];if((0,tOt.HD)(u)&&-1!==u.indexOf("%")&&!isNaN(u.slice(0,-1)))return this.parsePercentPosition(o);a=yNt(u,r),c=yNt(s,Object.values(i)[0])}else if(!(0,tOt.UM)(o))try{for(var f=(0,QCt.XA)((0,tOt.XP)(o)),h=f.next();!h.done;h=f.next()){var d=h.value,p=o[d];d===r.field&&(a=yNt(p,r)),i[d]&&(c=yNt(p,i[d]))}}catch(v){e={error:v}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}return isNaN(a)||isNaN(c)?null:this.view.getCoordinate().convert({x:a,y:c})},e.prototype.getRegionPoints=function(t,e){var n,r=this,i=this.view.getXScale(),o=this.view.getScalesByDim("y"),a=Object.values(o)[0],c=i.field,l=this.view.getData(),u=(0,tOt.kJ)(t)?t[0]:t[c],s=(0,tOt.kJ)(e)?e[0]:e[c],f=[];return(0,tOt.S6)(l,(function(t,e){if(t[c]===u&&(n=e),e>=n){var i=r.parsePosition([t[c],t[a.field]]);i&&f.push(i)}if(t[c]===s)return!1})),f},e.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,r=this.view.getCoordinate(),i=r.start,o=r.end,a=Math.min(i.x,o.x),c=Math.min(i.y,o.y);return{x:r.getWidth()*e+a,y:r.getHeight()*n+c}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,r=t.getWidth(),i=t.getHeight(),o={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:o.x,y:o.y,minX:o.x,minY:o.y,maxX:o.x+r,maxY:o.y+i,width:r,height:i}},e.prototype.getAnnotationCfg=function(t,e,n){var r=this,i=this.view.getCoordinate(),o=this.view.getCanvas(),a={};if((0,tOt.UM)(e))return null;var c=e.start,l=e.end,u=e.position,s=this.parsePosition(c),f=this.parsePosition(l),h=this.parsePosition(u);if(!(!["arc","image","line","region","regionFilter"].includes(t)||s&&f))return null;if(["text","dataMarker","html"].includes(t)&&!h)return null;if("arc"===t){var d=e,p=(d.start,d.end,(0,QCt._T)(d,["start","end"])),v=bDt(i,s),g=bDt(i,f);v>g&&(g=2*Math.PI+g),a=(0,QCt.pi)((0,QCt.pi)({},p),{center:i.getCenter(),radius:yDt(i,s),startAngle:v,endAngle:g})}else if("image"===t){var m=e;m.start,m.end,p=(0,QCt._T)(m,["start","end"]);a=(0,QCt.pi)((0,QCt.pi)({},p),{start:s,end:f,src:e.src})}else if("line"===t){var y=e;y.start,y.end,p=(0,QCt._T)(y,["start","end"]);a=(0,QCt.pi)((0,QCt.pi)({},p),{start:s,end:f,text:(0,tOt.U2)(e,"text",null)})}else if("region"===t){var b=e;b.start,b.end,p=(0,QCt._T)(b,["start","end"]);a=(0,QCt.pi)((0,QCt.pi)({},p),{start:s,end:f})}else if("text"===t){var x=this.view.getData(),w=e,S=(w.position,w.content),k=(p=(0,QCt._T)(w,["position","content"]),S);(0,tOt.mf)(S)&&(k=S(x)),a=(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({},h),p),{content:k})}else if("dataMarker"===t){var C=e,O=(C.position,C.point),E=C.line,M=C.text,A=C.autoAdjust,P=C.direction;p=(0,QCt._T)(C,["position","point","line","text","autoAdjust","direction"]);a=(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({},p),h),{coordinateBBox:this.getCoordinateBBox(),point:O,line:E,text:M,autoAdjust:A,direction:P})}else if("dataRegion"===t){var _=e,D=_.start,T=_.end,Z=_.region,F=(M=_.text,_.lineLength);p=(0,QCt._T)(_,["start","end","region","text","lineLength"]);a=(0,QCt.pi)((0,QCt.pi)({},p),{points:this.getRegionPoints(D,T),region:Z,text:M,lineLength:F})}else if("regionFilter"===t){var j=e,I=(j.start,j.end,j.apply),R=j.color,L=(p=(0,QCt._T)(j,["start","end","apply","color"]),this.view.geometries),N=[],B=function t(e){e&&(e.isGroup()?e.getChildren().forEach((function(e){return t(e)})):N.push(e))};(0,tOt.S6)(L,(function(t){I?(0,tOt.FX)(I,t.type)&&(0,tOt.S6)(t.elements,(function(t){B(t.shape)})):(0,tOt.S6)(t.elements,(function(t){B(t.shape)}))})),a=(0,QCt.pi)((0,QCt.pi)({},p),{color:R,shapes:N,start:s,end:f})}else if("shape"===t){var z=e,U=z.render,H=(0,QCt._T)(z,["render"]);a=(0,QCt.pi)((0,QCt.pi)({},H),{render:function(t){if((0,tOt.mf)(e.render))return U(t,r.view,{parsePosition:r.parsePosition.bind(r)})}})}else if("html"===t){var W=e,V=W.html;W.position,H=(0,QCt._T)(W,["html","position"]);a=(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({},H),h),{parent:o.get("el").parentNode,html:function(t){return(0,tOt.mf)(V)?V(t,r.view):V}})}var G=(0,tOt.b$)({},n,(0,QCt.pi)((0,QCt.pi)({},a),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return"html"!==t&&(G.container=this.getComponentContainer(G)),G.animate=this.view.getOptions().animate&&G.animate&&(0,tOt.U2)(e,"animate",G.animate),G.animateOption=(0,tOt.b$)({},IZt,G.animateOption,e.animateOption),G},e.prototype.isTop=function(t){return(0,tOt.U2)(t,"top",!0)},e.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return(0,tOt.U2)(this.view.getTheme(),["components","annotation",t],{})},e.prototype.updateOrCreate=function(t){var e=this.cache.get(this.getCacheKey(t));if(e){var n=t.type,r=this.getAnnotationTheme(n),i=this.getAnnotationCfg(n,t,r);i&&pDt(i,["container"]),e.component.update((0,QCt.pi)((0,QCt.pi)({},i||{}),{visible:!!i})),(0,tOt.q9)(bNt,t.type)&&e.component.render()}else(e=this.createAnnotation(t))&&(e.component.init(),(0,tOt.q9)(bNt,t.type)&&e.component.render());return e},e.prototype.syncCache=function(t){var e=this,n=new Map(this.cache);return t.forEach((function(t,e){n.set(e,t)})),n.forEach((function(t,r){(0,tOt.sE)(e.option,(function(t){return r===e.getCacheKey(t)}))||(t.component.destroy(),n.delete(r))})),n},e.prototype.getCacheKey=function(t){return t},e}(_Zt),wNt=xNt;function SNt(t,e){var n=(0,tOt.b$)({},(0,tOt.U2)(t,["components","axis","common"]),(0,tOt.U2)(t,["components","axis",e]));return(0,tOt.U2)(n,["grid"],{})}function kNt(t,e,n,r){var i=[],o=e.getTicks();return t.isPolar&&o.push({value:1,text:"",tickValue:""}),o.reduce((function(e,o,a){var c=o.value;if(r)i.push({points:[t.convert("y"===n?{x:0,y:c}:{x:c,y:0}),t.convert("y"===n?{x:1,y:c}:{x:c,y:1})]});else if(a){var l=(e.value+c)/2;i.push({points:[t.convert("y"===n?{x:0,y:l}:{x:l,y:0}),t.convert("y"===n?{x:1,y:l}:{x:l,y:1})]})}return o}),o[0]),i}function CNt(t,e,n,r,i){var o=e.values.length,a=[],c=n.getTicks();return c.reduce((function(e,n){var c=e?e.value:n.value,l=n.value,u=(c+l)/2;return"x"===i?a.push({points:[t.convert({x:r?l:u,y:0}),t.convert({x:r?l:u,y:1})]}):a.push({points:(0,tOt.UI)(Array(o+1),(function(e,n){return t.convert({x:n/o,y:r?l:u})}))}),n}),c[0]),a}function ONt(t,e){var n=(0,tOt.U2)(e,"grid");if(null===n)return!1;var r=(0,tOt.U2)(t,"grid");return!(void 0===n&&null===r)}var ENt=["container"],MNt=(0,QCt.pi)((0,QCt.pi)({},IZt),{appear:null}),ANt=function(t){function e(e){var n=t.call(this,e)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(YCt.BG).addGroup(),n.gridForeContainer=n.view.getLayer(YCt.FORE).addGroup(),n.axisContainer=n.view.getLayer(YCt.BG).addGroup(),n.axisForeContainer=n.view.getLayer(YCt.FORE).addGroup(),n}return(0,QCt.ZT)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,tOt.S6)(this.getComponents(),(function(n){var r,i=n.component,o=n.direction,a=n.type,c=n.extra,l=c.dim,u=c.scale,s=c.alignTick;if(a===KCt.AXIS)e.isPolar?"x"===l?r=e.isTransposed?MDt(e,o):TDt(e):"y"===l&&(r=e.isTransposed?TDt(e):MDt(e,o)):r=MDt(e,o);else if(a===KCt.GRID)if(e.isPolar){r={items:e.isTransposed?"x"===l?CNt(e,t.view.getYScales()[0],u,s,l):kNt(e,u,l,s):"x"===l?kNt(e,u,l,s):CNt(e,t.view.getXScale(),u,s,l),center:t.view.getCoordinate().getCenter()}}else r={items:kNt(e,u,l,s)};i.update(r)}))},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach((function(n,r){t.has(r)?e.set(r,n):n.component.destroy()})),this.cache=e},e.prototype.clear=function(){t.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var n=ZDt(this.option,e.field);if(!1!==n){var r=FDt(n,$Ct.BOTTOM),i=YCt.BG,o="x",a=this.view.getCoordinate(),c=this.getId("axis",e.field),l=this.getId("grid",e.field);if(a.isRect){if(u=this.cache.get(c))pDt(f=this.getLineAxisCfg(e,n,r),ENt),u.component.update(f),t.set(c,u);else u=this.createLineAxis(e,n,i,r,o),this.cache.set(c,u),t.set(c,u);if(s=this.cache.get(l))pDt(f=this.getLineGridCfg(e,n,r,o),ENt),s.component.update(f),t.set(l,s);else(s=this.createLineGrid(e,n,i,r,o))&&(this.cache.set(l,s),t.set(l,s))}else if(a.isPolar){var u,s;if(u=this.cache.get(c)){pDt(f=a.isTransposed?this.getLineAxisCfg(e,n,$Ct.RADIUS):this.getCircleAxisCfg(e,n,r),ENt),u.component.update(f),t.set(c,u)}else{if(a.isTransposed){if((0,tOt.o8)(n))return;u=this.createLineAxis(e,n,i,$Ct.RADIUS,o)}else u=this.createCircleAxis(e,n,i,r,o);this.cache.set(c,u),t.set(c,u)}if(s=this.cache.get(l)){var f;pDt(f=a.isTransposed?this.getCircleGridCfg(e,n,$Ct.RADIUS,o):this.getLineGridCfg(e,n,$Ct.CIRCLE,o),ENt),s.component.update(f),t.set(l,s)}else{if(a.isTransposed){if((0,tOt.o8)(n))return;s=this.createCircleGrid(e,n,i,$Ct.RADIUS,o)}else s=this.createLineGrid(e,n,i,$Ct.CIRCLE,o);s&&(this.cache.set(l,s),t.set(l,s))}}}}},e.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,tOt.S6)(n,(function(n,r){if(n&&!n.isIdentity){var i=n.field,o=ZDt(e.option,i);if(!1!==o){var a=YCt.BG,c="y",l=e.getId("axis",i),u=e.getId("grid",i),s=e.view.getCoordinate();if(s.isRect){var f=FDt(o,0===r?$Ct.LEFT:$Ct.RIGHT);if(h=e.cache.get(l))pDt(p=e.getLineAxisCfg(n,o,f),ENt),h.component.update(p),t.set(l,h);else h=e.createLineAxis(n,o,a,f,c),e.cache.set(l,h),t.set(l,h);if(d=e.cache.get(u))pDt(p=e.getLineGridCfg(n,o,f,c),ENt),d.component.update(p),t.set(u,d);else(d=e.createLineGrid(n,o,a,f,c))&&(e.cache.set(u,d),t.set(u,d))}else if(s.isPolar){var h,d;if(h=e.cache.get(l)){pDt(p=s.isTransposed?e.getCircleAxisCfg(n,o,$Ct.CIRCLE):e.getLineAxisCfg(n,o,$Ct.RADIUS),ENt),h.component.update(p),t.set(l,h)}else{if(s.isTransposed){if((0,tOt.o8)(o))return;h=e.createCircleAxis(n,o,a,$Ct.CIRCLE,c)}else h=e.createLineAxis(n,o,a,$Ct.RADIUS,c);e.cache.set(l,h),t.set(l,h)}if(d=e.cache.get(u)){var p;pDt(p=s.isTransposed?e.getLineGridCfg(n,o,$Ct.CIRCLE,c):e.getCircleGridCfg(n,o,$Ct.RADIUS,c),ENt),d.component.update(p),t.set(u,d)}else{if(s.isTransposed){if((0,tOt.o8)(o))return;d=e.createLineGrid(n,o,a,$Ct.CIRCLE,c)}else d=e.createCircleGrid(n,o,a,$Ct.RADIUS,c);d&&(e.cache.set(u,d),t.set(u,d))}}}}}))},e.prototype.createLineAxis=function(t,e,n,r,i){var o={component:new Q_t(this.getLineAxisCfg(t,e,r)),layer:n,direction:r===$Ct.RADIUS?$Ct.NONE:r,type:KCt.AXIS,extra:{dim:i,scale:t}};return o.component.set("field",t.field),o.component.init(),o},e.prototype.createLineGrid=function(t,e,n,r,i){var o=this.getLineGridCfg(t,e,r,i);if(o){var a={component:new eDt(o),layer:n,direction:$Ct.NONE,type:KCt.GRID,extra:{dim:i,scale:t,alignTick:(0,tOt.U2)(o,"alignTick",!0)}};return a.component.init(),a}},e.prototype.createCircleAxis=function(t,e,n,r,i){var o={component:new tDt(this.getCircleAxisCfg(t,e,r)),layer:n,direction:r,type:KCt.AXIS,extra:{dim:i,scale:t}};return o.component.set("field",t.field),o.component.init(),o},e.prototype.createCircleGrid=function(t,e,n,r,i){var o=this.getCircleGridCfg(t,e,r,i);if(o){var a={component:new nDt(o),layer:n,direction:$Ct.NONE,type:KCt.GRID,extra:{dim:i,scale:t,alignTick:(0,tOt.U2)(o,"alignTick",!0)}};return a.component.init(),a}},e.prototype.getLineAxisCfg=function(t,e,n){var r=(0,tOt.U2)(e,["top"])?this.axisForeContainer:this.axisContainer,i=this.view.getCoordinate(),o=MDt(i,n),a=jDt(t,e),c=_Dt(this.view.getTheme(),n),l=(0,tOt.U2)(e,["title"])?(0,tOt.b$)({title:{style:{text:a}}},{title:DDt(this.view.getTheme(),n,e.title)},e):e,u=(0,tOt.b$)((0,QCt.pi)((0,QCt.pi)({container:r},o),{ticks:t.getTicks().map((function(t){return{id:"".concat(t.tickValue),name:t.text,value:t.value}})),verticalFactor:i.isPolar?-1*PDt(o,i.getCenter()):PDt(o,i.getCenter()),theme:c}),c,l),s=this.getAnimateCfg(u),f=s.animate,h=s.animateOption;u.animateOption=h,u.animate=f;var d=ADt(o),p=(0,tOt.U2)(u,"verticalLimitLength",d?1/3:.5);if(p<=1){var v=this.view.getCanvas().get("width"),g=this.view.getCanvas().get("height");u.verticalLimitLength=p*(d?v:g)}return u},e.prototype.getLineGridCfg=function(t,e,n,r){if(ONt(_Dt(this.view.getTheme(),n),e)){var i=SNt(this.view.getTheme(),n),o=(0,tOt.b$)({container:(0,tOt.U2)(e,["top"])?this.gridForeContainer:this.gridContainer},i,(0,tOt.U2)(e,"grid"),this.getAnimateCfg(e));return o.items=kNt(this.view.getCoordinate(),t,r,(0,tOt.U2)(o,"alignTick",!0)),o}},e.prototype.getCircleAxisCfg=function(t,e,n){var r=(0,tOt.U2)(e,["top"])?this.axisForeContainer:this.axisContainer,i=this.view.getCoordinate(),o=t.getTicks().map((function(t){return{id:"".concat(t.tickValue),name:t.text,value:t.value}}));t.isCategory||Math.abs(i.endAngle-i.startAngle)!==2*Math.PI||o.length&&(o[o.length-1].name="");var a=jDt(t,e),c=_Dt(this.view.getTheme(),$Ct.CIRCLE),l=(0,tOt.U2)(e,["title"])?(0,tOt.b$)({title:{style:{text:a}}},{title:DDt(this.view.getTheme(),n,e.title)},e):e,u=(0,tOt.b$)((0,QCt.pi)((0,QCt.pi)({container:r},TDt(this.view.getCoordinate())),{ticks:o,verticalFactor:1,theme:c}),c,l),s=this.getAnimateCfg(u),f=s.animate,h=s.animateOption;return u.animate=f,u.animateOption=h,u},e.prototype.getCircleGridCfg=function(t,e,n,r){if(ONt(_Dt(this.view.getTheme(),n),e)){var i=SNt(this.view.getTheme(),$Ct.RADIUS),o=(0,tOt.b$)({container:(0,tOt.U2)(e,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},i,(0,tOt.U2)(e,"grid"),this.getAnimateCfg(e)),a=(0,tOt.U2)(o,"alignTick",!0),c="x"===r?this.view.getYScales()[0]:this.view.getXScale();return o.items=CNt(this.view.getCoordinate(),c,t,a,r),o}},e.prototype.getId=function(t,e){var n=this.view.getCoordinate();return"".concat(t,"-").concat(e,"-").concat(n.type)},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,tOt.U2)(t,"animate"),animateOption:t&&t.animateOption?(0,tOt.b$)({},MNt,t.animateOption):MNt}},e}(_Zt),PNt=ANt;function _Nt(t,e,n){return n===$Ct.TOP?[t.minX+t.width/2-e.width/2,t.minY]:n===$Ct.BOTTOM?[t.minX+t.width/2-e.width/2,t.maxY-e.height]:n===$Ct.LEFT?[t.minX,t.minY+t.height/2-e.height/2]:n===$Ct.RIGHT?[t.maxX-e.width,t.minY+t.height/2-e.height/2]:n===$Ct.TOP_LEFT||n===$Ct.LEFT_TOP?[t.tl.x,t.tl.y]:n===$Ct.TOP_RIGHT||n===$Ct.RIGHT_TOP?[t.tr.x-e.width,t.tr.y]:n===$Ct.BOTTOM_LEFT||n===$Ct.LEFT_BOTTOM?[t.bl.x,t.bl.y-e.height]:n===$Ct.BOTTOM_RIGHT||n===$Ct.RIGHT_BOTTOM?[t.br.x-e.width,t.br.y-e.height]:[0,0]}function DNt(t,e){return(0,tOt.jn)(t)?!1!==t&&{}:(0,tOt.U2)(t,[e],t)}function TNt(t){return(0,tOt.U2)(t,"position",$Ct.BOTTOM)}var ZNt=function(t){function e(e){var n=t.call(this,e)||this;return n.container=n.view.getLayer(YCt.FORE).addGroup(),n}return(0,QCt.ZT)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,(0,tOt.S6)(this.components,(function(e){var n=e.component,r=e.direction,i=wFt(r),o=n.get("maxWidthRatio"),a=n.get("maxHeightRatio"),c=t.getCategoryLegendSizeCfg(i,o,a),l=n.get("maxWidth"),u=n.get("maxHeight");n.update({maxWidth:Math.min(c.maxWidth,l||0),maxHeight:Math.min(c.maxHeight,u||0)});var s=n.get("padding"),f=n.getLayoutBBox(),h=new gDt(f.x,f.y,f.width,f.height).expand(s),d=(0,QCt.CR)(_Nt(t.view.viewBBox,h,r),2),p=d[0],v=d[1],g=(0,QCt.CR)(_Nt(t.layoutBBox,h,r),2),m=g[0],y=g[1],b=0,x=0;r.startsWith("top")||r.startsWith("bottom")?(b=p,x=y):(b=m,x=v),n.setLocation({x:b+s[3],y:x+s[0]}),t.layoutBBox=t.layoutBBox.cut(h,r)}))},e.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={};if((0,tOt.U2)(this.option,"custom")){var n="global-custom",r=this.getComponentById(n);if(r){var i=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);pDt(i,["container"]),r.component.update(i),e[n]=!0}else{var o=this.createCustomLegend(void 0,void 0,void 0,this.option);if(o){o.init();var a=YCt.FORE,c=TNt(this.option);this.components.push({id:n,component:o,layer:a,direction:c,type:KCt.LEGEND,extra:void 0}),e[n]=!0}}}else this.loopLegends((function(n,r,i){var o=t.getId(i.field),a=t.getComponentById(o);if(a){var c=void 0,l=DNt(t.option,i.field);!1!==l&&((0,tOt.U2)(l,"custom")?c=t.getCategoryCfg(n,r,i,l,!0):i.isLinear?c=t.getContinuousCfg(n,r,i,l):i.isCategory&&(c=t.getCategoryCfg(n,r,i,l))),c&&(pDt(c,["container"]),a.direction=TNt(l),a.component.update(c),e[o]=!0)}else{var u=t.createFieldLegend(n,r,i);u&&(u.component.init(),t.components.push(u),e[o]=!0)}}));var l=[];(0,tOt.S6)(this.getComponents(),(function(t){e[t.id]?l.push(t):t.component.destroy()})),this.components=l},e.prototype.clear=function(){t.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,tOt.S6)(t.views,(function(t){n=n.concat(e.getGeometries(t))})),n},e.prototype.loopLegends=function(t){if(this.view.getRootView()===this.view){var e=this.getGeometries(this.view),n={};(0,tOt.S6)(e,(function(e){var r=e.getGroupAttributes();(0,tOt.S6)(r,(function(r){var i=r.getScale(r.type);i&&"identity"!==i.type&&!n[i.field]&&(t(e,r,i),n[i.field]=!0)}))}))}},e.prototype.createFieldLegend=function(t,e,n){var r,i=DNt(this.option,n.field),o=YCt.FORE,a=TNt(i);if(!1!==i&&((0,tOt.U2)(i,"custom")?r=this.createCustomLegend(t,e,n,i):n.isLinear?r=this.createContinuousLegend(t,e,n,i):n.isCategory&&(r=this.createCategoryLegend(t,e,n,i))),r)return r.set("field",n.field),{id:this.getId(n.field),component:r,layer:o,direction:a,type:KCt.LEGEND,extra:{scale:n}}},e.prototype.createCustomLegend=function(t,e,n,r){var i=this.getCategoryCfg(t,e,n,r,!0);return new rDt(i)},e.prototype.createContinuousLegend=function(t,e,n,r){var i=this.getContinuousCfg(t,e,n,pDt(r,["value"]));return new iDt(i)},e.prototype.createCategoryLegend=function(t,e,n,r){var i=this.getCategoryCfg(t,e,n,r);return new rDt(i)},e.prototype.getContinuousCfg=function(t,e,n,r){var i=n.getTicks(),o=(0,tOt.sE)(i,(function(t){return 0===t.value})),a=(0,tOt.sE)(i,(function(t){return 1===t.value})),c=i.map((function(t){var r=t.value,i=t.tickValue,o=e.mapping(n.invert(r)).join("");return{value:i,attrValue:o,color:o,scaleValue:r}}));o||c.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),a||c.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),c.sort((function(t,e){return t.value-e.value}));var l={min:(0,tOt.YM)(c).value,max:(0,tOt.Z$)(c).value,colors:[],rail:{type:e.type},track:{}};"size"===e.type&&(l.track={style:{fill:"size"===e.type?this.view.getTheme().defaultColor:void 0}}),"color"===e.type&&(l.colors=c.map((function(t){return t.attrValue})));var u=this.container,s=wFt(TNt(r)),f=(0,tOt.U2)(r,"title");return f&&(f=(0,tOt.b$)({text:CDt(n)},f)),l.container=u,l.layout=s,l.title=f,l.animateOption=IZt,this.mergeLegendCfg(l,r,"continuous")},e.prototype.getCategoryCfg=function(t,e,n,r,i){var o=this.container,a=(0,tOt.U2)(r,"position",$Ct.BOTTOM),c=kFt(this.view.getTheme(),a),l=(0,tOt.U2)(c,["marker"]),u=(0,tOt.U2)(r,"marker"),s=wFt(a),f=(0,tOt.U2)(c,["pageNavigator"]),h=(0,tOt.U2)(r,"pageNavigator"),d=i?function(t,e,n){return n.map((function(n,r){var i=e;(0,tOt.mf)(i)&&(i=i(n.name,r,(0,tOt.b$)({},t,n)));var o=(0,tOt.mf)(n.marker)?n.marker(n.name,r,(0,tOt.b$)({},t,n)):n.marker,a=(0,tOt.b$)({},t,i,o);return xFt(a),n.marker=a,n}))}(l,u,r.items):SFt(this.view,t,e,l,u),p=(0,tOt.U2)(r,"title");p&&(p=(0,tOt.b$)({text:n?CDt(n):""},p));var v=(0,tOt.U2)(r,"maxWidthRatio"),g=(0,tOt.U2)(r,"maxHeightRatio"),m=this.getCategoryLegendSizeCfg(s,v,g);m.container=o,m.layout=s,m.items=d,m.title=p,m.animateOption=IZt,m.pageNavigator=(0,tOt.b$)({},f,h);var y=this.mergeLegendCfg(m,r,a);y.reversed&&y.items.reverse();var b=(0,tOt.U2)(y,"maxItemWidth");return b&&b<=1&&(y.maxItemWidth=this.view.viewBBox.width*b),y},e.prototype.mergeLegendCfg=function(t,e,n){var r=n.split("-")[0],i=kFt(this.view.getTheme(),r);return(0,tOt.b$)({},i,t,e)},e.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},e.prototype.getComponentById=function(t){return(0,tOt.sE)(this.components,(function(e){return e.id===t}))},e.prototype.getCategoryLegendSizeCfg=function(t,e,n){void 0===e&&(e=.25),void 0===n&&(n=.25);var r=this.view.viewBBox,i=r.width,o=r.height;return"vertical"===t?{maxWidth:i*e,maxHeight:o}:{maxWidth:i,maxHeight:o*n}},e}(_Zt),FNt=ZNt,jNt=function(t){function e(e){var n=t.call(this,e)||this;return n.onChangeFn=tOt.ZT,n.resetMeasure=function(){n.clear()},n.onValueChange=function(t){var e=(0,QCt.CR)(t,2),r=e[0],i=e[1];n.start=r,n.end=i,n.changeViewData(r,i)},n.container=n.view.getLayer(YCt.FORE).addGroup(),n.onChangeFn=(0,tOt.P2)(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(eOt.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(eOt.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return(0,QCt.ZT)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.off(eOt.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(eOt.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),e=t.start,n=t.end;(0,tOt.UM)(this.start)&&(this.start=e,this.end=n);var r=this.view.getOptions().data;this.option&&!(0,tOt.xb)(r)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout((function(){t.view.destroyed||t.changeViewData(t.start,t.end)}),0)),this.slider){var e=this.view.coordinateBBox.width,n=this.slider.component.get("padding"),r=(0,QCt.CR)(n,4),i=r[0],o=(r[1],r[2],r[3]),a=this.slider.component.getLayoutBBox(),c=new gDt(a.x,a.y,Math.min(a.width,e),a.height).expand(n),l=this.getMinMaxText(this.start,this.end),u=l.minText,s=l.maxText,f=(0,QCt.CR)(_Nt(this.view.viewBBox,c,$Ct.BOTTOM),2),h=(f[0],f[1]),d=(0,QCt.CR)(_Nt(this.view.coordinateBBox,c,$Ct.BOTTOM),2),p=d[0];d[1];this.slider.component.update((0,QCt.pi)((0,QCt.pi)({},this.getSliderCfg()),{x:p+o,y:h+i,width:this.width,start:this.start,end:this.end,minText:u,maxText:s})),this.view.viewBBox=this.view.viewBBox.cut(c,$Ct.BOTTOM)}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new Y_t((0,QCt.pi)({container:this.container},t));return e.init(),{component:e,layer:YCt.FORE,direction:$Ct.BOTTOM,type:KCt.SLIDER}},e.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var e=this.getMinMaxText(this.start,this.end),n=e.minText,r=e.maxText;t=(0,QCt.pi)((0,QCt.pi)({},t),{width:this.width,start:this.start,end:this.end,minText:n,maxText:r})}return this.slider.component.update(t),this.slider},e.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},e.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,tOt.Kn)(this.option)){var e=(0,QCt.pi)({data:this.getData()},(0,tOt.U2)(this.option,"trendCfg",{}));t=(0,tOt.b$)({},t,this.getThemeOptions(),this.option),t=(0,QCt.pi)((0,QCt.pi)({},t),{trendCfg:e})}return t.start=(0,tOt.uZ)(Math.min((0,tOt.UM)(t.start)?0:t.start,(0,tOt.UM)(t.end)?1:t.end),0,1),t.end=(0,tOt.uZ)(Math.max((0,tOt.UM)(t.start)?0:t.start,(0,tOt.UM)(t.end)?1:t.end),0,1),t},e.prototype.getData=function(){var t=this.view.getOptions().data,e=(0,QCt.CR)(this.view.getYScales(),1)[0],n=this.view.getGroupScales();if(n.length){var r=n[0],i=r.field,o=r.ticks;return t.reduce((function(t,n){return n[i]===o[0]&&t.push(n[e.field]),t}),[])}return t.map((function(t){return t[e.field]||0}))},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,tOt.U2)(t,["components","slider","common"],{})},e.prototype.getMinMaxText=function(t,e){var n=this.view.getOptions().data,r=this.view.getXScale(),i=(0,tOt.I)(n,r.field);r.isLinear&&(i=i.sort());var o=i,a=(0,tOt.dp)(n);if(!r||!a)return{};var c=(0,tOt.dp)(o),l=Math.round(t*(c-1)),u=Math.round(e*(c-1)),s=(0,tOt.U2)(o,[l]),f=(0,tOt.U2)(o,[u]),h=this.getSliderCfg().formatter;return h&&(s=h(s,n[l],l),f=h(f,n[u],u)),{minText:s,maxText:f}},e.prototype.changeViewData=function(t,e){var n=this.view.getOptions().data,r=this.view.getXScale(),i=(0,tOt.dp)(n);if(r&&i){var o=(0,tOt.I)(n,r.field),a=this.view.getXScale().isLinear?o.sort((function(t,e){return Number(t)-Number(e)})):o,c=a,l=(0,tOt.dp)(c),u=Math.round(t*(l-1)),s=Math.round(e*(l-1));this.view.filter(r.field,(function(t,e){var n=c.indexOf(t);return!(n>-1)||dDt(n,u,s)})),this.view.render(!0)}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},e}(_Zt),INt=jNt,RNt=function(t){function e(e){var n=t.call(this,e)||this;return n.onChangeFn=tOt.ZT,n.resetMeasure=function(){n.clear()},n.onValueChange=function(t){var e=t.ratio,r=n.getValidScrollbarCfg().animate;n.ratio=(0,tOt.uZ)(e,0,1);var i=n.view.getOptions().animate;r||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(i)},n.container=n.view.getLayer(YCt.FORE).addGroup(),n.onChangeFn=(0,tOt.P2)(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(eOt.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(eOt.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return(0,QCt.ZT)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.off(eOt.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(eOt.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout((function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)}))),this.scrollbar){var e=this.view.coordinateBBox.width,n=this.scrollbar.component.get("padding"),r=this.scrollbar.component.getLayoutBBox(),i=new gDt(r.x,r.y,Math.min(r.width,e),r.height).expand(n),o=this.getScrollbarComponentCfg(),a=void 0,c=void 0;if(o.isHorizontal){var l=(0,QCt.CR)(_Nt(this.view.viewBBox,i,$Ct.BOTTOM),2),u=(l[0],l[1]),s=(0,QCt.CR)(_Nt(this.view.coordinateBBox,i,$Ct.BOTTOM),2),f=s[0];s[1];a=f,c=u}else{var h=(0,QCt.CR)(_Nt(this.view.viewBBox,i,$Ct.RIGHT),2),d=(h[0],u=h[1],(0,QCt.CR)(_Nt(this.view.viewBBox,i,$Ct.RIGHT),2));f=d[0],d[1];a=f,c=u}a+=n[3],c+=n[0],this.trackLen?this.scrollbar.component.update((0,QCt.pi)((0,QCt.pi)({},o),{x:a,y:c,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update((0,QCt.pi)((0,QCt.pi)({},o),{x:a,y:c})),this.view.viewBBox=this.view.viewBBox.cut(i,o.isHorizontal?$Ct.BOTTOM:$Ct.RIGHT)}},e.prototype.update=function(){this.render()},e.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},e.prototype.setValue=function(t){this.onValueChange({ratio:t})},e.prototype.getValue=function(){return this.ratio},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,tOt.U2)(t,["components","scrollbar","common"],{})},e.prototype.getScrollbarTheme=function(t){var e=(0,tOt.U2)(this.view.getTheme(),["components","scrollbar"]),n=t||{},r=n.thumbHighlightColor,i=(0,QCt._T)(n,["thumbHighlightColor"]);return{default:(0,tOt.b$)({},(0,tOt.U2)(e,["default","style"],{}),i),hover:(0,tOt.b$)({},(0,tOt.U2)(e,["hover","style"],{}),{thumbColor:r})}},e.prototype.measureScrollbar=function(){var t=this.view.getXScale(),e=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var n=this.getScrollbarComponentCfg(),r=n.trackLen,i=n.thumbLen;this.trackLen=r,this.thumbLen=i,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=e},e.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,tOt.uZ)(this.ratio,0,1));return[t,Math.min(t+this.step-1,this.cnt-1)]},e.prototype.changeViewData=function(t,e){var n=this,r=(0,QCt.CR)(t,2),i=r[0],o=r[1],a="vertical"!==this.getValidScrollbarCfg().type,c=(0,tOt.I)(this.data,this.xScaleCfg.field),l=this.view.getXScale().isLinear?c.sort((function(t,e){return Number(t)-Number(e)})):c,u=a?l:l.reverse();this.yScalesCfg.forEach((function(t){n.view.scale(t.field,{formatter:t.formatter,type:t.type,min:t.min,max:t.max,tickMethod:t.tickMethod})})),this.view.filter(this.xScaleCfg.field,(function(t){var e=u.indexOf(t);return!(e>-1)||dDt(e,i,o)})),this.view.render(!0)},e.prototype.createScrollbar=function(){var t="vertical"!==this.getValidScrollbarCfg().type,e=new J_t((0,QCt.pi)((0,QCt.pi)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return e.init(),{component:e,layer:YCt.FORE,direction:t?$Ct.BOTTOM:$Ct.RIGHT,type:KCt.SCROLLBAR}},e.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),e=this.trackLen?(0,QCt.pi)((0,QCt.pi)({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):(0,QCt.pi)({},t);return this.scrollbar.component.update(e),this.scrollbar},e.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,e=this.getValidScrollbarCfg(),n=e.type,r=e.categorySize,i="vertical"!==n;return Math.floor((i?t.width:t.height)/r)},e.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),e=this.getScrollbarData(),n=(0,tOt.I)(e,t.field);return(0,tOt.dp)(n)},e.prototype.getScrollbarComponentCfg=function(){var t=this.view,e=t.coordinateBBox,n=t.viewBBox,r=this.getValidScrollbarCfg(),i=r.type,o=r.padding,a=r.width,c=r.height,l=r.style,u="vertical"!==i,s=(0,QCt.CR)(o,4),f=s[0],h=s[1],d=s[2],p=s[3],v=u?{x:e.minX+p,y:n.maxY-c-d}:{x:n.maxX-a-h,y:e.minY+f},g=this.getStep(),m=this.getCnt(),y=u?e.width-p-h:e.height-f-d,b=Math.max(y*(0,tOt.uZ)(g/m,0,1),20);return(0,QCt.pi)((0,QCt.pi)({},this.getThemeOptions()),{x:v.x,y:v.y,size:u?c:a,isHorizontal:u,trackLen:y,thumbLen:b,thumbOffset:0,theme:this.getScrollbarTheme(l)})},e.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0],animate:!0,style:{}};return(0,tOt.Kn)(this.option)&&(t=(0,QCt.pi)((0,QCt.pi)({},t),this.option)),(0,tOt.Kn)(this.option)&&this.option.padding||(t.padding=(t.type,[0,0,0,0])),t},e.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),e=this.getValidScrollbarCfg(),n=this.view.getOptions().data||[];return t.isReflect("y")&&"vertical"===e.type&&(n=(0,QCt.ev)([],(0,QCt.CR)(n),!1).reverse()),n},e}(_Zt),LNt=RNt,NNt={fill:"#CCD6EC",opacity:.3};function BNt(t,e,n){var r,i,o,a,c,l,u=function(t,e,n){var r,i,o=dZt(t,e,n);try{for(var a=(0,QCt.XA)(t.views),c=a.next();!c.done;c=a.next()){var l=c.value;o=o.concat(dZt(l,e,n))}}catch(u){r={error:u}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}(t,e,n);if(u.length){u=(0,tOt.xH)(u);try{for(var s=(0,QCt.XA)(u),f=s.next();!f.done;f=s.next()){var h=f.value;try{for(var d=(o=void 0,(0,QCt.XA)(h)),p=d.next();!p.done;p=d.next()){var v=p.value,g=v.mappingData,m=g.x,y=g.y;v.x=(0,tOt.kJ)(m)?m[m.length-1]:m,v.y=(0,tOt.kJ)(y)?y[y.length-1]:y}}catch(O){o={error:O}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}}}catch(E){r={error:E}}finally{try{f&&!f.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}if(!1===n.shared&&u.length>1){var b=u[0],x=Math.abs(e.y-b[0].y);try{for(var w=(0,QCt.XA)(u),S=w.next();!S.done;S=w.next()){var k=S.value,C=Math.abs(e.y-k[0].y);C<=x&&(b=k,x=C)}}catch(M){c={error:M}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(c)throw c.error}}u=[b]}return(0,tOt.jj)((0,tOt.xH)(u))}return[]}var zNt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.show=function(t){var e=this.context.view,n=this.context.event,r=e.getController("tooltip").getTooltipCfg(),i=BNt(e,{x:n.x,y:n.y},r);if(!(0,tOt.Xy)(i,this.items)&&(this.items=i,i.length)){var o=e.getXScale().field,a=i[0].data[o],c=[],l=e.geometries;if((0,tOt.S6)(l,(function(t){if("interval"===t.type||"schema"===t.type){var e=t.getElementsBy((function(t){return t.getData()[o]===a}));c=c.concat(e)}})),c.length){var u=e.getCoordinate(),s=c[0].shape.getCanvasBBox(),f=c[0].shape.getCanvasBBox(),h=s;(0,tOt.S6)(c,(function(t){var e=t.shape.getCanvasBBox();u.isTransposed?(e.minY<s.minY&&(s=e),e.maxY>f.maxY&&(f=e)):(e.minX<s.minX&&(s=e),e.maxX>f.maxX&&(f=e)),h.x=Math.min(e.minX,h.minX),h.y=Math.min(e.minY,h.minY),h.width=Math.max(e.maxX,h.maxX)-h.x,h.height=Math.max(e.maxY,h.maxY)-h.y}));var d=e.backgroundGroup,p=e.coordinateBBox,v=void 0;if(u.isRect){var g=e.getXScale(),m=t||{},y=m.appendRatio,b=m.appendWidth;(0,tOt.UM)(b)&&(y=(0,tOt.UM)(y)?g.isLinear?0:.25:y,b=u.isTransposed?y*f.height:y*s.width);var x=void 0,w=void 0,S=void 0,k=void 0;u.isTransposed?(x=p.minX,w=Math.min(f.minY,s.minY)-b,S=p.width,k=h.height+2*b):(x=Math.min(s.minX,f.minX)-b,w=p.minY,S=h.width+2*b,k=p.height),v=[["M",x,w],["L",x+S,w],["L",x+S,w+k],["L",x,w+k],["Z"]]}else{var C=(0,tOt.YM)(c),O=(0,tOt.Z$)(c),E=fDt(C.getModel(),u).startAngle,M=fDt(O.getModel(),u).endAngle,A=u.getCenter(),P=u.getRadius(),_=u.innerRadius*P;v=uDt(A.x,A.y,P,E,M,_)}if(this.regionPath)this.regionPath.attr("path",v),this.regionPath.show();else{var D=(0,tOt.U2)(t,"style",NNt);this.regionPath=d.addShape({type:"path",name:"active-region",capture:!1,attrs:(0,QCt.pi)((0,QCt.pi)({},D),{path:v})})}}}},e.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},e.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),t.prototype.destroy.call(this)},e}(BDt),UNt=zNt,HNt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return(0,QCt.ZT)(e,t),e.prototype.show=function(){var t=this.context,e=t.event,n=t.view;if(!n.isTooltipLocked()){var r=this.timeStamp,i=+new Date;if(i-r>(0,tOt.U2)(t.view.getOptions(),"tooltip.showDelay",16)){var o=this.location,a={x:e.x,y:e.y};o&&(0,tOt.Xy)(o,a)||this.showTooltip(n,a),this.timeStamp=i,this.location=a}}},e.prototype.hide=function(){var t=this.context.view,e=t.getController("tooltip"),n=this.context.event,r=n.clientX,i=n.clientY;e.isCursorEntered({x:r,y:i})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},e.prototype.showTooltip=function(t,e){t.showTooltip(e)},e.prototype.hideTooltip=function(t){t.hideTooltip()},e}(BDt),WNt=HNt,VNt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.showTooltip=function(t,e){var n=CTt(t);(0,tOt.S6)(n,(function(n){var r=OTt(t,n,e);n.showTooltip(r)}))},e.prototype.hideTooltip=function(t){var e=CTt(t);(0,tOt.S6)(e,(function(t){t.hideTooltip()}))},e}(WNt),GNt=VNt,XNt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return(0,QCt.ZT)(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.show=function(){var t=this.context.event,e=this.timeStamp,n=+new Date;if(n-e>16){var r=this.location,i={x:t.x,y:t.y};r&&(0,tOt.Xy)(r,i)||this.showTooltip(i),this.timeStamp=n,this.location=i}},e.prototype.hide=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var e=this.context.event.target;if(e&&e.get("tip")){this.tooltip||this.renderTooltip();var n=e.get("tip");this.tooltip.update((0,QCt.pi)({title:n},t)),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,e=this.context.view,n=e.canvas,r={start:{x:0,y:0},end:{x:n.get("width"),y:n.get("height")}},i=e.getTheme(),o=(0,tOt.U2)(i,["components","tooltip","domStyles"],{}),a=new oDt({parent:n.get("el").parentNode,region:r,visible:!1,crosshairs:null,domStyles:(0,QCt.pi)({},(0,tOt.b$)({},o,(t={},t[k_t]={"max-width":"50%"},t[C_t]={"word-break":"break-all"},t)))});a.init(),a.setCapture(!1),this.tooltip=a},e}(BDt),qNt=XNt,YNt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e}return(0,QCt.ZT)(e,t),e.prototype.hasState=function(t){return t.hasState(this.stateName)},e.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},e.prototype.clearViewState=function(t){var e=this,n=gTt(t,this.stateName);(0,tOt.S6)(n,(function(t){e.setElementState(t,!1)}))},e}(BDt),$Nt=YNt;function KNt(t){return(0,tOt.U2)(t.get("delegateObject"),"item")}var JNt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreListItemStates=["unchecked"],e}return(0,QCt.ZT)(e,t),e.prototype.isItemIgnore=function(t,e){var n=this.ignoreListItemStates.filter((function(n){return e.hasState(t,n)}));return!!n.length},e.prototype.setStateByComponent=function(t,e,n){var r=this.context.view,i=t.get("field"),o=vTt(r);this.setElementsStateByItem(o,i,e,n)},e.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},e.prototype.isMathItem=function(t,e,n){var r=MTt(this.context.view,e),i=mTt(t,e);return!(0,tOt.UM)(i)&&n.name===r.getText(i)},e.prototype.setElementsStateByItem=function(t,e,n,r){var i=this;(0,tOt.S6)(t,(function(t){i.isMathItem(t,e,n)&&t.setState(i.stateName,r)}))},e.prototype.setStateEnable=function(t){var e=oTt(this.context);if(e)cTt(this.context)&&this.setStateByElement(e,t);else{var n=aTt(this.context);if(lTt(n)){var r=n.item,i=n.component;if(r&&i&&!this.isItemIgnore(r,i)){var o=this.context.event.gEvent;if(o&&o.fromShape&&o.toShape&&KNt(o.fromShape)===KNt(o.toShape))return;this.setStateByComponent(i,r,t)}}}},e.prototype.toggle=function(){var t=oTt(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}($Nt),QNt=JNt,tBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,QCt.ZT)(e,t),e.prototype.active=function(){this.setState()},e}(QNt),eBt=tBt,nBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cache={},e}return(0,QCt.ZT)(e,t),e.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");return n?t.getScaleByField(n.getFields()[0]):null},e.prototype.getLinkPath=function(t,e){var n=this.context.view.getCoordinate().isTransposed,r=t.shape.getCanvasBBox(),i=e.shape.getCanvasBBox();return n?[["M",r.minX,r.minY],["L",i.minX,i.maxY],["L",i.maxX,i.maxY],["L",r.maxX,r.minY],["Z"]]:[["M",r.maxX,r.minY],["L",i.minX,i.minY],["L",i.minX,i.maxY],["L",r.maxX,r.maxY],["Z"]]},e.prototype.addLinkShape=function(t,e,n,r){var i={opacity:.4,fill:e.shape.attr("fill")};t.addShape({type:"path",attrs:(0,QCt.pi)((0,QCt.pi)({},(0,tOt.b$)({},i,(0,tOt.mf)(r)?r(i,e):r)),{path:this.getLinkPath(e,n)})})},e.prototype.linkByElement=function(t,e){var n=this,r=this.context.view,i=this.getColorScale(r,t);if(i){var o=mTt(t,i.field);if(!this.cache[o]){var a=function(t,e,n){return vTt(t).filter((function(t){return mTt(t,e)===n}))}(r,i.field,o),c=this.linkGroup.addGroup();this.cache[o]=c;var l=a.length;(0,tOt.S6)(a,(function(t,r){if(r<l-1){var i=a[r+1];n.addLinkShape(c,t,i,e)}}))}}},e.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(e){var n=mTt(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},e.prototype.link=function(t){var e=this.context;this.linkGroup||(this.linkGroup=e.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var n=oTt(e);n&&this.linkByElement(n,null==t?void 0:t.style)},e.prototype.unlink=function(){var t=oTt(this.context);t&&this.removeLink(t)},e.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},e}(BDt),rBt=nBt,iBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.endPoint=null,e.isStarted=!1,e.effectSiblings=!1,e.effectByRecord=!1,e}return(0,QCt.ZT)(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},e.prototype.getIntersectElements=function(){var t=null;if(sTt(this.context))t=hTt(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var r={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)};t=yTt(this.context.view,r)}return t},e.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=vTt(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},e.prototype.setSiblingsStateByRecord=function(t,e){var n=this,r=this.context.view,i=CTt(r),o=t.map((function(t){return t.getModel().data})),a=r.getXScale().field,c=r.getYScales()[0].field;(0,tOt.S6)(i,(function(t){var r=vTt(t),i=r.filter((function(t){var e=t.getModel().data;return ETt(o,e,a,c)}));n.setElementsState(i,e,r)}))},e.prototype.setSiblingsState=function(t){var e=this,n=CTt(this.context.view);sTt(this.context)&&(0,tOt.S6)(n,(function(n){var r=vTt(n),i=dTt(e.context,n,10);i&&i.length?e.setElementsState(i,t,r):e.clearViewState(n)}))},e.prototype.setElementsState=function(t,e,n){var r=this;(0,tOt.S6)(n,(function(n){t.includes(n)?r.setElementState(n,e):r.setElementState(n,!1)}))},e.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},e.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=CTt(e);(0,tOt.S6)(n,(function(e){t.clearViewState(e)}))}else this.clearViewState(e)},e}($Nt),oBt=iBt,aBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,QCt.ZT)(e,t),e.prototype.active=function(){this.setState()},e}(oBt),cBt=aBt,lBt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.setStateEnable=function(t){var e=oTt(this.context);if(e){if(!cTt(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},e.prototype.toggle=function(){var t=oTt(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}($Nt),uBt=lBt,sBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,QCt.ZT)(e,t),e.prototype.active=function(){this.setState()},e}(uBt),fBt=sBt,hBt="inactive",dBt="active";function pBt(t){var e=vTt(t);(0,tOt.S6)(e,(function(t){t.hasState(dBt)&&t.setState(dBt,!1),t.hasState(hBt)&&t.setState(hBt,!1)}))}function vBt(t,e,n){(0,tOt.S6)(t,(function(t){e(t)?(t.hasState(hBt)&&t.setState(hBt,!1),t.setState(dBt,n)):(t.hasState(dBt)&&t.setState(dBt,!1),t.setState(hBt,n))}))}var gBt,mBt=iOt.INACTIVE,yBt=iOt.ACTIVE,bBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=yBt,e}return(0,QCt.ZT)(e,t),e.prototype.setElementsStateByItem=function(t,e,n,r){var i=this;this.setHighlightBy(t,(function(t){return i.isMathItem(t,e,n)}),r)},e.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(mBt)&&t.setState(mBt,!1),t.setState(yBt,!0)):t.hasState(yBt)||t.setState(mBt,!0)},e.prototype.setHighlightBy=function(t,e,n){var r=this;if(n)(0,tOt.S6)(t,(function(t){r.setElementHighlight(t,e)}));else{var i=gTt(this.context.view,yBt),o=!0;(0,tOt.S6)(i,(function(t){if(!e(t))return o=!1,!1})),o?this.clear():(0,tOt.S6)(t,(function(t){e(t)&&(t.hasState(yBt)&&t.setState(yBt,!1),t.setState(mBt,!0))}))}},e.prototype.setElementState=function(t,e){var n=vTt(this.context.view);this.setHighlightBy(n,(function(e){return t===e}),e)},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){pBt(this.context.view)},e}(QNt),xBt=bBt,wBt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.setStateByElement=function(t,e){var n=this.context.view,r=t.geometry.getAttribute("color");if(r){var i=n.getScaleByField(r.getFields()[0]),o=mTt(t,i.field),a=vTt(n),c=a.filter((function(t){return mTt(t,i.field)===o}));this.setHighlightBy(a,(function(t){return c.includes(t)}),e)}},e}(xBt),SBt=wBt,kBt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(mBt)&&t.setState(mBt,!1),t.setState(yBt,!0)):(t.setState(mBt,!0),t.hasState(yBt)&&t.setState(yBt,!1))},e.prototype.setStateByElement=function(t,e){var n=this.context.view,r=n.getXScale(),i=mTt(t,r.field),o=vTt(n),a=o.filter((function(t){return mTt(t,r.field)===i}));this.setHighlightBy(o,(function(t){return a.includes(t)}),e)},e.prototype.toggle=function(){var t=oTt(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},e}(xBt),CBt=kBt;!function(t){t.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",t.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",t.BEFORE_CLEAR="element-range-highlight:beforeclear",t.AFTER_CLEAR="element-range-highlight:afterclear"}(gBt||(gBt={}));var OBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,QCt.ZT)(e,t),e.prototype.clearViewState=function(t){pBt(t)},e.prototype.highlight=function(){var t=this.context,e=t.view,n={view:e,event:t.event,highlightElements:this.getIntersectElements()};e.emit(gBt.BEFORE_HIGHLIGHT,xZt.fromData(e,gBt.BEFORE_HIGHLIGHT,n)),this.setState(),e.emit(gBt.AFTER_HIGHLIGHT,xZt.fromData(e,gBt.AFTER_HIGHLIGHT,n))},e.prototype.clear=function(){var e=this.context.view;e.emit(gBt.BEFORE_CLEAR,xZt.fromData(e,gBt.BEFORE_CLEAR,{})),t.prototype.clear.call(this),e.emit(gBt.AFTER_CLEAR,xZt.fromData(e,gBt.AFTER_CLEAR,{}))},e.prototype.setElementsState=function(t,e,n){vBt(n,(function(e){return t.indexOf(e)>=0}),e)},e}(oBt),EBt=OBt,MBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,QCt.ZT)(e,t),e.prototype.highlight=function(){this.setState()},e.prototype.setElementState=function(t,e){vBt(vTt(this.context.view),(function(e){return t===e}),e)},e.prototype.clear=function(){pBt(this.context.view)},e}(uBt),ABt=MBt,PBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return(0,QCt.ZT)(e,t),e.prototype.selected=function(){this.setState()},e}(oBt),_Bt=PBt,DBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return(0,QCt.ZT)(e,t),e.prototype.selected=function(){this.setState()},e}(QNt),TBt=DBt,ZBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return(0,QCt.ZT)(e,t),e.prototype.selected=function(){this.setState()},e}(uBt),FBt=ZBt,jBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e.ignoreItemStates=[],e}return(0,QCt.ZT)(e,t),e.prototype.getTriggerListInfo=function(){var t=aTt(this.context),e=null;return lTt(t)&&(e={item:t.item,list:t.component}),e},e.prototype.getAllowComponents=function(){var t=this,e=wTt(this.context.view),n=[];return(0,tOt.S6)(e,(function(e){e.isList()&&t.allowSetStateByElement(e)&&n.push(e)})),n},e.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},e.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,tOt.S6)(e,(function(e){e.clearItemsState(t.stateName)}))},e.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(-1===this.cfg.componentNames.indexOf(n))return!1}var r=MTt(this.context.view,e);return r&&r.isCategory},e.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;if(n.length){var r=n.filter((function(n){return e.hasState(t,n)}));return 0===r.length}return!0},e.prototype.setStateByElement=function(t,e,n){var r=t.get("field"),i=MTt(this.context.view,r),o=mTt(e,r),a=i.getText(o);this.setItemsState(t,a,n)},e.prototype.setStateEnable=function(t){var e=this,n=oTt(this.context);if(n){var r=this.getAllowComponents();(0,tOt.S6)(r,(function(r){e.setStateByElement(r,n,t)}))}else{var i=aTt(this.context);if(lTt(i)){var o=i.item,a=i.component;this.allowSetStateByElement(a)&&this.allowSetStateByItem(o,a)&&this.setItemState(a,o,t)}}},e.prototype.setItemsState=function(t,e,n){var r=this,i=t.getItems();(0,tOt.S6)(i,(function(i){i.name===e&&r.setItemState(t,i,n)}))},e.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.reset=function(){this.setStateEnable(!1)},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,r=this.hasState(e,n);this.setItemState(e,n,!r)}},e.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},e}(BDt),IBt=jBt,RBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return(0,QCt.ZT)(e,t),e.prototype.active=function(){this.setState()},e}(IBt),LBt=RBt,NBt="inactive",BBt="active";var zBt="inactive",UBt="active",HBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=UBt,e.ignoreItemStates=["unchecked"],e}return(0,QCt.ZT)(e,t),e.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,(function(t){return t.name===e}),n)},e.prototype.setItemState=function(t,e,n){t.getItems();this.setHighlightBy(t,(function(t){return t===e}),n)},e.prototype.setHighlightBy=function(t,e,n){var r=t.getItems();if(n)(0,tOt.S6)(r,(function(n){e(n)?(t.hasState(n,zBt)&&t.setItemState(n,zBt,!1),t.setItemState(n,UBt,!0)):t.hasState(n,UBt)||t.setItemState(n,zBt,!0)}));else{var i=t.getItemsByState(UBt),o=!0;(0,tOt.S6)(i,(function(t){if(!e(t))return o=!1,!1})),o?this.clear():(0,tOt.S6)(r,(function(n){e(n)&&(t.hasState(n,UBt)&&t.setItemState(n,UBt,!1),t.setItemState(n,zBt,!0))}))}},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)!function(t){var e=t.getItems();(0,tOt.S6)(e,(function(e){t.hasState(e,BBt)&&t.setItemState(e,BBt,!1),t.hasState(e,NBt)&&t.setItemState(e,NBt,!1)}))}(t.list);else{var e=this.getAllowComponents();(0,tOt.S6)(e,(function(t){t.clearItemsState(UBt),t.clearItemsState(zBt)}))}},e}(IBt),WBt=HBt,VBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return(0,QCt.ZT)(e,t),e.prototype.selected=function(){this.setState()},e}(IBt),GBt=VBt,XBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="unchecked",e}return(0,QCt.ZT)(e,t),e.prototype.unchecked=function(){this.setState()},e}(IBt),qBt=XBt,YBt="unchecked",$Bt="checked",KBt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=$Bt,e}return(0,QCt.ZT)(e,t),e.prototype.setItemState=function(t,e,n){this.setCheckedBy(t,(function(t){return t===e}),n)},e.prototype.setCheckedBy=function(t,e,n){var r=t.getItems();n&&(0,tOt.S6)(r,(function(n){e(n)?(t.hasState(n,YBt)&&t.setItemState(n,YBt,!1),t.setItemState(n,$Bt,!0)):t.hasState(n,$Bt)||t.setItemState(n,YBt,!0)}))},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,r=!(0,tOt.G)(e.getItems(),(function(t){return e.hasState(t,YBt)}));r||e.hasState(n,YBt)?this.setItemState(e,n,!0):this.reset()}},e.prototype.checked=function(){this.setState()},e.prototype.reset=function(){var t=this.getAllowComponents();(0,tOt.S6)(t,(function(t){t.clearItemsState($Bt),t.clearItemsState(YBt)}))},e}(IBt),JBt=KBt,QBt="unchecked",tzt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.toggle=function(){var t,e,n,r,i,o,a,c,l=this.getTriggerListInfo();if(null==l?void 0:l.item){var u=l.list,s=l.item,f=u.getItems(),h=f.filter((function(t){return!u.hasState(t,QBt)})),d=f.filter((function(t){return u.hasState(t,QBt)})),p=h[0];if(f.length===h.length)try{for(var v=(0,QCt.XA)(f),g=v.next();!g.done;g=v.next()){var m=g.value;u.setItemState(m,QBt,m.id!==s.id)}}catch(C){t={error:C}}finally{try{g&&!g.done&&(e=v.return)&&e.call(v)}finally{if(t)throw t.error}}else if(f.length-d.length==1)if(p.id===s.id)try{for(var y=(0,QCt.XA)(f),b=y.next();!b.done;b=y.next()){m=b.value;u.setItemState(m,QBt,!1)}}catch(O){n={error:O}}finally{try{b&&!b.done&&(r=y.return)&&r.call(y)}finally{if(n)throw n.error}}else try{for(var x=(0,QCt.XA)(f),w=x.next();!w.done;w=x.next()){m=w.value;u.setItemState(m,QBt,m.id!==s.id)}}catch(E){i={error:E}}finally{try{w&&!w.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}else try{for(var S=(0,QCt.XA)(f),k=S.next();!k.done;k=S.next()){m=k.value;u.setItemState(m,QBt,m.id!==s.id)}}catch(M){a={error:M}}finally{try{k&&!k.done&&(c=S.return)&&c.call(S)}finally{if(a)throw a.error}}}},e}(IBt),ezt=tzt,nzt="showRadio",rzt="legend-radio-tip",izt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return(0,QCt.ZT)(e,t),e.prototype.show=function(){var t=this.getTriggerListInfo();if(null==t?void 0:t.item){var e=t.list,n=t.item;e.setItemState(n,nzt,!0)}},e.prototype.hide=function(){var t=this.getTriggerListInfo();if(null==t?void 0:t.item){var e=t.list,n=t.item;e.setItemState(n,nzt,!1)}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.showTip=function(){var t=this.context.event,e=this.timeStamp,n=+new Date,r=this.context.event.target;if(n-e>16&&"legend-item-radio"===r.get("name")){var i=this.location,o={x:t.x,y:t.y};this.timeStamp=n,this.location=o,i&&(0,tOt.Xy)(i,o)||this.showTooltip(o)}},e.prototype.hideTip=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var e=this.context,n=e.event.target;if(n&&n.get("tip")){this.tooltip||this.renderTooltip();var r=e.view.getCanvas().get("el").getBoundingClientRect(),i=r.x,o=r.y;this.tooltip.update((0,QCt.pi)((0,QCt.pi)({title:n.get("tip")},t),{x:t.x+i,y:t.y+o})),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,e=((t={})[k_t]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[C_t]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(rzt)&&document.body.removeChild(document.getElementById(rzt));var n=new oDt({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:e,containerId:rzt});n.init(),n.setCapture(!1),this.tooltip=n},e}(IBt),ozt=izt,azt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskShape=null,e.points=[],e.starting=!1,e.moving=!1,e.preMovePoint=null,e.shapeType="path",e}return(0,QCt.ZT)(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var e="mask:".concat(t),n=this.context.view,r=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:r.x,y:r.y})},e.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs();return t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,QCt.pi)({fill:"#C5D4EB",opacity:.3},e)})},e.prototype.getMaskPath=function(){return[]},e.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},e.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(null==t?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},e.prototype.move=function(){if(this.moving&&this.maskShape){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,r=t.y-e.y,i=this.points;(0,tOt.S6)(i,(function(t){t.x+=n,t.y+=r})),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},e.prototype.updateMask=function(t){var e=(0,tOt.b$)({},this.getMaskAttrs(),t);this.maskShape.attr(e)},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},e.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},e.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},e.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,t.prototype.destroy.call(this)},e}(BDt),czt=azt;function lzt(t){var e=(0,tOt.Z$)(t),n=0,r=0,i=0;if(t.length){var o=t[0];n=STt(o,e)/2,r=(e.x+o.x)/2,i=(e.y+o.y)/2}return{x:r,y:i,r:n}}var uzt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="circle",e}return(0,QCt.ZT)(e,t),e.prototype.getMaskAttrs=function(){return lzt(this.points)},e}(czt),szt=uzt;function fzt(t){return{start:(0,tOt.YM)(t),end:(0,tOt.Z$)(t)}}function hzt(t,e){return{x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)}}var dzt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="rect",e}return(0,QCt.ZT)(e,t),e.prototype.getRegion=function(){return fzt(this.points)},e.prototype.getMaskAttrs=function(){var t=this.getRegion();return hzt(t.start,t.end)},e}(czt),pzt=dzt;function vzt(t){t.x=(0,tOt.uZ)(t.x,0,1),t.y=(0,tOt.uZ)(t.y,0,1)}function gzt(t,e,n,r){var i=null,o=null,a=r.invert((0,tOt.YM)(t)),c=r.invert((0,tOt.Z$)(t));return n&&(vzt(a),vzt(c)),"x"===e?(i=r.convert({x:a.x,y:0}),o=r.convert({x:c.x,y:1})):(i=r.convert({x:0,y:a.y}),o=r.convert({x:1,y:c.y})),{start:i,end:o}}var mzt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dim="x",e.inPlot=!0,e}return(0,QCt.ZT)(e,t),e.prototype.getRegion=function(){var t=this.context.view.getCoordinate();return gzt(this.points,this.dim,this.inPlot,t)},e}(pzt),yzt=mzt;function bzt(t){var e=[];return t.length&&((0,tOt.S6)(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e.push(["L",t[0].x,t[0].y])),e}function xzt(t){return{path:bzt(t)}}var wzt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getMaskPath=function(){return bzt(this.points)},e.prototype.getMaskAttrs=function(){return xzt(this.points)},e.prototype.addPoint=function(){this.resize()},e}(czt),Szt=wzt;function kzt(t){return function(t,e){if(t.length<=2)return KDt(t,!1);var n=t[0],r=[];(0,tOt.S6)(t,(function(t){r.push(t.x),r.push(t.y)}));var i=$Dt(r,e,null);return i.unshift(["M",n.x,n.y]),i}(t,!0)}function Czt(t){return{path:kzt(t)}}var Ozt,Ezt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getMaskPath=function(){return kzt(this.points)},e.prototype.getMaskAttrs=function(){return Czt(this.points)},e}(Szt),Mzt=Ezt,Azt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskShapes=[],e.starting=!1,e.moving=!1,e.recordPoints=null,e.preMovePoint=null,e.shapeType="path",e.maskType="multi-mask",e}return(0,QCt.ZT)(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var e="".concat(this.maskType,":").concat(t),n=this.context.view,r=this.context.event,i={type:this.shapeType,name:this.maskType,get:function(t){return i.hasOwnProperty(t)?i[t]:void 0}};n.emit(e,{target:i,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:r.x,y:r.y})},e.prototype.createMask=function(t){var e=this.context.view,n=this.recordPoints[t],r=this.getMaskAttrs(n),i=e.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,QCt.pi)({fill:"#C5D4EB",opacity:.3},r)});this.maskShapes.push(i)},e.prototype.getMaskPath=function(t){return[]},e.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach((function(t){return t.show()})),this.emitEvent("show"))},e.prototype.start=function(t){this.recordPointStart(),this.starting=!0,this.moving=!1;var e=this.recordPoints.length-1;this.createMask(e),this.updateShapesCapture(!1),this.updateMask(null==t?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},e.prototype.move=function(){if(this.moving&&0!==this.maskShapes.length){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,r=t.y-e.y,i=this.getCurMaskShapeIndex();i>-1&&(this.recordPoints[i].forEach((function(t){t.x+=n,t.y+=r})),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)}},e.prototype.updateMask=function(t){var e=this;this.recordPoints.forEach((function(n,r){var i=(0,tOt.b$)({},e.getMaskAttrs(n),t);e.maskShapes[r].attr(i)}))},e.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},e.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach((function(t){return t.hide()})),this.emitEvent("hide"))},e.prototype.remove=function(){var t=this.getCurMaskShapeIndex();t>-1&&(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},e.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach((function(t){return t.remove()})),this.maskShapes=[],this.preMovePoint=null},e.prototype.clear=function(){var t=this.getCurMaskShapeIndex();-1===t?(this.recordPointClear(),this.maskShapes.forEach((function(t){return t.remove()})),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},e.prototype.destroy=function(){this.clear(),t.prototype.destroy.call(this)},e.prototype.getRecordPoints=function(){var t;return(0,QCt.ev)([],(0,QCt.CR)(null!==(t=this.recordPoints)&&void 0!==t?t:[]),!1)},e.prototype.recordPointStart=function(){var t=this.getRecordPoints(),e=this.getCurrentPoint();this.recordPoints=(0,QCt.ev)((0,QCt.ev)([],(0,QCt.CR)(t),!1),[[e]],!1)},e.prototype.recordPointContinue=function(){var t=this.getRecordPoints(),e=this.getCurrentPoint(),n=t.splice(-1,1)[0]||[];n.push(e),this.recordPoints=(0,QCt.ev)((0,QCt.ev)([],(0,QCt.CR)(t),!1),[n],!1)},e.prototype.recordPointClear=function(){this.recordPoints=[]},e.prototype.updateShapesCapture=function(t){this.maskShapes.forEach((function(e){return e.set("capture",t)}))},e.prototype.getCurMaskShapeIndex=function(){var t=this.getCurrentPoint();return this.maskShapes.findIndex((function(e){var n=e.attrs,r=n.width,i=n.height,o=n.r;return!(0===r||0===i||0===o)&&e.isHit(t.x,t.y)}))},e}(BDt),Pzt=Azt,_zt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="rect",e}return(0,QCt.ZT)(e,t),e.prototype.getRegion=function(t){return fzt(t)},e.prototype.getMaskAttrs=function(t){var e=this.getRegion(t);return hzt(e.start,e.end)},e}(Pzt),Dzt=_zt,Tzt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dim="x",e.inPlot=!0,e}return(0,QCt.ZT)(e,t),e.prototype.getRegion=function(t){var e=this.context.view.getCoordinate();return gzt(t,this.dim,this.inPlot,e)},e}(Dzt),Zzt=Tzt,Fzt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="circle",e.getMaskAttrs=lzt,e}return(0,QCt.ZT)(e,t),e}(Pzt),jzt=Fzt,Izt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getMaskPath=bzt,e.getMaskAttrs=xzt,e}return(0,QCt.ZT)(e,t),e.prototype.addPoint=function(){this.resize()},e}(Pzt),Rzt=Izt,Lzt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getMaskPath=kzt,e.getMaskAttrs=Czt,e}return(0,QCt.ZT)(e,t),e}(Rzt),Nzt=Lzt,Bzt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.setCursor=function(t){this.context.view.getCanvas().setCursor(t)},e.prototype.default=function(){this.setCursor("default")},e.prototype.pointer=function(){this.setCursor("pointer")},e.prototype.move=function(){this.setCursor("move")},e.prototype.crosshair=function(){this.setCursor("crosshair")},e.prototype.wait=function(){this.setCursor("wait")},e.prototype.help=function(){this.setCursor("help")},e.prototype.text=function(){this.setCursor("text")},e.prototype.eResize=function(){this.setCursor("e-resize")},e.prototype.wResize=function(){this.setCursor("w-resize")},e.prototype.nResize=function(){this.setCursor("n-resize")},e.prototype.sResize=function(){this.setCursor("s-resize")},e.prototype.neResize=function(){this.setCursor("ne-resize")},e.prototype.nwResize=function(){this.setCursor("nw-resize")},e.prototype.seResize=function(){this.setCursor("se-resize")},e.prototype.swResize=function(){this.setCursor("sw-resize")},e.prototype.nsResize=function(){this.setCursor("ns-resize")},e.prototype.ewResize=function(){this.setCursor("ew-resize")},e.prototype.zoomIn=function(){this.setCursor("zoom-in")},e.prototype.zoomOut=function(){this.setCursor("zoom-out")},e}(BDt),zzt=Bzt,Uzt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.filterView=function(t,e,n){var r=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,tOt.S6)(t.views,(function(t){r.filterView(t,e,n)}))},e.prototype.filter=function(){var t=aTt(this.context);if(t){var e=this.context.view,n=t.component,r=n.get("field");if(lTt(t)){if(r){var i=n.getItemsByState("unchecked"),o=MTt(e,r),a=i.map((function(t){return t.name}));a.length?this.filterView(e,r,(function(t){var e=o.getText(t);return!a.includes(e)})):this.filterView(e,r,null),e.render(!0)}}else if(uTt(t)){var c=n.getValue(),l=(0,QCt.CR)(c,2),u=l[0],s=l[1];this.filterView(e,r,(function(t){return t>=u&&t<=s})),e.render(!0)}}},e}(BDt),Hzt=Uzt;function Wzt(t,e,n,r){var i=Math.min(n[e],r[e]),o=Math.max(n[e],r[e]),a=(0,QCt.CR)(t.range,2),c=a[0],l=a[1];if(i<c&&(i=c),o>l&&(o=l),i===l&&o===l)return null;var u=t.invert(i),s=t.invert(o);if(t.isCategory){var f=t.values.indexOf(u),h=t.values.indexOf(s),d=t.values.slice(f,h+1);return function(t){return d.includes(t)}}return function(t){return t>=u&&t<=s}}!function(t){t.FILTER="brush-filter-processing",t.RESET="brush-filter-reset",t.BEFORE_FILTER="brush-filter:beforefilter",t.AFTER_FILTER="brush-filter:afterfilter",t.BEFORE_RESET="brush-filter:beforereset",t.AFTER_RESET="brush-filter:afterreset"}(Ozt||(Ozt={}));var Vzt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dims=["x","y"],e.startPoint=null,e.isStarted=!1,e}return(0,QCt.ZT)(e,t),e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},e.prototype.filter=function(){var t,e;if(sTt(this.context)){var n=this.context.event.target.getCanvasBBox();t={x:n.x,y:n.y},e={x:n.maxX,y:n.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var r=this.context,i=r.view,o={view:i,event:r.event,dims:this.dims};i.emit(Ozt.BEFORE_FILTER,xZt.fromData(i,Ozt.BEFORE_FILTER,o));var a=i.getCoordinate(),c=a.invert(e),l=a.invert(t);if(this.hasDim("x")){var u=i.getXScale(),s=Wzt(u,"x",c,l);this.filterView(i,u.field,s)}if(this.hasDim("y")){var f=i.getYScales()[0];s=Wzt(f,"y",c,l);this.filterView(i,f.field,s)}this.reRender(i,{source:Ozt.FILTER}),i.emit(Ozt.AFTER_FILTER,xZt.fromData(i,Ozt.AFTER_FILTER,o))}},e.prototype.end=function(){this.isStarted=!1},e.prototype.reset=function(){var t=this.context.view;if(t.emit(Ozt.BEFORE_RESET,xZt.fromData(t,Ozt.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t,{source:Ozt.RESET}),t.emit(Ozt.AFTER_RESET,xZt.fromData(t,Ozt.AFTER_RESET,{}))},e.prototype.filterView=function(t,e,n){t.filter(e,n)},e.prototype.reRender=function(t,e){t.render(!0,e)},e}(BDt),Gzt=Vzt,Xzt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.filterView=function(t,e,n){var r=CTt(t);(0,tOt.S6)(r,(function(t){t.filter(e,n)}))},e.prototype.reRender=function(t){var e=CTt(t);(0,tOt.S6)(e,(function(t){t.render(!0)}))},e}(Gzt),qzt=Xzt,Yzt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.filter=function(){var t=aTt(this.context),e=this.context.view,n=vTt(e);if(sTt(this.context)){var r=hTt(this.context,10);r&&(0,tOt.S6)(n,(function(t){r.includes(t)?t.show():t.hide()}))}else if(t){var i=t.component,o=i.get("field");if(lTt(t)){if(o){var a=i.getItemsByState("unchecked"),c=MTt(e,o),l=a.map((function(t){return t.name}));(0,tOt.S6)(n,(function(t){var e=mTt(t,o),n=c.getText(e);l.indexOf(n)>=0?t.hide():t.show()}))}}else if(uTt(t)){var u=i.getValue(),s=(0,QCt.CR)(u,2),f=s[0],h=s[1];(0,tOt.S6)(n,(function(t){var e=mTt(t,o);e>=f&&e<=h?t.show():t.hide()}))}}},e.prototype.clear=function(){var t=vTt(this.context.view);(0,tOt.S6)(t,(function(t){t.show()}))},e.prototype.reset=function(){this.clear()},e}(BDt),$zt=Yzt,Kzt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.byRecord=!1,e}return(0,QCt.ZT)(e,t),e.prototype.filter=function(){sTt(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},e.prototype.filterByRecord=function(){var t=this.context.view,e=hTt(this.context,10);if(e){var n=t.getXScale().field,r=t.getYScales()[0].field,i=e.map((function(t){return t.getModel().data})),o=CTt(t);(0,tOt.S6)(o,(function(t){var e=vTt(t);(0,tOt.S6)(e,(function(t){var e=t.getModel().data;ETt(i,e,n,r)?t.show():t.hide()}))}))}},e.prototype.filterByBBox=function(){var t=this,e=CTt(this.context.view);(0,tOt.S6)(e,(function(e){var n=dTt(t.context,e,10),r=vTt(e);n&&(0,tOt.S6)(r,(function(t){n.includes(t)?t.show():t.hide()}))}))},e.prototype.reset=function(){var t=CTt(this.context.view);(0,tOt.S6)(t,(function(t){var e=vTt(t);(0,tOt.S6)(e,(function(t){t.show()}))}))},e}(BDt),Jzt=Kzt,Qzt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},e}return(0,QCt.ZT)(e,t),e.prototype.getButtonCfg=function(){return(0,tOt.b$)(this.buttonCfg,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:(0,QCt.pi)({text:t.text},t.textStyle)}).getBBox(),r=pZt(t.padding),i=e.addShape({type:"rect",name:"button-rect",attrs:(0,QCt.pi)({x:n.x-r[3],y:n.y-r[0],width:n.width+r[1]+r[3],height:n.height+r[0]+r[2]},t.style)});i.toBack(),e.on("mouseenter",(function(){i.attr(t.activeStyle)})),e.on("mouseleave",(function(){i.attr(t.style)})),this.buttonGroup=e},e.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),r=rAt.vs(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(r)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this)},e}(BDt),tUt=Qzt,eUt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starting=!1,e.dragStart=!1,e}return(0,QCt.ZT)(e,t),e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},e.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):STt(t,this.startPoint)>4&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},e.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},e}(BDt),nUt=eUt,rUt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starting=!1,e.isMoving=!1,e.startPoint=null,e.startMatrix=null,e}return(0,QCt.ZT)(e,t),e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},e.prototype.move=function(){if(this.starting){var t=this.startPoint,e=this.context.getCurrentPoint();if(STt(t,e)>5&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var n=this.context.view,r=rAt.vs(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);n.backgroundGroup.setMatrix(r),n.foregroundGroup.setMatrix(r),n.middleGroup.setMatrix(r)}}},e.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},e.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},e}(BDt),iUt=rUt,oUt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dims=["x","y"],e.cfgFields=["dims"],e.cacheScaleDefs={},e}return(0,QCt.ZT)(e,t),e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.getScale=function(t){var e=this.context.view;return"x"===t?e.getXScale():e.getYScales()[0]},e.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},e.prototype.reset=function(){this.resetDim("x"),this.resetDim("y"),this.context.view.render(!0)},e}(BDt),aUt=oUt,cUt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.starting=!1,e.startCache={},e}return(0,QCt.ZT)(e,t),e.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,tOt.S6)(e,(function(e){var n=t.getScale(e),r=n.min,i=n.max,o=n.values;t.startCache[e]={min:r,max:i,values:o}}))},e.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},e.prototype.translate=function(){var t=this;if(this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),r=this.context.getCurrentPoint(),i=n.invert(e),o=n.invert(r),a=o.x-i.x,c=o.y-i.y,l=this.context.view,u=this.dims;(0,tOt.S6)(u,(function(e){t.translateDim(e,{x:-1*a,y:-1*c})})),l.render(!0)}},e.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},e.prototype.translateLinear=function(t,e,n){var r=this.context.view,i=this.startCache[t],o=i.min,a=i.max,c=a-o,l=n[t]*c;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:o,max:a}),r.scale(e.field,{nice:!1,min:o+l,max:a+l})},e.prototype.reset=function(){t.prototype.reset.call(this),this.startPoint=null,this.starting=!1},e}(aUt),lUt=cUt,uUt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zoomRatio=.05,e}return(0,QCt.ZT)(e,t),e.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},e.prototype.zoom=function(t){var e=this,n=this.dims;(0,tOt.S6)(n,(function(n){e.zoomDim(n,t)})),this.context.view.render(!0)},e.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},e.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},e.prototype.zoomLinear=function(t,e,n){var r=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var i=this.cacheScaleDefs[t],o=i.max-i.min,a=e.min,c=e.max,l=n*o,u=a-l,s=c+l,f=(s-u)/o;s>u&&f<100&&f>.01&&r.scale(e.field,{nice:!1,min:a-l,max:c+l})},e}(aUt),sUt=uUt;var fUt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.scroll=function(t){var e=this.context,n=e.view,r=e.event;if(n.getOptions().scrollbar){var i=(null==t?void 0:t.wheelDelta)||1,o=n.getController("scrollbar"),a=n.getXScale(),c=n.getOptions().data,l=(0,tOt.dp)((0,tOt.I)(c,a.field)),u=(0,tOt.dp)(a.values),s=o.getValue(),f=Math.floor((l-u)*s)+(function(t){return t.gEvent.originalEvent.deltaY>0}(r)?i:-i),h=i/(l-u)/1e4,d=(0,tOt.uZ)(f/(l-u)+h,0,1);o.setValue(d)}},e}(BDt),hUt=fUt,dUt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.show=function(){var t=this.context,e=aTt(t).axis.cfg.title,n=e.description,r=e.text,i=e.descriptionTooltipStyle,o=t.event,a=o.x,c=o.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:r||"",customContent:function(){return'\n          <div class="'.concat(k_t,'" style={').concat(i,'}>\n            <div class="').concat(C_t,'">\n              字段说明：').concat(n,"\n            </div>\n          </div>\n        ")},x:a,y:c}),this.tooltip.show()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,e=this.context.view.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},r=new oDt({parent:e.get("el").parentNode,region:n,visible:!1,containerId:"aixs-description-tooltip",domStyles:(0,QCt.pi)({},(0,tOt.b$)({},(t={},t[k_t]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},t[C_t]={"word-break":"break-all","margin-bottom":"3px"},t)))});r.init(),r.setCapture(!1),this.tooltip=r},e}(BDt),pUt=dUt;function vUt(t){return t.isInPlot()}function gUt(t){return t.gEvent.preventDefault(),t.gEvent.originalEvent.deltaY>0}!function(t,e){rZt[(0,tOt.vl)(t)]=nZt(e)}("dark",HTt(YFt)),vOt("canvas",P),vOt("svg",D),MZt("Polygon",nLt),MZt("Interval",qRt),MZt("Schema",iLt),MZt("Path",_Rt),MZt("Point",tLt),MZt("Line",$Rt),MZt("Area",jRt),MZt("Edge",RRt),MZt("Heatmap",NRt),MZt("Violin",aLt),GZt("base",gFt),GZt("interval",yLt),GZt("pie",kLt),GZt("polar",wLt),XZt("overlap",(function(t,e,n,r){var i=new PLt;(0,tOt.S6)(e,(function(t){for(var e=t.find((function(t){return"text"===t.get("type")})),n=e.attr(),r=n.x,o=n.y,a=!1,c=0;c<=8;c++){var l=_Lt(e,r,o,c);if(i.hasGap(l)){i.fillGap(l),a=!0;break}}a||t.remove(!0)})),i.destroy()})),XZt("distribute",(function(t,e,n,r){if(t.length&&e.length){var i=t[0]?t[0].offset:0,o=e[0].get("coordinate"),a=o.getRadius(),c=o.getCenter();if(i>0){var l=2*(a+i)+28,u={start:o.start,end:o.end},s=[[],[]];t.forEach((function(t){t&&("right"===t.textAlign?s[0].push(t):s[1].push(t))})),s.forEach((function(t,n){var r=l/14;t.length>r&&(t.sort((function(t,e){return e["..percent"]-t["..percent"]})),t.splice(r,t.length-r)),t.sort((function(t,e){return t.y-e.y})),function(t,e,n,r,i,o){var a,c,l,u=!0,s=r.start,f=r.end,h=Math.min(s.y,f.y),d=Math.abs(s.y-f.y),p=0,v=Number.MIN_VALUE,g=e.map((function(t){return t.y>p&&(p=t.y),t.y<v&&(v=t.y),{size:n,targets:[t.y-h]}}));for(v-=h,p-h>d&&(d=p-h);u;)for(g.forEach((function(t){var e=(Math.min.apply(v,t.targets)+Math.max.apply(v,t.targets))/2;t.pos=Math.min(Math.max(v,e-t.size/2),d-t.size)})),u=!1,l=g.length;l--;)if(l>0){var m=g[l-1],y=g[l];m.pos+m.size>y.pos&&(m.size+=y.size,m.targets=m.targets.concat(y.targets),m.pos+m.size>d&&(m.pos=d-m.size),g.splice(l,1),u=!0)}l=0,g.forEach((function(t){var r=h+n/2;t.targets.forEach((function(){e[l].y=t.pos+r,r+=n,l++}))}));var b={};try{for(var x=(0,QCt.XA)(t),w=x.next();!w.done;w=x.next()){var S=w.value;b[S.get("id")]=S}}catch(k){a={error:k}}finally{try{w&&!w.done&&(c=x.return)&&c.call(x)}finally{if(a)throw a.error}}e.forEach((function(t){var e=t.r*t.r,n=Math.pow(Math.abs(t.y-i.y),2);if(e<n)t.x=i.x;else{var r=Math.sqrt(e-n);t.x=o?i.x+r:i.x-r}var a=b[t.id];a.attr("x",t.x),a.attr("y",t.y);var c=(0,tOt.sE)(a.getChildren(),(function(t){return"text"===t.get("type")}));c&&(c.attr("y",t.y),c.attr("x",t.x))}))}(e,t,14,u,c,n)}))}(0,tOt.S6)(t,(function(t){if(t&&t.labelLine){var e=t.offset,n=t.angle,r=lDt(c.x,c.y,a,n),i=lDt(c.x,c.y,a+e/2,n),o=t.x+(0,tOt.U2)(t,"offsetX",0),l=t.y+(0,tOt.U2)(t,"offsetY",0),u={x:o-4*Math.cos(n),y:l-4*Math.sin(n)};(0,tOt.Kn)(t.labelLine)||(t.labelLine={}),t.labelLine.path=["M ".concat(r.x),"".concat(r.y," Q").concat(i.x),"".concat(i.y," ").concat(u.x),u.y].join(",")}}))}})),XZt("fixed-overlap",(function(t,e,n,r){var i=new PLt;(0,tOt.S6)(e,(function(t){var e=t.find((function(t){return"text"===t.get("type")}));(function(t,e,n){void 0===n&&(n=ALt);var r,i=t.attr(),o=i.x,a=i.y,c=t.getCanvasBBox(),l=Math.sqrt(c.width*c.width+c.height*c.height),u=1,s=0,f=0,h=function(t){var e=.1*t;return[e*Math.cos(e),e*Math.sin(e)]};if(e.hasGap(c))return e.fillGap(c),!0;for(var d=!1,p=0,v={};Math.min(Math.abs(s),Math.abs(f))<l&&p<n;)if(s=~~(r=h(u+=-1))[0],f=~~r[1],(s||f)&&!v["".concat(s,"-").concat(f)]&&(t.attr({x:o+s,y:a+f}),s+f<0&&t.attr("textAlign","right"),p++,e.hasGap(t.getCanvasBBox()))){e.fillGap(t.getCanvasBBox()),d=!0,v["".concat(s,"-").concat(f)]=!0;break}return d})(e,i)||t.remove(!0)})),i.destroy()})),XZt("hide-overlap",(function(t,e,n,r){return(0,QCt.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,c;return(0,QCt.Jh)(this,(function(l){switch(l.label){case 0:return n=e.map((function(e,n){return(0,QCt.pi)((0,QCt.pi)({},uFt(e,t[n],(0,tOt.U2)(t[n],"background.padding"))),{visible:!0})})),r=JSON.stringify(n),i=function(t){return zLt.set(r,t),(0,tOt.S6)(t,(function(t,n){var r=t.visible,i=e[n];r?null==i||i.show():null==i||i.hide()})),t},zLt.get(r)?(i(zLt.get(r)),[3,7]):[3,1];case 1:if(!ULt)return[3,6];l.label=2;case 2:return l.trys.push([2,4,,5]),o=JSON.stringify({type:"hide-overlap",items:n}),[4,ULt.post(o,(function(){return i(BLt(n))}))];case 3:return a=l.sent(),i(Array.isArray(a.data)?a.data:[]),[3,5];case 4:return c=l.sent(),console.error(c),i(BLt(n)),[3,5];case 5:return[3,7];case 6:i(BLt(n)),l.label=7;case 7:return[2]}}))}))})),XZt("limit-in-shape",(function(t,e,n,r){(0,tOt.S6)(e,(function(t,e){var r=t.getCanvasBBox(),i=n[e].getBBox();(r.minX<i.minX||r.minY<i.minY||r.maxX>i.maxX||r.maxY>i.maxY)&&t.remove(!0)}))})),XZt("limit-in-canvas",(function(t,e,n,r){(0,tOt.S6)(e,(function(t){var e=r.minX,n=r.minY,i=r.maxX,o=r.maxY,a=t.getCanvasBBox(),c=a.minX,l=a.minY,u=a.maxX,s=a.maxY,f=a.x,h=a.y,d=a.width,p=a.height,v=f,g=h;(c<e||u<e)&&(v=e),(l<n||s<n)&&(g=n),c>i?v=i-d:u>i&&(v-=u-i),l>o?g=o-p:s>o&&(g-=s-o),v===f&&g===h||aFt(t,v-f,g-h)}))})),XZt("limit-in-plot",(function(t,e,n,r,i){if(!(e.length<=0)){var o=(null==i?void 0:i.direction)||["top","right","bottom","left"],a=(null==i?void 0:i.action)||"translate",c=(null==i?void 0:i.margin)||0,l=e[0].get("coordinate");if(l){var u=function(t,e){void 0===e&&(e=0);var n=t.start,r=t.end,i=t.getWidth(),o=t.getHeight(),a=Math.min(n.x,r.x),c=Math.min(n.y,r.y);return gDt.fromRange(a-e,c-e,a+i+e,c+o+e)}(l,c),s=u.minX,f=u.minY,h=u.maxX,d=u.maxY;(0,tOt.S6)(e,(function(t){var e=t.getCanvasBBox(),n=e.minX,r=e.minY,i=e.maxX,c=e.maxY,l=e.x,u=e.y,p=e.width,v=e.height,g=l,m=u;if(o.indexOf("left")>=0&&(n<s||i<s)&&(g=s),o.indexOf("top")>=0&&(r<f||c<f)&&(m=f),o.indexOf("right")>=0&&(n>h?g=h-p:i>h&&(g-=i-h)),o.indexOf("bottom")>=0&&(r>d?m=d-v:c>d&&(m-=c-d)),g!==l||m!==u){var y=g-l;if("translate"===a)aFt(t,y,m-u);else if("ellipsis"===a){var b=t.findAll((function(t){return"text"===t.get("type")}));b.forEach((function(t){var e=(0,tOt.ei)(t.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),n=t.getCanvasBBox(),r=function(t,e,n){var r,i=KLt("...",n);r=(0,tOt.HD)(t)?t:(0,tOt.BB)(t);var o,a,c=e,l=[];if(KLt(t,n)<=e)return t;for(;o=r.substr(0,16),!((a=KLt(o,n))+i>c&&a>c);)if(l.push(o),c-=a,!(r=r.substr(16)))return l.join("");for(;o=r.substr(0,1),!((a=KLt(o,n))+i>c);)if(l.push(o),c-=a,!(r=r.substr(1)))return l.join("");return"".concat(l.join(""),"...")}(t.attr("text"),n.width-Math.abs(y),e);t.attr("text",r)}))}else t.hide()}}))}}})),XZt("pie-outer",(function(t,e,n,r){var i,o,a=(0,tOt.hX)(t,(function(t){return!(0,tOt.UM)(t)})),c=e[0]&&e[0].get("coordinate");if(c){var l=c.getCenter(),u=c.getRadius(),s={};try{for(var f=(0,QCt.XA)(e),h=f.next();!h.done;h=f.next()){var d=h.value;s[d.get("id")]=d}}catch(k){i={error:k}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}var p=(0,tOt.U2)(a[0],"labelHeight",14),v=(0,tOt.U2)(a[0],"offset",0);if(!(v<=0)){var g="right",m=(0,tOt.vM)(a,(function(t){return t.x<l.x?"left":g})),y=c.start,b=c.end,x=Math.min(2*(u+v+p),c.getHeight()),w=x/2,S={minX:y.x,maxX:b.x,minY:l.y-w,maxY:l.y+w};(0,tOt.S6)(m,(function(t,e){var n=Math.floor(x/p);t.length>n&&(t.sort((function(t,e){return e.percent-t.percent})),(0,tOt.S6)(t,(function(t,e){e+1>n&&(s[t.id].set("visible",!1),t.invisible=!0)}))),CLt(t,p,S)})),(0,tOt.S6)(m,(function(t,e){(0,tOt.S6)(t,(function(t){var n=e===g,r=s[t.id].getChildByIndex(0);if(r){var i=u+v,o=t.y-l.y,a=Math.pow(i,2),f=Math.pow(o,2),h=a-f>0?a-f:0,d=Math.sqrt(h),p=Math.abs(Math.cos(t.angle)*i);t.x=n?l.x+Math.max(d,p):l.x-Math.max(d,p)}r&&(r.attr("y",t.y),r.attr("x",t.x)),function(t,e){var n=e.getCenter(),r=e.getRadius();if(t&&t.labelLine){var i=t.angle,o=t.offset,a=lDt(n.x,n.y,r,i),c=t.x+(0,tOt.U2)(t,"offsetX",0)*(Math.cos(i)>0?1:-1),l=t.y+(0,tOt.U2)(t,"offsetY",0)*(Math.sin(i)>0?1:-1),u={x:c-Math.cos(i)*OLt,y:l-Math.sin(i)*OLt},s=t.labelLine.smooth,f=[],h=u.x-n.x,d=u.y-n.y,p=Math.atan(d/h);if(h<0&&(p+=Math.PI),!1===s){(0,tOt.Kn)(t.labelLine)||(t.labelLine={});var v=0;(i<0&&i>-Math.PI/2||i>1.5*Math.PI)&&u.y>a.y&&(v=1),i>=0&&i<Math.PI/2&&u.y>a.y&&(v=1),i>=Math.PI/2&&i<Math.PI&&a.y>u.y&&(v=1),(i<-Math.PI/2||i>=Math.PI&&i<1.5*Math.PI)&&a.y>u.y&&(v=1);var g=o/2>4?4:Math.max(o/2-1,0),m=lDt(n.x,n.y,r+g,i),y=lDt(n.x,n.y,r+o/2,p);f.push("M ".concat(a.x," ").concat(a.y)),f.push("L ".concat(m.x," ").concat(m.y)),f.push("A ".concat(n.x," ").concat(n.y," 0 ").concat(0," ").concat(v," ").concat(y.x," ").concat(y.y)),f.push("L ".concat(u.x," ").concat(u.y))}else{m=lDt(n.x,n.y,r+(o/2>4?4:Math.max(o/2-1,0)),i);var b=a.x<n.x?1:-1;f.push("M ".concat(u.x," ").concat(u.y));var x=(a.y-n.y)/(a.x-n.x),w=(u.y-n.y)/(u.x-n.x);Math.abs(x-w)>Math.pow(Math.E,-16)&&f.push.apply(f,["C",u.x+4*b,u.y,2*m.x-a.x,2*m.y-a.y,a.x,a.y]),f.push("L ".concat(a.x," ").concat(a.y))}t.labelLine.path=f.join(" ")}}(t,c)}))}))}}})),XZt("adjust-color",(function(t,e,n){if(0!==n.length){var r=n[0].get("element").geometry.theme,i=r.labels||{},o=i.fillColorLight,a=i.fillColorDark;n.forEach((function(t,n){var i=e[n].find((function(t){return"text"===t.get("type")})),c=gDt.fromObject(t.getBBox()),l=gDt.fromObject(i.getCanvasBBox()),u=!c.contains(l),s=function(t){var e=tEt.toRGB(t).toUpperCase();if(WLt[e])return WLt[e];var n=(0,QCt.CR)(tEt.rgb2arr(e),3);return(299*n[0]+587*n[1]+114*n[2])/1e3<128}(t.attr("fill"));u?i.attr(r.overflowLabels.style):s?o&&i.attr("fill",o):a&&i.attr("fill",a)}))}})),XZt("interval-adjust-position",(function(t,e,n){var r;if(0!==n.length){var i=null===(r=n[0])||void 0===r?void 0:r.get("element"),o=null==i?void 0:i.geometry;if(o&&"interval"===o.type)VLt(o,e,n)&&n.forEach((function(t,n){var r=e[n];!function(t,e,n){var r=t.coordinate,i=gDt.fromObject(n.getBBox()),o=lFt(e);r.isTransposed?o.attr({x:i.minX+i.width/2,textAlign:"center"}):o.attr({y:i.minY+i.height/2,textBaseline:"middle"})}(o,r,t)}))}})),XZt("interval-hide-overlap",(function(t,e,n){var r;if(0!==n.length){var i=null===(r=n[0])||void 0===r?void 0:r.get("element"),o=null==i?void 0:i.geometry;if(o&&"interval"===o.type){var a,c=function(t){var e=[],n=Math.max(Math.floor(t.length/500),1);return(0,tOt.S6)(t,(function(t,r){r%n==0?e.push(t):t.set("visible",!1)})),e}(e),l=(0,QCt.CR)(o.getXYFields(),1)[0],u=[],s=[],f=(0,tOt.vM)(c,(function(t){return t.get("data")[l]})),h=(0,tOt.jj)((0,tOt.UI)(c,(function(t){return t.get("data")[l]})));c.forEach((function(t){t.set("visible",!0)}));var d=function(t){t&&(t.length&&s.push(t.pop()),s.push.apply(s,(0,QCt.ev)([],(0,QCt.CR)(t),!1)))};for((0,tOt.dp)(h)>0&&(a=h.shift(),d(f[a])),(0,tOt.dp)(h)>0&&(a=h.pop(),d(f[a])),(0,tOt.S6)(h.reverse(),(function(t){d(f[t])}));s.length>0;){var p=s.shift();p.get("visible")&&(sFt(p,u)?p.set("visible",!1):u.push(p))}}}})),XZt("point-adjust-position",(function(t,e,n,r,i){var o,a;if(0!==n.length){var c=null===(o=n[0])||void 0===o?void 0:o.get("element"),l=null==c?void 0:c.geometry;if(l&&"point"===l.type){var u=(0,QCt.CR)(l.getXYFields(),2),s=u[0],f=u[1],h=(0,tOt.vM)(e,(function(t){return t.get("data")[s]})),d=[],p=i&&i.offset||(null===(a=t[0])||void 0===a?void 0:a.offset)||12;(0,tOt.UI)((0,tOt.XP)(h).reverse(),(function(t){for(var e=function(t,e){var n=t.getXYFields()[1],r=[],i=e.sort((function(t,e){return t.get("data")[n]-t.get("data")[n]}));return i.length>0&&r.push(i.shift()),i.length>0&&r.push(i.pop()),r.push.apply(r,(0,QCt.ev)([],(0,QCt.CR)(i),!1)),r}(l,h[t]);e.length;){var n=e.shift(),r=lFt(n);if(GLt(d,n,(function(t,e){return t.get("data")[s]===e.get("data")[s]&&t.get("data")[f]===e.get("data")[f]})))r.set("visible",!1);else{var i=!1;XLt(d,n)&&(r.attr("y",r.attr("y")+2*p),i=XLt(d,n)),i?r.set("visible",!1):d.push(n)}}}))}}})),XZt("pie-spider",(function(t,e,n,r){var i,o,a=e[0]&&e[0].get("coordinate");if(a){var c=a.getCenter(),l=a.getRadius(),u={};try{for(var s=(0,QCt.XA)(e),f=s.next();!f.done;f=s.next()){var h=f.value;u[h.get("id")]=h}}catch(k){i={error:k}}finally{try{f&&!f.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}var d=(0,tOt.U2)(t[0],"labelHeight",14),p=Math.max((0,tOt.U2)(t[0],"offset",0),ELt);(0,tOt.S6)(t,(function(t){if(t&&(0,tOt.U2)(u,[t.id])){var e=t.x>c.x||t.x===c.x&&t.y>c.y,n=(0,tOt.UM)(t.offsetX)?4:t.offsetX,r=lDt(c.x,c.y,l+ELt,t.angle),i=p+n;t.x=c.x+(e?1:-1)*(l+i),t.y=r.y}}));var v=a.start,g=a.end,m="right",y=(0,tOt.vM)(t,(function(t){return t.x<c.x?"left":m})),b=2*(l+p)+d;(0,tOt.S6)(y,(function(t){var e=t.length*d;e>b&&(b=Math.min(e,Math.abs(v.y-g.y)))}));var x={minX:v.x,maxX:g.x,minY:c.y-b/2,maxY:c.y+b/2};(0,tOt.S6)(y,(function(t,e){var n=b/d;t.length>n&&(t.sort((function(t,e){return e.percent-t.percent})),(0,tOt.S6)(t,(function(t,e){e>n&&(u[t.id].set("visible",!1),t.invisible=!0)}))),CLt(t,d,x)}));var w=x.minY,S=x.maxY;(0,tOt.S6)(y,(function(t,e){var n=e===m;(0,tOt.S6)(t,(function(t){var e=(0,tOt.U2)(u,t&&[t.id]);if(e)if(t.y<w||t.y>S)e.set("visible",!1);else{var r=e.getChildByIndex(0),i=r.getCanvasBBox(),o=n?i.x:i.maxX,c=i.y+i.height/2;aFt(r,t.x-o,t.y-c),t.labelLine&&function(t,e,n){var r,i=e.getCenter(),o=e.getRadius(),a={x:t.x-(n?MLt:-MLt),y:t.y},c=lDt(i.x,i.y,o+ELt,t.angle),l={x:a.x,y:a.y},u={x:c.x,y:c.y},s=lDt(i.x,i.y,o,t.angle);if(a.y!==c.y){var f=n?4:-4;l.y=a.y,t.angle<0&&t.angle>=-Math.PI/2&&(l.x=Math.max(c.x,a.x-f),a.y<c.y?u.y=l.y:(u.y=c.y,u.x=Math.max(u.x,l.x-f))),t.angle>0&&t.angle<Math.PI/2&&(l.x=Math.max(c.x,a.x-f),a.y>c.y?u.y=l.y:(u.y=c.y,u.x=Math.max(u.x,l.x-f))),t.angle>Math.PI/2&&(l.x=Math.min(c.x,a.x-f),a.y>c.y?u.y=l.y:(u.y=c.y,u.x=Math.min(u.x,l.x-f))),t.angle<-Math.PI/2&&(l.x=Math.min(c.x,a.x-f),a.y<c.y?u.y=l.y:(u.y=c.y,u.x=Math.min(u.x,l.x-f)))}r=["M ".concat(a.x,",").concat(a.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(u.x,",").concat(u.y),"L ".concat(c.x,",").concat(c.y),"L ".concat(s.x,",").concat(s.y)].join(" "),t.labelLine=(0,tOt.b$)({},t.labelLine,{path:r})}(t,a,n)}}))}))}})),XZt("path-adjust-position",(function(t,e,n,r,i){var o,a;if(0!==n.length){var c=null===(o=n[0])||void 0===o?void 0:o.get("element"),l=null==c?void 0:c.geometry;if(l&&!(["path","line","area"].indexOf(l.type)<0)){var u=(0,QCt.CR)(l.getXYFields(),2),s=u[0],f=u[1],h=(0,tOt.vM)(e,(function(t){return t.get("data")[s]})),d=[],p=i&&i.offset||(null===(a=t[0])||void 0===a?void 0:a.offset)||12;(0,tOt.UI)((0,tOt.XP)(h).reverse(),(function(t){for(var e=function(t,e){var n=t.getXYFields()[1],r=[],i=e.sort((function(t,e){return t.get("data")[n]-t.get("data")[n]}));return i.length>0&&r.push(i.shift()),i.length>0&&r.push(i.pop()),r.push.apply(r,(0,QCt.ev)([],(0,QCt.CR)(i),!1)),r}(l,h[t]);e.length;){var n=e.shift(),r=lFt(n);if(qLt(d,n,(function(t,e){return t.get("data")[s]===e.get("data")[s]&&t.get("data")[f]===e.get("data")[f]})))r.set("visible",!1);else{var i=!1;YLt(d,n)&&(r.attr("y",r.attr("y")+2*p),i=YLt(d,n)),i?r.set("visible",!1):d.push(n)}}}))}}})),jZt("fade-in",(function(t,e,n){var r={fillOpacity:(0,tOt.UM)(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),strokeOpacity:(0,tOt.UM)(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity"),opacity:(0,tOt.UM)(t.attr("opacity"))?1:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),t.animate(r,e)})),jZt("fade-out",(function(t,e,n){var r=e.easing,i=e.duration,o=e.delay;t.animate({fillOpacity:0,strokeOpacity:0,opacity:0},i,r,(function(){t.remove(!0)}),o)})),jZt("grow-in-x",(function(t,e,n){JLt(t,e,n.coordinate,n.minYPoint,"x")})),jZt("grow-in-xy",(function(t,e,n){JLt(t,e,n.coordinate,n.minYPoint,"xy")})),jZt("grow-in-y",(function(t,e,n){JLt(t,e,n.coordinate,n.minYPoint,"y")})),jZt("scale-in-x",(function(t,e,n){var r=t.getBBox(),i=t.get("origin").mappingData.points,o=i[0].y-i[1].y>0?r.maxX:r.minX,a=(r.minY+r.maxY)/2;t.applyToMatrix([o,a,1]);var c=rAt.vs(t.getMatrix(),[["t",-o,-a],["s",.01,1],["t",o,a]]);t.setMatrix(c),t.animate({matrix:rAt.vs(t.getMatrix(),[["t",-o,-a],["s",100,1],["t",o,a]])},e)})),jZt("scale-in-y",(function(t,e,n){var r=t.getBBox(),i=t.get("origin").mappingData,o=(r.minX+r.maxX)/2,a=i.points,c=a[0].y-a[1].y<=0?r.maxY:r.minY;t.applyToMatrix([o,c,1]);var l=rAt.vs(t.getMatrix(),[["t",-o,-c],["s",1,.01],["t",o,c]]);t.setMatrix(l),t.animate({matrix:rAt.vs(t.getMatrix(),[["t",-o,-c],["s",1,100],["t",o,c]])},e)})),jZt("wave-in",(function(t,e,n){var r=xDt(n.coordinate,20),i=r.type,o=r.startState,a=r.endState,c=t.setClip({type:i,attrs:o});n.toAttrs&&t.attr(n.toAttrs),c.animate(a,(0,QCt.pi)((0,QCt.pi)({},e),{callback:function(){t&&!t.get("destroyed")&&t.set("clipShape",null),c.remove(!0),(0,tOt.mf)(e.callback)&&e.callback()}}))})),jZt("zoom-in",(function(t,e,n){nNt(t,e,"zoomIn")})),jZt("zoom-out",(function(t,e,n){nNt(t,e,"zoomOut")})),jZt("position-update",(function(t,e,n){var r=n.toAttrs,i=r.x,o=r.y;delete r.x,delete r.y,t.attr(r),t.animate({x:i,y:o},e)})),jZt("sector-path-update",(function(t,e,n){var r=n.toAttrs,i=n.coordinate,o=r.path||[],a=o.map((function(t){return t[0]}));if(!(o.length<1)){var c=eNt(o),l=c.startAngle,u=c.endAngle,s=c.radius,f=c.innerRadius,h=eNt(t.attr("path")),d=h.startAngle,p=h.endAngle,v=i.getCenter(),g=l-d,m=u-p;0!==g||0!==m?t.animate((function(t){var e=d+t*g,n=p+t*m;return(0,QCt.pi)((0,QCt.pi)({},r),{path:(0,tOt.Xy)(a,["M","A","A","Z"])?sDt(v.x,v.y,s,e,n):uDt(v.x,v.y,s,e,n,f)})}),(0,QCt.pi)((0,QCt.pi)({},e),{callback:function(){t.attr("path",o),(0,tOt.mf)(e.callback)&&e.callback()}})):t.attr("path",o)}})),jZt("path-in",(function(t,e,n){var r=t.getTotalLength();t.attr("lineDash",[r]),t.animate((function(t){return{lineDashOffset:(1-t)*r}}),e)})),LDt("rect",pNt),LDt("mirror",hNt),LDt("list",lNt),LDt("matrix",sNt),LDt("circle",aNt),LDt("tree",gNt),gZt("axis",PNt),gZt("legend",FNt),gZt("tooltip",TZt),gZt("annotation",wNt),gZt("slider",INt),gZt("scrollbar",LNt),VDt("tooltip",WNt),VDt("sibling-tooltip",GNt),VDt("ellipsis-text",qNt),VDt("element-active",eBt),VDt("element-single-active",fBt),VDt("element-range-active",cBt),VDt("element-highlight",xBt),VDt("element-highlight-by-x",CBt),VDt("element-highlight-by-color",SBt),VDt("element-single-highlight",ABt),VDt("element-range-highlight",EBt),VDt("element-sibling-highlight",EBt,{effectSiblings:!0,effectByRecord:!0}),VDt("element-selected",TBt),VDt("element-single-selected",FBt),VDt("element-range-selected",_Bt),VDt("element-link-by-color",rBt),VDt("active-region",UNt),VDt("list-active",LBt),VDt("list-selected",GBt),VDt("list-highlight",WBt),VDt("list-unchecked",qBt),VDt("list-checked",JBt),VDt("list-focus",ezt),VDt("list-radio",ozt),VDt("legend-item-highlight",WBt,{componentNames:["legend"]}),VDt("axis-label-highlight",WBt,{componentNames:["axis"]}),VDt("axis-description",pUt),VDt("rect-mask",pzt),VDt("x-rect-mask",yzt,{dim:"x"}),VDt("y-rect-mask",yzt,{dim:"y"}),VDt("circle-mask",szt),VDt("path-mask",Szt),VDt("smooth-path-mask",Mzt),VDt("rect-multi-mask",Dzt),VDt("x-rect-multi-mask",Zzt,{dim:"x"}),VDt("y-rect-multi-mask",Zzt,{dim:"y"}),VDt("circle-multi-mask",jzt),VDt("path-multi-mask",Rzt),VDt("smooth-path-multi-mask",Nzt),VDt("cursor",zzt),VDt("data-filter",Hzt),VDt("brush",Gzt),VDt("brush-x",Gzt,{dims:["x"]}),VDt("brush-y",Gzt,{dims:["y"]}),VDt("sibling-filter",qzt),VDt("sibling-x-filter",qzt,{dims:"x"}),VDt("sibling-y-filter",qzt,{dims:"y"}),VDt("element-filter",$zt),VDt("element-sibling-filter",Jzt),VDt("element-sibling-filter-record",Jzt,{byRecord:!0}),VDt("view-drag",nUt),VDt("view-move",iUt),VDt("scale-translate",lUt),VDt("scale-zoom",sUt),VDt("reset-button",tUt,{name:"reset-button",text:"reset"}),VDt("mousewheel-scroll",hUt),zTt("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),zTt("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),zTt("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),zTt("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),zTt("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),zTt("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),zTt("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),zTt("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),zTt("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),zTt("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),zTt("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),zTt("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),zTt("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:vUt,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:vUt,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:vUt,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),zTt("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),zTt("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:vUt,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:vUt,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:vUt,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),zTt("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:vUt,action:"path-mask:start"},{trigger:"mousedown",isEnable:vUt,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),zTt("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:vUt,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(t){return!fTt(t)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]}),zTt("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),zTt("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(t){return!t.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),zTt("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),zTt("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),zTt("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]}),zTt("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),zTt("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]}),zTt("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(t){return gUt(t.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(t){return!gUt(t.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),zTt("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),zTt("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});var mUt,yUt=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"];!function(t){t.ERROR="error",t.WARN="warn",t.INFO="log"}(mUt||(mUt={}));var bUt="AntV/G2Plot";function xUt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=0;return"".concat(bUt,": ").concat(t.replace(/%s/g,(function(){return"".concat(e[r++])})))}function wUt(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e||console[t](xUt.apply(void 0,(0,QCt.ev)([n],r,!1)))}function SUt(t,e){var n={};return null!==t&&"object"==typeof t&&e.forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}function kUt(t,e){if(!t)return{};var n=t.filter((function(t){var n=(0,tOt.U2)(t,[e]);return(0,tOt.hj)(n)&&!isNaN(n)})),r=n.every((function(t){return(0,tOt.U2)(t,[e])>=0})),i=n.every((function(t){return(0,tOt.U2)(t,[e])<=0}));return r?{min:0}:i?{max:0}:{}}function CUt(t,e,n,r,i){if(void 0===i&&(i=[]),!Array.isArray(t))return{nodes:[],links:[]};var o=[],a={},c=-1;return t.forEach((function(t){var l=t[e],u=t[n],s=t[r],f=SUt(t,i);a[l]||(a[l]=(0,QCt.pi)({id:++c,name:l},f)),a[u]||(a[u]=(0,QCt.pi)({id:++c,name:u},f)),o.push((0,QCt.pi)({source:a[l].id,target:a[u].id,value:s},f))})),{nodes:Object.values(a).sort((function(t,e){return t.id-e.id})),links:o}}function OUt(t,e){var n=(0,tOt.hX)(t,(function(t){var n=t[e];return null===n||"number"==typeof n&&!isNaN(n)}));return wUt(mUt.WARN,n.length===t.length,"illegal data existed in chart data."),n}var EUt,MUt={}.toString,AUt=function(t,e){return MUt.call(t)==="[object "+e+"]"},PUt=function(t){return AUt(t,"Array")},_Ut=function(t){if(!function(t){return"object"==typeof t&&null!==t}(t)||!AUt(t,"Object"))return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},DUt=function t(e,n,r,i){for(var o in r=r||0,i=i||5,n)if(Object.prototype.hasOwnProperty.call(n,o)){var a=n[o];a?_Ut(a)?(_Ut(e[o])||(e[o]={}),r<i?t(e[o],a,r+1,i):e[o]=n[o]):PUt(a)?(e[o]=[],e[o]=e[o].concat(a)):e[o]=a:e[o]=a}},TUt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)DUt(t,e[r]);return t};function ZUt(t){if(!t)return{width:0,height:0};var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function FUt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}}function jUt(t,e){return t.geometries.find((function(t){return t.type===e}))}function IUt(t){return(0,tOt.u4)(t.geometries,(function(t,e){return t.concat(e.elements)}),[])}function RUt(t){return(0,tOt.U2)(t,["views","length"],0)<=0?IUt(t):(0,tOt.u4)(t.views,(function(t,e){return t.concat(RUt(e))}),IUt(t))}function LUt(t){if(!(0,tOt.P9)(t,"Object"))return t;var e=(0,QCt.pi)({},t);return e.formatter&&!e.content&&(e.content=e.formatter),e}(0,tOt.HP)((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=void 0===r?"sans-serif":r,o=e.fontWeight,a=e.fontStyle,c=e.fontVariant,l=(EUt||(EUt=document.createElement("canvas").getContext("2d")),EUt);return l.font=[a,o,c,"".concat(n,"px"),i].join(" "),l.measureText((0,tOt.HD)(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),(0,QCt.ev)([t],(0,tOt.VO)(e),!0).join("")}));function NUt(t){return"number"==typeof t&&!isNaN(t)}function BUt(t){if((0,tOt.hj)(t))return[t,t,t,t];if((0,tOt.kJ)(t)){var e=t.length;if(1===e)return[t[0],t[0],t[0],t[0]];if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];if(4===e)return t}return[0,0,0,0]}function zUt(t,e,n){void 0===e&&(e="bottom"),void 0===n&&(n=25);var r=BUt(t),i=[e.startsWith("top")?n:0,e.startsWith("right")?n:0,e.startsWith("bottom")?n:0,e.startsWith("left")?n:0];return[r[0]+i[0],r[1]+i[1],r[2]+i[2],r[3]+i[3]]}function UUt(t){var e=t.map((function(t){return BUt(t)})),n=[0,0,0,0];return e.length>0&&(n=n.map((function(t,n){return e.forEach((function(r,i){t+=e[i][n]})),t}))),n}var HUt=function(t,e,n,r){var i,o,a,c,l=[],u=!!r;if(u){a=[1/0,1/0],c=[-1/0,-1/0];for(var s=0,f=t.length;s<f;s++){var h=t[s];a=lAt.VV([0,0],a,h),c=lAt.Fp([0,0],c,h)}a=lAt.VV([0,0],a,r[0]),c=lAt.Fp([0,0],c,r[1])}s=0;for(var d=t.length;s<d;s++){h=t[s];if(n)i=t[s?s-1:d-1],o=t[(s+1)%d];else{if(0===s||s===d-1){l.push(h);continue}i=t[s-1],o=t[s+1]}var p=[0,0];p=lAt.lu(p,o,i),p=lAt.bA(p,p,e);var v=lAt.TE(h,i),g=lAt.TE(h,o),m=v+g;0!==m&&(v/=m,g/=m);var y=lAt.bA([0,0],p,-v),b=lAt.bA([0,0],p,g),x=lAt.IH([0,0],h,y),w=lAt.IH([0,0],h,b);u&&(x=lAt.Fp([0,0],x,a),x=lAt.VV([0,0],x,c),w=lAt.Fp([0,0],w,a),w=lAt.VV([0,0],w,c)),l.push(x),l.push(w)}return n&&l.push(l.shift()),l};function WUt(t,e,n){var r=[],i=t[0],o=null;if(t.length<=2)return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var r=1,i=t.length;r<i;r+=1){var o=t[r];n.push(["L",o.x,o.y])}e&&n.push(["Z"])}return n}(t,e);for(var a=0,c=t.length;a<c;a++){var l=t[a];o&&o.x===l.x&&o.y===l.y||(r.push(l.x),r.push(l.y),o=l)}var u=function(t,e,n){for(var r=!!e,i=[],o=0,a=t.length;o<a;o+=2)i.push([t[o],t[o+1]]);var c,l,u,s=HUt(i,.4,r,n),f=i.length,h=[];for(o=0;o<f-1;o++)c=s[2*o],l=s[2*o+1],u=i[o+1],h.push(["C",c[0],c[1],l[0],l[1],u[0],u[1]]);return r&&(c=s[f],l=s[f+1],u=i[0],h.push(["C",c[0],c[1],l[0],l[1],u[0],u[1]])),h}(r,e,n||[[0,0],[1,1]]);return u.unshift(["M",i.x,i.y]),u}function VUt(t){return t?t.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g).map((function(t){return t.toLowerCase()})).join("-"):t}function GUt(t){var e={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},n=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];(0,tOt.U2)(t,"fill")&&(e.color=t.fill);var r=SUt(t,n),i=r.shadowColor,o=r.shadowBlur,a=void 0===o?0:o,c=r.shadowOffsetX,l=void 0===c?0:c,u=r.shadowOffsetY,s=void 0===u?0:u;e["text-shadow"]="".concat([i,"".concat(l,"px"),"".concat(s,"px"),"".concat(a,"px")].join(" "));var f=SUt(t,n),h=f.stroke,d=f.lineWidth,p=void 0===d?0:d;return e["-webkit-text-stroke"]="".concat(["".concat(p,"px"),h].join(" ")),(0,tOt.S6)(t,(function(t,r){["fontSize"].includes(r)&&(0,tOt.hj)(t)?e[VUt(r)]="".concat(t,"px"):r&&!n.includes(r)&&(e[VUt(r)]="".concat(t))})),e}function XUt(t,e){t.style["pointer-events"]="none",(0,tOt.S6)(e,(function(e,n){n&&e&&(t.style[n]=e)}))}var qUt=function(t,e,n){var r=e.statistic,i=e.plotType,o=r.title,a=r.content;[o,a].forEach((function(e,r){if(e){var c="";c=0===r?a?"translate(-50%, -100%)":"translate(-50%, -50%)":o?"translate(-50%, 0)":"translate(-50%, -50%)";var l=(0,tOt.mf)(e.style)?e.style(n):e.style;t.annotation().html((0,QCt.pi)({position:["50%","50%"],html:function(t,r){var o=r.getCoordinate(),a=0;if("pie"===i||"ring-progress"===i)a=o.getRadius()*o.innerRadius*2;else if("liquid"===i){var u=(0,tOt.U2)(r.geometries,[0,"elements",0,"shape"]);if(u){var s=u.find((function(t){return"wrap"===t.get("name")}));a=s.getCanvasBBox().width}}else a||(a=o.getWidth());XUt(t,(0,QCt.pi)({width:"".concat(a,"px"),transform:c},GUt(l)));var f=r.getData();if(e.customHtml)return e.customHtml(t,r,n,f);var h=e.content;return e.formatter&&(h=e.formatter(n,f)),h?(0,tOt.HD)(h)?h:"".concat(h):"<div></div>"},key:"".concat(0===r?"top":"bottom","-statistic")},SUt(e,["offsetX","offsetY","rotate","style","formatter"])))}}))},YUt=function(t,e,n){var r=e.statistic;[r.title,r.content].forEach((function(e){if(e){var r=(0,tOt.mf)(e.style)?e.style(n):e.style;t.annotation().html((0,QCt.pi)({position:["50%","100%"],html:function(t,i){var o=i.getCoordinate(),a=i.views[0].getCoordinate(),c=a.getCenter(),l=a.getRadius(),u=Math.max(Math.sin(a.startAngle),Math.sin(a.endAngle))*l,s=c.y+u-o.y.start-parseFloat((0,tOt.U2)(r,"fontSize",0)),f=o.getRadius()*o.innerRadius*2;XUt(t,(0,QCt.pi)({width:"".concat(f,"px"),transform:"translate(-50%, ".concat(s,"px)")},GUt(r)));var h=i.getData();if(e.customHtml)return e.customHtml(t,i,n,h);var d=e.content;return e.formatter&&(d=e.formatter(n,h)),d?(0,tOt.HD)(d)?d:"".concat(d):"<div></div>"}},SUt(e,["offsetX","offsetY","rotate","style","formatter"])))}}))};function $Ut(t,e){return e?(0,tOt.u4)(e,(function(t,e,n){return t.replace(new RegExp("{\\s*".concat(n,"\\s*}"),"g"),e)}),t):t}function KUt(t,e){return t.views.find((function(t){return t.id===e}))}function JUt(t){var e=t.parent;return e?e.views:[]}function QUt(t){return JUt(t).filter((function(e){return e!==t}))}function tHt(t,e,n){void 0===n&&(n=t.geometries),"boolean"==typeof e?t.animate(e):t.animate(!0),(0,tOt.S6)(n,(function(t){var n;n=(0,tOt.mf)(e)?e(t.type||t.shapeType,t)||!0:e,t.animate(n)}))}function eHt(){return"object"==typeof window?null===window||void 0===window?void 0:window.devicePixelRatio:2}function nHt(t,e){void 0===e&&(e=t);var n=document.createElement("canvas"),r=eHt();return n.width=t*r,n.height=e*r,n.style.width="".concat(t,"px"),n.style.height="".concat(e,"px"),n.getContext("2d").scale(r,r),n}function rHt(t,e,n,r){void 0===r&&(r=n);var i=e.backgroundColor,o=e.opacity;t.globalAlpha=o,t.fillStyle=i,t.beginPath(),t.fillRect(0,0,n,r),t.closePath()}function iHt(t,e,n){var r=t+e;return n?2*r:r}function oHt(t,e){return e?[[t*(1/4),t*(1/4)],[t*(3/4),t*(3/4)]]:[[.5*t,.5*t]]}function aHt(t,e){var n=e*Math.PI/180;return{a:Math.cos(n)*(1/t),b:Math.sin(n)*(1/t),c:-Math.sin(n)*(1/t),d:Math.cos(n)*(1/t),e:0,f:0}}var cHt={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function lHt(t,e,n,r){var i=e.size,o=e.fill,a=e.lineWidth,c=e.stroke,l=e.fillOpacity;t.beginPath(),t.globalAlpha=l,t.fillStyle=o,t.strokeStyle=c,t.lineWidth=a,t.arc(n,r,i/2,0,2*Math.PI,!1),t.fill(),a&&t.stroke(),t.closePath()}var uHt={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function sHt(t){var e=TUt({},uHt,t),n=e.spacing,r=e.rotation,i=e.lineWidth,o=n+i||1,a=n+i||1,c="\n            M 0 0 L ".concat(o," 0\n            M 0 ").concat(a," L ").concat(o," ").concat(a,"\n            "),l=nHt(o,a),u=l.getContext("2d");rHt(u,e,o,a),function(t,e,n){var r=e.stroke,i=e.lineWidth,o=e.strokeOpacity,a=new Path2D(n);t.globalAlpha=o,t.lineCap="square",t.strokeStyle=i?r:"transparent",t.lineWidth=i,t.stroke(a)}(u,e,c);var s=u.createPattern(l,"repeat");if(s){var f=aHt(eHt(),r);s.setTransform(f)}return s}var fHt={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function hHt(t,e,n,r){var i=e.stroke,o=e.size,a=e.fill,c=e.lineWidth,l=e.fillOpacity;t.globalAlpha=l,t.strokeStyle=i,t.lineWidth=c,t.fillStyle=a,t.strokeRect(n-o/2,r-o/2,o,o),t.fillRect(n-o/2,r-o/2,o,o)}function dHt(t){var e,n=t.type,r=t.cfg;switch(n){case"dot":e=function(t){var e=TUt({},cHt,t),n=e.size,r=e.padding,i=e.isStagger,o=e.rotation,a=iHt(n,r,i),c=oHt(a,i),l=nHt(a,a),u=l.getContext("2d");rHt(u,e,a);for(var s=0,f=c;s<f.length;s++){var h=f[s];lHt(u,e,h[0],h[1])}var d=u.createPattern(l,"repeat");if(d){var p=aHt(eHt(),o);d.setTransform(p)}return d}(r);break;case"line":e=sHt(r);break;case"square":e=function(t){var e=TUt({},fHt,t),n=e.size,r=e.padding,i=e.isStagger,o=e.rotation,a=iHt(n,r,i),c=oHt(a,i),l=nHt(a,a),u=l.getContext("2d");rHt(u,e,a);for(var s=0,f=c;s<f.length;s++){var h=f[s];hHt(u,e,h[0],h[1])}var d=u.createPattern(l,"repeat");if(d){var p=aHt(eHt(),o);d.setTransform(p)}return d}(r)}return e}function pHt(t){var e=this;return function(n){var r,i=n.options,o=n.chart,a=i.pattern;if(!a)return n;return TUt({},n,{options:(r={},r[t]=function(n){for(var r,c,l,u=[],s=1;s<arguments.length;s++)u[s-1]=arguments[s];var f=o.getTheme().defaultColor,h=f,d=null===(c=null===(r=o.geometries)||void 0===r?void 0:r[0])||void 0===c?void 0:c.getAttribute("color");if(d){var p=d.getFields()[0],v=(0,tOt.U2)(n,p);h=IFt.getMappingValue(d,v,(null===(l=d.values)||void 0===l?void 0:l[0])||f)}var g=a;"function"==typeof a&&(g=a.call(e,n,h)),g instanceof CanvasPattern==!1&&(g=dHt(TUt({},{cfg:{backgroundColor:h}},g)));var m=i[t];return(0,QCt.pi)((0,QCt.pi)({},"function"==typeof m?m.call.apply(m,(0,QCt.ev)([e,n],u,!1)):m||{}),{fill:g||h})},r)})}}function vHt(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.seriesField;return!1===r?e.legend(!1):(i||o)&&e.legend(i||o,r),t}function gHt(t){var e=t.chart,n=t.options.tooltip;return void 0!==n&&e.tooltip(n),t}function mHt(t){var e=t.chart,n=t.options.interactions;return(0,tOt.S6)(n,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg||{})})),t}function yHt(t){return tHt(t.chart,t.options.animation),t}function bHt(t){var e=t.chart,n=t.options.theme;return n&&e.theme(n),t}function xHt(t){var e=t.chart,n=t.options.state;return n&&(0,tOt.S6)(e.geometries,(function(t){t.state(n)})),t}function wHt(t){var e=t.chart,n=t.options.slider;return e.option("slider",n),t}function SHt(t){var e=t.chart,n=t.options.scrollbar;return e.option("scrollbar",n),t}function kHt(t,e){return function(n){var r=n.chart,i=n.options,o={};return(0,tOt.S6)(t,(function(t,e){o[e]=SUt(t,yUt)})),o=TUt({},e,i.meta,o),r.scale(o),n}}function CHt(t){return function(e){var n=e.chart,r=e.options,i=n.getController("annotation");return(0,tOt.S6)((0,QCt.ev)((0,QCt.ev)([],r.annotations||[],!0),t||[],!0),(function(t){i.annotation(t)})),e}}function OHt(t){var e=t.chart,n=t.options,r=n.yAxis,i=n.limitInPlot,o=i;return(0,tOt.Kn)(r)&&(0,tOt.UM)(i)&&(o=!!Object.values(SUt(r,["min","max","minLimit","maxLimit"])).some((function(t){return!(0,tOt.UM)(t)}))),e.limitInPlot=o,t}function EHt(t){return void 0===t&&(t="rect"),function(e){var n=e.chart,r=e.options.coordinate,i=Array.from(r||[]).map((function(t){return"reflectX"===t.type?["reflect","x"]:"reflectY"===t.type?["reflect","y"]:"transpose"===t.type?["transpose"]:null})).filter((function(t){return!!t}));return 0!==i.length&&n.coordinate({type:t,actions:i}),e}}var MHt={locale:"en-US"};var AHt={};function PHt(t,e){AHt[t]=e}function _Ht(t){return{get:function(e,n){return $Ut((0,tOt.U2)(AHt[t],e)||(0,tOt.U2)(AHt[MHt.locale],e)||(0,tOt.U2)(AHt["en-US"],e)||e,n)}}}function DHt(t,e){if(!1===t)return{fields:!1};var n=(0,tOt.U2)(t,"fields"),r=(0,tOt.U2)(t,"formatter");return r&&!n&&(n=e),{fields:n,formatter:r}}function THt(t,e){var n=t.type,r=t.xField,i=t.yField,o=t.colorField,a=t.shapeField,c=t.sizeField,l=t.styleField,u=t.rawFields,s=[];if(u=((0,tOt.mf)(u)?u(n,e):u)||[],"color"===e)s=(0,QCt.ev)([o||r],u,!0);else if("shape"===e)s=(0,QCt.ev)([a||r],u,!0);else if("size"===e)s=(0,QCt.ev)([c||r],u,!0);else{s=(0,QCt.ev)([r,i,o,a,c,l],u,!0);var f=["x","y","color","shape","size","style"].indexOf(e),h=s[f];s.splice(f,1),s.unshift(h)}var d=(0,tOt.jj)(s.filter((function(t){return!!t}))),p="line"===n&&[r,i].includes(d.join("*"))?"":d.join("*");return{mappingFields:d,tileMappingField:p}}function ZHt(t,e){if(e)return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i={};return t.forEach((function(t,e){i[t]=n[e]})),delete i[void 0],e(i)}}function FHt(t){var e=t.chart,n=t.options,r=n.type,i=n.args,o=n.mapping,a=n.xField,c=n.yField,l=n.colorField,u=n.shapeField,s=n.sizeField,f=n.tooltipFields,h=n.label,d=n.state,p=n.customInfo;if(!o)return t;var v=o.color,g=o.shape,m=o.size,y=o.style,b=o.tooltip,x=e[r](i).position("".concat(a,"*").concat(c));if((0,tOt.HD)(v))l?x.color(l,v):x.color(v);else if((0,tOt.mf)(v)){var w=THt(n,"color"),S=w.mappingFields,k=w.tileMappingField;x.color(k,ZHt(S,v))}else l&&x.color(l,v);if((0,tOt.HD)(g))u?x.shape(u,[g]):x.shape(g);else if((0,tOt.mf)(g)){var C=THt(n,"shape");S=C.mappingFields,k=C.tileMappingField;x.shape(k,ZHt(S,g))}else u&&x.shape(u,g);if((0,tOt.hj)(m))s?x.size(s,m):x.size(m);else if((0,tOt.mf)(m)){var O=THt(n,"size");S=O.mappingFields,k=O.tileMappingField;x.size(k,ZHt(S,m))}else s&&x.size(s,m);if((0,tOt.mf)(y)){var E=THt(n,"style");S=E.mappingFields,k=E.tileMappingField;x.style(k,ZHt(S,y))}else(0,tOt.Kn)(y)&&x.style(y);if(!1===f?x.tooltip(!1):(0,tOt.xb)(f)||x.tooltip(f.join("*"),ZHt(f,b)),!1===h)x.label(!1);else if(h){var M=h.callback,A=h.fields,P=(0,QCt._T)(h,["callback","fields"]);x.label({fields:A||[c],callback:M,cfg:LUt(P)})}return d&&x.state(d),p&&x.customInfo(p),[a,c].filter((function(t){return t!==l})).forEach((function(t){e.legend(t,!1)})),(0,QCt.pi)((0,QCt.pi)({},t),{ext:{geometry:x}})}function jHt(t){var e=t.options,n=e.area,r=e.xField,i=e.yField,o=e.seriesField,a=e.smooth,c=e.tooltip,l=e.useDeferredLabel,u=DHt(c,[r,i,o]),s=u.fields,f=u.formatter;return n?FHt(TUt({},t,{options:{type:"area",colorField:o,tooltipFields:s,mapping:(0,tOt.b$)({shape:a?"smooth":"area",tooltip:f},n),args:{useDeferredLabel:l}}})):t}function IHt(t){var e=t.options,n=e.edge,r=e.xField,i=e.yField,o=e.seriesField,a=e.tooltip,c=e.useDeferredLabel,l=DHt(a,[r,i,o]),u=l.fields,s=l.formatter;return n?FHt(TUt({},t,{options:{type:"edge",colorField:o,tooltipFields:u,mapping:(0,QCt.pi)({tooltip:s},n),args:{useDeferredLabel:c}}})):t}function RHt(t){var e=t.options,n=e.xField,r=e.yField,i=e.interval,o=e.seriesField,a=e.tooltip,c=e.minColumnWidth,l=e.maxColumnWidth,u=e.columnBackground,s=e.dodgePadding,f=e.intervalPadding,h=e.useDeferredLabel,d=DHt(a,[n,r,o]),p=d.fields,v=d.formatter,g=(i?FHt(TUt({},t,{options:{type:"interval",colorField:o,tooltipFields:p,mapping:(0,QCt.pi)({tooltip:v},i),args:{dodgePadding:s,intervalPadding:f,minColumnWidth:c,maxColumnWidth:l,background:u,useDeferredLabel:h}}})):t).ext;return function(t){var e=t.chart,n=t.options,r=t.ext,i=n.seriesField,o=n.isGroup,a=n.isStack,c=n.marginRatio,l=n.widthRatio,u=n.groupField,s=n.theme,f=[];return i&&(o&&f.push({type:"dodge",dodgeBy:u||i,marginRatio:c}),a&&f.push({type:"stack",marginRatio:c})),f.length&&(null==r?void 0:r.geometry)&&(null==r?void 0:r.geometry).adjust(f),(0,tOt.UM)(l)||e.theme(TUt({},(0,tOt.Kn)(s)?s:iZt(s),{columnWidthRatio:l})),t}((0,QCt.pi)((0,QCt.pi)({},t),{ext:g}))}function LHt(t){var e=t.options,n=e.line,r=e.stepType,i=e.xField,o=e.yField,a=e.seriesField,c=e.smooth,l=e.connectNulls,u=e.tooltip,s=e.useDeferredLabel,f=DHt(u,[i,o,a]),h=f.fields,d=f.formatter;return n?FHt(TUt({},t,{options:{type:"line",colorField:a,tooltipFields:h,mapping:(0,tOt.b$)({shape:r||(c?"smooth":"line"),tooltip:d},n),args:{connectNulls:l,useDeferredLabel:s}}})):t}function NHt(t){var e=t.options,n=e.point,r=e.xField,i=e.yField,o=e.seriesField,a=e.sizeField,c=e.shapeField,l=e.tooltip,u=e.useDeferredLabel,s=DHt(l,[r,i,o,a,c]),f=s.fields,h=s.formatter;return n?FHt(TUt({},t,{options:{type:"point",colorField:o,shapeField:c,tooltipFields:f,mapping:(0,QCt.pi)({tooltip:h},n),args:{useDeferredLabel:u}}})):t}function BHt(t){var e=t.options,n=e.polygon,r=e.xField,i=e.yField,o=e.seriesField,a=e.tooltip,c=e.useDeferredLabel,l=DHt(a,[r,i,o]),u=l.fields,s=l.formatter;return n?FHt(TUt({},t,{options:{type:"polygon",colorField:o,tooltipFields:u,mapping:(0,QCt.pi)({tooltip:s},n),args:{useDeferredLabel:c}}})):t}function zHt(t){var e=t.options,n=e.schema,r=e.xField,i=e.yField,o=e.seriesField,a=e.tooltip,c=e.useDeferredLabel,l=DHt(a,[r,i,o]),u=l.fields,s=l.formatter;return n?FHt(TUt({},t,{options:{type:"schema",colorField:o,tooltipFields:u,mapping:(0,QCt.pi)({tooltip:s},n),args:{useDeferredLabel:c}}})):t}var UHt=n(11760),HHt="data-chart-source-type",WHt=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],VHt=function(t){function e(e,n){var r=t.call(this)||this;return r.container="string"==typeof e?document.getElementById(e):e,r.options=TUt({},r.getDefaultOptions(),n),r.createG2(),r.bindEvents(),r}return(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},e.prototype.createG2=function(){var t=this.options,e=t.width,n=t.height,r=t.defaultInteractions;this.chart=new PZt((0,QCt.pi)((0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({container:this.container,autoFit:!1},this.getChartSize(e,n)),{localRefresh:!1}),SUt(this.options,WHt)),{defaultInteractions:r})),this.container.setAttribute(HHt,"G2Plot")},e.prototype.getChartSize=function(t,e){var n=ZUt(this.container);return{width:t||n.width||400,height:e||n.height||400}},e.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",(function(e){(null==e?void 0:e.type)&&t.emit(e.type,e)}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},e.prototype.update=function(t){this.updateOption(t),this.render()},e.prototype.updateOption=function(t){this.options=TUt({},this.options,t)},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var r=RUt(this.chart);(0,tOt.S6)(r,(function(r){e(r.getData())&&r.setState(t,n)}))},e.prototype.getStates=function(){var t=RUt(this.chart),e=[];return(0,tOt.S6)(t,(function(t){var n=t.getData(),r=t.getStates();(0,tOt.S6)(r,(function(r){e.push({data:n,state:r,geometry:t.geometry,element:t})}))})),e},e.prototype.changeData=function(t){this.update({data:t})},e.prototype.changeSize=function(t,e){this.chart.changeSize(t,e)},e.prototype.addAnnotations=function(t,e){e=e||this.chart;var n=(0,QCt.ev)([],t,!0),r=e.getController("annotation"),i=r.getComponents().map((function(t){return t.extra}));r.clear(!0);for(var o=function(t){var e=i[t],o=n.findIndex((function(t){return t.id&&t.id===e.id}));-1!==o&&(e=TUt({},e,n[o]),n.splice(o,1)),r.annotation(e)},a=0;a<i.length;a++)o(a);n.forEach((function(t){return r.annotation(t)})),e.render(!0)},e.prototype.removeAnnotations=function(t){var e=this.chart.getController("annotation"),n=e.getComponents().map((function(t){return t.extra}));e.clear(!0);for(var r=function(r){var i=n[r];t.find((function(t){return t.id&&t.id===i.id}))||e.annotation(i)},i=0;i<n.length;i++)r(i);this.chart.render(!0)},e.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(HHt)},e.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),e=this.options,n=e.padding,r=e.appendPadding;this.chart.padding=n,this.chart.appendPadding=r,t({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var e=this.options.autoFit;(void 0===e||e)&&(this.unbind=(0,UHt.ak)(this.container,(function(){var e=ZUt(t.container),n=e.width,r=e.height;n===t.chart.width&&r===t.chart.height||t.triggerResize()})))}},e.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},e}(xOt.Z);function GHt(t,e,n,r){var i=(0,tOt.u4)(t,(function(t,r){var i=r[n],o=t.has(i)?t.get(i):0,a=r[e];return o=NUt(a)?o+a:o,t.set(i,o),t}),new Map);return(0,tOt.UI)(t,(function(t){var o,a=t[e],c=t[n],l=NUt(a)&&0!==i.get(c)?a/i.get(c):0;return(0,QCt.pi)((0,QCt.pi)({},t),((o={})[r]=l,o))}))}function XHt(t,e,n,r,i){return i?GHt(t,e,n,r):t}function qHt(t){var e=t.chart,n=t.options,r=n.data,i=n.color,o=n.lineStyle,a=n.lineShape,c=n.point,l=n.area,u=n.seriesField,s=null==c?void 0:c.state,f=null==l?void 0:l.state;e.data(r);var h=TUt({},t,{options:{shapeField:u,line:{color:i,style:o,shape:a},point:c&&(0,QCt.pi)({color:i,shape:"circle"},c),area:l&&(0,QCt.pi)({color:i},l),label:void 0}}),d=TUt({},h,{options:{tooltip:!1,state:s}}),p=TUt({},h,{options:{tooltip:!1,state:f}});return LHt(h),NHt(d),jHt(p),t}function YHt(t){var e,n,r=t.options,i=r.xAxis,o=r.yAxis,a=r.xField,c=r.yField,l=r.data;return FUt(kHt(((e={})[a]=i,e[c]=o,e),((n={})[a]={type:"cat"},n[c]=kUt(l,c),n)))(t)}function $Ht(t){var e=t.chart,n=t.options.reflect;if(n){var r=n;(0,tOt.kJ)(r)||(r=[r]);var i=r.map((function(t){return["reflect",t]}));e.coordinate({type:"rect",actions:i})}return t}function KHt(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(a,!1):e.axis(a,i),t}function JHt(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return r&&i?e.legend(i,r):!1===r&&e.legend(!1),t}function QHt(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=jUt(e,"line");if(r){var a=r.callback,c=(0,QCt._T)(r,["callback"]);o.label({fields:[i],callback:a,cfg:(0,QCt.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},LUt(c))})}else o.label(!1);return t}function tWt(t){var e=t.chart;return t.options.isStack&&(0,tOt.S6)(e.geometries,(function(t){t.adjust("stack")})),t}function eWt(t){return FUt(qHt,YHt,tWt,bHt,$Ht,KHt,JHt,gHt,QHt,wHt,SHt,mHt,yHt,CHt(),OHt)(t)}function nWt(t){var e=t.chart,n=t.options,r=n.data,i=n.areaStyle,o=n.areaShape,a=n.color,c=n.point,l=n.line,u=n.isPercent,s=n.xField,f=n.yField,h=n.tooltip,d=n.seriesField,p=n.startOnZero,v=null==c?void 0:c.state,g=XHt(r,f,s,f,u);e.data(g);var m=u?(0,QCt.pi)({formatter:function(t){return{name:t[d]||t[s],value:(100*Number(t[f])).toFixed(2)+"%"}}},h):h,y=TUt({},t,{options:{area:{color:a,style:i,shape:o},point:c&&(0,QCt.pi)({color:a},c),tooltip:m,label:void 0,args:{startOnZero:p}}}),b={chart:e,options:TUt({line:{size:2}},(0,tOt.CE)(n,["state"]),{line:l&&(0,QCt.pi)({color:a},l),sizeField:d,state:null==l?void 0:l.state,tooltip:!1,label:void 0,args:{startOnZero:p}})},x=TUt({},y,{options:{tooltip:!1,state:v}});return jHt(y),LHt(b),NHt(x),t}function rWt(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=jUt(e,"area");if(r){var a=r.callback,c=(0,QCt._T)(r,["callback"]);o.label({fields:[i],callback:a,cfg:(0,QCt.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},LUt(c))})}else o.label(!1);return t}function iWt(t){var e=t.chart,n=t.options,r=n.isStack,i=n.isPercent,o=n.seriesField;return(i||r)&&o&&(0,tOt.S6)(e.geometries,(function(t){t.adjust("stack")})),t}function oWt(t){return FUt(bHt,pHt("areaStyle"),EHt("rect"),nWt,YHt,iWt,KHt,JHt,gHt,rWt,wHt,CHt(),mHt,yHt,OHt)(t)}var aWt=TUt({},VHt.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),cWt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}return(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return aWt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.isPercent,r=e.xField,i=e.yField;YHt({chart:this.chart,options:this.options}),this.chart.changeData(XHt(t,i,r,i,n))},e.prototype.getSchemaAdaptor=function(){return oWt},e}(VHt),lWt={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},uWt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg=(0,QCt.pi)({name:"button"},lWt),e}return(0,QCt.ZT)(e,t),e.prototype.getButtonCfg=function(){var t=this.context.view,e=(0,tOt.U2)(t,["interactions","filter-action","cfg","buttonConfig"]);return TUt(this.buttonCfg,e,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=this.drawText(e);this.drawBackground(e,n.getBBox()),this.buttonGroup=e},e.prototype.drawText=function(t){var e,n=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:(0,QCt.pi)({text:n.text},null===(e=n.textStyle)||void 0===e?void 0:e.default)})},e.prototype.drawBackground=function(t,e){var n,r=this.getButtonCfg(),i=BUt(r.padding),o=t.addShape({type:"rect",name:"button-rect",attrs:(0,QCt.pi)({x:e.x-i[3],y:e.y-i[0],width:e.width+i[1]+i[3],height:e.height+i[0]+i[2]},null===(n=r.buttonStyle)||void 0===n?void 0:n.default)});return o.toBack(),t.on("mouseenter",(function(){var t;o.attr(null===(t=r.buttonStyle)||void 0===t?void 0:t.active)})),t.on("mouseleave",(function(){var t;o.attr(null===(t=r.buttonStyle)||void 0===t?void 0:t.default)})),o},e.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),r=IFt.transform(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(r)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this)},e}(BDt);function sWt(t){return t.isInPlot()}function fWt(t,e,n){var r=n||{},i=r.mask,o=r.isStartEnable,a=e||"rect";switch(t){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:o||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:o||sWt,action:["brush:start","".concat(a,"-mask:start"),"".concat(a,"-mask:show")],arg:[null,{maskStyle:null==i?void 0:i.style}]}],processing:[{trigger:"mousemove",isEnable:sWt,action:["".concat(a,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:sWt,action:["brush:filter","brush:end","".concat(a,"-mask:end"),"".concat(a,"-mask:hide"),"brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:o||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:o||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(t){return!!o&&!o(t)}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:o||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:o||function(t){return!t.isInShape("mask")},action:["".concat(a,"-mask:start"),"".concat(a,"-mask:show")],arg:[{maskStyle:null==i?void 0:i.style}]},{trigger:"mask:dragstart",action:["".concat(a,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(a,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(a,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(a,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(a,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","".concat(a,"-mask:end"),"".concat(a,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(a,"-mask:hide")]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:o||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:o||sWt,action:["brush-x:start","".concat(a,"-mask:start"),"".concat(a,"-mask:show")],arg:[null,{maskStyle:null==i?void 0:i.style}]}],processing:[{trigger:"mousemove",isEnable:sWt,action:["".concat(a,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:sWt,action:["brush-x:filter","brush-x:end","".concat(a,"-mask:end"),"".concat(a,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:o||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:o||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:o||function(t){return!t.isInShape("mask")},action:["".concat(a,"-mask:start"),"".concat(a,"-mask:show")],arg:[{maskStyle:null==i?void 0:i.style}]},{trigger:"mask:dragstart",action:["".concat(a,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(a,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(a,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(a,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(a,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","".concat(a,"-mask:end"),"".concat(a,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(a,"-mask:hide")]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:o||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:o||sWt,action:["brush-y:start","".concat(a,"-mask:start"),"".concat(a,"-mask:show")],arg:[null,{maskStyle:null==i?void 0:i.style}]}],processing:[{trigger:"mousemove",isEnable:sWt,action:["".concat(a,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:sWt,action:["brush-y:filter","brush-y:end","".concat(a,"-mask:end"),"".concat(a,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};default:return{}}}VDt("brush-reset-button",uWt,{name:"brush-reset-button"}),zTt("filter-action",{}),zTt("brush",fWt("brush")),zTt("brush-highlight",fWt("brush-highlight")),zTt("brush-x",fWt("brush-x","x-rect")),zTt("brush-y",fWt("brush-y","y-rect")),zTt("brush-x-highlight",fWt("brush-x-highlight","x-rect")),zTt("brush-y-highlight",fWt("brush-y-highlight","y-rect"));var hWt=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function dWt(t){var e=t.options,n=e.brush,r=(0,tOt.hX)(e.interactions||[],(function(t){return-1===hWt.indexOf(t.type)}));return(null==n?void 0:n.enabled)&&(hWt.forEach((function(t){var e=!1;switch(n.type){case"x-rect":e=t===("highlight"===n.action?"brush-x-highlight":"brush-x");break;case"y-rect":e=t===("highlight"===n.action?"brush-y-highlight":"brush-y");break;default:e=t===("highlight"===n.action?"brush-highlight":"brush")}var i={type:t,enable:e};n&&(i.cfg=fWt(t,n.type,n)),r.push(i)})),"highlight"!==(null==n?void 0:n.action)&&r.push({type:"filter-action",cfg:{buttonConfig:n.button}})),TUt({},t,{options:{interactions:r}})}var pWt={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},vWt=function(t,e){return"hover"===t?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:e}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:e}]}]};function gWt(t,e){return(0,tOt.hj)(t)&&(0,tOt.hj)(e)?0===t&&0===e?"-":t===e?"100%":0===t?"∞":"".concat((100*e/t).toFixed(2),"%"):"-"}function mWt(t,e){return TUt({size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:!1!==t.arrow&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:!1!==t.text&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:gWt}},t)}function yWt(t,e){return(0,tOt.UI)(e.getModel().points,(function(e){return t.convertPoint(e)}))}function bWt(t,e,n){!function(t,e,n){var r=t.view,i=t.geometry,o=t.group,a=t.options,c=t.horizontal,l=a.offset,u=a.size,s=a.arrow,f=r.getCoordinate(),h=yWt(f,e)[3],d=yWt(f,n)[0],p=d.y-h.y,v=d.x-h.x;if("boolean"!=typeof s){var g,m=s.headSize,y=a.spacing;c?(v-m)/2<y?(y=Math.max(1,(v-m)/2),g=[[h.x+y,h.y-l],[h.x+y,h.y-l-u],[d.x-y,d.y-l-u/2]]):g=[[h.x+y,h.y-l],[h.x+y,h.y-l-u],[d.x-y-m,d.y-l-u],[d.x-y,d.y-l-u/2],[d.x-y-m,d.y-l]]:(p-m)/2<y?(y=Math.max(1,(p-m)/2),g=[[h.x+l,h.y+y],[h.x+l+u,h.y+y],[d.x+l+u/2,d.y-y]]):g=[[h.x+l,h.y+y],[h.x+l+u,h.y+y],[d.x+l+u,d.y-y-m],[d.x+l+u/2,d.y-y],[d.x+l,d.y-y-m]],o.addShape("polygon",{id:"".concat(r.id,"-conversion-tag-arrow-").concat(i.getElementId(e.getModel().mappingData)),name:"conversion-tag-arrow",origin:{element:e,nextElement:n},attrs:(0,QCt.pi)((0,QCt.pi)({},s.style||{}),{points:g})})}}(t,e,n),function(t,e,n){var r,i,o,a=t.view,c=t.geometry,l=t.group,u=t.options,s=t.field,f=t.horizontal,h=u.offset,d=u.size;if("boolean"!=typeof u.text){var p=a.getCoordinate(),v=(null===(r=u.text)||void 0===r?void 0:r.formatter)&&(null===(i=u.text)||void 0===i?void 0:i.formatter(e.getData()[s],n.getData()[s])),g=yWt(p,e)[f?3:0],m=yWt(p,n)[f?0:3],y=l.addShape("text",{id:"".concat(a.id,"-conversion-tag-text-").concat(c.getElementId(e.getModel().mappingData)),name:"conversion-tag-text",origin:{element:e,nextElement:n},attrs:(0,QCt.pi)((0,QCt.pi)({},(null===(o=u.text)||void 0===o?void 0:o.style)||{}),{text:v,x:f?(g.x+m.x)/2:g.x+h+d/2,y:f?g.y-h-d/2:(g.y+m.y)/2})});if(f){var b=m.x-g.x,x=y.getBBox().width;if(x>b){var w=x/v.length,S=Math.max(1,Math.ceil(b/w)-1),k="".concat(v.slice(0,S),"...");y.attr("text",k)}}}}(t,e,n)}function xWt(t){var e=t.options,n=e.legend,r=e.seriesField,i=e.isStack;return r?!1!==n&&(n=(0,QCt.pi)({position:i?"right-top":"top-left"},n)):n=!1,t.options.legend=n,t}function wWt(t){var e=t.chart,n=t.options,r=n.data,i=n.columnStyle,o=n.color,a=n.columnWidthRatio,c=n.isPercent,l=n.isGroup,u=n.isStack,s=n.xField,f=n.yField,h=n.seriesField,d=n.groupField,p=n.tooltip,v=n.shape,g=c&&l&&u?function(t,e,n,r){var i=(0,tOt.u4)(t,(function(t,r){var i=(0,tOt.u4)(n,(function(t,e){return"".concat(t).concat(r[e])}),""),o=t.has(i)?t.get(i):0,a=r[e];return o=NUt(a)?o+a:o,t.set(i,o),t}),new Map);return(0,tOt.UI)(t,(function(t){var o,a=t[e],c=(0,tOt.u4)(n,(function(e,n){return"".concat(e).concat(t[n])}),""),l=NUt(a)&&0!==i.get(c)?a/i.get(c):0;return(0,QCt.pi)((0,QCt.pi)({},t),((o={})[r]=l,o))}))}(r,f,[s,d],f):XHt(r,f,s,f,c),m=[];u&&h&&!l?g.forEach((function(t){var e=m.find((function(e){return e[s]===t[s]&&e[h]===t[h]}));e?e[f]+=t[f]||0:m.push((0,QCt.pi)({},t))})):m=g,e.data(m);var y=c?(0,QCt.pi)({formatter:function(t){var e;return{name:l&&u?"".concat(t[h]," - ").concat(t[d]):null!==(e=t[h])&&void 0!==e?e:t[s],value:(100*Number(t[f])).toFixed(2)+"%"}}},p):p,b=TUt({},t,{options:{data:m,widthRatio:a,tooltip:y,interval:{shape:v,style:i,color:o}}});return RHt(b),b}function SWt(t){var e,n,r=t.options,i=r.xAxis,o=r.yAxis,a=r.xField,c=r.yField,l=r.data,u=r.isPercent?{max:1,min:0,minLimit:0,maxLimit:1}:{};return FUt(kHt(((e={})[a]=i,e[c]=o,e),((n={})[a]={type:"cat"},n[c]=(0,QCt.pi)((0,QCt.pi)({},kUt(l,c)),u),n)))(t)}function kWt(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(a,!1):e.axis(a,i),t}function CWt(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return r&&i?e.legend(i,r):!1===r&&e.legend(!1),t}function OWt(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=n.isRange,a=jUt(e,"interval");if(r){var c=r.callback,l=(0,QCt._T)(r,["callback"]);a.label({fields:[i],callback:c,cfg:(0,QCt.pi)({layout:(null==l?void 0:l.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},LUt(o?(0,QCt.pi)({content:function(t){var e;return null===(e=t[i])||void 0===e?void 0:e.join("-")}},l):l))})}else a.label(!1);return t}function EWt(t){var e=t.chart,n=t.options,r=n.tooltip,i=n.isGroup,o=n.isStack,a=n.groupField,c=n.data,l=n.xField,u=n.yField,s=n.seriesField;if(!1===r)e.tooltip(!1);else{var f=r;if(i&&o){var h=f.customItems,d=(null==f?void 0:f.formatter)||function(t){return{name:"".concat(t[s]," - ").concat(t[a]),value:t[u]}};f=(0,QCt.pi)((0,QCt.pi)({},f),{customItems:function(t){var e=[];return(0,tOt.S6)(t,(function(t){(0,tOt.hX)(c,(function(e){return(0,tOt.BD)(e,SUt(t.data,[l,s]))})).forEach((function(n){e.push((0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({},t),{value:n[u],data:n,mappingData:{_origin:n}}),d(n)))}))})),h?h(e):e}})}e.tooltip(f)}return t}function MWt(t,e){void 0===e&&(e=!1);var n,r=t.options,i=r.seriesField;return FUt(xWt,bHt,pHt("columnStyle"),xHt,EHt("rect"),wWt,SWt,kWt,CWt,EWt,wHt,SHt,OWt,dWt,mHt,yHt,CHt(),function(t,e,n){return void 0===e&&(e=!0),void 0===n&&(n=!1),function(r){var i=r.options,o=r.chart,a=i.conversionTag,c=i.theme;return a&&!n&&(o.theme(TUt({},(0,tOt.Kn)(c)?c:iZt(c),{columnWidthRatio:1/3})),o.annotation().shape({render:function(n,r){var i=n.addGroup({id:"".concat(o.id,"-conversion-tag-group"),name:"conversion-tag-group"}),c=(0,tOt.sE)(o.geometries,(function(t){return"interval"===t.type})),l={view:r,geometry:c,group:i,field:t,horizontal:e,options:mWt(a,e)},u=c.elements;(0,tOt.S6)(u,(function(t,e){e>0&&bWt(l,u[e-1],t)}))}})),r}}(r.yField,!e,!!i),(void 0===(n=!r.isStack)&&(n=!1),function(t){var e=t.chart,r=t.options.connectedArea,i=function(){e.removeInteraction(pWt.hover),e.removeInteraction(pWt.click)};if(!n&&r){var o=r.trigger||"hover";i(),e.interaction(pWt[o],{start:vWt(o,r.style)})}else i();return t}),OHt)(t)}function AWt(t){var e=t.options,n=e.xField,r=e.yField,i=e.xAxis,o=e.yAxis,a={left:"bottom",right:"top",top:"left",bottom:"right"},c=!1!==o&&(0,QCt.pi)({position:a[(null==o?void 0:o.position)||"left"]},o),l=!1!==i&&(0,QCt.pi)({position:a[(null==i?void 0:i.position)||"bottom"]},i);return(0,QCt.pi)((0,QCt.pi)({},t),{options:(0,QCt.pi)((0,QCt.pi)({},e),{xField:r,yField:n,xAxis:c,yAxis:l})})}function PWt(t){var e=t.options.label;return e&&!e.position&&(e.position="left",e.layout||(e.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),TUt({},t,{options:{label:e}})}function _Wt(t){var e=t.options,n=e.seriesField,r=e.isStack,i=e.legend;return n?!1!==i&&(i=(0,QCt.pi)({position:r?"top-left":"right-top"},i||{})):i=!1,TUt({},t,{options:{legend:i}})}function DWt(t){var e=t.options,n=[{type:"transpose"},{type:"reflectY"}].concat(e.coordinate||[]);return TUt({},t,{options:{coordinate:n}})}function TWt(t){var e=t.chart,n=t.options,r=n.barStyle,i=n.barWidthRatio,o=n.minBarWidth,a=n.maxBarWidth,c=n.barBackground;return MWt({chart:e,options:(0,QCt.pi)((0,QCt.pi)({},n),{columnStyle:r,columnWidthRatio:i,minColumnWidth:o,maxColumnWidth:a,columnBackground:c})},!0)}function ZWt(t){return FUt(AWt,PWt,_Wt,gHt,DWt,TWt)(t)}zTt(pWt.hover,{start:vWt(pWt.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),zTt(pWt.click,{start:vWt(pWt.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});var FWt,jWt=TUt({},VHt.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),IWt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bar",e}return(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return jWt},e.prototype.changeData=function(t){var e,n;this.updateOption({data:t});var r=this.chart,i=this.options,o=i.isPercent,a=i.xField,c=i.yField,l=i.xAxis,u=i.yAxis;a=(e=[c,a])[0],c=e[1],l=(n=[u,l])[0],u=n[1],SWt({chart:r,options:(0,QCt.pi)((0,QCt.pi)({},i),{xField:a,yField:c,yAxis:u,xAxis:l})}),r.changeData(XHt(t,a,c,a,o))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ZWt},e}(VHt),RWt=TUt({},VHt.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),LWt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="column",e}return(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return RWt},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.yField,r=e.xField,i=e.isPercent;SWt({chart:this.chart,options:this.options}),this.chart.changeData(XHt(t,n,r,n,i))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return MWt},e}(VHt),NWt="$$percentage$$",BWt="$$mappingValue$$",zWt="$$conversion$$",UWt="$$totalPercentage$$",HWt="$$x$$",WWt="$$y$$",VWt={appendPadding:[0,80],minSize:0,maxSize:1,meta:(FWt={},FWt[BWt]={min:0,max:1,nice:!1},FWt),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}},GWt="CONVERSION_TAG_NAME";function XWt(t,e,n){var r,i=n.yField,o=n.maxSize,a=n.minSize,c=(0,tOt.U2)((0,tOt.UT)(e,i),[i]),l=(0,tOt.hj)(o)?o:1,u=(0,tOt.hj)(a)?a:0;return r=(0,tOt.UI)(t,(function(e,n){var r=(e[i]||0)/c;return e[NWt]=r,e[BWt]=(l-u)*r+u,e[zWt]=[(0,tOt.U2)(t,[n-1,i]),e[i]],e})),r}function qWt(t){return function(e){var n=e.chart,r=e.options,i=r.conversionTag,o=r.filteredData||n.getOptions().data;if(i){var a=i.formatter;o.forEach((function(e,r){if(!(r<=0||Number.isNaN(e[BWt]))){var c=t(e,r,o,{top:!0,name:GWt,text:{content:(0,tOt.mf)(a)?a(e,o):a,offsetX:i.offsetX,offsetY:i.offsetY,position:"end",autoRotate:!1,style:(0,QCt.pi)({textAlign:"start",textBaseline:"middle"},i.style)}});n.annotation().line(c)}}))}return e}}function YWt(t){var e=t.chart,n=t.options,r=n.data,i=void 0===r?[]:r,o=XWt(i,i,{yField:n.yField,maxSize:n.maxSize,minSize:n.minSize});return e.data(o),t}function $Wt(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,o=n.color,a=n.tooltip,c=n.label,l=n.shape,u=void 0===l?"funnel":l,s=n.funnelStyle,f=n.state,h=DHt(a,[r,i]),d=h.fields,p=h.formatter;return FHt({chart:e,options:{type:"interval",xField:r,yField:BWt,colorField:r,tooltipFields:(0,tOt.kJ)(d)&&d.concat([NWt,zWt]),mapping:{shape:u,tooltip:p,color:o,style:s},label:c,state:f}}),jUt(t.chart,"interval").adjust("symmetric"),t}function KWt(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),t}function JWt(t){var e=t.options,n=t.chart,r=e.maxSize,i=(0,tOt.U2)(n,["geometries","0","dataArray"],[]),o=(0,tOt.U2)(n,["options","data","length"]),a=(0,tOt.UI)(i,(function(t){return(0,tOt.U2)(t,["0","nextPoints","0","x"])*o-.5}));return qWt((function(t,e,n,i){var o=r-(r-t[BWt])/2;return(0,QCt.pi)((0,QCt.pi)({},i),{start:[a[e-1]||e-.5,o],end:[a[e-1]||e-.5,o+.05]})}))(t),t}function QWt(t){return FUt(YWt,$Wt,KWt,JWt)(t)}function tVt(t){var e,n=t.chart,r=t.options,i=r.data,o=void 0===i?[]:i,a=r.yField;return n.data(o),n.scale(((e={})[a]={sync:!0},e)),t}function eVt(t){var e=t.chart,n=t.options,r=n.data,i=n.xField,o=n.yField,a=n.color,c=n.compareField,l=n.isTransposed,u=n.tooltip,s=n.maxSize,f=n.minSize,h=n.label,d=n.funnelStyle,p=n.state,v=n.showFacetTitle;return e.facet("mirror",{fields:[c],transpose:!l,padding:l?0:[32,0,0,0],showTitle:v,eachView:function(t,e){var n=l?e.rowIndex:e.columnIndex;l||t.coordinate({type:"rect",actions:[["transpose"],["scale",0===n?-1:1,-1]]});var v=XWt(e.data,r,{yField:o,maxSize:s,minSize:f});t.data(v);var g=DHt(u,[i,o,c]),m=g.fields,y=g.formatter,b=l?{offset:0===n?10:-23,position:0===n?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:0===n?"end":"start"}};FHt({chart:t,options:{type:"interval",xField:i,yField:BWt,colorField:i,tooltipFields:(0,tOt.kJ)(m)&&m.concat([NWt,zWt]),mapping:{shape:"funnel",tooltip:y,color:a,style:d},label:!1!==h&&TUt({},b,h),state:p}})}}),t}function nVt(t){var e=t.chart,n=t.index,r=t.options,i=r.conversionTag,o=r.isTransposed;((0,tOt.hj)(n)?[e]:e.views).forEach((function(t,e){var a=(0,tOt.U2)(t,["geometries","0","dataArray"],[]),c=(0,tOt.U2)(t,["options","data","length"]),l=(0,tOt.UI)(a,(function(t){return(0,tOt.U2)(t,["0","nextPoints","0","x"])*c-.5}));qWt((function(t,r,a,c){var u=0===(n||e)?-1:1;return TUt({},c,{start:[l[r-1]||r-.5,t[BWt]],end:[l[r-1]||r-.5,t[BWt]+.05],text:o?{style:{textAlign:"start"}}:{offsetX:!1!==i?u*i.offsetX:0,style:{textAlign:0===(n||e)?"end":"start"}}})}))(TUt({},{chart:t,options:r}))}))}function rVt(t){return t.chart.once("beforepaint",(function(){return nVt(t)})),t}function iVt(t){var e=t.chart,n=t.options,r=n.data,i=void 0===r?[]:r,o=n.yField,a=(0,tOt.u4)(i,(function(t,e){return t+(e[o]||0)}),0),c=(0,tOt.UT)(i,o)[o],l=(0,tOt.UI)(i,(function(t,e){var n=[],r=[];if(t[UWt]=(t[o]||0)/a,e){var l=i[e-1][HWt],u=i[e-1][WWt];n[0]=l[3],r[0]=u[3],n[1]=l[2],r[1]=u[2]}else n[0]=-.5,r[0]=1,n[1]=.5,r[1]=1;return r[2]=r[1]-t[UWt],n[2]=(r[2]+1)/4,r[3]=r[2],n[3]=-n[2],t[HWt]=n,t[WWt]=r,t[NWt]=(t[o]||0)/c,t[zWt]=[(0,tOt.U2)(i,[e-1,o]),t[o]],t}));return e.data(l),t}function oVt(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,o=n.color,a=n.tooltip,c=n.label,l=n.funnelStyle,u=n.state,s=DHt(a,[r,i]),f=s.fields,h=s.formatter;return FHt({chart:e,options:{type:"polygon",xField:HWt,yField:WWt,colorField:r,tooltipFields:(0,tOt.kJ)(f)&&f.concat([NWt,zWt]),label:c,state:u,mapping:{tooltip:h,color:o,style:l}}}),t}function aVt(t){var e=t.chart,n=t.options.isTransposed;return e.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),t}function cVt(t){return qWt((function(t,e,n,r){return(0,QCt.pi)((0,QCt.pi)({},r),{start:[t[HWt][1],t[WWt][1]],end:[t[HWt][1]+.05,t[WWt][1]]})}))(t),t}function lVt(t){var e,n=t.chart,r=t.options,i=r.data,o=void 0===i?[]:i,a=r.yField;return n.data(o),n.scale(((e={})[a]={sync:!0},e)),t}function uVt(t){var e=t.chart,n=t.options,r=n.seriesField,i=n.isTransposed,o=n.showFacetTitle;return e.facet("rect",{fields:[r],padding:[i?0:32,10,0,10],showTitle:o,eachView:function(e,n){QWt(TUt({},t,{chart:e,options:{data:n.data}}))}}),t}var sVt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rendering=!1,e}return(0,QCt.ZT)(e,t),e.prototype.change=function(t){var e=this;if(!this.rendering){var n=t.seriesField,r=t.compareField,i=r?nVt:JWt,o=this.context.view,a=n||r?o.views:[o];(0,tOt.UI)(a,(function(n,r){var o=n.getController("annotation"),a=(0,tOt.hX)((0,tOt.U2)(o,["option"],[]),(function(t){return t.name!==GWt}));o.clear(!0),(0,tOt.S6)(a,(function(t){"object"==typeof t&&n.annotation()[t.type](t)}));var c=(0,tOt.U2)(n,["filteredData"],n.getOptions().data);i({chart:n,index:r,options:(0,QCt.pi)((0,QCt.pi)({},t),{filteredData:XWt(c,c,t)})}),n.filterData(c),e.rendering=!0,n.render(!0)}))}this.rendering=!1},e}(BDt),fVt="funnel-conversion-tag",hVt="funnel-afterrender",dVt={trigger:"afterrender",action:"".concat(fVt,":change")};function pVt(t){var e,n=t.options,r=n.compareField,i=n.xField,o=n.yField,a=n.locale,c=n.funnelStyle,l=n.data,u=_Ht(a),s={label:r?{fields:[i,o,r,NWt,zWt],formatter:function(t){return"".concat(t[o])}}:{fields:[i,o,NWt,zWt],offset:0,position:"middle",formatter:function(t){return"".concat(t[i]," ").concat(t[o])}},tooltip:{title:i,formatter:function(t){return{name:t[i],value:t[o]}}},conversionTag:{formatter:function(t){return"".concat(u.get(["conversionTag","label"]),": ").concat(gWt.apply(void 0,t[zWt]))}}};return(r||c)&&(e=function(t){return TUt({},r&&{lineWidth:1,stroke:"#fff"},(0,tOt.mf)(c)?c(t):c)}),TUt({options:s},t,{options:{funnelStyle:e,data:(0,tOt.d9)(l)}})}function vVt(t){var e=t.options,n=e.compareField,r=e.dynamicHeight;return e.seriesField?function(t){return FUt(lVt,uVt)(t)}(t):n?function(t){return FUt(tVt,eVt,rVt)(t)}(t):r?function(t){return FUt(iVt,oVt,aVt,cVt)(t)}(t):QWt(t)}function gVt(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return FUt(kHt(((e={})[o]=r,e[a]=i,e)))(t)}function mVt(t){return t.chart.axis(!1),t}function yVt(t){var e=t.chart,n=t.options.legend;return!1===n?e.legend(!1):e.legend(n),t}function bVt(t){var e=t.chart,n=t.options,r=n.interactions,i=n.dynamicHeight;return(0,tOt.S6)(r,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg||{})})),i?e.removeInteraction(hVt):e.interaction(hVt,{start:[(0,QCt.pi)((0,QCt.pi)({},dVt),{arg:n})]}),t}function xVt(t){return FUt(pVt,vVt,gVt,mVt,gHt,bVt,yVt,yHt,bHt,CHt())(t)}VDt(fVt,sVt),zTt(hVt,{start:[dVt]});var wVt,SVt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="funnel",e}return(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return VWt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return xVt},e.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var r=RUt(this.chart);(0,tOt.S6)(r,(function(r){e(r.getData())&&r.setState(t,n)}))},e.prototype.getStates=function(){var t=RUt(this.chart),e=[];return(0,tOt.S6)(t,(function(t){var n=t.getData(),r=t.getStates();(0,tOt.S6)(r,(function(r){e.push({data:n,state:r,geometry:t.geometry,element:t})}))})),e},e.CONVERSATION_FIELD=zWt,e.PERCENT_FIELD=NWt,e.TOTAL_PERCENT_FIELD=UWt,e}(VHt),kVt="range",CVt="type",OVt="percent",EVt="#f0f0f0",MVt="indicator-view",AVt="range-view",PVt={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(wVt={},wVt[kVt]={sync:"v"},wVt[OVt]={sync:"v",tickCount:5,tickInterval:.2},wVt),animation:!1};function _Vt(t){var e;return[(e={},e[OVt]=(0,tOt.uZ)(t,0,1),e)]}function DVt(t,e){var n=(0,tOt.U2)(e,["ticks"],[]),r=(0,tOt.dp)(n)?(0,tOt.jj)(n):[0,(0,tOt.uZ)(t,0,1),1];return r[0]||r.shift(),function(t,e){return t.map((function(n,r){var i;return(i={})[kVt]=n-(t[r-1]||0),i[CVt]="".concat(r),i[OVt]=e,i}))}(r,t)}function TVt(t){var e=t.chart,n=t.options,r=n.percent,i=n.range,o=n.radius,a=n.innerRadius,c=n.startAngle,l=n.endAngle,u=n.axis,s=n.indicator,f=n.gaugeStyle,h=n.type,d=n.meter,p=i.color,v=i.width;if(s){var g=_Vt(r),m=e.createView({id:MVt});m.data(g),m.point().position("".concat(OVt,"*1")).shape(s.shape||"gauge-indicator").customInfo({defaultColor:e.getTheme().defaultColor,indicator:s}),m.coordinate("polar",{startAngle:c,endAngle:l,radius:a*o}),m.axis(OVt,u),m.scale(OVt,SUt(u,yUt))}var y=DVt(r,n.range),b=e.createView({id:AVt});b.data(y);var x=(0,tOt.HD)(p)?[p,EVt]:p;return RHt({chart:b,options:{xField:"1",yField:kVt,seriesField:CVt,rawFields:[OVt],isStack:!0,interval:{color:x,style:f,shape:"meter"===h?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:v,maxColumnWidth:v}}).ext.geometry.customInfo({meter:d}),b.coordinate("polar",{innerRadius:a,radius:o,startAngle:c,endAngle:l}).transpose(),t}function ZVt(t){var e;return FUt(kHt(((e={range:{min:0,max:1,maxLimit:1,minLimit:0}})[OVt]={},e)))(t)}function FVt(t,e){var n=t.chart,r=t.options,i=r.statistic,o=r.percent;if(n.getController("annotation").clear(!0),i){var a=i.content,c=void 0;a&&(c=TUt({},{content:"".concat((100*o).toFixed(2),"%"),style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},a)),YUt(n,{statistic:(0,QCt.pi)((0,QCt.pi)({},i),{content:c})},{percent:o})}return e&&n.render(!0),t}function jVt(t){var e=t.chart,n=t.options.tooltip;return n?e.tooltip(TUt({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(t,e){var n=(0,tOt.U2)(e,[0,"data",OVt],0);return"".concat((100*n).toFixed(2),"%")}},n)):e.tooltip(!1),t}function IVt(t){return t.chart.legend(!1),t}function RVt(t){return FUt(bHt,yHt,TVt,ZVt,jVt,FVt,mHt,CHt(),IVt)(t)}JZt("point","gauge-indicator",{draw:function(t,e){var n=t.customInfo,r=n.indicator,i=n.defaultColor,o=r,a=o.pointer,c=o.pin,l=e.addGroup(),u=this.parsePoint({x:0,y:0});return a&&l.addShape("line",{name:"pointer",attrs:(0,QCt.pi)({x1:u.x,y1:u.y,x2:t.x,y2:t.y,stroke:i},a.style)}),c&&l.addShape("circle",{name:"pin",attrs:(0,QCt.pi)({x:u.x,y:u.y,stroke:i},c.style)}),l}}),JZt("interval","meter-gauge",{draw:function(t,e){var n=t.customInfo.meter,r=void 0===n?{}:n,i=r.steps,o=void 0===i?50:i,a=r.stepRatio,c=void 0===a?.5:a;o=o<1?1:o,c=(0,tOt.uZ)(c,0,1);var l=this.coordinate,u=l.startAngle,s=l.endAngle,f=0;c>0&&c<1&&(f=(s-u)/o/(c/(1-c)+1-1/o));for(var h=f/(1-c)*c,d=e.addGroup(),p=this.coordinate.getCenter(),v=this.coordinate.getRadius(),g=IFt.getAngle(t,this.coordinate),m=g.startAngle,y=g.endAngle,b=m;b<y;){var x=void 0,w=(b-u)%(h+f);x=w<h?b+(h-w):(b+=h+f-w)+h;var S=IFt.getSectorPath(p.x,p.y,v,b,Math.min(x,y),v*this.coordinate.innerRadius);d.addShape("path",{name:"meter-gauge",attrs:{path:S,fill:t.color,stroke:t.color,lineWidth:.5}}),b=x+f}return d}});var LVt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="gauge",e}return(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return PVt},e.prototype.changeData=function(t){this.chart.emit(eOt.BEFORE_CHANGE_DATA,xZt.fromData(this.chart,eOt.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var e=this.chart.views.find((function(t){return t.id===MVt}));e&&e.data(_Vt(t));var n=this.chart.views.find((function(t){return t.id===AVt}));n&&n.data(DVt(t,this.options.range)),FVt({chart:this.chart,options:this.options},!0),this.chart.emit(eOt.AFTER_CHANGE_DATA,xZt.fromData(this.chart,eOt.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return RVt},e}(VHt);function NVt(t,e,n){if(1===n)return[0,e];var r=Math.floor(t/e);return[e*r,e*(r+1)]}function BVt(t,e,n,r,i){var o=(0,tOt.d9)(t);(0,tOt.MR)(o,e);var a=(0,tOt.I)(o,e),c=(0,tOt.rx)(a),l=c.max-c.min,u=n;if(!n&&r&&(u=r>1?l/(r-1):c.max),!n&&!r){var s=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}(a);u=l/s}var f={},h=(0,tOt.vM)(o,i);(0,tOt.xb)(h)?(0,tOt.S6)(o,(function(t){var n=NVt(t[e],u,r),i="".concat(n[0],"-").concat(n[1]);(0,tOt.wH)(f,i)||(f[i]={range:n,count:0}),f[i].count+=1})):Object.keys(h).forEach((function(t){(0,tOt.S6)(h[t],(function(n){var o=NVt(n[e],u,r),a="".concat(o[0],"-").concat(o[1]),c="".concat(a,"-").concat(t);(0,tOt.wH)(f,c)||(f[c]={range:o,count:0},f[c][i]=t),f[c].count+=1}))}));var d=[];return(0,tOt.S6)(f,(function(t){d.push(t)})),d}var zVt="range",UVt="count",HVt=TUt({},VHt.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function WVt(t){var e=t.chart,n=t.options,r=n.data,i=n.binField,o=n.binNumber,a=n.binWidth,c=n.color,l=n.stackField,u=n.legend,s=n.columnStyle,f=BVt(r,i,a,o,l);return e.data(f),RHt(TUt({},t,{options:{xField:zVt,yField:UVt,seriesField:l,isStack:!0,interval:{color:c,style:s}}})),u&&l?e.legend(l,u):e.legend(!1),t}function VVt(t){var e,n=t.options,r=n.xAxis,i=n.yAxis;return FUt(kHt(((e={})[zVt]=r,e[UVt]=i,e)))(t)}function GVt(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis;return!1===r?e.axis(zVt,!1):e.axis(zVt,r),!1===i?e.axis(UVt,!1):e.axis(UVt,i),t}function XVt(t){var e=t.chart,n=t.options.label,r=jUt(e,"interval");if(n){var i=n.callback,o=(0,QCt._T)(n,["callback"]);r.label({fields:[UVt],callback:i,cfg:LUt(o)})}else r.label(!1);return t}function qVt(t){return FUt(bHt,pHt("columnStyle"),WVt,VVt,GVt,xHt,XVt,gHt,mHt,yHt)(t)}var YVt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="histogram",e}return(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return HVt},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options,n=e.binField,r=e.binNumber,i=e.binWidth,o=e.stackField;this.chart.changeData(BVt(t,n,i,r,o))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return qVt},e}(VHt),$Vt=TUt({},VHt.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),KVt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.active=function(){var t=this.getView(),e=this.context.event;if(e.data){var n=e.data.items,r=t.geometries.filter((function(t){return"point"===t.type}));(0,tOt.S6)(r,(function(t){(0,tOt.S6)(t.elements,(function(t){var e=-1!==(0,tOt.cx)(n,(function(e){return e.data===t.data}));t.setState("active",e)}))}))}},e.prototype.reset=function(){var t=this.getView().geometries.filter((function(t){return"point"===t.type}));(0,tOt.S6)(t,(function(t){(0,tOt.S6)(t.elements,(function(t){t.setState("active",!1)}))}))},e.prototype.getView=function(){return this.context.view},e}(BDt);VDt("marker-active",KVt),zTt("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var JVt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e}return(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return $Vt},e.prototype.changeData=function(t){this.updateOption({data:t});YHt({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return eWt},e}(VHt),QVt=TUt({},VHt.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}}),tGt=[1,0,0,0,1,0,0,0,1];function eGt(t,e){var n=e?(0,QCt.ev)([],e,!0):(0,QCt.ev)([],tGt,!0);return IFt.transform(n,t)}var nGt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getActiveElements=function(){var t=IFt.getDelegationObject(this.context);if(t){var e=this.context.view,n=t.component,r=t.item,i=n.get("field");if(i)return e.geometries[0].elements.filter((function(t){return t.getModel().data[i]===r.value}))}return[]},e.prototype.getActiveElementLabels=function(){var t=this.context.view,e=this.getActiveElements();return t.geometries[0].labelsContainer.getChildren().filter((function(t){return e.find((function(e){return(0,tOt.Xy)(e.getData(),t.get("data"))}))}))},e.prototype.transfrom=function(t){void 0===t&&(t=7.5);var e=this.getActiveElements(),n=this.getActiveElementLabels();e.forEach((function(e,r){var i=n[r],o=e.geometry.coordinate;if(o.isPolar&&o.isTransposed){var a=IFt.getAngle(e.getModel(),o),c=(a.startAngle+a.endAngle)/2,l=t,u=l*Math.cos(c),s=l*Math.sin(c);e.shape.setMatrix(eGt([["t",u,s]])),i.setMatrix(eGt([["t",u,s]]))}}))},e.prototype.active=function(){this.transfrom()},e.prototype.reset=function(){this.transfrom(0)},e}(BDt);var rGt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getAnnotations=function(t){return(t||this.context.view).getController("annotation").option},e.prototype.getInitialAnnotation=function(){return this.initialAnnotation},e.prototype.init=function(){var t=this,e=this.context.view;e.removeInteraction("tooltip"),e.on("afterchangesize",(function(){var n=t.getAnnotations(e);t.initialAnnotation=n}))},e.prototype.change=function(t){var e=this.context,n=e.view,r=e.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var i=(0,tOt.U2)(r,["data","data"]);if(r.type.match("legend-item")){var o=IFt.getDelegationObject(this.context),a=n.getGroupedFields()[0];if(o&&a){var c=o.item;i=n.getData().find((function(t){return t[a]===c.value}))}}if(i){var l=(0,tOt.U2)(t,"annotations",[]),u=(0,tOt.U2)(t,"statistic",{});n.getController("annotation").clear(!0),(0,tOt.S6)(l,(function(t){"object"==typeof t&&n.annotation()[t.type](t)})),qUt(n,{statistic:u,plotType:"pie"},i),n.render(!0)}var s=function(t){var e,n=t.event.target;return n&&(e=n.get("element")),e}(this.context);s&&s.shape.toFront()},e.prototype.reset=function(){var t=this.context.view;t.getController("annotation").clear(!0);var e=this.getInitialAnnotation();(0,tOt.S6)(e,(function(e){t.annotation()[e.type](e)})),t.render(!0)},e}(BDt),iGt="pie-statistic";function oGt(t,e){var n;switch(t){case"inner":return n="-30%",(0,tOt.HD)(e)&&e.endsWith("%")?.01*parseFloat(e)>0?n:e:e<0?e:n;case"outer":return n=12,(0,tOt.HD)(e)&&e.endsWith("%")?.01*parseFloat(e)<0?n:e:e>0?e:n;default:return e}}function aGt(t,e){return(0,tOt.yW)(OUt(t,e),(function(t){return 0===t[e]}))}function cGt(t){var e=t.chart,n=t.options,r=n.data,i=n.angleField,o=n.colorField,a=n.color,c=n.pieStyle,l=n.shape,u=OUt(r,i);if(aGt(u,i)){var s="$$percentage$$";u=u.map((function(t){var e;return(0,QCt.pi)((0,QCt.pi)({},t),((e={})[s]=1/u.length,e))})),e.data(u),RHt(TUt({},t,{options:{xField:"1",yField:s,seriesField:o,isStack:!0,interval:{color:a,shape:l,style:c},args:{zIndexReversed:!0,sortZIndex:!0}}}))}else{e.data(u),RHt(TUt({},t,{options:{xField:"1",yField:i,seriesField:o,isStack:!0,interval:{color:a,shape:l,style:c},args:{zIndexReversed:!0,sortZIndex:!0}}}))}return t}function lGt(t){var e,n=t.chart,r=t.options,i=r.meta,o=r.colorField,a=TUt({},i);return n.scale(a,((e={})[o]={type:"cat"},e)),t}function uGt(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"theta",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:a}}),t}function sGt(t){var e=t.chart,n=t.options,r=n.label,i=n.colorField,o=n.angleField,a=e.geometries[0];if(r){var c=r.callback,l=LUt((0,QCt._T)(r,["callback"]));if(l.content){var u=l.content;l.content=function(t,n,r){var a=t[i],c=t[o],l=e.getScaleByField(o),s=null==l?void 0:l.scale(c);return(0,tOt.mf)(u)?u((0,QCt.pi)((0,QCt.pi)({},t),{percent:s}),n,r):(0,tOt.HD)(u)?$Ut(u,{value:c,name:a,percentage:(0,tOt.hj)(s)&&!(0,tOt.UM)(c)?"".concat((100*s).toFixed(2),"%"):null}):u}}var s=l.type?{inner:"",outer:"pie-outer",spider:"pie-spider"}[l.type]:"pie-outer",f=l.layout?(0,tOt.kJ)(l.layout)?l.layout:[l.layout]:[];l.layout=(s?[{type:s}]:[]).concat(f),a.label({fields:i?[o,i]:[o],callback:c,cfg:(0,QCt.pi)((0,QCt.pi)({},l),{offset:oGt(l.type,l.offset),type:"pie"})})}else a.label(!1);return t}function fGt(t){var e=t.innerRadius,n=t.statistic,r=t.angleField,i=t.colorField,o=t.meta,a=_Ht(t.locale);if(e&&n){var c=TUt({},QVt.statistic,n),l=c.title,u=c.content;return!1!==l&&(l=TUt({},{formatter:function(t){var e=t?t[i]:(0,tOt.UM)(l.content)?a.get(["statistic","total"]):l.content,n=(0,tOt.U2)(o,[i,"formatter"])||function(t){return t};return n(e)}},l)),!1!==u&&(u=TUt({},{formatter:function(t,e){var n=t?t[r]:function(t,e){var n=null;return(0,tOt.S6)(t,(function(t){"number"==typeof t[e]&&(n+=t[e])})),n}(e,r),i=(0,tOt.U2)(o,[r,"formatter"])||function(t){return t};return t||(0,tOt.UM)(u.content)?i(n):u.content}},u)),TUt({},{statistic:{title:l,content:u}},t)}return t}function hGt(t){var e=t.chart,n=fGt(t.options),r=n.innerRadius,i=n.statistic;return e.getController("annotation").clear(!0),FUt(CHt())(t),r&&i&&qUt(e,{statistic:i,plotType:"pie"}),t}function dGt(t){var e=t.chart,n=t.options,r=n.tooltip,i=n.colorField,o=n.angleField,a=n.data;if(!1===r)e.tooltip(r);else if(e.tooltip(TUt({},r,{shared:!1})),aGt(a,o)){var c=(0,tOt.U2)(r,"fields"),l=(0,tOt.U2)(r,"formatter");(0,tOt.xb)((0,tOt.U2)(r,"fields"))&&(c=[i,o],l=l||function(t){return{name:t[i],value:(0,tOt.BB)(t[o])}}),e.geometries[0].tooltip(c.join("*"),ZHt(c,l))}return t}function pGt(t){var e=t.chart,n=fGt(t.options),r=n.interactions,i=n.statistic,o=n.annotations;return(0,tOt.S6)(r,(function(t){var n,r;if(!1===t.enable)e.removeInteraction(t.type);else if("pie-statistic-active"===t.type){var a=[];(null===(n=t.cfg)||void 0===n?void 0:n.start)||(a=[{trigger:"element:mouseenter",action:"".concat(iGt,":change"),arg:{statistic:i,annotations:o}}]),(0,tOt.S6)(null===(r=t.cfg)||void 0===r?void 0:r.start,(function(t){a.push((0,QCt.pi)((0,QCt.pi)({},t),{arg:{statistic:i,annotations:o}}))})),e.interaction(t.type,TUt({},t.cfg,{start:a}))}else e.interaction(t.type,t.cfg||{})})),t}function vGt(t){return FUt(pHt("pieStyle"),cGt,lGt,bHt,uGt,vHt,dGt,sGt,xHt,hGt,pGt,yHt)(t)}VDt(iGt,rGt),zTt("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),VDt("pie-legend",nGt),zTt("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});var gGt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pie",e}return(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return QVt},e.prototype.changeData=function(t){this.chart.emit(eOt.BEFORE_CHANGE_DATA,xZt.fromData(this.chart,eOt.BEFORE_CHANGE_DATA,null));var e=this.options,n=this.options.angleField,r=OUt(e.data,n),i=OUt(t,n);aGt(r,n)||aGt(i,n)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(i),hGt({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(eOt.AFTER_CHANGE_DATA,xZt.fromData(this.chart,eOt.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return vGt},e}(VHt),mGt=["#FAAD14","#E8EDF3"],yGt={percent:.2,color:mGt,animation:{}};function bGt(t){var e=(0,tOt.uZ)(NUt(t)?t:0,0,1);return[{current:"".concat(e),type:"current",percent:e},{current:"".concat(e),type:"target",percent:1}]}function xGt(t){var e=t.chart,n=t.options,r=n.percent,i=n.progressStyle,o=n.color,a=n.barWidthRatio;return e.data(bGt(r)),RHt(TUt({},t,{options:{xField:"current",yField:"percent",seriesField:"type",widthRatio:a,interval:{style:i,color:(0,tOt.HD)(o)?[o,mGt[1]]:o},args:{zIndexReversed:!0,sortZIndex:!0}}})),e.tooltip(!1),e.axis(!1),e.legend(!1),t}function wGt(t){return t.chart.coordinate("rect").transpose(),t}function SGt(t){return FUt(xGt,kHt({}),wGt,yHt,bHt,CHt())(t)}var kGt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="process",e}return(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return yGt},e.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(bGt(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return SGt},e}(VHt);function CGt(t){var e=t.chart,n=t.options,r=n.innerRadius,i=n.radius;return e.coordinate("theta",{innerRadius:r,radius:i}),t}function OGt(t,e){var n=t.chart,r=t.options,i=r.innerRadius,o=r.statistic,a=r.percent,c=r.meta;if(n.getController("annotation").clear(!0),i&&o){var l=(0,tOt.U2)(c,["percent","formatter"])||function(t){return"".concat((100*t).toFixed(2),"%")},u=o.content;u&&(u=TUt({},u,{content:(0,tOt.UM)(u.content)?l(a):u.content})),qUt(n,{statistic:(0,QCt.pi)((0,QCt.pi)({},o),{content:u}),plotType:"ring-progress"},{percent:a})}return e&&n.render(!0),t}function EGt(t){return FUt(xGt,kHt({}),CGt,OGt,yHt,bHt,CHt())(t)}var MGt={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},AGt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ring-process",e}return(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return MGt},e.prototype.changeData=function(t){this.chart.emit(eOt.BEFORE_CHANGE_DATA,xZt.fromData(this.chart,eOt.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(bGt(t)),OGt({chart:this.chart,options:this.options},!0),this.chart.emit(eOt.AFTER_CHANGE_DATA,xZt.fromData(this.chart,eOt.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return EGt},e}(VHt),PGt=n(71547),_Gt={exp:PGt.regressionExp,linear:PGt.regressionLinear,loess:PGt.regressionLoess,log:PGt.regressionLog,poly:PGt.regressionPoly,pow:PGt.regressionPow,quad:PGt.regressionQuad};var DGt=function(t,e){var n=e.view,r=e.options,i=r.xField,o=r.yField,a=n.getScaleByField(i),c=n.getScaleByField(o);return WUt(t.map((function(t){return n.getCoordinate().convert({x:a.scale(t[0]),y:c.scale(t[1])})})),!1)},TGt=function(t){var e,n=t.options,r=n.xField,i=n.yField,o=n.data,a=n.regressionLine,c=a.type,l=void 0===c?"linear":c,u=a.algorithm,s=a.equation,f=null;u?(e=(0,tOt.kJ)(u)?u:u(o),f=s):f=function(t,e){var n,r,i,o=function(t,e){return void 0===e&&(e=4),Math.round(t*Math.pow(10,e))/Math.pow(10,e)},a=function(t){return Number.isFinite(t)?o(t):"?"};switch(t){case"linear":return"y = ".concat(a(e.a),"x + ").concat(a(e.b),", R^2 = ").concat(a(e.rSquared));case"exp":return"y = ".concat(a(e.a),"e^(").concat(a(e.b),"x), R^2 = ").concat(a(e.rSquared));case"log":return"y = ".concat(a(e.a),"ln(x) + ").concat(a(e.b),", R^2 = ").concat(a(e.rSquared));case"quad":return"y = ".concat(a(e.a),"x^2 + ").concat(a(e.b),"x + ").concat(a(e.c),", R^2 = ").concat(a(e.rSquared));case"poly":for(var c="y = ".concat(a(null===(n=e.coefficients)||void 0===n?void 0:n[0])," + ").concat(a(null===(r=e.coefficients)||void 0===r?void 0:r[1]),"x + ").concat(a(null===(i=e.coefficients)||void 0===i?void 0:i[2]),"x^2"),l=3;l<e.coefficients.length;++l)c+=" + ".concat(a(e.coefficients[l]),"x^").concat(l);return"".concat(c,", R^2 = ").concat(a(e.rSquared));case"pow":return"y = ".concat(a(e.a),"x^").concat(a(e.b),", R^2 = ").concat(a(e.rSquared))}return null}(l,e=_Gt[l]().x((function(t){return t[r]})).y((function(t){return t[i]}))(o));return[DGt(e,t),f]},ZGt=function(t){var e,n=t.meta,r=void 0===n?{}:n,i=t.xField,o=t.yField,a=t.data,c=a[0][i],l=a[0][o],u=c>0,s=l>0;function f(t,e){var n=(0,tOt.U2)(r,[t]);function i(t){return(0,tOt.U2)(n,t)}var o={};return"x"===e?((0,tOt.hj)(c)&&((0,tOt.hj)(i("min"))||(o.min=u?0:2*c),(0,tOt.hj)(i("max"))||(o.max=u?2*c:0)),o):((0,tOt.hj)(l)&&((0,tOt.hj)(i("min"))||(o.min=s?0:2*l),(0,tOt.hj)(i("max"))||(o.max=s?2*l:0)),o)}return(0,QCt.pi)((0,QCt.pi)({},r),((e={})[i]=(0,QCt.pi)((0,QCt.pi)({},r[i]),f(i,"x")),e[o]=(0,QCt.pi)((0,QCt.pi)({},r[o]),f(o,"y")),e))};function FGt(t){var e=t.data,n=void 0===e?[]:e,r=t.xField,i=t.yField;if(n.length){for(var o=!0,a=!0,c=n[0],l=void 0,u=1;u<n.length&&(l=n[u],c[r]!==l[r]&&(o=!1),c[i]!==l[i]&&(a=!1),o||a);u++)c=l;var s=[];o&&s.push(r),a&&s.push(i);var f=SUt(ZGt(t),s);return TUt({},t,{meta:f})}return t}function jGt(t){var e=t.chart,n=t.options,r=n.data,i=n.type,o=n.color,a=n.shape,c=n.pointStyle,l=n.shapeField,u=n.colorField,s=n.xField,f=n.yField,h=n.sizeField,d=n.size,p=n.tooltip;h&&(d||(d=[2,8]),(0,tOt.hj)(d)&&(d=[d,d])),p&&!p.fields&&(p=(0,QCt.pi)((0,QCt.pi)({},p),{fields:[s,f,u,h,l]})),e.data(r),NHt(TUt({},t,{options:{seriesField:u,point:{color:o,shape:a,size:d,style:c},tooltip:p}}));var v=jUt(e,"point");return i&&v.adjust(i),t}function IGt(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField,c=FGt(n);return FUt(kHt(((e={})[o]=r,e[a]=i,e)))(TUt({},t,{options:c}))}function RGt(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return e.axis(o,r),e.axis(a,i),t}function LGt(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.shapeField,a=n.sizeField,c=n.shapeLegend,l=n.sizeLegend,u=!1!==r;return i&&e.legend(i,!!u&&r),o&&(c?e.legend(o,c):e.legend(o,!1!==c&&r)),a&&e.legend(a,l||!1),u||c||l||e.legend(!1),t}function NGt(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=jUt(e,"point");if(r){var a=r.callback,c=(0,QCt._T)(r,["callback"]);o.label({fields:[i],callback:a,cfg:LUt(c)})}else o.label(!1);return t}function BGt(t){var e=t.options.quadrant,n=[];if(e){var r=e.xBaseline,i=void 0===r?0:r,o=e.yBaseline,a=void 0===o?0:o,c=e.labels,l=e.regionStyle,u=e.lineStyle,s=function(t,e){var n=10;return{regionStyle:[{position:{start:[t,"max"],end:["max",e]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[t,e]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",e],end:[t,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[t,e],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",e],offsetX:-10,offsetY:-10,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:-10,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:n,offsetY:n,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",e],offsetX:-10,offsetY:n,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]}}(i,a);new Array(4).join(",").split(",").forEach((function(t,e){n.push((0,QCt.pi)((0,QCt.pi)({type:"region",top:!1},s.regionStyle[e].position),{style:TUt({},s.regionStyle[e].style,null==l?void 0:l[e])}),(0,QCt.pi)({type:"text",top:!0},TUt({},s.labelStyle[e],null==c?void 0:c[e])))})),n.push({type:"line",top:!1,start:["min",a],end:["max",a],style:TUt({},s.lineStyle,u)},{type:"line",top:!1,start:[i,"min"],end:[i,"max"],style:TUt({},s.lineStyle,u)})}return FUt(CHt(n))(t)}function zGt(t){var e=t.options,n=t.chart,r=e.regressionLine;if(r){var i=r.style,o=r.equationStyle,a=void 0===o?{}:o,c=r.top,l=void 0!==c&&c,u=r.showEquation,s=void 0!==u&&u,f={stroke:"#9ba29a",lineWidth:2,opacity:.5},h={x:20,y:20,textAlign:"left",textBaseline:"middle",fontSize:14,fillOpacity:.5};n.annotation().shape({top:l,render:function(t,r){var o=t.addGroup({id:"".concat(n.id,"-regression-line"),name:"regression-line-group"}),c=TGt({view:r,options:e}),l=c[0],u=c[1];o.addShape("path",{name:"regression-line",attrs:(0,QCt.pi)((0,QCt.pi)({path:l},f),i)}),s&&o.addShape("text",{name:"regression-equation",attrs:(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({},h),a),{text:u})})}})}return t}function UGt(t){var e=t.chart,n=t.options.tooltip;return n?e.tooltip(n):!1===n&&e.tooltip(!1),t}function HGt(t){return FUt(jGt,IGt,RGt,LGt,UGt,NGt,dWt,wHt,SHt,mHt,BGt,yHt,bHt,zGt)(t)}var WGt=TUt({},VHt.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});zTt("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var VGt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.type="scatter",r.on(eOt.BEFORE_RENDER,(function(t){var e,n,i=r,o=i.options,a=i.chart;if((null===(e=t.data)||void 0===e?void 0:e.source)===Ozt.FILTER){var c=r.chart.filterData(r.chart.getData());IGt({chart:a,options:(0,QCt.pi)((0,QCt.pi)({},o),{data:c})})}(null===(n=t.data)||void 0===n?void 0:n.source)===Ozt.RESET&&IGt({chart:a,options:o})})),r}return(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return WGt},e.prototype.changeData=function(t){this.updateOption(FGt(TUt({},this.options,{data:t})));var e=this.options;IGt({chart:this.chart,options:e}),this.chart.changeData(t)},e.prototype.getSchemaAdaptor=function(){return HGt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(VHt),GGt="$$stock-range$$",XGt="trend",qGt="up",YGt="down",$Gt=TUt({},VHt.getDefaultOptions(),{tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(t,e,n){var r;if("x"===t){var i=n[0];r=i?i.title:e}else r=e;return{position:"y"===t?"start":"end",content:r,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function KGt(t,e){return(0,tOt.UI)(t,(function(t){var n=t&&(0,QCt.pi)({},t);if((0,tOt.kJ)(e)&&n){var r=e[0],i=e[1],o=e[2],a=e[3];n[XGt]=n[r]<=n[i]?qGt:YGt,n[GGt]=[n[r],n[i],n[o],n[a]]}return n}))}function JGt(t){var e=t.chart,n=t.options,r=n.yField,i=n.data,o=n.risingFill,a=n.fallingFill,c=n.tooltip,l=n.stockStyle;e.data(KGt(i,r));var u=c;return!1!==u&&(u=TUt({},{fields:r},u)),zHt(TUt({},t,{options:{schema:{shape:"candle",color:[o,a],style:l},yField:GGt,seriesField:XGt,rawFields:r,tooltip:u}})),t}function QGt(t){var e,n,r=t.chart,i=t.options,o=i.meta,a=i.xAxis,c=i.yAxis,l=i.xField,u=((e={})[l]={type:"timeCat",tickCount:6},e[XGt]={values:[qGt,YGt]},e),s=TUt(u,o,((n={})[l]=SUt(a,yUt),n[GGt]=SUt(c,yUt),n));return r.scale(s),t}function tXt(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(GGt,!1):e.axis(GGt,i),t}function eXt(t){var e=t.chart,n=t.options.tooltip;return!1!==n?e.tooltip(n):e.tooltip(!1),t}function nXt(t){var e=t.chart,n=t.options.legend;return n?e.legend(XGt,n):!1===n&&e.legend(!1),t}function rXt(t){FUt(bHt,JGt,QGt,tXt,eXt,nXt,mHt,yHt,CHt(),wHt)(t)}var iXt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="stock",e}return(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return $Gt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return rXt},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField;this.chart.changeData(KGt(t,e))},e}(VHt);function oXt(t){return(0,tOt.UI)(t||[],(function(t,e){return{x:"".concat(e),y:t}}))}var aXt="x",cXt="y",lXt={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return"".concat((0,tOt.U2)(e,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},uXt={appendPadding:2,tooltip:(0,QCt.pi)({},lXt),animation:{}};function sXt(t){var e=t.chart,n=t.options,r=n.data,i=n.color,o=n.areaStyle,a=n.point,c=n.line,l=null==a?void 0:a.state,u=oXt(r);e.data(u);var s=TUt({},t,{options:{xField:aXt,yField:cXt,area:{color:i,style:o},line:c,point:a}}),f=TUt({},s,{options:{tooltip:!1}}),h=TUt({},s,{options:{tooltip:!1,state:l}});return jHt(s),LHt(f),NHt(h),e.axis(!1),e.legend(!1),t}function fXt(t){var e,n,r=t.options,i=r.xAxis,o=r.yAxis,a=oXt(r.data);return FUt(kHt(((e={})[aXt]=i,e[cXt]=o,e),((n={})[aXt]={type:"cat"},n[cXt]=kUt(a,cXt),n)))(t)}function hXt(t){return FUt(pHt("areaStyle"),sXt,fXt,gHt,bHt,yHt,CHt())(t)}var dXt={appendPadding:2,tooltip:(0,QCt.pi)({},lXt),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},pXt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-area",e}return(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return dXt},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;fXt({chart:e,options:this.options}),e.changeData(oXt(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return hXt},e}(VHt);function vXt(t){var e=t.chart,n=t.options,r=n.data,i=n.color,o=n.columnStyle,a=n.columnWidthRatio,c=oXt(r);return e.data(c),RHt(TUt({},t,{options:{xField:aXt,yField:cXt,widthRatio:a,interval:{style:o,color:i}}})),e.axis(!1),e.legend(!1),e.interaction("element-active"),t}function gXt(t){return FUt(bHt,pHt("columnStyle"),vXt,fXt,gHt,yHt,CHt())(t)}var mXt={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return"".concat((0,tOt.U2)(e,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},yXt={appendPadding:2,tooltip:(0,QCt.pi)({},mXt),animation:{}},bXt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-column",e}return(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return yXt},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;fXt({chart:e,options:this.options}),e.changeData(oXt(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return gXt},e}(VHt);function xXt(t){var e=t.chart,n=t.options,r=n.data,i=n.color,o=n.lineStyle,a=n.point,c=null==a?void 0:a.state,l=oXt(r);e.data(l);var u=TUt({},t,{options:{xField:aXt,yField:cXt,line:{color:i,style:o},point:a}}),s=TUt({},u,{options:{tooltip:!1,state:c}});return LHt(u),NHt(s),e.axis(!1),e.legend(!1),t}function wXt(t){return FUt(xXt,fXt,bHt,gHt,yHt,CHt())(t)}var SXt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tiny-line",e}return(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return uXt},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.chart;fXt({chart:e,options:this.options}),e.changeData(oXt(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return wXt},e}(VHt),kXt={line:eWt,pie:vGt,column:MWt,bar:ZWt,area:oWt,gauge:RVt,"tiny-line":wXt,"tiny-column":gXt,"tiny-area":hXt,"ring-progress":EGt,progress:SGt,scatter:HGt,histogram:qVt,funnel:xVt,stock:rXt},CXt={line:JVt,pie:gGt,column:LWt,bar:IWt,area:cWt,gauge:LVt,"tiny-line":SXt,"tiny-column":bXt,"tiny-area":pXt,"ring-progress":AGt,progress:kGt,scatter:VGt,histogram:YVt,funnel:SVt,stock:iXt},OXt={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function EXt(t,e,n){var r=CXt[t];r?(0,kXt[t])({chart:e,options:TUt({},r.getDefaultOptions(),(0,tOt.U2)(OXt,t,{}),n)}):console.error("could not find ".concat(t," plot"))}function MXt(t){var e=t.chart,n=t.options,r=n.views,i=n.legend;return(0,tOt.S6)(r,(function(t){var n=t.region,r=t.data,i=t.meta,o=t.axes,a=t.coordinate,c=t.interactions,l=t.annotations,u=t.tooltip,s=t.geometries,f=e.createView({region:n});f.data(r);var h={};o&&(0,tOt.S6)(o,(function(t,e){h[e]=SUt(t,yUt)})),h=TUt({},i,h),f.scale(h),o?(0,tOt.S6)(o,(function(t,e){f.axis(e,t)})):f.axis(!1),f.coordinate(a),(0,tOt.S6)(s,(function(t){var e=FHt({chart:f,options:t}).ext,n=t.adjust;n&&e.geometry.adjust(n)})),(0,tOt.S6)(c,(function(t){!1===t.enable?f.removeInteraction(t.type):f.interaction(t.type,t.cfg)})),(0,tOt.S6)(l,(function(t){f.annotation()[t.type]((0,QCt.pi)({},t))})),"boolean"==typeof t.animation?f.animate(!1):(f.animate(!0),(0,tOt.S6)(f.geometries,(function(e){e.animate(t.animation)}))),u&&(f.interaction("tooltip"),f.tooltip(u))})),i?(0,tOt.S6)(i,(function(t,n){e.legend(n,t)})):e.legend(!1),e.tooltip(n.tooltip),t}function AXt(t){var e=t.chart,n=t.options,r=n.plots,i=n.data,o=void 0===i?[]:i;return(0,tOt.S6)(r,(function(t){var n=t.type,r=t.region,i=t.options,a=void 0===i?{}:i,c=t.top,l=a.tooltip;if(c)EXt(n,e,(0,QCt.pi)((0,QCt.pi)({},a),{data:o}));else{var u=e.createView((0,QCt.pi)({region:r},SUt(a,WHt)));l&&u.interaction("tooltip"),EXt(n,u,(0,QCt.pi)({data:o},a))}})),t}function PXt(t){var e=t.chart,n=t.options;return e.option("slider",n.slider),t}function _Xt(t){return FUt(yHt,MXt,AXt,mHt,yHt,bHt,gHt,PXt,CHt())(t)}var DXt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getAssociationItems=function(t,e){var n,r=this.context.event,i=e||{},o=i.linkField,a=i.dim,c=[];if(null===(n=r.data)||void 0===n?void 0:n.data){var l=r.data.data;(0,tOt.S6)(t,(function(t){var e,n,r=o;if("x"===a?r=t.getXScale().field:"y"===a?r=null===(e=t.getYScales().find((function(t){return t.field===r})))||void 0===e?void 0:e.field:r||(r=null===(n=t.getGroupScales()[0])||void 0===n?void 0:n.field),r){var i=(0,tOt.UI)(IUt(t),(function(e){var n=!1,i=!1,o=(0,tOt.kJ)(l)?(0,tOt.U2)(l[0],r):(0,tOt.U2)(l,r);return function(t,e){var n=t.getModel().data;return(0,tOt.kJ)(n)?n[0][e]:n[e]}(e,r)===o?n=!0:i=!0,{element:e,view:t,active:n,inactive:i}}));c.push.apply(c,i)}}))}return c},e.prototype.showTooltip=function(t){var e=QUt(this.context.view),n=this.getAssociationItems(e,t);(0,tOt.S6)(n,(function(t){if(t.active){var e=t.element.shape.getCanvasBBox();t.view.showTooltip({x:e.minX+e.width/2,y:e.minY+e.height/2})}}))},e.prototype.hideTooltip=function(){var t=QUt(this.context.view);(0,tOt.S6)(t,(function(t){t.hideTooltip()}))},e.prototype.active=function(t){var e=JUt(this.context.view),n=this.getAssociationItems(e,t);(0,tOt.S6)(n,(function(t){var e=t.active,n=t.element;e&&n.setState("active",!0)}))},e.prototype.selected=function(t){var e=JUt(this.context.view),n=this.getAssociationItems(e,t);(0,tOt.S6)(n,(function(t){var e=t.active,n=t.element;e&&n.setState("selected",!0)}))},e.prototype.highlight=function(t){var e=JUt(this.context.view),n=this.getAssociationItems(e,t);(0,tOt.S6)(n,(function(t){var e=t.inactive,n=t.element;e&&n.setState("inactive",!0)}))},e.prototype.reset=function(){var t=JUt(this.context.view);(0,tOt.S6)(t,(function(t){!function(t){var e=IUt(t);(0,tOt.S6)(e,(function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)}))}(t)}))},e}(BDt);VDt("association",DXt),zTt("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),zTt("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),zTt("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),zTt("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var TXt,ZXt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="mix",e}return(0,QCt.ZT)(e,t),e.prototype.getSchemaAdaptor=function(){return _Xt},e}(VHt);!function(t){t.DEV="DEV",t.BETA="BETA",t.STABLE="STABLE"}(TXt||(TXt={}));!function(){function t(){}Object.defineProperty(t,"MultiView",{get:function(){var t,e;return t=TXt.STABLE,e="MultiView",console.warn(t===TXt.DEV?"Plot '".concat(e,"' is in DEV stage, just give us issues."):t===TXt.BETA?"Plot '".concat(e,"' is in BETA stage, DO NOT use it in production env."):t===TXt.STABLE?"Plot '".concat(e,"' is in STABLE stage, import it by \"import { ").concat(e," } from '@antv/g2plot'\"."):"invalid Stage type."),ZXt},enumerable:!1,configurable:!0})}();var FXt="first-axes-view",jXt="second-axes-view",IXt="series-field-key";function RXt(t,e,n,r,i){var o=[];e.forEach((function(e){r.forEach((function(r){var i,a=((i={})[t]=r[t],i[n]=e,i[e]=r[e],i);o.push(a)}))}));var a=Object.values((0,tOt.vM)(o,n)),c=a[0],l=void 0===c?[]:c,u=a[1],s=void 0===u?[]:u;return i?[l.reverse(),s.reverse()]:[l,s]}function LXt(t){return"vertical"!==t}function NXt(t,e,n){var r=e[0],i=e[1],o=r.autoPadding,a=i.autoPadding,c=t.__axisPosition,l=c.layout,u=c.position;if(LXt(l)&&"top"===u&&(r.autoPadding=n.instance(o.top,0,o.bottom,o.left),i.autoPadding=n.instance(a.top,o.left,a.bottom,0)),LXt(l)&&"bottom"===u&&(r.autoPadding=n.instance(o.top,o.right/2+5,o.bottom,o.left),i.autoPadding=n.instance(a.top,a.right,a.bottom,o.right/2+5)),!LXt(l)&&"bottom"===u){var s=o.left>=a.left?o.left:a.left;r.autoPadding=n.instance(o.top,o.right,o.bottom/2+5,s),i.autoPadding=n.instance(o.bottom/2+5,a.right,a.bottom,s)}if(!LXt(l)&&"top"===u){s=o.left>=a.left?o.left:a.left;r.autoPadding=n.instance(o.top,o.right,0,s),i.autoPadding=n.instance(0,a.right,o.top,s)}}function BXt(t){var e,n,r=t.chart,i=t.options,o=i.data,a=i.xField,c=i.yField,l=i.color,u=i.barStyle,s=i.widthRatio,f=i.legend,h=i.layout,d=RXt(a,c,IXt,o,LXt(h));f?r.legend(IXt,f):!1===f&&r.legend(!1);var p=d[0],v=d[1];return LXt(h)?((e=r.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:FXt})).coordinate().transpose().reflect("x"),(n=r.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:jXt})).coordinate().transpose(),e.data(p),n.data(v)):(e=r.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:FXt}),(n=r.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:jXt})).coordinate().reflect("y"),e.data(p),n.data(v)),RHt(TUt({},t,{chart:e,options:{widthRatio:s,xField:a,yField:c[0],seriesField:IXt,interval:{color:l,style:u}}})),RHt(TUt({},t,{chart:n,options:{xField:a,yField:c[1],seriesField:IXt,widthRatio:s,interval:{color:l,style:u}}})),t}function zXt(t){var e,n,r,i=t.options,o=t.chart,a=i.xAxis,c=i.yAxis,l=i.xField,u=i.yField,s=KUt(o,FXt),f=KUt(o,jXt),h={};return(0,tOt.XP)((null==i?void 0:i.meta)||{}).map((function(t){(0,tOt.U2)(null==i?void 0:i.meta,[t,"alias"])&&(h[t]=i.meta[t].alias)})),o.scale(((e={})[IXt]={sync:!0,formatter:function(t){return(0,tOt.U2)(h,t,t)}},e)),kHt(((n={})[l]=a,n[u[0]]=c[u[0]],n))(TUt({},t,{chart:s})),kHt(((r={})[l]=a,r[u[1]]=c[u[1]],r))(TUt({},t,{chart:f})),t}function UXt(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField,c=n.layout,l=KUt(e,FXt),u=KUt(e,jXt);return"bottom"===(null==r?void 0:r.position)?u.axis(o,(0,QCt.pi)((0,QCt.pi)({},r),{label:{formatter:function(){return""}}})):u.axis(o,!1),!1===r?l.axis(o,!1):l.axis(o,(0,QCt.pi)({position:LXt(c)?"top":"bottom"},r)),!1===i?(l.axis(a[0],!1),u.axis(a[1],!1)):(l.axis(a[0],i[a[0]]),u.axis(a[1],i[a[1]])),e.__axisPosition={position:l.getOptions().axes[o].position,layout:c},t}function HXt(t){var e=t.chart;return mHt(TUt({},t,{chart:KUt(e,FXt)})),mHt(TUt({},t,{chart:KUt(e,jXt)})),t}function WXt(t){var e=t.chart,n=t.options,r=n.yField,i=n.yAxis;return OHt(TUt({},t,{chart:KUt(e,FXt),options:{yAxis:i[r[0]]}})),OHt(TUt({},t,{chart:KUt(e,jXt),options:{yAxis:i[r[1]]}})),t}function VXt(t){var e=t.chart;return bHt(TUt({},t,{chart:KUt(e,FXt)})),bHt(TUt({},t,{chart:KUt(e,jXt)})),bHt(t),t}function GXt(t){var e=t.chart;return yHt(TUt({},t,{chart:KUt(e,FXt)})),yHt(TUt({},t,{chart:KUt(e,jXt)})),t}function XXt(t){var e,n,r=this,i=t.chart,o=t.options,a=o.label,c=o.yField,l=o.layout,u=KUt(i,FXt),s=KUt(i,jXt),f=jUt(u,"interval"),h=jUt(s,"interval");if(a){var d=a.callback,p=(0,QCt._T)(a,["callback"]);p.position||(p.position="middle"),void 0===p.offset&&(p.offset=2);var v=(0,QCt.pi)({},p);if(LXt(l)){var g=(null===(e=v.style)||void 0===e?void 0:e.textAlign)||("middle"===p.position?"center":"left");p.style=TUt({},p.style,{textAlign:g});v.style=TUt({},v.style,{textAlign:{left:"right",right:"left",center:"center"}[g]})}else{var m={top:"bottom",bottom:"top",middle:"middle"};"string"==typeof p.position?p.position=m[p.position]:"function"==typeof p.position&&(p.position=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return m[p.position.apply(r,t)]});var y=(null===(n=v.style)||void 0===n?void 0:n.textBaseline)||"bottom";v.style=TUt({},v.style,{textBaseline:y});p.style=TUt({},p.style,{textBaseline:{top:"bottom",bottom:"top",middle:"middle"}[y]})}f.label({fields:[c[0]],callback:d,cfg:LUt(v)}),h.label({fields:[c[1]],callback:d,cfg:LUt(p)})}else f.label(!1),h.label(!1);return t}function qXt(t){return FUt(BXt,zXt,UXt,WXt,VXt,XXt,gHt,HXt,GXt)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bidirectional-bar",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return TUt({},t.getDefaultOptions.call(this),{syncViewPadding:NXt})},e.prototype.changeData=function(t){void 0===t&&(t=[]),this.chart.emit(eOt.BEFORE_CHANGE_DATA,xZt.fromData(this.chart,eOt.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var e=this.options,n=e.xField,r=e.yField,i=e.layout,o=RXt(n,r,IXt,t,LXt(i)),a=o[0],c=o[1],l=KUt(this.chart,FXt),u=KUt(this.chart,jXt);l.data(a),u.data(c),this.chart.render(!0),this.chart.emit(eOt.AFTER_CHANGE_DATA,xZt.fromData(this.chart,eOt.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return qXt},e.SERIES_FIELD_KEY=IXt}(VHt);var YXt,$Xt="$$range$$",KXt="$$y_outliers$$",JXt="outliers_view",QXt=TUt({},VHt.getDefaultOptions(),{meta:(YXt={},YXt[$Xt]={min:0,alias:"low-q1-median-q3-high"},YXt),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),tqt=function(t,e){var n=t;if(Array.isArray(e)){var r=e[0],i=e[1],o=e[2],a=e[3],c=e[4];n=(0,tOt.UI)(t,(function(t){return t[$Xt]=[t[r],t[i],t[o],t[a],t[c]],t}))}return n};function eqt(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,o=n.groupField,a=n.color,c=n.tooltip,l=n.boxStyle;e.data(tqt(n.data,i));var u=(0,tOt.kJ)(i)?$Xt:i,s=i?(0,tOt.kJ)(i)?i:[i]:[],f=c;!1!==f&&(f=TUt({},{fields:(0,tOt.kJ)(i)?i:[]},f));var h=zHt(TUt({},t,{options:{xField:r,yField:u,seriesField:o,tooltip:f,rawFields:s,label:!1,schema:{shape:"box",color:a,style:l}}})).ext;return o&&h.geometry.adjust("dodge"),t}function nqt(t){var e=t.chart,n=t.options,r=n.xField,i=n.data,o=n.outliersField,a=n.outliersStyle,c=n.padding,l=n.label;if(!o)return t;var u=e.createView({padding:c,id:JXt}),s=i.reduce((function(t,e){return e[o].forEach((function(n){var r;return t.push((0,QCt.pi)((0,QCt.pi)({},e),((r={})[o]=n,r)))})),t}),[]);return u.data(s),NHt({chart:u,options:{xField:r,yField:o,point:{shape:"circle",style:a},label:l}}),u.axis(!1),t}function rqt(t){var e,n,r=t.chart,i=t.options,o=i.meta,a=i.xAxis,c=i.yAxis,l=i.xField,u=i.yField,s=i.outliersField,f=Array.isArray(u)?$Xt:u,h={};if(s){var d=KXt;(e={})[s]={sync:d,nice:!0},e[f]={sync:d,nice:!0},h=e}var p=TUt(h,o,((n={})[l]=SUt(a,yUt),n[f]=SUt(c,yUt),n));return r.scale(p),t}function iqt(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField,c=Array.isArray(a)?$Xt:a;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis($Xt,!1):e.axis(c,i),t}function oqt(t){var e=t.chart,n=t.options,r=n.legend,i=n.groupField;return i?r?e.legend(i,r):e.legend(i,{position:"bottom"}):e.legend(!1),t}function aqt(t){return FUt(eqt,nqt,rqt,iqt,oqt,gHt,CHt(),mHt,yHt,bHt)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="box",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return QXt},e.prototype.changeData=function(t){this.updateOption({data:t});var e=this.options.yField,n=this.chart.views.find((function(t){return t.id===JXt}));n&&n.data(t),this.chart.changeData(tqt(t,e))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return aqt}}(VHt);function cqt(t,e,n){return t.length>1?"".concat(e,"_").concat(n):"".concat(e)}function lqt(t){var e=t.data,n=t.xField,r=t.measureField,i=t.rangeField,o=t.targetField,a=t.layout,c=[],l=[];e.forEach((function(t,e){var a=[t[i]].flat();a.sort((function(t,e){return t-e})),a.forEach((function(r,o){var l,u=0===o?r:a[o]-a[o-1];c.push(((l={rKey:"".concat(i,"_").concat(o)})[n]=n?t[n]:String(e),l[i]=u,l))}));var u=[t[r]].flat();u.forEach((function(i,o){var a;c.push(((a={mKey:cqt(u,r,o)})[n]=n?t[n]:String(e),a[r]=i,a))}));var s=[t[o]].flat();s.forEach((function(r,i){var a;c.push(((a={tKey:cqt(s,o,i)})[n]=n?t[n]:String(e),a[o]=r,a))})),l.push(t[i],t[r],t[o])}));var u=Math.min.apply(Math,l.flat(1/0)),s=Math.max.apply(Math,l.flat(1/0));return u=u>0?0:u,"vertical"===a&&c.reverse(),{min:u,max:s,ds:c}}function uqt(t){var e=t.chart,n=t.options,r=n.bulletStyle,i=n.targetField,o=n.rangeField,a=n.measureField,c=n.xField,l=n.color,u=n.layout,s=n.size,f=n.label,h=lqt(n),d=h.min,p=h.max,v=h.ds;e.data(v),RHt(TUt({},t,{options:{xField:c,yField:o,seriesField:"rKey",isStack:!0,label:(0,tOt.U2)(f,"range"),interval:{color:(0,tOt.U2)(l,"range"),style:(0,tOt.U2)(r,"range"),size:(0,tOt.U2)(s,"range")}}})),e.geometries[0].tooltip(!1),RHt(TUt({},t,{options:{xField:c,yField:a,seriesField:"mKey",isStack:!0,label:(0,tOt.U2)(f,"measure"),interval:{color:(0,tOt.U2)(l,"measure"),style:(0,tOt.U2)(r,"measure"),size:(0,tOt.U2)(s,"measure")}}}));var g=TUt({},t,{options:{xField:c,yField:i,seriesField:"tKey",label:(0,tOt.U2)(f,"target"),point:{color:(0,tOt.U2)(l,"target"),style:(0,tOt.U2)(r,"target"),size:(0,tOt.mf)((0,tOt.U2)(s,"target"))?function(t){return(0,tOt.U2)(s,"target")(t)/2}:(0,tOt.U2)(s,"target")/2,shape:"horizontal"===u?"line":"hyphen"}}});return NHt(g),"horizontal"===u&&e.coordinate().transpose(),(0,QCt.pi)((0,QCt.pi)({},t),{ext:{data:{min:d,max:p}}})}function sqt(t){var e,n,r=t.options,i=t.ext,o=r.xAxis,a=r.yAxis,c=r.targetField,l=r.rangeField,u=r.measureField,s=r.xField,f=i.data;return FUt(kHt(((e={})[s]=o,e[u]=a,e),((n={})[u]={min:null==f?void 0:f.min,max:null==f?void 0:f.max,sync:!0},n[c]={sync:"".concat(u)},n[l]={sync:"".concat(u)},n)))(t)}function fqt(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.measureField,c=n.rangeField,l=n.targetField;return e.axis("".concat(c),!1),e.axis("".concat(l),!1),!1===r?e.axis("".concat(o),!1):e.axis("".concat(o),r),!1===i?e.axis("".concat(a),!1):e.axis("".concat(a),i),t}function hqt(t){var e=t.chart,n=t.options.legend;return e.removeInteraction("legend-filter"),e.legend(n),e.legend("rKey",!1),e.legend("mKey",!1),e.legend("tKey",!1),t}function dqt(t){var e=t.chart,n=t.options,r=n.label,i=n.measureField,o=n.targetField,a=n.rangeField,c=e.geometries,l=c[0],u=c[1],s=c[2];return(0,tOt.U2)(r,"range")?l.label("".concat(a),(0,QCt.pi)({layout:[{type:"limit-in-plot"}]},LUt(r.range))):l.label(!1),(0,tOt.U2)(r,"measure")?u.label("".concat(i),(0,QCt.pi)({layout:[{type:"limit-in-plot"}]},LUt(r.measure))):u.label(!1),(0,tOt.U2)(r,"target")?s.label("".concat(o),(0,QCt.pi)({layout:[{type:"limit-in-plot"}]},LUt(r.target))):s.label(!1),t}function pqt(t){FUt(uqt,sqt,fqt,hqt,bHt,dqt,gHt,mHt,yHt)(t)}var vqt=TUt({},VHt.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),gqt=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bullet",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return vqt},e.prototype.changeData=function(t){this.updateOption({data:t});var e=lqt(this.options),n=e.min,r=e.max,i=e.ds;sqt({options:this.options,ext:{data:{min:n,max:r}},chart:this.chart}),this.chart.changeData(i)},e.prototype.getSchemaAdaptor=function(){return pqt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(VHt),{y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(t){return t.id},source:function(t){return t.source},target:function(t){return t.target},sourceWeight:function(t){return t.value||1},targetWeight:function(t){return t.value||1},sortBy:null});function mqt(t,e){var n=function(t){return(0,tOt.f0)({},gqt,t)}(t),r={},i=e.nodes,o=e.links;i.forEach((function(t){var e=n.id(t);r[e]=t})),function(t,e,n){(0,tOt.U5)(t,(function(t,r){t.inEdges=e.filter((function(t){return"".concat(n.target(t))==="".concat(r)})),t.outEdges=e.filter((function(t){return"".concat(n.source(t))==="".concat(r)})),t.edges=t.outEdges.concat(t.inEdges),t.frequency=t.edges.length,t.value=0,t.inEdges.forEach((function(e){t.value+=n.targetWeight(e)})),t.outEdges.forEach((function(e){t.value+=n.sourceWeight(e)}))}))}(r,o,n),function(t,e){var n={weight:function(t,e){return e.value-t.value},frequency:function(t,e){return e.frequency-t.frequency},id:function(t,n){return"".concat(e.id(t)).localeCompare("".concat(e.id(n)))}},r=n[e.sortBy];!r&&(0,tOt.mf)(e.sortBy)&&(r=e.sortBy),r&&t.sort(r)}(i,n);var a=function(t,e){var n=t.length;if(!n)throw new TypeError("Invalid nodes: it's empty!");if(e.weight){var r=e.nodePaddingRatio;if(r<0||r>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var i=r/(2*n),o=e.nodeWidthRatio;if(o<=0||o>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var a=0;t.forEach((function(t){a+=t.value})),t.forEach((function(t){t.weight=t.value/a,t.width=t.weight*(1-r),t.height=o})),t.forEach((function(n,r){for(var a=0,c=r-1;c>=0;c--)a+=t[c].width+2*i;var l=n.minX=i+a,u=n.maxX=n.minX+n.width,s=n.minY=e.y-o/2,f=n.maxY=s+o;n.x=[l,u,u,l],n.y=[s,s,f,f]}))}else{var c=1/n;t.forEach((function(t,n){t.x=(n+.5)*c,t.y=e.y}))}return t}(i,n),c=function(t,e,n){if(n.weight){var r={};(0,tOt.U5)(t,(function(t,e){r[e]=t.value})),e.forEach((function(e){var i=n.source(e),o=n.target(e),a=t[i],c=t[o];if(a&&c){var l=r[i],u=n.sourceWeight(e),s=a.minX+(a.value-l)/a.value*a.width,f=s+u/a.value*a.width;r[i]-=u;var h=r[o],d=n.targetWeight(e),p=c.minX+(c.value-h)/c.value*c.width,v=p+d/c.value*c.width;r[o]-=d;var g=n.y;e.x=[s,f,p,v],e.y=[g,g,g,g],e.source=a,e.target=c}}))}else e.forEach((function(e){var r=t[n.source(e)],i=t[n.target(e)];r&&i&&(e.x=[r.x,i.x],e.y=[r.y,i.y],e.source=r,e.target=i)}));return e}(r,o,n);return{nodes:a,links:c}}var yqt="x",bqt="y",xqt="name",wqt="source",Sqt={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(t,e){return{offsetX:(t[0]+t[1])/2>.5?-4:4,content:e}},labelEmit:!0,style:{fill:"#8c8c8c"}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(t){return!(0,tOt.U2)(t,[0,"data","isNode"])},formatter:function(t){var e=t.source,n=t.target,r=t.value;return{name:"".concat(e," -> ").concat(n),value:r}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function kqt(t){var e=t.options,n=e.data,r=e.sourceField,i=e.targetField,o=e.weightField,a=e.nodePaddingRatio,c=e.nodeWidthRatio,l=e.rawFields,u=void 0===l?[]:l,s=mqt({weight:!0,nodePaddingRatio:a,nodeWidthRatio:c},CUt(n,r,i,o)),f=s.nodes,h=s.links,d=f.map((function(t){return(0,QCt.pi)((0,QCt.pi)({},SUt(t,(0,QCt.ev)(["id","x","y","name"],u,!0))),{isNode:!0})})),p=h.map((function(t){return(0,QCt.pi)((0,QCt.pi)({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},SUt(t,(0,QCt.ev)(["x","y","value"],u,!0))),{isNode:!1})}));return(0,QCt.pi)((0,QCt.pi)({},t),{ext:(0,QCt.pi)((0,QCt.pi)({},t.ext),{chordData:{nodesData:d,edgesData:p}})})}function Cqt(t){var e;return t.chart.scale(((e={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}})[xqt]={sync:"color"},e[wqt]={sync:"color"},e)),t}function Oqt(t){return t.chart.axis(!1),t}function Eqt(t){return t.chart.legend(!1),t}function Mqt(t){var e=t.chart,n=t.options.tooltip;return e.tooltip(n),t}function Aqt(t){return t.chart.coordinate("polar").reflect("y"),t}function Pqt(t){var e=t.chart,n=t.options,r=t.ext.chordData.nodesData,i=n.nodeStyle,o=n.label,a=n.tooltip,c=e.createView();return c.data(r),BHt({chart:c,options:{xField:yqt,yField:bqt,seriesField:xqt,polygon:{style:i},label:o,tooltip:a}}),t}function _qt(t){var e=t.chart,n=t.options,r=t.ext.chordData.edgesData,i=n.edgeStyle,o=n.tooltip,a=e.createView();return a.data(r),IHt({chart:a,options:{xField:yqt,yField:bqt,seriesField:wqt,edge:{style:i,shape:"arc"},tooltip:o}}),t}function Dqt(t){var e=t.chart;return tHt(e,t.options.animation,function(t){return(0,tOt.U2)(t,["views","length"],0)<=0?t.geometries:(0,tOt.u4)(t.views,(function(t,e){return t.concat(e.geometries)}),t.geometries)}(e)),t}function Tqt(t){return FUt(bHt,kqt,Aqt,Cqt,Oqt,Eqt,Mqt,_qt,Pqt,mHt,xHt,Dqt)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="chord",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return Sqt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Tqt}}(VHt);var Zqt=["x","y","r","name","value","path","depth"],Fqt={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}},jqt="drilldown-bread-crumb",Iqt={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},Rqt="hierarchy-data-transform-params",Lqt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="drill-down",e.historyCache=[],e.breadCrumbGroup=null,e.breadCrumbCfg=Iqt,e}return(0,QCt.ZT)(e,t),e.prototype.click=function(){var t=(0,tOt.U2)(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},e.prototype.resetPosition=function(){if(this.breadCrumbGroup){var t=this.context.view.getCoordinate(),e=this.breadCrumbGroup,n=e.getBBox(),r=this.getButtonCfg().position,i={x:t.start.x,y:t.end.y-(n.height+10)};t.isPolar&&(i={x:0,y:0}),"bottom-left"===r&&(i={x:t.start.x,y:t.start.y});var o=IFt.transform(null,[["t",i.x+0,i.y+n.height+5]]);e.setMatrix(o)}},e.prototype.back=function(){(0,tOt.dp)(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},e.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},e.prototype.drill=function(t){var e=this.context.view,n=(0,tOt.U2)(e,["interactions","drill-down","cfg","transformData"],(function(t){return t})),r=n((0,QCt.pi)({data:t.data},t[Rqt]));e.changeData(r);for(var i=[],o=t;o;){var a=o.data;i.unshift({id:"".concat(a.name,"_").concat(o.height,"_").concat(o.depth),name:a.name,children:n((0,QCt.pi)({data:a},t[Rqt]))}),o=o.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(i)},e.prototype.backTo=function(t){if(t&&!(t.length<=0)){var e=this.context.view,n=(0,tOt.Z$)(t).children;e.changeData(n),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},e.prototype.getButtonCfg=function(){var t=this.context.view,e=(0,tOt.U2)(t,["interactions","drill-down","cfg","drillDownConfig"]);return TUt(this.breadCrumbCfg,null==e?void 0:e.breadCrumb,this.cfg)},e.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},e.prototype.drawBreadCrumbGroup=function(){var t=this,e=this.getButtonCfg(),n=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:jqt});var r=0;n.forEach((function(i,o){var a=t.breadCrumbGroup.addShape({type:"text",id:i.id,name:"".concat(jqt,"_").concat(i.name,"_text"),attrs:(0,QCt.pi)((0,QCt.pi)({text:0!==o||(0,tOt.UM)(e.rootText)?i.name:e.rootText},e.textStyle),{x:r,y:0})}),c=a.getBBox();if(r+=c.width+4,a.on("click",(function(e){var r,i=e.target.get("id");if(i!==(null===(r=(0,tOt.Z$)(n))||void 0===r?void 0:r.id)){var o=n.slice(0,n.findIndex((function(t){return t.id===i}))+1);t.backTo(o)}})),a.on("mouseenter",(function(t){var r;t.target.get("id")!==(null===(r=(0,tOt.Z$)(n))||void 0===r?void 0:r.id)?a.attr(e.activeTextStyle):a.attr({cursor:"default"})})),a.on("mouseleave",(function(){a.attr(e.textStyle)})),o<n.length-1){var l=t.breadCrumbGroup.addShape({type:"text",name:"".concat(e.name,"_").concat(i.name,"_divider"),attrs:(0,QCt.pi)((0,QCt.pi)({text:e.dividerText},e.textStyle),{x:r,y:0})}).getBBox();r+=l.width+4}}))},e.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},e.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),t.prototype.destroy.call(this)},e}(BDt);function Nqt(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Array.from(t))).length,o=[];r<i;)e=t[r],n&&Uqt(n,e)?++r:(n=Wqt(o=Bqt(o,e)),r=0);return n}function Bqt(t,e){var n,r;if(Hqt(e,t))return[e];for(n=0;n<t.length;++n)if(zqt(e,t[n])&&Hqt(Vqt(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(zqt(Vqt(t[n],t[r]),e)&&zqt(Vqt(t[n],e),t[r])&&zqt(Vqt(t[r],e),t[n])&&Hqt(Gqt(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function zqt(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Uqt(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Hqt(t,e){for(var n=0;n<e.length;++n)if(!Uqt(t,e[n]))return!1;return!0}function Wqt(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Vqt(t[0],t[1]);case 3:return Gqt(t[0],t[1],t[2])}}function Vqt(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,c=e.r,l=o-n,u=a-r,s=c-i,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*s)/2,y:(r+a+u/f*s)/2,r:(f+i+c)/2}}function Gqt(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,c=e.y,l=e.r,u=n.x,s=n.y,f=n.r,h=r-a,d=r-u,p=i-c,v=i-s,g=l-o,m=f-o,y=r*r+i*i-o*o,b=y-a*a-c*c+l*l,x=y-u*u-s*s+f*f,w=d*p-h*v,S=(p*x-v*b)/(2*w)-r,k=(v*g-p*m)/w,C=(d*b-h*x)/(2*w)-i,O=(h*m-d*g)/w,E=k*k+O*O-1,M=2*(o+S*k+C*O),A=S*S+C*C-o*o,P=-(E?(M+Math.sqrt(M*M-4*E*A))/(2*E):A/M);return{x:r+S+k*P,y:i+C+O*P,r:P}}function Xqt(t,e,n){var r,i,o,a,c=t.x-e.x,l=t.y-e.y,u=c*c+l*l;u?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(u+a-i)/(2*u),o=Math.sqrt(Math.max(0,a/u-r*r)),n.x=t.x-r*c-o*l,n.y=t.y-r*l+o*c):(r=(u+i-a)/(2*u),o=Math.sqrt(Math.max(0,i/u-r*r)),n.x=e.x+r*c-o*l,n.y=e.y+r*l+o*c)):(n.x=e.x+n.r,n.y=e.y)}function qqt(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Yqt(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function $qt(t){this._=t,this.next=null,this.previous=null}function Kqt(t){if(!(i=(t=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var e,n,r,i,o,a,c,l,u,s,f;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Xqt(n,e,r=t[2]),e=new $qt(e),n=new $qt(n),r=new $qt(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(c=3;c<i;++c){Xqt(e._,n._,r=t[c]),r=new $qt(r),l=n.next,u=e.previous,s=n._.r,f=e._.r;do{if(s<=f){if(qqt(l._,r._)){n=l,e.next=n,n.previous=e,--c;continue t}s+=l._.r,l=l.next}else{if(qqt(u._,r._)){(e=u).next=n,n.previous=e,--c;continue t}f+=u._.r,u=u.previous}}while(l!==u.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=Yqt(e);(r=r.next)!==n;)(a=Yqt(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Nqt(e),c=0;c<i;++c)(e=t[c]).x-=r.x,e.y-=r.y;return r.r}function Jqt(t){return Kqt(t),t}function Qqt(t){if("function"!=typeof t)throw new Error;return t}function tYt(){return 0}function eYt(t){return function(){return t}}function nYt(t){return Math.sqrt(t.value)}function rYt(){var t=null,e=1,n=1,r=tYt;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(iYt(t)).eachAfter(oYt(r,.5)).eachBefore(aYt(1)):i.eachBefore(iYt(nYt)).eachAfter(oYt(tYt,1)).eachAfter(oYt(r,i.r/Math.min(e,n))).eachBefore(aYt(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=null==(n=e)?null:Qqt(n),i):t;var n},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:eYt(+t),i):r},i}function iYt(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function oYt(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,c=t(n)*e||0;if(c)for(i=0;i<a;++i)r[i].r+=c;if(o=Kqt(r),c)for(i=0;i<a;++i)r[i].r-=c;n.r=o+c}}}function aYt(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function cYt(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function lYt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return uYt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uYt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function uYt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sYt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return fYt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fYt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function fYt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hYt=q().mark(dYt);function dYt(){var t,e,n,r,i,o;return q().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=[t=this];case 1:e=n.reverse(),n=[];case 2:if(!(t=e.pop())){a.next=8;break}return a.next=5,t;case 5:if(r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);a.next=2;break;case 8:if(n.length){a.next=1;break}case 9:case"end":return a.stop()}}),hYt,this)}function pYt(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=gYt)):void 0===e&&(e=vYt);for(var n,r,i,o,a,c=new bYt(t),l=[c];n=l.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)l.push(r=i[o]=new bYt(i[o])),r.parent=n,r.depth=n.depth+1;return c.eachBefore(yYt)}function vYt(t){return t.children}function gYt(t){return Array.isArray(t)?t[1]:null}function mYt(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function yYt(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function bYt(t){this.data=t,this.depth=this.height=0,this.parent=null}bYt.prototype=pYt.prototype=(0,V.Z)({constructor:bYt,count:function(){return this.eachAfter(cYt)},each:function(t,e){var n,r=-1,i=lYt(this);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.call(e,o,++r,this)}}catch(a){i.e(a)}finally{i.f()}return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],c=[],l=-1;o=a.pop();)if(c.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=c.pop();)t.call(e,o,++l,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){var n,r=-1,i=sYt(this);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(t.call(e,o,++r,this))return o}}catch(a){i.e(a)}finally{i.f()}},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return pYt(this).eachBefore(mYt)}},Symbol.iterator,dYt);var xYt="nodeIndex",wYt="childNodeCount",SYt="nodeAncestor",kYt="Invalid field: it must be a string!";function CYt(t,e){var n=t.field,r=t.fields;if((0,tOt.HD)(n))return n;if((0,tOt.kJ)(n))return console.warn(kYt),n[0];if(console.warn("".concat(kYt," will try to get fields instead.")),(0,tOt.HD)(r))return r;if((0,tOt.kJ)(r)&&r.length)return r[0];if(e)return e;throw new TypeError(kYt)}function OYt(t){var e,n,r=[];t&&t.each?t.each((function(t){var i,o;t.parent!==e?(e=t.parent,n=0):n+=1;var a=(0,tOt.hX)(((null===(i=t.ancestors)||void 0===i?void 0:i.call(t))||[]).map((function(t){return r.find((function(e){return e.name===t.name}))||t})),(function(e){var n=e.depth;return n>0&&n<t.depth}));t[SYt]=a,t[wYt]=(null===(o=t.children)||void 0===o?void 0:o.length)||0,t[xYt]=n,r.push(t)})):t&&t.eachNode&&t.eachNode((function(t){r.push(t)}));return r}var EYt={field:"value",as:["x","y","r"],sort:function(t,e){return e.value-t.value}};function MYt(t){var e=t.data,n=t.hierarchyConfig,r=t.rawFields,i=void 0===r?[]:r,o=t.enableDrillDown,a=function(t,e){var n,r=(e=(0,tOt.f0)({},EYt,e)).as;if(!(0,tOt.kJ)(r)||3!==r.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{n=CYt(e)}catch(F2t){console.warn(F2t)}var i=function(t){return rYt().size(e.size).padding(e.padding)(pYt(t).sum((function(t){return t[n]})).sort(e.sort))}(t),o=r[0],a=r[1],c=r[2];return i.each((function(t){t[o]=t.x,t[a]=t.y,t[c]=t.r})),OYt(i)}(e,(0,QCt.pi)((0,QCt.pi)({},n),{field:"value",as:["x","y","r"]})),c=[];return a.forEach((function(t){for(var e,r=t.data.name,a=(0,QCt.pi)({},t);a.depth>1;)r="".concat(null===(e=a.parent.data)||void 0===e?void 0:e.name," / ").concat(r),a=a.parent;if(o&&t.depth>2)return null;var l=TUt({},t.data,(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({},SUt(t.data,i)),{path:r}),t));l.ext=n,l[Rqt]={hierarchyConfig:n,rawFields:i,enableDrillDown:o},c.push(l)})),c}function AYt(t,e,n){var r=UUt([t,e]),i=r[0],o=r[1],a=r[2],c=r[3],l=n.width-(c+o),u=n.height-(i+a),s=Math.min(l,u),f=(l-s)/2,h=(u-s)/2;return{finalPadding:[i+h,o+f,a+h,c+f],finalSize:s<0?0:s}}function PYt(t){var e=t.chart,n=Math.min(e.viewBBox.width,e.viewBBox.height);return TUt({options:{size:function(t){return t.r*n}}},t)}function _Yt(t){var e=t.options,n=t.chart,r=n.viewBBox,i=e.padding,o=e.appendPadding,a=e.drilldown,c=o;(null==a?void 0:a.enabled)&&(c=UUt([zUt(n.appendPadding,(0,tOt.U2)(a,["breadCrumb","position"])),o]));var l=AYt(i,c,r).finalPadding;return n.padding=l,n.appendPadding=0,t}function DYt(t){var e=t.chart,n=t.options,r=e.padding,i=e.appendPadding,o=n.color,a=n.colorField,c=n.pointStyle,l=n.hierarchyConfig,u=n.sizeField,s=n.rawFields,f=void 0===s?[]:s,h=n.drilldown,d=MYt({data:n.data,hierarchyConfig:l,enableDrillDown:null==h?void 0:h.enabled,rawFields:f});e.data(d);var p=AYt(r,i,e.viewBBox).finalSize,v=function(t){return t.r*p};return u&&(v=function(t){return t[u]*p}),NHt(TUt({},t,{options:{xField:"x",yField:"y",seriesField:a,sizeField:u,rawFields:(0,QCt.ev)((0,QCt.ev)([],Zqt,!0),f,!0),point:{color:o,style:c,shape:"circle",size:v}}})),t}function TYt(t){return FUt(kHt({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(t)}function ZYt(t){var e=t.chart,n=t.options.tooltip;if(!1===n)e.tooltip(!1);else{var r=n;(0,tOt.U2)(n,"fields")||(r=TUt({},{customItems:function(t){return t.map((function(t){var n=(0,tOt.U2)(e.getOptions(),"scales"),r=(0,tOt.U2)(n,["name","formatter"],(function(t){return t})),i=(0,tOt.U2)(n,["value","formatter"],(function(t){return t}));return(0,QCt.pi)((0,QCt.pi)({},t),{name:r(t.data.name),value:i(t.data.value)})}))}},r)),e.tooltip(r)}return t}function FYt(t){return t.chart.axis(!1),t}function jYt(t){var e=t.drilldown,n=t.interactions,r=void 0===n?[]:n;return(null==e?void 0:e.enabled)?TUt({},t,{interactions:(0,QCt.ev)((0,QCt.ev)([],r,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:MYt,enableDrillDown:!0}}],!1)}):t}function IYt(t){return mHt({chart:t.chart,options:jYt(t.options)}),t}function RYt(t){return FUt(pHt("pointStyle"),PYt,_Yt,bHt,TYt,DYt,FYt,vHt,ZYt,IYt,yHt,CHt())(t)}function LYt(t){var e=(0,tOt.U2)(t,["event","data","data"],{});return(0,tOt.kJ)(e.children)&&e.children.length>0}function NYt(t){var e=t.view.getCoordinate(),n=e.innerRadius;if(n){var r=t.event,i=r.x,o=r.y,a=e.center,c=a.x,l=a.y,u=e.getRadius()*n;return Math.sqrt(Math.pow(c-i,2)+Math.pow(l-o,2))<u}return!1}VDt("drill-down-action",Lqt),zTt("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:LYt},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:NYt}],start:[{trigger:"element:click",isEnable:LYt,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:NYt,action:["drill-down-action:back"]}]});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle-packing",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return Fqt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return RYt},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}(VHt);var BYt,zYt,UYt="left-axes-view",HYt="right-axes-view",WYt={nice:!0,label:{autoHide:!0,autoRotate:!1}},VYt=(0,QCt.pi)((0,QCt.pi)({},WYt),{position:"left"}),GYt=(0,QCt.pi)((0,QCt.pi)({},WYt),{position:"right",grid:null});function XYt(t){return(0,tOt.U2)(t,"geometry")===zYt.Line}function qYt(t){return(0,tOt.U2)(t,"geometry")===zYt.Column}function YYt(t,e,n){return qYt(n)?TUt({},{geometry:zYt.Column,label:n.label&&n.isRange?{content:function(t){var n;return null===(n=t[e])||void 0===n?void 0:n.join("-")}}:void 0},n):(0,QCt.pi)({geometry:zYt.Line},n)}function $Yt(t,e){var n=t[0],r=t[1];return(0,tOt.kJ)(e)?[e[0],e[1]]:[(0,tOt.U2)(e,n),(0,tOt.U2)(e,r)]}function KYt(t,e){return e===BYt.Left?!1!==t&&TUt({},VYt,t):e===BYt.Right?!1!==t&&TUt({},GYt,t):t}function JYt(t){var e=t.view,n=t.geometryOption,r=t.yField,i=t.legend,o=(0,tOt.U2)(i,"marker"),a=jUt(e,XYt(n)?"line":"interval");if(!n.seriesField){var c=(0,tOt.U2)(e,"options.scales.".concat(r,".alias"))||r,l=a.getAttribute("color"),u=e.getTheme().defaultColor;l&&(u=IFt.getMappingValue(l,c,(0,tOt.U2)(l,["values",0],u)));var s=((0,tOt.mf)(o)?o:!(0,tOt.xb)(o)&&TUt({},{style:{stroke:u,fill:u}},o))||(XYt(n)?{symbol:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},style:{lineWidth:2,r:6,stroke:u}}:{symbol:"square",style:{fill:u}});return[{value:r,name:c,marker:s,isGeometry:!0,viewId:e.id}]}var f=a.getGroupAttributes();return(0,tOt.u4)(f,(function(t,n){var r=IFt.getLegendItems(e,a,n,e.getTheme(),o);return t.concat(r)}),[])}!function(t){t.Left="Left",t.Right="Right"}(BYt||(BYt={})),function(t){t.Line="line",t.Column="column"}(zYt||(zYt={}));var QYt=function(t,e){var n=e[0],r=e[1],i=t.getOptions().data,o=t.getXScale(),a=(0,tOt.dp)(i);if(o&&a){var c=(0,tOt.I)(i,o.field),l=c,u=(0,tOt.dp)(l),s=Math.floor(n*(u-1)),f=Math.floor(r*(u-1));t.filter(o.field,(function(t){var e=l.indexOf(t);return!(e>-1)||function(t,e,n){var r=Math.min(e,n),i=Math.max(e,n);return t>=r&&t<=i}(e,s,f)})),t.getRootView().render(!0)}};function t$t(t){var e,n=t.options,r=n.geometryOptions,i=void 0===r?[]:r,o=n.xField,a=n.yField,c=(0,tOt.yW)(i,(function(t){var e=t.geometry;return e===zYt.Line||void 0===e}));return TUt({},{options:{geometryOptions:[],meta:(e={},e[o]={type:"cat",sync:!0,range:c?[0,1]:void 0},e),tooltip:{showMarkers:c,showCrosshairs:c,shared:!0,crosshairs:{type:"x"}},interactions:c?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},t,{options:{yAxis:$Yt(a,n.yAxis),geometryOptions:[YYt(0,a[0],i[0]),YYt(0,a[1],i[1])],annotations:$Yt(a,n.annotations)}})}function e$t(t){var e,n,r=t.chart,i=t.options.geometryOptions,o={line:0,column:1};return[{type:null===(e=i[0])||void 0===e?void 0:e.geometry,id:UYt},{type:null===(n=i[1])||void 0===n?void 0:n.geometry,id:HYt}].sort((function(t,e){return-o[t.type]+o[e.type]})).forEach((function(t){return r.createView({id:t.id})})),t}function n$t(t){var e=t.chart,n=t.options,r=n.xField,i=n.yField,o=n.geometryOptions,a=n.data,c=n.tooltip;return[(0,QCt.pi)((0,QCt.pi)({},o[0]),{id:UYt,data:a[0],yField:i[0]}),(0,QCt.pi)((0,QCt.pi)({},o[1]),{id:HYt,data:a[1],yField:i[1]})].forEach((function(t){var n=t.id,i=t.data,o=t.yField,a=qYt(t)&&t.isPercent,l=a?GHt(i,o,r,o):i,u=KUt(e,n).data(l),s=a?(0,QCt.pi)({formatter:function(e){return{name:e[t.seriesField]||o,value:(100*Number(e[o])).toFixed(2)+"%"}}},c):c;!function(t){var e=t.options,n=t.chart,r=e.geometryOption,i=r.isStack,o=r.color,a=r.seriesField,c=r.groupField,l=r.isGroup,u=["xField","yField"];if(XYt(r)){LHt(TUt({},t,{options:(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({},SUt(e,u)),r),{line:{color:r.color,style:r.lineStyle}})})),NHt(TUt({},t,{options:(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({},SUt(e,u)),r),{point:r.point&&(0,QCt.pi)({color:o,shape:"circle"},r.point)})}));var s=[];l&&s.push({type:"dodge",dodgeBy:c||a,customOffset:0}),i&&s.push({type:"stack"}),s.length&&(0,tOt.S6)(n.geometries,(function(t){t.adjust(s)}))}qYt(r)&&MWt(TUt({},t,{options:(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({},SUt(e,u)),r),{widthRatio:r.columnWidthRatio,interval:(0,QCt.pi)((0,QCt.pi)({},SUt(r,["color"])),{style:r.columnStyle})})}))}({chart:u,options:{xField:r,yField:o,tooltip:s,geometryOption:t}})})),t}function r$t(t){var e,n=t.chart,r=t.options.geometryOptions,i=(null===(e=n.getTheme())||void 0===e?void 0:e.colors10)||[],o=0;return n.once("beforepaint",(function(){(0,tOt.S6)(r,(function(t,e){var r=KUt(n,0===e?UYt:HYt);if(!t.color){var a=r.getGroupScales(),c=(0,tOt.U2)(a,[0,"values","length"],1),l=i.slice(o,o+c).concat(0===e?[]:i);r.geometries.forEach((function(e){t.seriesField?e.color(t.seriesField,l):e.color(l[0])})),o+=c}})),n.render(!0)})),t}function i$t(t){var e,n,r=t.chart,i=t.options,o=i.xAxis,a=i.yAxis,c=i.xField,l=i.yField;return kHt(((e={})[c]=o,e[l[0]]=a[0],e))(TUt({},t,{chart:KUt(r,UYt)})),kHt(((n={})[c]=o,n[l[1]]=a[1],n))(TUt({},t,{chart:KUt(r,HYt)})),t}function o$t(t){var e=t.chart,n=t.options,r=KUt(e,UYt),i=KUt(e,HYt),o=n.xField,a=n.yField,c=n.xAxis,l=n.yAxis;return e.axis(o,!1),e.axis(a[0],!1),e.axis(a[1],!1),r.axis(o,c),r.axis(a[0],KYt(l[0],BYt.Left)),i.axis(o,!1),i.axis(a[1],KYt(l[1],BYt.Right)),t}function a$t(t){var e=t.chart,n=t.options.tooltip,r=KUt(e,UYt),i=KUt(e,HYt);return e.tooltip(n),r.tooltip({shared:!0}),i.tooltip({shared:!0}),t}function c$t(t){var e=t.chart;return mHt(TUt({},t,{chart:KUt(e,UYt)})),mHt(TUt({},t,{chart:KUt(e,HYt)})),t}function l$t(t){var e=t.chart,n=t.options.annotations,r=(0,tOt.U2)(n,[0]),i=(0,tOt.U2)(n,[1]);return CHt(r)(TUt({},t,{chart:KUt(e,UYt),options:{annotations:r}})),CHt(i)(TUt({},t,{chart:KUt(e,HYt),options:{annotations:i}})),t}function u$t(t){var e=t.chart;return bHt(TUt({},t,{chart:KUt(e,UYt)})),bHt(TUt({},t,{chart:KUt(e,HYt)})),bHt(t),t}function s$t(t){var e=t.chart;return yHt(TUt({},t,{chart:KUt(e,UYt)})),yHt(TUt({},t,{chart:KUt(e,HYt)})),t}function f$t(t){var e=t.chart,n=t.options.yAxis;return OHt(TUt({},t,{chart:KUt(e,UYt),options:{yAxis:n[0]}})),OHt(TUt({},t,{chart:KUt(e,HYt),options:{yAxis:n[1]}})),t}function h$t(t){var e=t.chart,n=t.options,r=n.legend,i=n.geometryOptions,o=n.yField,a=n.data,c=KUt(e,UYt),l=KUt(e,HYt);if(!1===r)e.legend(!1);else if((0,tOt.Kn)(r)&&!0===r.custom)e.legend(r);else{var u=(0,tOt.U2)(i,[0,"legend"],r),s=(0,tOt.U2)(i,[1,"legend"],r);e.once("beforepaint",(function(){var t=a[0].length?JYt({view:c,geometryOption:i[0],yField:o[0],legend:u}):[],n=a[1].length?JYt({view:l,geometryOption:i[1],yField:o[1],legend:s}):[];e.legend(TUt({},r,{custom:!0,items:t.concat(n)}))})),i[0].seriesField&&c.legend(i[0].seriesField,u),i[1].seriesField&&l.legend(i[1].seriesField,s),e.on("legend-item:click",(function(t){var n=(0,tOt.U2)(t,"gEvent.delegateObject",{});if(n&&n.item){var r=n.item,i=r.value,a=r.isGeometry,c=r.viewId;if(a){if((0,tOt.cx)(o,(function(t){return t===i}))>-1){var l=(0,tOt.U2)(KUt(e,c),"geometries");(0,tOt.S6)(l,(function(t){t.changeVisible(!n.item.unchecked)}))}}else{var u=(0,tOt.U2)(e.getController("legend"),"option.items",[]);(0,tOt.S6)(e.views,(function(t){var n=t.getGroupScales();(0,tOt.S6)(n,(function(e){e.values&&e.values.indexOf(i)>-1&&t.filter(e.field,(function(t){return!(0,tOt.sE)(u,(function(e){return e.value===t})).unchecked}))})),e.render(!0)}))}}}))}return t}function d$t(t){var e=t.chart,n=t.options.slider,r=KUt(e,UYt),i=KUt(e,HYt);return n&&(r.option("slider",n),r.on("slider:valuechanged",(function(t){var e=t.event,n=e.value,r=e.originValue;(0,tOt.Xy)(n,r)||QYt(i,n)})),e.once("afterpaint",(function(){if(!(0,tOt.jn)(n)){var t=n.start,e=n.end;(t||e)&&QYt(i,[t,e])}}))),t}function p$t(t){return FUt(t$t,e$t,u$t,n$t,i$t,o$t,f$t,a$t,c$t,l$t,s$t,r$t,h$t,d$t)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dual-axes",e}(0,QCt.ZT)(e,t),e.prototype.getDefaultOptions=function(){return TUt({},t.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},e.prototype.getSchemaAdaptor=function(){return p$t}}(VHt);function v$t(t){var e=t.chart,n=t.options,r=n.type,i=n.data,o=n.fields,a=n.eachView,c=(0,tOt.CE)(n,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return e.data(i),e.facet(r,(0,QCt.pi)((0,QCt.pi)({},c),{fields:o,eachView:function(t,e){var n=a(t,e);if(n.geometries)!function(t,e){var n=e.data,r=e.coordinate,i=e.interactions,o=e.annotations,a=e.animation,c=e.tooltip,l=e.axes,u=e.meta,s=e.geometries;n&&t.data(n);var f={};l&&(0,tOt.S6)(l,(function(t,e){f[e]=SUt(t,yUt)})),f=TUt({},u,f),t.scale(f),r&&t.coordinate(r),!1===l?t.axis(!1):(0,tOt.S6)(l,(function(e,n){t.axis(n,e)})),(0,tOt.S6)(s,(function(e){var n=FHt({chart:t,options:e}).ext,r=e.adjust;r&&n.geometry.adjust(r)})),(0,tOt.S6)(i,(function(e){!1===e.enable?t.removeInteraction(e.type):t.interaction(e.type,e.cfg)})),(0,tOt.S6)(o,(function(e){t.annotation()[e.type]((0,QCt.pi)({},e))})),tHt(t,a),c?(t.interaction("tooltip"),t.tooltip(c)):!1===c&&t.removeInteraction("tooltip")}(t,n);else{var r=n,i=r.options;i.tooltip&&t.interaction("tooltip"),EXt(r.type,t,i)}}})),t}function g$t(t){var e=t.chart,n=t.options,r=n.axes,i=n.meta,o=n.tooltip,a=n.coordinate,c=n.theme,l=n.legend,u=n.interactions,s=n.annotations,f={};return r&&(0,tOt.S6)(r,(function(t,e){f[e]=SUt(t,yUt)})),f=TUt({},i,f),e.scale(f),e.coordinate(a),r?(0,tOt.S6)(r,(function(t,n){e.axis(n,t)})):e.axis(!1),o?(e.interaction("tooltip"),e.tooltip(o)):!1===o&&e.removeInteraction("tooltip"),e.legend(l),c&&e.theme(c),(0,tOt.S6)(u,(function(t){!1===t.enable?e.removeInteraction(t.type):e.interaction(t.type,t.cfg)})),(0,tOt.S6)(s,(function(t){e.annotation()[t.type]((0,QCt.pi)({},t))})),t}function m$t(t){return FUt(bHt,v$t,g$t)(t)}var y$t={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}};!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return y$t},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return m$t}}(VHt);function b$t(t){var e=t.chart,n=t.options,r=n.data,i=n.type,o=n.xField,a=n.yField,c=n.colorField,l=n.sizeField,u=n.sizeRatio,s=n.shape,f=n.color,h=n.tooltip,d=n.heatmapStyle,p=n.meta;e.data(r);var v="polygon";"density"===i&&(v="heatmap");var g=DHt(h,[o,a,c]),m=g.fields,y=g.formatter,b=1;return(u||0===u)&&(s||l?u<0||u>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):b=u:console.warn("sizeRatio is not in effect: Must define shape or sizeField first")),FHt(TUt({},t,{options:{type:v,colorField:c,tooltipFields:m,shapeField:l||"",label:void 0,mapping:{tooltip:y,shape:s&&(l?function(t){var e=r.map((function(t){return t[l]})),n=(null==p?void 0:p[l])||{},i=n.min,o=n.max;return i=(0,tOt.hj)(i)?i:Math.min.apply(Math,e),o=(0,tOt.hj)(o)?o:Math.max.apply(Math,e),[s,((0,tOt.U2)(t,l)-i)/(o-i),b]}:function(){return[s,1,b]}),color:f||c&&e.getTheme().sequenceColors.join("-"),style:d}}})),t}function x$t(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return FUt(kHt(((e={})[o]=r,e[a]=i,e)))(t)}function w$t(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?e.axis(a,!1):e.axis(a,i),t}function S$t(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField,o=n.sizeField,a=n.sizeLegend,c=!1!==r;return i&&e.legend(i,!!c&&r),o&&e.legend(o,void 0===a?r:a),c||a||e.legend(!1),t}function k$t(t){var e=t.chart,n=t.options,r=n.label,i=n.colorField,o=jUt(e,"density"===n.type?"heatmap":"polygon");if(r){if(i){var a=r.callback,c=(0,QCt._T)(r,["callback"]);o.label({fields:[i],callback:a,cfg:LUt(c)})}}else o.label(!1);return t}function C$t(t){var e,n,r=t.chart,i=t.options,o=i.coordinate,a=i.reflect,c=TUt({actions:[]},null!=o?o:{type:"rect"});return a&&(null===(n=null===(e=c.actions)||void 0===e?void 0:e.push)||void 0===n||n.call(e,["reflect",a])),r.coordinate(c),t}function O$t(t){return FUt(bHt,pHt("heatmapStyle"),x$t,C$t,b$t,w$t,S$t,gHt,k$t,CHt(),mHt,yHt,xHt)(t)}var E$t=TUt({},VHt.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});JZt("polygon","circle",{draw:function(t,e){var n,r,i=t.x,o=t.y,a=this.parsePoints(t.points),c=Math.abs(a[2].x-a[1].x),l=Math.abs(a[1].y-a[0].y),u=Math.min(c,l)/2,s=Number(t.shape[1]),f=Number(t.shape[2]),h=u*Math.sqrt(f)*Math.sqrt(s),d=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(r=t.defaultStyle)||void 0===r?void 0:r.fill);return e.addShape("circle",{attrs:(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({x:i,y:o,r:h},t.defaultStyle),t.style),{fill:d})})}}),JZt("polygon","square",{draw:function(t,e){var n,r,i=t.x,o=t.y,a=this.parsePoints(t.points),c=Math.abs(a[2].x-a[1].x),l=Math.abs(a[1].y-a[0].y),u=Math.min(c,l),s=Number(t.shape[1]),f=Number(t.shape[2]),h=u*Math.sqrt(f)*Math.sqrt(s),d=(null===(n=t.style)||void 0===n?void 0:n.fill)||t.color||(null===(r=t.defaultStyle)||void 0===r?void 0:r.fill);return e.addShape("rect",{attrs:(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({x:i-h/2,y:o-h/2,width:h,height:h},t.defaultStyle),t.style),{fill:d})})}});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return E$t},e.prototype.getSchemaAdaptor=function(){return O$t},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(VHt);var M$t="liquid";function A$t(t){return[{percent:t,type:M$t}]}function P$t(t){var e=t.chart,n=t.options,r=n.percent,i=n.liquidStyle,o=n.radius,a=n.outline,c=n.wave,l=n.shape,u=n.shapeStyle,s=n.animation;e.scale({percent:{min:0,max:1}}),e.data(A$t(r));var f=n.color||e.getTheme().defaultColor,h=RHt(TUt({},t,{options:{xField:"type",yField:"percent",widthRatio:o,interval:{color:f,style:i,shape:"liquid-fill-gauge"}}})).ext.geometry,d={percent:r,radius:o,outline:a,wave:c,shape:l,shapeStyle:u,background:e.getTheme().background,animation:s};return h.customInfo(d),e.legend(!1),e.axis(!1),e.tooltip(!1),t}function _$t(t,e){var n=t.chart,r=t.options,i=r.statistic,o=r.percent,a=r.meta;n.getController("annotation").clear(!0);var c=(0,tOt.U2)(a,["percent","formatter"])||function(t){return"".concat((100*t).toFixed(2),"%")},l=i.content;return l&&(l=TUt({},l,{content:(0,tOt.UM)(l.content)?c(o):l.content})),qUt(n,{statistic:(0,QCt.pi)((0,QCt.pi)({},i),{content:l}),plotType:"liquid"},{percent:o}),e&&n.render(!0),t}function D$t(t){return FUt(bHt,pHt("liquidStyle"),P$t,_$t,kHt({}),yHt,mHt)(t)}var T$t={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"};function Z$t(t,e,n){return t+(e-t)*n}function F$t(t,e,n,r){return 0===e?[[t+.5*n/Math.PI/2,r/2],[t+.5*n/Math.PI,r],[t+n/4,r]]:1===e?[[t+.5*n/Math.PI/2*(Math.PI-2),r],[t+.5*n/Math.PI/2*(Math.PI-1),r/2],[t+n/4,0]]:2===e?[[t+.5*n/Math.PI/2,-r/2],[t+.5*n/Math.PI,-r],[t+n/4,-r]]:[[t+.5*n/Math.PI/2*(Math.PI-2),-r],[t+.5*n/Math.PI/2*(Math.PI-1),-r/2],[t+n/4,0]]}function j$t(t,e,n,r,i,o,a){for(var c=4*Math.ceil(2*t/n*4),l=[],u=r;u<2*-Math.PI;)u+=2*Math.PI;for(;u>0;)u-=2*Math.PI;var s=o-t+(u=u/Math.PI/2*n)-2*t;l.push(["M",s,e]);for(var f=0,h=0;h<c;++h){var d=F$t(h*n/4,h%4,n,i);l.push(["C",d[0][0]+s,-d[0][1]+e,d[1][0]+s,-d[1][1]+e,d[2][0]+s,-d[2][1]+e]),h===c-1&&(f=d[2][0])}return l.push(["L",f+s,a+t]),l.push(["L",s,a+t]),l.push(["Z"]),l}var I$t={pin:function(t,e,n,r){var i=2*n/3,o=Math.max(i,r),a=i/2,c=t,l=a+e-o/2,u=Math.asin(a/(.85*(o-a))),s=Math.sin(u)*a,f=Math.cos(u)*a,h=c-f,d=l+s,p=t,v=l+a/Math.sin(u);return"\n      M ".concat(h," ").concat(d,"\n      A ").concat(a," ").concat(a," 0 1 1 ").concat(h+2*f," ").concat(d,"\n      Q ").concat(p," ").concat(v," ").concat(t," ").concat(e+o/2,"\n      Q ").concat(p," ").concat(v," ").concat(h," ").concat(d,"\n      Z \n    ")},circle:function(t,e,n,r){var i=n/2,o=r/2;return"\n      M ".concat(t," ").concat(e-o," \n      a ").concat(i," ").concat(o," 0 1 0 0 ").concat(2*o,"\n      a ").concat(i," ").concat(o," 0 1 0 0 ").concat(2*-o,"\n      Z\n    ")},diamond:function(t,e,n,r){var i=r/2,o=n/2;return"\n      M ".concat(t," ").concat(e-i,"\n      L ").concat(t+o," ").concat(e,"\n      L ").concat(t," ").concat(e+i,"\n      L ").concat(t-o," ").concat(e,"\n      Z\n    ")},triangle:function(t,e,n,r){var i=r/2,o=n/2;return"\n      M ".concat(t," ").concat(e-i,"\n      L ").concat(t+o," ").concat(e+i,"\n      L ").concat(t-o," ").concat(e+i,"\n      Z\n    ")},rect:function(t,e,n,r){var i=r/2,o=n/2*.618;return"\n      M ".concat(t-o," ").concat(e-i,"\n      L ").concat(t+o," ").concat(e-i,"\n      L ").concat(t+o," ").concat(e+i,"\n      L ").concat(t-o," ").concat(e+i,"\n      Z\n    ")}};JZt("interval","liquid-fill-gauge",{draw:function(t,e){var n=t.customInfo,r=n,i=r.percent,o=r.radius,a=r.shape,c=r.shapeStyle,l=r.background,u=r.animation,s=n.outline,f=n.wave,h=s.border,d=s.distance,p=f.count,v=f.length,g=(0,tOt.u4)(t.points,(function(t,e){return Math.min(t,e.x)}),1/0),m=this.parsePoint({x:.5,y:.5}),y=this.parsePoint({x:g,y:.5}),b=m.x-y.x,x=Math.min(b,y.y*o),w=function(t){var e=(0,QCt.pi)({opacity:1},t.style);return t.color&&!e.fill&&(e.fill=t.color),e}(t),S=function(t){var e=(0,tOt.CD)({},{fill:"#fff",fillOpacity:0,lineWidth:4},t.style);return t.color&&!e.stroke&&(e.stroke=t.color),(0,tOt.hj)(t.opacity)&&(e.opacity=e.strokeOpacity=t.opacity),e}((0,tOt.CD)({},t,s)),k=x-h/2,C=("function"==typeof a?a:I$t[a]||I$t.circle)(m.x,m.y,2*k,2*k);if(c&&e.addShape("path",{name:"shape",attrs:(0,QCt.pi)({path:C},c)}),i>0){var O=e.addGroup({name:"waves"}),E=O.setClip({type:"path",attrs:{path:C}});!function(t,e,n,r,i,o,a,c,l,u){for(var s=i.fill,f=i.opacity,h=a.getBBox(),d=h.maxX-h.minX,p=h.maxY-h.minY,v=0;v<r;v++){var g=r<=1?1:v/(r-1),m=o.addShape("path",{name:"waterwave-path",attrs:{path:j$t(c,h.minY+p*n,l,0,d/32,t,e),fill:s,opacity:Z$t(.2,.9,g)*f}});try{if(!1===u)return;var y=eGt([["t",l,0]]);m.stopAnimate(),m.animate({matrix:y},{duration:Z$t(2500,5e3,g),repeat:!0})}catch(F2t){console.warn("off-screen group animate error!")}}}(m.x,m.y,1-t.points[1].y,p,w,O,E,2*x,v,u)}return e.addShape("path",{name:"distance",attrs:{path:C,fill:"transparent",lineWidth:h+2*d,stroke:"transparent"===l?"#fff":l}}),e.addShape("path",{name:"wrap",attrs:(0,tOt.CD)(S,{path:C,fill:"transparent",lineWidth:h})}),e}});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="liquid",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return T$t},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.chart.emit(eOt.BEFORE_CHANGE_DATA,xZt.fromData(this.chart,eOt.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(A$t(t)),_$t({chart:this.chart,options:this.options},!0),this.chart.emit(eOt.AFTER_CHANGE_DATA,xZt.fromData(this.chart,eOt.AFTER_CHANGE_DATA,null))},e.prototype.getSchemaAdaptor=function(){return D$t}}(VHt);function R$t(t){var e=t.chart,n=t.options,r=n.data,i=n.lineStyle,o=n.color,a=n.point,c=n.area;e.data(r);var l=TUt({},t,{options:{line:{style:i,color:o},point:a?(0,QCt.pi)({color:o},a):a,area:c?(0,QCt.pi)({color:o},c):c,label:void 0}}),u=TUt({},l,{options:{tooltip:!1}}),s=(null==a?void 0:a.state)||n.state,f=TUt({},l,{options:{tooltip:!1,state:s}});return LHt(l),NHt(f),jHt(u),t}function L$t(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return FUt(kHt(((e={})[o]=r,e[a]=i,e)))(t)}function N$t(t){var e=t.chart,n=t.options,r=n.radius,i=n.startAngle,o=n.endAngle;return e.coordinate("polar",{radius:r,startAngle:i,endAngle:o}),t}function B$t(t){var e=t.chart,n=t.options,r=n.xField,i=n.xAxis,o=n.yField,a=n.yAxis;return e.axis(r,i),e.axis(o,a),t}function z$t(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=jUt(e,"line");if(r){var a=r.callback,c=(0,QCt._T)(r,["callback"]);o.label({fields:[i],callback:a,cfg:LUt(c)})}else o.label(!1);return t}function U$t(t){return FUt(R$t,L$t,bHt,N$t,B$t,vHt,gHt,z$t,mHt,yHt,CHt())(t)}var H$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(e){var n=this.getTooltipCfg(),r=n.shared,i=n.title,o=t.prototype.getTooltipItems.call(this,e);if(o.length>0){var a=this.view.geometries[0],c=a.dataArray,l=o[0].name,u=[];return c.forEach((function(t){t.forEach((function(t){var e=IFt.getTooltipItems(t,a)[0];if(!r&&e&&e.name===l){var n=(0,tOt.UM)(i)?l:i;u.push((0,QCt.pi)((0,QCt.pi)({},e),{name:e.title,title:n}))}else if(r&&e){n=(0,tOt.UM)(i)?e.name||l:i;u.push((0,QCt.pi)((0,QCt.pi)({},e),{name:e.title,title:n}))}}))})),u}return[]},e}(TZt);gZt("radar-tooltip",H$t);var W$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.init=function(){this.context.view.removeInteraction("tooltip")},e.prototype.show=function(){var t=this.context.event;this.getTooltipController().showTooltip({x:t.x,y:t.y})},e.prototype.hide=function(){this.getTooltipController().hideTooltip()},e.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")},e}(BDt);VDt("radar-tooltip",W$t),zTt("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var V$t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radar",e}return(0,QCt.ZT)(e,t),e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return TUt({},t.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return U$t},e}(VHt);function G$t(t,e,n){var r=n.map((function(t){return t[e]})).filter((function(t){return void 0!==t})),i=r.length>0?Math.max.apply(Math,r):0,o=Math.abs(t)%360;return o?360*i/o:i}function X$t(t){var e=t.chart,n=t.options,r=n.barStyle,i=n.color,o=n.tooltip,a=n.colorField,c=n.type,l=n.xField,u=n.yField,s=n.data,f=n.shape,h=OUt(s,u);return e.data(h),RHt(TUt({},t,{options:{tooltip:o,seriesField:a,interval:{style:r,color:i,shape:f||("line"===c?"line":"intervel")},minColumnWidth:n.minBarWidth,maxColumnWidth:n.maxBarWidth,columnBackground:n.barBackground}})),"line"===c&&NHt({chart:e,options:{xField:l,yField:u,seriesField:a,point:{shape:"circle",color:i}}}),t}function q$t(t){var e,n=t.options,r=n.yField,i=n.xField,o=n.data,a=n.isStack,c=n.isGroup,l=n.colorField,u=n.maxAngle,s=a&&!c&&l?function(t,e,n){var r=[];return t.forEach((function(t){var i=r.find((function(n){return n[e]===t[e]}));i?i[n]+=t[n]||null:r.push((0,QCt.pi)({},t))})),r}(o,i,r):o,f=OUt(s,r);return FUt(kHt(((e={})[r]={min:0,max:G$t(u,r,f)},e)))(t)}function Y$t(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:a}}).transpose(),t}function $$t(t){var e=t.chart,n=t.options,r=n.xField,i=n.xAxis;return e.axis(r,i),t}function K$t(t){var e=t.chart,n=t.options,r=n.label,i=n.yField,o=jUt(e,"interval");if(r){var a=r.callback,c=(0,QCt._T)(r,["callback"]);o.label({fields:[i],callback:a,cfg:(0,QCt.pi)((0,QCt.pi)({},LUt(c)),{type:"polar"})})}else o.label(!1);return t}function J$t(t){return FUt(pHt("barStyle"),X$t,q$t,$$t,Y$t,mHt,yHt,bHt,gHt,vHt,CHt(),K$t)(t)}var Q$t=TUt({},VHt.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radial-bar",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return Q$t},e.prototype.changeData=function(t){this.updateOption({data:t}),q$t({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return J$t}}(VHt);function tKt(t){var e=t.chart,n=t.options,r=n.data,i=n.sectorStyle,o=n.shape,a=n.color;return e.data(r),FUt(RHt)(TUt({},t,{options:{marginRatio:1,interval:{style:i,color:a,shape:o}}})),t}function eKt(t){var e=t.chart,n=t.options,r=n.label,i=n.xField,o=jUt(e,"interval");if(!1===r)o.label(!1);else if((0,tOt.Kn)(r)){var a=r.callback,c=r.fields,l=(0,QCt._T)(r,["callback","fields"]),u=l.offset,s=l.layout;(void 0===u||u>=0)&&(s=s?(0,tOt.kJ)(s)?s:[s]:[],l.layout=(0,tOt.hX)(s,(function(t){return"limit-in-shape"!==t.type})),l.layout.length||delete l.layout),o.label({fields:c||[i],callback:a,cfg:LUt(l)})}else wUt(mUt.WARN,null===r,"the label option must be an Object."),o.label({fields:[i]});return t}function nKt(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField;return!1===r?e.legend(!1):i&&e.legend(i,r),t}function rKt(t){var e=t.chart,n=t.options,r=n.radius,i=n.innerRadius,o=n.startAngle,a=n.endAngle;return e.coordinate({type:"polar",cfg:{radius:r,innerRadius:i,startAngle:o,endAngle:a}}),t}function iKt(t){var e,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return FUt(kHt(((e={})[o]=r,e[a]=i,e)))(t)}function oKt(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return r?e.axis(o,r):e.axis(o,!1),i?e.axis(a,i):e.axis(a,!1),t}function aKt(t){FUt(pHt("sectorStyle"),tKt,iKt,eKt,rKt,oKt,nKt,gHt,mHt,yHt,bHt,CHt(),xHt)(t)}var cKt=TUt({},VHt.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),lKt=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rose",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return cKt},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return aKt}}(VHt),"x"),uKt="y",sKt="name",fKt="nodes",hKt="edges";function dKt(t,e,n){if(!(0,tOt.kJ)(t))return[];var r=[],i=function(t,e,n){var r=[];return t.forEach((function(t){var i=t[e],o=t[n];r.includes(i)||r.push(i),r.includes(o)||r.push(o)})),r}(t,e,n),o=function(t,e,n,r){var i={};return e.forEach((function(t){i[t]={},e.forEach((function(e){i[t][e]=0}))})),t.forEach((function(t){i[t[n]][t[r]]=1})),i}(t,i,e,n),a={};function c(t){a[t]=1,i.forEach((function(e){if(0!=o[t][e])if(1==a[e])r.push("".concat(t,"_").concat(e));else{if(-1==a[e])return;c(e)}})),a[t]=-1}return i.forEach((function(t){a[t]=0})),i.forEach((function(t){-1!=a[t]&&c(t)})),0!==r.length&&console.warn("sankey data contains circle, ".concat(r.length," records removed."),r),t.filter((function(t){return r.findIndex((function(r){return r==="".concat(t[e],"_").concat(t[n])}))<0}))}function pKt(t){return t.target.depth}function vKt(t,e){return t.sourceLinks.length?t.depth:e-1}function gKt(t){return function(){return t}}function mKt(t,e){for(var n=0,r=0;r<t.length;r++)n+=e(t[r]);return n}function yKt(t,e){for(var n=-1/0,r=0;r<t.length;r++)n=Math.max(e(t[r]),n);return n}function bKt(t,e){return wKt(t.source,e.source)||t.index-e.index}function xKt(t,e){return wKt(t.target,e.target)||t.index-e.index}function wKt(t,e){return t.y0-e.y0}function SKt(t){return t.value}function kKt(t){return t.index}function CKt(t){return t.nodes}function OKt(t){return t.links}function EKt(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function MKt(t){for(var e=0,n=t.nodes;e<n.length;e++){for(var r=n[e],i=r.y0,o=i,a=0,c=r.sourceLinks;a<c.length;a++){(s=c[a]).y0=i+s.width/2,i+=s.width}for(var l=0,u=r.targetLinks;l<u.length;l++){var s;(s=u[l]).y1=o+s.width/2,o+=s.width}}}function AKt(){var t,e,n,r,i=0,o=0,a=1,c=1,l=24,u=8,s=kKt,f=vKt,h=CKt,d=OKt,p=6;function v(v){var y={nodes:h(v),links:d(v)};return function(t){var e=t.nodes,n=t.links;e.forEach((function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]}));var i=new Map(e.map((function(t){return[s(t),t]})));if(n.forEach((function(t,e){t.index=e;var n=t.source,r=t.target;"object"!=typeof n&&(n=t.source=EKt(i,n)),"object"!=typeof r&&(r=t.target=EKt(i,r)),n.sourceLinks.push(t),r.targetLinks.push(t)})),null!=r)for(var o=0,a=e;o<a.length;o++){var c=a[o],l=c.sourceLinks,u=c.targetLinks;l.sort(r),u.sort(r)}}(y),function(t){for(var e=t.nodes,n=0,r=e;n<r.length;n++){var i=r[n];i.value=void 0===i.fixedValue?Math.max(mKt(i.sourceLinks,SKt),mKt(i.targetLinks,SKt)):i.fixedValue}}(y),function(t){var n=t.nodes,r=n.length,i=new Set(n),o=new Set,a=0;for(;i.size;){if(i.forEach((function(t){t.depth=a;for(var e=0,n=t.sourceLinks;e<n.length;e++){var r=n[e].target;o.add(r)}})),++a>r)throw new Error("circular link");i=o,o=new Set}if(e)for(var c=Math.max(yKt(n,(function(t){return t.depth}))+1,0),l=void 0,u=0;u<n.length;u++)(l=n[u]).depth=e.call(null,l,c)}(y),function(t){var e=t.nodes,n=e.length,r=new Set(e),i=new Set,o=0;for(;r.size;){if(r.forEach((function(t){t.height=o;for(var e=0,n=t.targetLinks;e<n.length;e++){var r=n[e].source;i.add(r)}})),++o>n)throw new Error("circular link");r=i,i=new Set}}(y),function(e){var r=function(t){for(var e=t.nodes,r=Math.max(yKt(e,(function(t){return t.depth}))+1,0),o=(a-i-l)/(r-1),c=new Array(r).fill(0).map((function(){return[]})),u=0,s=e;u<s.length;u++){var h=s[u],d=Math.max(0,Math.min(r-1,Math.floor(f.call(null,h,r))));h.layer=d,h.x0=i+d*o,h.x1=h.x0+l,c[d]?c[d].push(h):c[d]=[h]}if(n)for(var p=0,v=c;p<v.length;p++){v[p].sort(n)}return c}(e);t=Math.min(u,(c-o)/(yKt(r,(function(t){return t.length}))-1)),function(e){for(var n=function(t,e){for(var n=1/0,r=0;r<t.length;r++)n=Math.min(e(t[r]),n);return n}(e,(function(e){return(c-o-(e.length-1)*t)/mKt(e,SKt)})),r=0,i=e;r<i.length;r++){for(var a=i[r],l=o,u=0,s=a;u<s.length;u++){(v=s[u]).y0=l,v.y1=l+v.value*n,l=v.y1+t;for(var f=0,h=v.sourceLinks;f<h.length;f++){var d=h[f];d.width=d.value*n}}l=(c-l+t)/(a.length+1);for(var p=0;p<a.length;++p){var v;(v=a[p]).y0+=l*(p+1),v.y1+=l*(p+1)}S(a)}}(r);for(var s=0;s<p;++s){var h=Math.pow(.99,s),d=Math.max(1-h,(s+1)/p);m(r,h,d),g(r,h,d)}}(y),MKt(y),y}function g(t,e,r){for(var i=1,o=t.length;i<o;++i){for(var a=t[i],c=0,l=a;c<l.length;c++){for(var u=l[c],s=0,f=0,h=0,d=u.targetLinks;h<d.length;h++){var p=d[h],v=p.source,g=p.value*(u.layer-v.layer);s+=k(v,u)*g,f+=g}if(f>0){var m=(s/f-u.y0)*e;u.y0+=m,u.y1+=m,w(u)}}void 0===n&&a.sort(wKt),a.length&&y(a,r)}}function m(t,e,r){for(var i=t.length-2;i>=0;--i){for(var o=t[i],a=0,c=o;a<c.length;a++){for(var l=c[a],u=0,s=0,f=0,h=l.sourceLinks;f<h.length;f++){var d=h[f],p=d.target,v=d.value*(p.layer-l.layer);u+=C(l,p)*v,s+=v}if(s>0){var g=(u/s-l.y0)*e;l.y0+=g,l.y1+=g,w(l)}}void 0===n&&o.sort(wKt),o.length&&y(o,r)}}function y(e,n){var r=e.length>>1,i=e[r];x(e,i.y0-t,r-1,n),b(e,i.y1+t,r+1,n),x(e,c,e.length-1,n),b(e,o,0,n)}function b(e,n,r,i){for(;r<e.length;++r){var o=e[r],a=(n-o.y0)*i;a>1e-6&&(o.y0+=a,o.y1+=a),n=o.y1+t}}function x(e,n,r,i){for(;r>=0;--r){var o=e[r],a=(o.y1-n)*i;a>1e-6&&(o.y0-=a,o.y1-=a),n=o.y0-t}}function w(t){var e=t.sourceLinks,n=t.targetLinks;if(void 0===r){for(var i=0,o=n;i<o.length;i++){o[i].source.sourceLinks.sort(xKt)}for(var a=0,c=e;a<c.length;a++){c[a].target.targetLinks.sort(bKt)}}}function S(t){if(void 0===r)for(var e=0,n=t;e<n.length;e++){var i=n[e],o=i.sourceLinks,a=i.targetLinks;o.sort(xKt),a.sort(bKt)}}function k(e,n){for(var r=e.y0-(e.sourceLinks.length-1)*t/2,i=0,o=e.sourceLinks;i<o.length;i++){var a=o[i],c=a.target,l=a.width;if(c===n)break;r+=l+t}for(var u=0,s=n.targetLinks;u<s.length;u++){var f=s[u];c=f.source,l=f.width;if(c===e)break;r-=l}return r}function C(e,n){for(var r=n.y0-(n.targetLinks.length-1)*t/2,i=0,o=n.targetLinks;i<o.length;i++){var a=o[i],c=a.source,l=a.width;if(c===e)break;r+=l+t}for(var u=0,s=e.sourceLinks;u<s.length;u++){var f=s[u];c=f.target,l=f.width;if(c===n)break;r-=l}return r}return v.update=function(t){return MKt(t),t},v.nodeId=function(t){return arguments.length?(s="function"==typeof t?t:gKt(t),v):s},v.nodeAlign=function(t){return arguments.length?(f="function"==typeof t?t:gKt(t),v):f},v.nodeDepth=function(t){return arguments.length?(e=t,v):e},v.nodeSort=function(t){return arguments.length?(n=t,v):n},v.nodeWidth=function(t){return arguments.length?(l=+t,v):l},v.nodePadding=function(e){return arguments.length?(u=t=+e,v):u},v.nodes=function(t){return arguments.length?(h="function"==typeof t?t:gKt(t),v):h},v.links=function(t){return arguments.length?(d="function"==typeof t?t:gKt(t),v):d},v.linkSort=function(t){return arguments.length?(r=t,v):r},v.size=function(t){return arguments.length?(i=o=0,a=+t[0],c=+t[1],v):[a-i,c-o]},v.extent=function(t){return arguments.length?(i=+t[0][0],a=+t[1][0],o=+t[0][1],c=+t[1][1],v):[[i,o],[a,c]]},v.iterations=function(t){return arguments.length?(p=+t,v):p},v}var PKt={left:function(t){return t.depth},right:function(t,e){return e-1-t.height},center:function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?(0,tOt.F)(t.sourceLinks,pKt)-1:0},justify:vKt},_Kt={nodeId:function(t){return t.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function DKt(t,e){var n=function(t){return(0,tOt.f0)({},_Kt,t)}(t),r=n.nodeId,i=n.nodeSort,o=n.nodeAlign,a=n.nodeWidth,c=n.nodePadding,l=n.nodeDepth,u=AKt().nodeSort(i).nodeWidth(a).nodePadding(c).nodeDepth(l).nodeAlign(function(t){return((0,tOt.HD)(t)?PKt[t]:(0,tOt.mf)(t)?t:null)||vKt}(o)).extent([[0,0],[1,1]]).nodeId(r),s=u(e),f=s.nodes.map((function(t){var e=t.x0,n=t.x1,r=t.y0,i=t.y1;return t.x=[e,n,n,e],t.y=[r,r,i,i],t})).filter((function(t){return null!==t.name})),h=s.links.map((function(t){var e=t.source,n=t.target,r=e.x1,i=n.x0;t.x=[r,r,i,i];var o=t.width/2;return t.y=[t.y0+o,t.y0-o,t.y1+o,t.y1-o],t})).filter((function(t){var e=t.source,n=t.target;return null!==e.name&&null!==n.name}));return{nodes:f,links:h}}function TKt(t,e,n){return NUt(t)?t/n:e}function ZKt(t,e,n){return NUt(t)?t/n:e}function FKt(t,e,n){var r,i=t.dataType,o=t.data,a=t.sourceField,c=t.targetField,l=t.weightField,u=t.nodeAlign,s=t.nodeSort,f=t.nodePadding,h=t.nodePaddingRatio,d=t.nodeWidth,p=t.nodeWidthRatio,v=t.nodeDepth,g=t.rawFields,m=void 0===g?[]:g;r=function(t){return"node-link"===t}(i)?o:CUt(dKt(o,a,c),a,c,l,m);var y=DKt({nodeAlign:u,nodePadding:ZKt(f,h,n),nodeWidth:TKt(d,p,e),nodeSort:s,nodeDepth:v},r),b=y.nodes,x=y.links;return{nodes:b.map((function(t){return(0,QCt.pi)((0,QCt.pi)({},SUt(t,(0,QCt.ev)(["x","y","name"],m,!0))),{isNode:!0})})),edges:x.map((function(t){return(0,QCt.pi)((0,QCt.pi)({source:t.source.name,target:t.target.name,name:t.source.name||t.target.name},SUt(t,(0,QCt.ev)(["x","y","value"],m,!0))),{isNode:!1})}))}}function jKt(t){var e=t.options.rawFields,n=void 0===e?[]:e;return TUt({},{options:{tooltip:{fields:(0,tOt.jj)((0,QCt.ev)(["name","source","target","value","isNode"],n,!0))},label:{fields:(0,tOt.jj)((0,QCt.ev)(["x","name"],n,!0))}}},t)}function IKt(t){var e=t.chart,n=t.options,r=n.color,i=n.nodeStyle,o=n.edgeStyle,a=n.label,c=n.tooltip,l=n.nodeState,u=n.edgeState,s=n.rawFields,f=void 0===s?[]:s;e.legend(!1),e.tooltip(c),e.axis(!1),e.coordinate().reflect("y");var h=FKt(n,e.width,e.height),d=h.nodes,p=h.edges,v=e.createView({id:hKt});v.data(p),IHt({chart:v,options:{xField:lKt,yField:uKt,seriesField:sKt,rawFields:(0,QCt.ev)(["source","target"],f,!0),edge:{color:r,style:o,shape:"arc"},tooltip:c,state:u}});var g=e.createView({id:fKt});return g.data(d),BHt({chart:g,options:{xField:lKt,yField:uKt,seriesField:sKt,polygon:{color:r,style:i},label:a,tooltip:c,state:l}}),e.interaction("element-active"),e.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),t}function RKt(t){var e=t.chart;return tHt(e,t.options.animation,(0,QCt.ev)((0,QCt.ev)([],e.views[0].geometries,!0),e.views[1].geometries,!0)),t}function LKt(t){var e=t.chart,n="sankey-node-draggable";return t.options.nodeDraggable?e.interaction(n):e.removeInteraction(n),t}function NKt(t){var e=t.chart,n=t.options,r=n.interactions,i=void 0===r?[]:r,o=[].concat(i,n.nodeInteractions||[]),a=[].concat(i,n.edgeInteractions||[]),c=KUt(e,fKt),l=KUt(e,hKt);return o.forEach((function(t){!1===(null==t?void 0:t.enable)?c.removeInteraction(t.type):c.interaction(t.type,t.cfg||{})})),a.forEach((function(t){!1===(null==t?void 0:t.enable)?l.removeInteraction(t.type):l.interaction(t.type,t.cfg||{})})),t}function BKt(t){return FUt(jKt,IKt,NKt,LKt,RKt,bHt)(t)}var zKt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDragging=!1,e}return(0,QCt.ZT)(e,t),e.prototype.isNodeElement=function(){var t=(0,tOt.U2)(this.context,"event.target");if(t){var e=t.get("element");return e&&e.getModel().data.isNode}return!1},e.prototype.getNodeView=function(){return KUt(this.context.view,fKt)},e.prototype.getEdgeView=function(){return KUt(this.context.view,hKt)},e.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},e.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:(0,tOt.U2)(this.context,"event.x"),y:(0,tOt.U2)(this.context,"event.y")};var t=this.context.event.target.get("element"),e=this.getCurrentDatumIdx(t);if(-1===e)return;this.currentElementIdx=e,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},e.prototype.translate=function(){if(this.isDragging){var t=this.context.view,e={x:(0,tOt.U2)(this.context,"event.x"),y:(0,tOt.U2)(this.context,"event.y")},n=e.x-this.prevPoint.x,r=e.y-this.prevPoint.y,i=this.getNodeView(),o=i.geometries[0].elements[this.currentElementIdx];if(o&&o.getModel()){var a=o.getModel().data,c=i.getOptions().data,l=i.getCoordinate(),u={x:n/l.getWidth(),y:r/l.getHeight()},s=(0,QCt.pi)((0,QCt.pi)({},a),{x:a.x.map((function(t){return t+u.x})),y:a.y.map((function(t){return t+u.y}))}),f=(0,QCt.ev)([],c,!0);f[this.currentElementIdx]=s,i.data(f);var h=a.name,d=this.getEdgeView(),p=d.getOptions().data;p.forEach((function(t){t.source===h&&(t.x[0]+=u.x,t.x[1]+=u.x,t.y[0]+=u.y,t.y[1]+=u.y),t.target===h&&(t.x[2]+=u.x,t.x[3]+=u.x,t.y[2]+=u.y,t.y[3]+=u.y)})),d.data(p),this.prevPoint=e,t.render(!0)}}},e.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},e}(BDt);VDt("sankey-node-drag",zKt),zTt("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(t){return t.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="sankey",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(t){return t.name},callback:function(t){var e=1===t[1];return{style:{fill:"#545454",textAlign:e?"end":"start"},offsetX:e?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(t){return!(0,tOt.U2)(t,[0,"data","isNode"])},formatter:function(t){return{name:t.source+" -> "+t.target,value:t.value}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},e.prototype.changeData=function(t){this.updateOption({data:t});var e=FKt(this.options,this.chart.width,this.chart.height),n=e.nodes,r=e.edges,i=KUt(this.chart,fKt),o=KUt(this.chart,hKt);i.changeData(n),o.changeData(r)},e.prototype.getSchemaAdaptor=function(){return BKt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(VHt);var UKt="ancestor-node",HKt="value",WKt="path",VKt=[WKt,xYt,SYt,wYt,"name","depth","height"],GKt=TUt({},VHt.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}});function XKt(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function qKt(t,e,n,r,i){for(var o,a=t.children,c=-1,l=a.length,u=t.value&&(r-e)/t.value;++c<l;)(o=a[c]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*u}function YKt(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&qKt(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,c=r.y1-n;a<i&&(i=a=(i+a)/2),c<o&&(o=c=(o+c)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=c}}(e,o)),r&&i.eachBefore(XKt),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}var $Kt={field:"value",size:[1,1],round:!1,padding:0,sort:function(t,e){return e.value-t.value},as:["x","y"],ignoreParentValue:!0};function KKt(t,e){var n,r=(e=(0,tOt.f0)({},$Kt,e)).as;if(!(0,tOt.kJ)(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=CYt(e)}catch(F2t){console.warn(F2t)}var i=function(t){return YKt().size(e.size).round(e.round).padding(e.padding)(pYt(t).sum((function(t){return(0,tOt.dp)(t.children)?e.ignoreParentValue?0:t[n]-(0,tOt.u4)(t.children,(function(t,e){return t+e[n]}),0):t[n]})).sort(e.sort))}(t),o=r[0],a=r[1];return i.each((function(t){var e,n;t[o]=[t.x0,t.x1,t.x1,t.x0],t[a]=[t.y1,t.y1,t.y0,t.y0],t.name=t.name||(null===(e=t.data)||void 0===e?void 0:e.name)||(null===(n=t.data)||void 0===n?void 0:n.label),t.data.name=t.name,["x0","x1","y0","y1"].forEach((function(e){-1===r.indexOf(e)&&delete t[e]}))})),OYt(i)}function JKt(t,e){return t.parent===e.parent?1:2}function QKt(t,e){return t+e.x}function tJt(t,e){return Math.max(t,e.y)}function eJt(){var t=JKt,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(QKt,0)/t.length}(n),e.y=function(t){return 1+t.reduce(tJt,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var c=function(t){for(var e;e=t.children;)t=e[0];return t}(i),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),u=c.x-t(c,l)/2,s=l.x+t(l,c)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-u)/(s-u)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}var nJt={depth:-1},rJt={};function iJt(t){return t.id}function oJt(t){return t.parentId}function aJt(){var t=iJt,e=oJt;function n(n){var r,i,o,a,c,l,u,s=Array.from(n),f=s.length,h=new Map;for(i=0;i<f;++i)r=s[i],c=s[i]=new bYt(r),null!=(l=t(r,i,n))&&(l+="")&&(u=c.id=l,h.set(u,h.has(u)?rJt:c)),null!=(l=e(r,i,n))&&(l+="")&&(c.parent=l);for(i=0;i<f;++i)if(l=(c=s[i]).parent){if(!(a=h.get(l)))throw new Error("missing: "+l);if(a===rJt)throw new Error("ambiguous: "+l);a.children?a.children.push(c):a.children=[c],c.parent=a}else{if(o)throw new Error("multiple roots");o=c}if(!o)throw new Error("no root");if(o.parent=nJt,o.eachBefore((function(t){t.depth=t.parent.depth+1,--f})).eachBefore(yYt),o.parent=null,f>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=Qqt(e),n):t},n.parentId=function(t){return arguments.length?(e=Qqt(t),n):e},n}function cJt(t,e){return t.parent===e.parent?1:2}function lJt(t){var e=t.children;return e?e[0]:t.t}function uJt(t){var e=t.children;return e?e[e.length-1]:t.t}function sJt(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function fJt(t,e,n){return t.a.parent===e.parent?t.a:n}function hJt(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function dJt(){var t=cJt,e=1,n=1,r=null;function i(i){var l=function(t){for(var e,n,r,i,o,a=new hJt(t,0),c=[a];e=c.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)c.push(n=e.children[i]=new hJt(r[i],i)),n.parent=e;return(a.parent=new hJt(null,0)).children=[a],a}(i);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),r)i.eachBefore(c);else{var u=i,s=i,f=i;i.eachBefore((function(t){t.x<u.x&&(u=t),t.x>s.x&&(s=t),t.depth>f.depth&&(f=t)}));var h=u===s?1:t(u,s)/2,d=h-u.x,p=e/(s.x+h+d),v=n/(f.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*v}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,c=n,l=o.parent.children[0],u=o.m,s=a.m,f=c.m,h=l.m;c=uJt(c),o=lJt(o),c&&o;)l=lJt(l),(a=uJt(a)).a=e,(i=c.z+f-o.z-u+t(c._,o._))>0&&(sJt(fJt(c,e,r),e,i),u+=i,s+=i),f+=c.m,u+=o.m,h+=l.m,s+=a.m;c&&!uJt(a)&&(a.t=c,a.m+=f-s),o&&!lJt(l)&&(l.t=o,l.m+=u-h,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function c(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function pJt(t,e,n,r,i){for(var o,a=t.children,c=-1,l=a.length,u=t.value&&(i-n)/t.value;++c<l;)(o=a[c]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*u}hJt.prototype=Object.create(bYt.prototype);var vJt=(1+Math.sqrt(5))/2;function gJt(t,e,n,r,i,o){for(var a,c,l,u,s,f,h,d,p,v,g,m=[],y=e.children,b=0,x=0,w=y.length,S=e.value;b<w;){l=i-n,u=o-r;do{s=y[x++].value}while(!s&&x<w);for(f=h=s,g=s*s*(v=Math.max(u/l,l/u)/(S*t)),p=Math.max(h/g,g/f);x<w;++x){if(s+=c=y[x].value,c<f&&(f=c),c>h&&(h=c),g=s*s*v,(d=Math.max(h/g,g/f))>p){s-=c;break}p=d}m.push(a={value:s,dice:l<u,children:y.slice(b,x)}),a.dice?qKt(a,n,r,i,S?r+=u*s/S:o):pJt(a,n,r,S?n+=l*s/S:i,o),S-=s,b=x}return m}var mJt=function t(e){function n(t,n,r,i,o){gJt(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(vJt);function yJt(){var t=mJt,e=!1,n=1,r=1,i=[0],o=tYt,a=tYt,c=tYt,l=tYt,u=tYt;function s(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(XKt),t}function f(e){var n=i[e.depth],r=e.x0+n,s=e.y0+n,f=e.x1-n,h=e.y1-n;f<r&&(r=f=(r+f)/2),h<s&&(s=h=(s+h)/2),e.x0=r,e.y0=s,e.x1=f,e.y1=h,e.children&&(n=i[e.depth+1]=o(e)/2,r+=u(e)-n,s+=a(e)-n,(f-=c(e)-n)<r&&(r=f=(r+f)/2),(h-=l(e)-n)<s&&(s=h=(s+h)/2),t(e,r,s,f,h))}return s.round=function(t){return arguments.length?(e=!!t,s):e},s.size=function(t){return arguments.length?(n=+t[0],r=+t[1],s):[n,r]},s.tile=function(e){return arguments.length?(t=Qqt(e),s):t},s.padding=function(t){return arguments.length?s.paddingInner(t).paddingOuter(t):s.paddingInner()},s.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:eYt(+t),s):o},s.paddingOuter=function(t){return arguments.length?s.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):s.paddingTop()},s.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:eYt(+t),s):a},s.paddingRight=function(t){return arguments.length?(c="function"==typeof t?t:eYt(+t),s):c},s.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:eYt(+t),s):l},s.paddingLeft=function(t){return arguments.length?(u="function"==typeof t?t:eYt(+t),s):u},s}function bJt(t,e,n,r,i){var o,a,c=t.children,l=c.length,u=new Array(l+1);for(u[0]=a=o=0;o<l;++o)u[o+1]=a+=c[o].value;!function t(e,n,r,i,o,a,l){if(e>=n-1){var s=c[e];return s.x0=i,s.y0=o,s.x1=a,void(s.y1=l)}var f=u[e],h=r/2+f,d=e+1,p=n-1;for(;d<p;){var v=d+p>>>1;u[v]<h?d=v+1:p=v}h-u[d-1]<u[d]-h&&e+1<d&&--d;var g=u[d]-f,m=r-g;if(a-i>l-o){var y=r?(i*m+a*g)/r:a;t(e,d,g,i,o,y,l),t(d,n,m,y,o,a,l)}else{var b=r?(o*m+l*g)/r:l;t(e,d,g,i,o,a,b),t(d,n,m,i,b,a,l)}}(0,l,t.value,e,n,r,i)}function xJt(t,e,n,r,i){(1&t.depth?pJt:qKt)(t,e,n,r,i)}var wJt=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,c,l,u,s,f=-1,h=a.length,d=t.value;++f<h;){for(l=(c=a[f]).children,u=c.value=0,s=l.length;u<s;++u)c.value+=l[u].value;c.dice?qKt(c,n,r,i,d?r+=(o-r)*c.value/d:o):pJt(c,n,r,d?n+=(i-n)*c.value/d:i,o),d-=c.value}else t._squarify=a=gJt(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(vJt),SJt={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(t,e){return e.value-t.value},ratio:.5*(1+Math.sqrt(5))};function kJt(t,e){var n,r=(e=(0,tOt.f0)({},SJt,e)).as;if(!(0,tOt.kJ)(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=CYt(e)}catch(F2t){console.warn(F2t)}var i,o,a=(i=e.tile,o=e.ratio,"treemapSquarify"===i?T[i].ratio(o):T[i]),c=function(t){return yJt().tile(a).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(pYt(t).sum((function(t){return e.ignoreParentValue&&t.children?0:t[n]})).sort(e.sort))}(t),l=r[0],u=r[1];return c.each((function(t){t[l]=[t.x0,t.x1,t.x1,t.x0],t[u]=[t.y1,t.y1,t.y0,t.y0],["x0","x1","y0","y1"].forEach((function(e){-1===r.indexOf(e)&&delete t[e]}))})),OYt(c)}function CJt(t){var e=t.data,n=t.colorField,r=t.rawFields,i=t.hierarchyConfig,o=void 0===i?{}:i,a=o.activeDepth,c={partition:KKt,treemap:kJt},l=t.seriesField,u=t.type||"partition",s=c[u](e,(0,QCt.pi)((0,QCt.pi)({field:l||"value"},(0,tOt.CE)(o,["activeDepth"])),{type:"hierarchy.".concat(u),as:["x","y"]})),f=[];return s.forEach((function(t){var e,i,c,u,s,h;if(0===t.depth)return null;if(a>0&&t.depth>a)return null;for(var d=t.data.name,p=(0,QCt.pi)({},t);p.depth>1;)d="".concat(null===(i=p.parent.data)||void 0===i?void 0:i.name," / ").concat(d),p=p.parent;var v=(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({},SUt(t.data,(0,QCt.ev)((0,QCt.ev)([],r||[],!0),[o.field],!1))),((e={})[WKt]=d,e[UKt]=p.data.name,e)),t);l&&(v[l]=t.data[l]||(null===(u=null===(c=t.parent)||void 0===c?void 0:c.data)||void 0===u?void 0:u[l])),n&&(v[n]=t.data[n]||(null===(h=null===(s=t.parent)||void 0===s?void 0:s.data)||void 0===h?void 0:h[n])),v.ext=o,v[Rqt]={hierarchyConfig:o,colorField:n,rawFields:r},f.push(v)})),f}function OJt(t){var e,n=t.chart,r=t.options,i=r.color,o=r.colorField,a=void 0===o?UKt:o,c=r.sunburstStyle,l=r.rawFields,u=void 0===l?[]:l,s=r.shape,f=CJt(r);return n.data(f),c&&(e=function(t){return TUt({},{fillOpacity:Math.pow(.85,t.depth)},(0,tOt.mf)(c)?c(t):c)}),BHt(TUt({},t,{options:{xField:"x",yField:"y",seriesField:a,rawFields:(0,tOt.jj)((0,QCt.ev)((0,QCt.ev)([],VKt,!0),u,!0)),polygon:{color:i,style:e,shape:s}}})),t}function EJt(t){return t.chart.axis(!1),t}function MJt(t){var e=t.chart,n=t.options.label,r=jUt(e,"polygon");if(n){var i=n.fields,o=void 0===i?["name"]:i,a=n.callback,c=(0,QCt._T)(n,["fields","callback"]);r.label({fields:o,callback:a,cfg:LUt(c)})}else r.label(!1);return t}function AJt(t){var e=t.chart,n=t.options,r=n.innerRadius,i=n.radius,o=n.reflect,a=e.coordinate({type:"polar",cfg:{innerRadius:r,radius:i}});return o&&a.reflect(o),t}function PJt(t){var e,n=t.options,r=n.hierarchyConfig,i=n.meta;return FUt(kHt({},((e={})[HKt]=(0,tOt.U2)(i,(0,tOt.U2)(r,["field"],"value")),e)))(t)}function _Jt(t){var e=t.chart,n=t.options.tooltip;if(!1===n)e.tooltip(!1);else{var r=n;(0,tOt.U2)(n,"fields")||(r=TUt({},{customItems:function(t){return t.map((function(t){var n=(0,tOt.U2)(e.getOptions(),"scales"),r=(0,tOt.U2)(n,[WKt,"formatter"],(function(t){return t})),i=(0,tOt.U2)(n,[HKt,"formatter"],(function(t){return t}));return(0,QCt.pi)((0,QCt.pi)({},t),{name:r(t.data[WKt]),value:i(t.data.value)})}))}},r)),e.tooltip(r)}return t}function DJt(t){var e=t.drilldown,n=t.interactions,r=void 0===n?[]:n;return(null==e?void 0:e.enabled)?TUt({},t,{interactions:(0,QCt.ev)((0,QCt.ev)([],r,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:CJt}}],!1)}):t}function TJt(t){var e=t.chart,n=t.options,r=n.drilldown;return mHt({chart:e,options:DJt(n)}),(null==r?void 0:r.enabled)&&(e.appendPadding=zUt(e.appendPadding,(0,tOt.U2)(r,["breadCrumb","position"]))),t}function ZJt(t){return FUt(bHt,pHt("sunburstStyle"),OJt,EJt,PJt,vHt,AJt,_Jt,MJt,TJt,yHt,CHt())(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="sunburst",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return GKt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ZJt},e.SUNBURST_ANCESTOR_FIELD=UKt,e.SUNBURST_PATH_FIELD=WKt,e.NODE_ANCESTORS_FIELD=SYt}(VHt);function FJt(t,e){if((0,tOt.kJ)(t))return t.find((function(t){return t.type===e}))}function jJt(t,e){var n=FJt(t,e);return n&&!1!==n.enable}function IJt(t){var e=t.interactions,n=t.drilldown;return(0,tOt.U2)(n,"enabled")||jJt(e,"treemap-drill-down")}function RJt(t){var e=t.data,n=t.colorField,r=t.enableDrillDown,i=t.hierarchyConfig,o=kJt(e,(0,QCt.pi)((0,QCt.pi)({},i),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),a=[];return o.forEach((function(t){if(0===t.depth)return null;if(r&&1!==t.depth)return null;if(!r&&t.children)return null;var o=t.ancestors().map((function(t){return{data:t.data,height:t.height,value:t.value}})),c=r&&(0,tOt.kJ)(e.path)?o.concat(e.path.slice(1)):o,l=Object.assign({},t.data,(0,QCt.pi)({x:t.x,y:t.y,depth:t.depth,value:t.value,path:c},t));if(!t.data[n]&&t.parent){var u=t.ancestors().find((function(t){return t.data[n]}));l[n]=null==u?void 0:u.data[n]}else l[n]=t.data[n];l[Rqt]={hierarchyConfig:i,colorField:n,enableDrillDown:r},a.push(l)})),a}function LJt(t){var e=t.options.colorField;return TUt({options:{rawFields:["value"],tooltip:{fields:["name","value",e,"path"],formatter:function(t){return{name:t.name,value:t.value}}}}},t)}function NJt(t){var e=t.chart,n=t.options,r=n.color,i=n.colorField,o=n.rectStyle,a=n.hierarchyConfig,c=n.rawFields,l=RJt({data:n.data,colorField:n.colorField,enableDrillDown:IJt(n),hierarchyConfig:a});return e.data(l),BHt(TUt({},t,{options:{xField:"x",yField:"y",seriesField:i,rawFields:c,polygon:{color:r,style:o}}})),e.coordinate().reflect("y"),t}function BJt(t){return t.chart.axis(!1),t}function zJt(t){var e=t.drilldown,n=t.interactions,r=void 0===n?[]:n;return IJt(t)?TUt({},t,{interactions:(0,QCt.ev)((0,QCt.ev)([],r,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:RJt}}],!1)}):t}function UJt(t){var e=t.chart,n=t.options,r=n.interactions,i=n.drilldown;mHt({chart:e,options:zJt(n)});var o=FJt(r,"view-zoom");return o&&(!1!==o.enable?e.getCanvas().on("mousewheel",(function(t){t.preventDefault()})):e.getCanvas().off("mousewheel")),IJt(n)&&(e.appendPadding=zUt(e.appendPadding,(0,tOt.U2)(i,["breadCrumb","position"]))),t}function HJt(t){return FUt(LJt,bHt,pHt("rectStyle"),NJt,BJt,vHt,gHt,UJt,yHt,CHt())(t)}var WJt={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"初始",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}},VJt=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="treemap",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return WJt},e.prototype.changeData=function(t){var e=this.options,n=e.colorField,r=e.interactions,i=e.hierarchyConfig;this.updateOption({data:t});var o=RJt({data:t,colorField:n,enableDrillDown:jJt(r,"treemap-drill-down"),hierarchyConfig:i});this.chart.changeData(o),function(t){var e=t.interactions["drill-down"];if(e){var n=e.context.actions.find((function(t){return"drill-down-action"===t.name}));n.reset()}}(this.chart)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return HJt}}(VHt),"id"),GJt="path",XJt={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(t){return{name:t.id,value:t.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]};function qJt(t){t&&t.geometries[0].elements.forEach((function(t){t.shape.toFront()}))}var YJt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.syncElementsPos=function(){qJt(this.context.view)},e.prototype.active=function(){t.prototype.active.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(WDt("element-active")),$Jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.syncElementsPos=function(){qJt(this.context.view)},e.prototype.highlight=function(){t.prototype.highlight.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.clear=function(){t.prototype.clear.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(WDt("element-highlight")),KJt=WDt("element-selected"),JJt=WDt("element-single-selected"),QJt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.syncElementsPos=function(){qJt(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(KJt),tQt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.syncElementsPos=function(){qJt(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(JJt);VDt("venn-element-active",YJt),VDt("venn-element-highlight",$Jt),VDt("venn-element-selected",QJt),VDt("venn-element-single-selected",tQt),zTt("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),zTt("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),zTt("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),zTt("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),zTt("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),zTt("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var eQt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,QCt.ZT)(e,t),e.prototype.getLabelPoint=function(t,e,n){var r=t.data,i=r.x,o=r.y,a=t.customLabelInfo,c=a.offsetX,l=a.offsetY;return{content:t.content[n],x:i+c,y:o+l}},e}(gFt);GZt("venn",eQt);var nQt=Array.isArray,rQt="\t\n\v\f\r   ᠎             　\u2028\u2029",iQt=new RegExp("([a-z])["+rQt+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+rQt+"]*,?["+rQt+"]*)+)","ig"),oQt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+rQt+"]*,?["+rQt+"]*","ig");Math.PI;JZt("schema","venn",{draw:function(t,e){var n=function(t){if(!t)return null;if(nQt(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(iQt,(function(t,r,i){var o=[],a=r.toLowerCase();if(i.replace(oQt,(function(t,e){e&&o.push(+e)})),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=e[a]&&(n.push([r].concat(o.splice(0,e[a]))),e[a]););return""})),n}(t.data[GJt]),r=function(t){return TUt({},t.defaultStyle,{fill:t.color},t.style)}(t),i=e.addGroup({name:"venn-shape"});i.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},r),{path:n}),name:"venn-path"});var o=t.customInfo,a=o.offsetX,c=o.offsetY,l=IFt.transform(null,[["t",a,c]]);return i.setMatrix(l),i},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{lineWidth:0,stroke:e,fill:e,r:4}}}});var aQt={normal:function(t){return t},multiply:function(t,e){return t*e/255},screen:function(t,e){return 255*(1-(1-t/255)*(1-e/255))},overlay:function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},darken:function(t,e){return t>e?e:t},lighten:function(t,e){return t>e?t:e},dodge:function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t},burn:function(t,e){return 255===e?255:0===t?0:255*(1-Math.min(1,(1-e/255)/(t/255)))}};function cQt(t,e,n){void 0===n&&(n="normal");var r,i=(r=function(t){if(!aQt[t])throw new Error("unknown blend mode "+t);return aQt[t]}(n),function(t,e){var n=[];return n[0]=r(t[0],e[0]),n[1]=r(t[1],e[1]),n[2]=r(t[2],e[2]),n})(lQt(t),lQt(e)),o=lQt(t),a=o[0],c=o[1],l=o[2],u=o[3],s=lQt(e),f=s[0],h=s[1],d=s[2],p=s[3],v=Number((u+p*(1-u)).toFixed(2)),g=Math.round((u*(1-p)*(a/255)+u*p*(i[0]/255)+(1-u)*p*(f/255))/v*255),m=Math.round((u*(1-p)*(c/255)+u*p*(i[1]/255)+(1-u)*p*(h/255))/v*255),y=Math.round((u*(1-p)*(l/255)+u*p*(i[2]/255)+(1-u)*p*(d/255))/v*255);return"rgba(".concat(g,", ").concat(m,", ").concat(y,", ").concat(v,")")}function lQt(t){var e,n=t.replace("/s+/g","");return"string"!=typeof n||n.startsWith("rgba")||n.startsWith("#")?(n.startsWith("rgba")&&(e=n.replace("rgba(","").replace(")","").split(",")),n.startsWith("#")&&(e=tEt.rgb2arr(n).concat([1])),e.map((function(t,e){return 3===e?Number(t):0|t}))):tEt.rgb2arr(tEt.toRGB(n)).concat([1])}var uQt=n(13125),sQt=1e-10;function fQt(t,e){var n,r=function(t){for(var e=[],n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)for(var i=vQt(t[n],t[r]),o=0;o<i.length;++o){var a=i[o];a.parentIndex=[n,r],e.push(a)}return e}(t),i=r.filter((function(e){return function(t,e){for(var n=0;n<e.length;++n)if(dQt(t,e[n])>e[n].radius+sQt)return!1;return!0}(e,t)})),o=0,a=0,c=[];if(i.length>1){var l=gQt(i);for(n=0;n<i.length;++n){var u=i[n];u.angle=Math.atan2(u.x-l.x,u.y-l.y)}i.sort((function(t,e){return e.angle-t.angle}));var s=i[i.length-1];for(n=0;n<i.length;++n){var f=i[n];a+=(s.x+f.x)*(f.y-s.y);for(var h={x:(f.x+s.x)/2,y:(f.y+s.y)/2},d=null,p=0;p<f.parentIndex.length;++p)if(s.parentIndex.indexOf(f.parentIndex[p])>-1){var v=t[f.parentIndex[p]],g=Math.atan2(f.x-v.x,f.y-v.y),m=Math.atan2(s.x-v.x,s.y-v.y),y=m-g;y<0&&(y+=2*Math.PI);var b=m-y/2,x=dQt(h,{x:v.x+v.radius*Math.sin(b),y:v.y+v.radius*Math.cos(b)});x>2*v.radius&&(x=2*v.radius),(null===d||d.width>x)&&(d={circle:v,width:x,p1:f,p2:s})}null!==d&&(c.push(d),o+=hQt(d.circle.radius,d.width),s=f)}}else{var w=t[0];for(n=1;n<t.length;++n)t[n].radius<w.radius&&(w=t[n]);var S=!1;for(n=0;n<t.length;++n)if(dQt(t[n],w)>Math.abs(w.radius-t[n].radius)){S=!0;break}S?o=a=0:(o=w.radius*w.radius*Math.PI,c.push({circle:w,p1:{x:w.x,y:w.y+w.radius},p2:{x:w.x-sQt,y:w.y+w.radius},width:2*w.radius}))}return a/=2,e&&(e.area=o+a,e.arcArea=o,e.polygonArea=a,e.arcs=c,e.innerPoints=i,e.intersectionPoints=r),o+a}function hQt(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function dQt(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function pQt(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);var r=e-(n*n-t*t+e*e)/(2*n);return hQt(t,t-(n*n-e*e+t*t)/(2*n))+hQt(e,r)}function vQt(t,e){var n=dQt(t,e),r=t.radius,i=e.radius;if(n>=r+i||n<=Math.abs(r-i))return[];var o=(r*r-i*i+n*n)/(2*n),a=Math.sqrt(r*r-o*o),c=t.x+o*(e.x-t.x)/n,l=t.y+o*(e.y-t.y)/n,u=-(e.y-t.y)*(a/n),s=-(e.x-t.x)*(a/n);return[{x:c+u,y:l-s},{x:c-u,y:l+s}]}function gQt(t){for(var e={x:0,y:0},n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}function mQt(t,e,n){var r,i,o=e[0].radius-dQt(e[0],t);for(r=1;r<e.length;++r)(i=e[r].radius-dQt(e[r],t))<=o&&(o=i);for(r=0;r<n.length;++r)(i=dQt(n[r],t)-n[r].radius)<=o&&(o=i);return o}function yQt(t,e){var n,r=[];for(n=0;n<t.length;++n){var i=t[n];r.push({x:i.x,y:i.y}),r.push({x:i.x+i.radius/2,y:i.y}),r.push({x:i.x-i.radius/2,y:i.y}),r.push({x:i.x,y:i.y+i.radius/2}),r.push({x:i.x,y:i.y-i.radius/2})}var o=r[0],a=mQt(r[0],t,e);for(n=1;n<r.length;++n){var c=mQt(r[n],t,e);c>=a&&(o=r[n],a=c)}var l=(0,uQt.nelderMead)((function(n){return-1*mQt({x:n[0],y:n[1]},t,e)}),[o.x,o.y],{maxIterations:500,minErrorDelta:1e-10}).x,u={x:l[0],y:l[1]},s=!0;for(n=0;n<t.length;++n)if(dQt(u,t[n])>t[n].radius){s=!1;break}for(n=0;n<e.length;++n)if(dQt(u,e[n])<e[n].radius){s=!1;break}if(!s)if(1==t.length)u={x:t[0].x,y:t[0].y};else{var f={};fQt(t,f),u=0===f.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==f.arcs.length?{x:f.arcs[0].circle.x,y:f.arcs[0].circle.y}:e.length?yQt(t,[]):gQt(f.arcs.map((function(t){return t.p1})))}return u}function bQt(t,e){for(var n={},r=function(t){var e={},n=[];for(var r in t)n.push(r),e[r]=[];for(var i=0;i<n.length;i++)for(var o=t[n[i]],a=i+1;a<n.length;++a){var c=t[n[a]],l=dQt(o,c);l+c.radius<=o.radius+1e-10?e[n[a]].push(n[i]):l+o.radius<=c.radius+1e-10&&e[n[i]].push(n[a])}return e}(t),i=0;i<e.length;++i){for(var o=e[i].sets,a={},c={},l=0;l<o.length;++l){a[o[l]]=!0;for(var u=r[o[l]],s=0;s<u.length;++s)c[u[s]]=!0}var f=[],h=[];for(var d in t)d in a?f.push(t[d]):d in c||h.push(t[d]);var p=yQt(f,h);n[o]=p,p.disjoint&&e[i].size>0&&console.log("WARNING: area "+o+" not represented on screen")}return n}var xQt=1e-10;function wQt(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+xQt?Math.abs(t-e):(0,uQt.bisect)((function(r){return pQt(t,e,r)-n}),0,t+e)}function SQt(t,e){var n=function(t,e){for(var n,r=e&&e.lossFunction?e.lossFunction:kQt,i={},o={},a=0;a<t.length;++a){var c=t[a];1==c.sets.length&&(n=c.sets[0],i[n]={x:1e10,y:1e10,rowid:Object.keys(i).length,size:c.size,radius:Math.sqrt(c.size/Math.PI)},o[n]=[])}t=t.filter((function(t){return 2==t.sets.length}));for(a=0;a<t.length;++a){var l=t[a],u=l.hasOwnProperty("weight")?l.weight:1,s=l.sets[0],f=l.sets[1];l.size+xQt>=Math.min(i[s].size,i[f].size)&&(u=0),o[s].push({set:f,size:l.size,weight:u}),o[f].push({set:s,size:l.size,weight:u})}var h=[];for(n in o)if(o.hasOwnProperty(n)){var d=0;for(a=0;a<o[n].length;++a)d+=o[n][a].size*o[n][a].weight;h.push({set:n,size:d})}function p(t,e){return e.size-t.size}h.sort(p);var v={};function g(t){return t.set in v}function m(t,e){i[e].x=t.x,i[e].y=t.y,v[e]=!0}m({x:0,y:0},h[0].set);for(a=1;a<h.length;++a){var y=h[a].set,b=o[y].filter(g);if(n=i[y],b.sort(p),0===b.length)throw"ERROR: missing pairwise overlap information";for(var x=[],w=0;w<b.length;++w){var S=i[b[w].set],k=wQt(n.radius,S.radius,b[w].size);x.push({x:S.x+k,y:S.y}),x.push({x:S.x-k,y:S.y}),x.push({y:S.y+k,x:S.x}),x.push({y:S.y-k,x:S.x});for(var C=w+1;C<b.length;++C)for(var O=i[b[C].set],E=wQt(n.radius,O.radius,b[C].size),M=vQt({x:S.x,y:S.y,radius:k},{x:O.x,y:O.y,radius:E}),A=0;A<M.length;++A)x.push(M[A])}var P=1e50,_=x[0];for(w=0;w<x.length;++w){i[y].x=x[w].x,i[y].y=x[w].y;var D=r(i,t);D<P&&(P=D,_=x[w])}m(_,y)}return i}(t,e),r=e.lossFunction||kQt;if(t.length>=8){var i=function(t,e){e=e||{};var n,r=e.restarts||10,i=[],o={};for(n=0;n<t.length;++n){var a=t[n];1==a.sets.length&&(o[a.sets[0]]=i.length,i.push(a))}var c=function(t,e,n){var r=(0,uQt.zerosM)(e.length,e.length),i=(0,uQt.zerosM)(e.length,e.length);return t.filter((function(t){return 2==t.sets.length})).map((function(t){var o=n[t.sets[0]],a=n[t.sets[1]],c=wQt(Math.sqrt(e[o].size/Math.PI),Math.sqrt(e[a].size/Math.PI),t.size);r[o][a]=r[a][o]=c;var l=0;t.size+1e-10>=Math.min(e[o].size,e[a].size)?l=1:t.size<=1e-10&&(l=-1),i[o][a]=i[a][o]=l})),{distances:r,constraints:i}}(t,i,o),l=c.distances,u=c.constraints,s=(0,uQt.norm2)(l.map(uQt.norm2))/l.length;l=l.map((function(t){return t.map((function(t){return t/s}))}));var f,h,d=function(t,e){return function(t,e,n,r){var i,o=0;for(i=0;i<e.length;++i)e[i]=0;for(i=0;i<n.length;++i)for(var a=t[2*i],c=t[2*i+1],l=i+1;l<n.length;++l){var u=t[2*l],s=t[2*l+1],f=n[i][l],h=r[i][l],d=(u-a)*(u-a)+(s-c)*(s-c),p=Math.sqrt(d),v=d-f*f;h>0&&p<=f||h<0&&p>=f||(o+=2*v*v,e[2*i]+=4*v*(a-u),e[2*i+1]+=4*v*(c-s),e[2*l]+=4*v*(u-a),e[2*l+1]+=4*v*(s-c))}return o}(t,e,l,u)};for(n=0;n<r;++n){var p=(0,uQt.zeros)(2*l.length).map(Math.random);h=(0,uQt.conjugateGradient)(d,p,e),(!f||h.fx<f.fx)&&(f=h)}var v=f.x,g={};for(n=0;n<i.length;++n){var m=i[n];g[m.sets[0]]={x:v[2*n]*s,y:v[2*n+1]*s,radius:Math.sqrt(m.size/Math.PI)}}if(e.history)for(n=0;n<e.history.length;++n)(0,uQt.scale)(e.history[n].x,s);return g}(t,e);r(i,t)+1e-8<r(n,t)&&(n=i)}return n}function kQt(t,e){var n=0;for(var r=0;r<e.length;++r){var i=e[r],o=void 0;if(1!=i.sets.length){if(2==i.sets.length){var a=t[i.sets[0]],c=t[i.sets[1]];o=pQt(a.radius,c.radius,dQt(a,c))}else o=fQt(i.sets.map((function(e){return t[e]})));n+=(i.hasOwnProperty("weight")?i.weight:1)*(o-i.size)*(o-i.size)}}return n}function CQt(t){var e=function(e){var n=Math.max.apply(null,t.map((function(t){return t[e]+t.radius}))),r=Math.min.apply(null,t.map((function(t){return t[e]-t.radius})));return{max:n,min:r}};return{xRange:e("x"),yRange:e("y")}}var OQt=(0,tOt.HP)((function(t,e,n,r){var i=new Map,o=t.length;return e.forEach((function(e,a){if(1===e[r].length)i.set(e[VJt],t[(a+o)%o]);else{var c=e[r].map((function(t){return i.get(t)}));i.set(e[VJt],c.slice(1).reduce((function(t,e){return cQt(t,e,n)}),c[0]))}})),i}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return JSON.stringify(t)}));function EQt(t,e,n,r){void 0===r&&(r=0);var i=t.data,o=t.setsField,a=t.sizeField;if(0===i.length)return wUt(mUt.WARN,!1,"warn: %s","数据不能为空"),[];var c=i.map((function(t){var e;return(0,QCt.pi)((0,QCt.pi)({},t),((e={sets:t[o]||[],size:t[a]})[GJt]="",e[VJt]="",e))}));c.sort((function(t,e){return t.sets.length-e.sets.length}));var l=function(t,e){(e=e||{}).maxIterations=e.maxIterations||500;var n=e.initialLayout||SQt,r=e.lossFunction||kQt;t=function(t){t=t.slice();var e,n,r,i,o=[],a={};for(e=0;e<t.length;++e){var c=t[e];1==c.sets.length?o.push(c.sets[0]):2==c.sets.length&&(a[[r=c.sets[0],i=c.sets[1]]]=!0,a[[i,r]]=!0)}for(o.sort((function(t,e){return t>e?1:-1})),e=0;e<o.length;++e)for(r=o[e],n=e+1;n<o.length;++n)[r,i=o[n]]in a||t.push({sets:[r,i],size:0});return t}(t);var i,o=n(t,e),a=[],c=[];for(i in o)o.hasOwnProperty(i)&&(a.push(o[i].x),a.push(o[i].y),c.push(i));for(var l=(0,uQt.nelderMead)((function(e){for(var n={},i=0;i<c.length;++i){var a=c[i];n[a]={x:e[2*i],y:e[2*i+1],radius:o[a].radius}}return r(n,t)}),a,e),u=l.x,s=0;s<c.length;++s)i=c[s],o[i].x=u[2*s],o[i].y=u[2*s+1];return o}(c),u=function(t,e,n,r){var i=[],o=[];for(var a in t)t.hasOwnProperty(a)&&(o.push(a),i.push(t[a]));e-=2*r,n-=2*r;var c=CQt(i),l=c.xRange,u=c.yRange;if(l.max==l.min||u.max==u.min)return console.log("not scaling solution: zero size detected"),t;for(var s=e/(l.max-l.min),f=n/(u.max-u.min),h=Math.min(f,s),d=(e-(l.max-l.min)*h)/2,p=(n-(u.max-u.min)*h)/2,v={},g=0;g<i.length;++g){var m=i[g];v[o[g]]={radius:h*m.radius,x:r+d+(m.x-l.min)*h,y:r+p+(m.y-u.min)*h}}return v}(l,e,n,r),s=bQt(u,c);return c.forEach((function(t){var e=t.sets,n=e.join(",");t[VJt]=n;var r=e.map((function(t){return u[t]})),i=function(t){var e={};fQt(t,e);var n=e.arcs;if(0===n.length)return"M 0 0";if(1==n.length){var r=n[0].circle;return function(t,e,n){var r=[],i=t-n,o=e;return r.push("M",i,o),r.push("A",n,n,0,1,0,i+2*n,o),r.push("A",n,n,0,1,0,i,o),r.join(" ")}(r.x,r.y,r.radius)}for(var i=["\nM",n[0].p2.x,n[0].p2.y],o=0;o<n.length;++o){var a=n[o],c=a.circle.radius,l=a.width>c;i.push("\nA",c,c,0,l?1:0,1,a.p1.x,a.p1.y)}return i.join(" ")}(r);/[zZ]$/.test(i)||(i+=" Z"),t[GJt]=i;var o=s[n]||{x:0,y:0};(0,tOt.f0)(t,o)})),c}var MQt=40;function AQt(t,e,n){var r=t.chart,i=t.options,o=i.blendMode,a=i.setsField,c=r.getTheme(),l=c.colors10,u=c.colors20,s=n;(0,tOt.kJ)(s)||(s=e.filter((function(t){return 1===t[a].length})).length<=10?l:u);var f=OQt(s,e,o,a);return function(t){return f.get(t)||s[0]}}function PQt(t){var e=t.chart,n=t.options,r=n.legend,i=n.appendPadding,o=n.padding,a=BUt(i);return!1!==r&&(a=zUt(i,(0,tOt.U2)(r,"position"),MQt)),e.appendPadding=UUt([a,o]),t}function _Qt(t){var e=t.options.data;e||(wUt(mUt.WARN,!1,"warn: %s","数据不能为空"),e=[]);var n=e.filter((function(t){return 1===t.sets.length})).map((function(t){return t.sets[0]})),r=e.filter((function(t){var e=t.sets;return function(t,e){for(var n=0;n<e.length;n++)if(!t.includes(e[n]))return!1;return!0}(n,e)}));return(0,tOt.Xy)(r,e)||wUt(mUt.WARN,!1,"warn: %s","交集中不能出现不存在的集合, 请输入合法数据"),(0,tOt.b$)({},t,{options:{data:r}})}function DQt(t){var e=t.chart,n=t.options,r=n.pointStyle,i=n.setsField,o=n.sizeField,a=BUt(e.appendPadding),c=a[0],l=a[1],u=a[2],s=a[3],f={offsetX:s,offsetY:c},h=e.viewBBox,d=h.width,p=h.height,v=EQt(n,Math.max(d-(l+s),0),Math.max(p-(c+u),0),0);e.data(v);var g=zHt(TUt({},t,{options:{xField:"x",yField:"y",sizeField:o,seriesField:VJt,rawFields:[i,o],schema:{shape:"venn",style:r}}})).ext.geometry;g.customInfo(f);var m=function(t,e){var n=t.options.color;if("function"!=typeof n){var r=AQt(t,e,"string"==typeof n?[n]:n);return function(t){return r(t[VJt])}}return n}(t,v);return"function"==typeof m&&g.color(VJt,(function(e){var n=v.find((function(t){return t[VJt]===e})),r=AQt(t,v)(e);return m(n,r)})),t}function TQt(t){var e=t.chart,n=t.options.label,r=BUt(e.appendPadding),i=r[0],o={offsetX:r[3],offsetY:i},a=jUt(e,"schema");if(n){var c=n.callback,l=(0,QCt._T)(n,["callback"]);a.label({fields:["id"],callback:c,cfg:(0,tOt.b$)({},LUt(l),{type:"venn",customLabelInfo:o})})}else a.label(!1);return t}function ZQt(t){var e=t.chart,n=t.options,r=n.legend,i=n.sizeField;return e.legend(VJt,r),e.legend(i,!1),t}function FQt(t){return t.chart.axis(!1),t}function jQt(t){var e=t.options,n=t.chart,r=e.interactions;if(r){var i={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};mHt(TUt({},t,{options:{interactions:r.map((function(t){return(0,QCt.pi)((0,QCt.pi)({},t),{type:i[t.type]||t.type})}))}}))}return n.removeInteraction("legend-active"),n.removeInteraction("legend-highlight"),t}function IQt(t){return FUt(PQt,bHt,_Qt,DQt,TQt,kHt({}),ZQt,FQt,gHt,jQt,yHt)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="venn",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return XJt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return IQt},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}(VHt);var RQt="x",LQt="violinY",NQt="violinSize",BQt="minMax",zQt="quantile",UQt="median",HQt="violin_view",WQt="min_max_view",VQt="quantile_view",GQt="median_view",XQt=TUt({},VHt.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),qQt=n(18698),YQt=n.n(qQt);function $Qt(t,e){var n=t.length*e;if(0===t.length)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function KQt(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function JQt(t,e,n,r){for(n=n||0,r=r||t.length-1;r>n;){if(r-n>600){var i=r-n+1,o=e-n+1,a=Math.log(i),c=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*c*(i-c)/i);o-i/2<0&&(l*=-1),JQt(t,e,Math.max(n,Math.floor(e-o*c/i+l)),Math.min(r,Math.floor(e+(i-o)*c/i+l)))}var u=t[e],s=n,f=r;for(KQt(t,n,e),t[r]>u&&KQt(t,n,r);s<f;){for(KQt(t,s,f),s++,f--;t[s]<u;)s++;for(;t[f]>u;)f--}t[n]===u?KQt(t,n,f):KQt(t,++f,r),f<=e&&(n=f+1),e<=f&&(r=f-1)}}function QQt(t,e){var n=t.slice();if(Array.isArray(e)){!function(t,e){for(var n=[0],r=0;r<e.length;r++)n.push(n0t(t.length,e[r]));n.push(t.length-1),n.sort(e0t);var i=[0,n.length-1];for(;i.length;){var o=Math.ceil(i.pop()),a=Math.floor(i.pop());if(!(o-a<=1)){var c=Math.floor((a+o)/2);t0t(t,n[c],Math.floor(n[a]),Math.ceil(n[o])),i.push(a,c,c,o)}}}(n,e);for(var r=[],i=0;i<e.length;i++)r[i]=$Qt(n,e[i]);return r}return t0t(n,n0t(n.length,e),0,n.length-1),$Qt(n,e)}function t0t(t,e,n,r){e%1==0?JQt(t,e,n,r):(JQt(t,e=Math.floor(e),n,r),JQt(t,e+1,e+1,r))}function e0t(t,e){return t-e}function n0t(t,e){var n=t*e;return 1===e?t-1:0===e?0:n%1!=0?Math.ceil(n)-1:t%2==0?n-.5:n}var r0t=function(t){return{low:(0,tOt.VV)(t),high:(0,tOt.Fp)(t),q1:QQt(t,.25),q3:QQt(t,.75),median:QQt(t,[.5]),minMax:[(0,tOt.VV)(t),(0,tOt.Fp)(t)],quantile:[QQt(t,.25),QQt(t,.75)]}},i0t=function(t,e){var n=YQt().create(t,e);return{violinSize:n.map((function(t){return t.y})),violinY:n.map((function(t){return t.x}))}},o0t=function(t){var e=t.xField,n=t.yField,r=t.seriesField,i=t.data,o=t.kde,a={min:o.min,max:o.max,size:o.sampleSize,width:o.width};if(!r){var c=(0,tOt.vM)(i,e);return Object.keys(c).map((function(t){var e=c[t].map((function(t){return t[n]}));return(0,QCt.pi)((0,QCt.pi)({x:t},i0t(e,a)),r0t(e))}))}var l=[],u=(0,tOt.vM)(i,r);return Object.keys(u).forEach((function(t){var i=(0,tOt.vM)(u[t],e);return Object.keys(i).forEach((function(e){var o,c=i[e].map((function(t){return t[n]}));l.push((0,QCt.pi)((0,QCt.pi)(((o={x:e})[r]=t,o),i0t(c,a)),r0t(c)))}))})),l},a0t=["low","high","q1","q3","median"],c0t=[{type:"dodge",marginRatio:1/32}];function l0t(t){var e=t.chart,n=t.options;return e.data(o0t(n)),t}function u0t(t){var e=t.chart,n=t.options,r=n.seriesField,i=n.color,o=n.shape,a=void 0===o?"violin":o,c=n.violinStyle,l=n.tooltip,u=n.state,s=e.createView({id:HQt});return function(t){var e=t.options,n=e.violin,r=e.xField,i=e.yField,o=e.seriesField,a=e.sizeField,c=DHt(e.tooltip,[r,i,o,a]),l=c.fields,u=c.formatter;n&&FHt(TUt({},t,{options:{type:"violin",colorField:o,tooltipFields:l,mapping:(0,QCt.pi)({tooltip:u},n)}}))}({chart:s,options:{xField:RQt,yField:LQt,seriesField:r||RQt,sizeField:NQt,tooltip:(0,QCt.pi)({fields:a0t},l),violin:{style:c,color:i,shape:a},state:u}}),s.geometries[0].adjust(c0t),t}function s0t(t){var e=t.chart,n=t.options,r=n.seriesField,i=n.color,o=n.tooltip,a=n.box;if(!1===a)return t;var c=e.createView({id:WQt});RHt({chart:c,options:{xField:RQt,yField:BQt,seriesField:r||RQt,tooltip:(0,QCt.pi)({fields:a0t},o),state:"object"==typeof a?a.state:{},interval:{color:i,size:1,style:{lineWidth:0}}}}),c.geometries[0].adjust(c0t);var l=e.createView({id:VQt});RHt({chart:l,options:{xField:RQt,yField:zQt,seriesField:r||RQt,tooltip:(0,QCt.pi)({fields:a0t},o),state:"object"==typeof a?a.state:{},interval:{color:i,size:8,style:{fillOpacity:1}}}}),l.geometries[0].adjust(c0t);var u=e.createView({id:GQt});return NHt({chart:u,options:{xField:RQt,yField:UQt,seriesField:r||RQt,tooltip:(0,QCt.pi)({fields:a0t},o),state:"object"==typeof a?a.state:{},point:{color:i,size:1,style:{fill:"white",lineWidth:0}}}}),u.geometries[0].adjust(c0t),l.axis(!1),c.axis(!1),u.axis(!1),u.legend(!1),c.legend(!1),l.legend(!1),t}function f0t(t){var e,n=t.chart,r=t.options,i=r.meta,o=r.xAxis,a=r.yAxis,c=TUt({},i,((e={})[RQt]=(0,QCt.pi)((0,QCt.pi)({sync:!0},SUt(o,yUt)),{type:"cat"}),e[LQt]=(0,QCt.pi)({sync:!0},SUt(a,yUt)),e[BQt]=(0,QCt.pi)({sync:LQt},SUt(a,yUt)),e[zQt]=(0,QCt.pi)({sync:LQt},SUt(a,yUt)),e[UQt]=(0,QCt.pi)({sync:LQt},SUt(a,yUt)),e));return n.scale(c),t}function h0t(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=KUt(e,HQt);return!1===r?o.axis(RQt,!1):o.axis(RQt,r),!1===i?o.axis(LQt,!1):o.axis(LQt,i),e.axis(!1),t}function d0t(t){var e=t.chart,n=t.options,r=n.legend,i=n.seriesField,o=n.shape;if(!1===r)e.legend(!1);else{var a=i||RQt,c=(0,tOt.CE)(r,["selected"]);o&&o.startsWith("hollow")||(0,tOt.U2)(c,["marker","style","lineWidth"])||(0,tOt.t8)(c,["marker","style","lineWidth"],0),e.legend(a,c),(0,tOt.U2)(r,"selected")&&(0,tOt.S6)(e.views,(function(t){return t.legend(a,r)}))}return t}function p0t(t){var e=KUt(t.chart,HQt);return CHt()((0,QCt.pi)((0,QCt.pi)({},t),{chart:e})),t}function v0t(t){var e=t.chart,n=t.options.animation;return(0,tOt.S6)(e.views,(function(t){tHt(t,n)})),t}function g0t(t){return FUt(bHt,l0t,u0t,s0t,f0t,gHt,h0t,d0t,mHt,p0t,v0t)(t)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="violin",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return XQt},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(o0t(this.options))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return g0t}}(VHt);var m0t="$$yField$$",y0t="$$diffField$$",b0t="$$absoluteField$$",x0t="$$isTotal$$",w0t={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function S0t(t,e,n,r){var i=function(t,e,n,r,i){var o,a=[];if((0,tOt.u4)(t,(function(t,e){var i;wUt(mUt.WARN,(0,tOt.hj)(e[n]),"".concat(e[n]," is not a valid number"));var o=(0,tOt.o8)(e[n])?null:e[n];return a.push((0,QCt.pi)((0,QCt.pi)({},e),((i={})[r]=[t,t+o],i))),t+o}),0),a.length&&i){var c=(0,tOt.U2)(a,[[t.length-1],r,[1]]);a.push(((o={})[e]=i.label,o[n]=c,o[r]=[0,c],o))}return a}(t,e,n,m0t,r);return i.map((function(e,n){var r;return(0,tOt.Kn)(e)?(0,QCt.pi)((0,QCt.pi)({},e),((r={})[b0t]=e[m0t][1],r[y0t]=e[m0t][1]-e[m0t][0],r[x0t]=n===t.length,r)):e}))}function k0t(t){var e=t.options,n=e.locale,r=e.total,i=_Ht(n).get(["waterfall","total"]);return r&&"string"!=typeof r.label&&i&&(t.options.total.label=i),t}function C0t(t){var e=t.chart,n=t.options,r=n.data,i=n.xField,o=n.yField,a=n.total,c=n.leaderLine,l=n.columnWidthRatio,u=n.waterfallStyle,s=n.risingFill,f=n.fallingFill,h=n.color,d=n.shape,p=n.customInfo;e.data(S0t(r,i,o,a));var v=h||function(t){return(0,tOt.U2)(t,[x0t])?(0,tOt.U2)(a,["style","fill"],""):(0,tOt.U2)(t,[m0t,1])-(0,tOt.U2)(t,[m0t,0])>0?s:f};return RHt(TUt({},t,{options:{xField:i,yField:m0t,seriesField:i,rawFields:[o,y0t,x0t,m0t],widthRatio:l,interval:{style:u,shape:d||"waterfall",color:v}}})).ext.geometry.customInfo((0,QCt.pi)((0,QCt.pi)({},p),{leaderLine:c})),t}function O0t(t){var e,n,r=t.options,i=r.xAxis,o=r.yAxis,a=r.xField,c=r.yField,l=r.meta,u=TUt({},{alias:c},(0,tOt.U2)(l,c));return FUt(kHt(((e={})[a]=i,e[c]=o,e[m0t]=o,e),TUt({},l,((n={})[m0t]=u,n[y0t]=u,n[b0t]=u,n))))(t)}function E0t(t){var e=t.chart,n=t.options,r=n.xAxis,i=n.yAxis,o=n.xField,a=n.yField;return!1===r?e.axis(o,!1):e.axis(o,r),!1===i?(e.axis(a,!1),e.axis(m0t,!1)):(e.axis(a,i),e.axis(m0t,i)),t}function M0t(t){var e=t.chart,n=t.options,r=n.legend,i=n.total,o=n.risingFill,a=n.fallingFill,c=_Ht(n.locale);if(!1===r)e.legend(!1);else{var l=[{name:c.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:o}}},{name:c.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:a}}}];i&&l.push({name:i.label||"",value:"total",marker:{symbol:"square",style:TUt({},{r:5},(0,tOt.U2)(i,"style"))}}),e.legend(TUt({},{custom:!0,position:"top",items:l},r)),e.removeInteraction("legend-filter")}return t}function A0t(t){var e=t.chart,n=t.options,r=n.label,i=n.labelMode,o=n.xField,a=jUt(e,"interval");if(r){var c=r.callback,l=(0,QCt._T)(r,["callback"]);a.label({fields:"absolute"===i?[b0t,o]:[y0t,o],callback:c,cfg:LUt(l)})}else a.label(!1);return t}function P0t(t){var e=t.chart,n=t.options,r=n.tooltip,i=n.xField,o=n.yField;if(!1!==r){e.tooltip((0,QCt.pi)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[o]},r));var a=e.geometries[0];(null==r?void 0:r.formatter)?a.tooltip("".concat(i,"*").concat(o),r.formatter):a.tooltip(o)}else e.tooltip(!1);return t}function _0t(t){return FUt(k0t,bHt,C0t,O0t,E0t,M0t,P0t,A0t,xHt,mHt,yHt,CHt())(t)}JZt("interval","waterfall",{draw:function(t,e){var n=t.customInfo,r=t.points,i=t.nextPoints,o=e.addGroup(),a=this.parsePath(function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var i=0===n?"M":"L";e.push([i,r.x,r.y])}}var o=t[0];return e.push(["L",o.x,o.y]),e.push(["z"]),e}(r)),c=function(t){return TUt({},t.defaultStyle,t.style,{fill:t.color})}(t);o.addShape("path",{attrs:(0,QCt.pi)((0,QCt.pi)({},c),{path:a})});var l=(0,tOt.U2)(n,"leaderLine");if(l&&i){var u=[["M",r[2].x,r[2].y],["L",i[0].x,i[0].y]];r[2].y===i[1].y&&(u[1]=["L",i[1].x,i[1].y]),u=this.parsePath(u),o.addShape("path",{attrs:(0,QCt.pi)({path:u},l.style||{})})}return o}});!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="waterfall",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return w0t},e.prototype.changeData=function(t){var e=this.options,n=e.xField,r=e.yField,i=e.total;this.updateOption({data:t}),this.chart.changeData(S0t(t,n,r,i))},e.prototype.getSchemaAdaptor=function(){return _0t},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()}}(VHt);var D0t="color",T0t=TUt({},VHt.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",D0t],formatter:function(t){return{name:t.text,value:t.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),Z0t={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function F0t(t,e){return function(t,e){var n=function(){var t=[256,256],e=N0t,n=z0t,r=B0t,i=U0t,o=H0t,a=q0t,c=Math.random,l=[],u=1/0,s=L0t,f=B0t,h=$0t,d={};function p(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1).data.length>>2);t.width=(I0t<<5)/e,t.height=R0t/e;var n=t.getContext("2d",{willReadFrequently:!0});return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}function v(e,n,r){for(var i,o,l,u=n.x,s=n.y,f=Math.sqrt(t[0]*t[0]+t[1]*t[1]),h=a(t),d=c()<.5?1:-1,p=-d;(i=h(p+=d))&&(o=~~i[0],l=~~i[1],!(Math.min(Math.abs(o),Math.abs(l))>=f));)if(n.x=u+o,n.y=s+l,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1])&&(!r||!V0t(n,e,t[0]))&&(!r||X0t(n,r))){for(var v=n.sprite,g=n.width>>5,m=t[0]>>5,y=n.x-(g<<4),b=127&y,x=32-b,w=n.y1-n.y0,S=void 0,k=(n.y+n.y0)*m+(y>>5),C=0;C<w;C++){S=0;for(var O=0;O<=g;O++)e[k+O]|=S<<x|(O<g?(S=v[C*g+O])>>>b:0);k+=m}return delete n.sprite,!0}return!1}return d.start=function(){var a=t[0],g=t[1],m=p(h()),y=d.board?d.board:Y0t((t[0]>>5)*t[1]),b=l.length,x=[],w=l.map((function(t,a,c){return t.text=s.call(this,t,a,c),t.font=e.call(this,t,a,c),t.style=f.call(this,t,a,c),t.weight=r.call(this,t,a,c),t.rotate=i.call(this,t,a,c),t.size=~~n.call(this,t,a,c),t.padding=o.call(this,t,a,c),t})).sort((function(t,e){return e.size-t.size})),S=-1,k=d.board?[{x:0,y:0},{x:a,y:g}]:null;function C(){for(var e=Date.now();Date.now()-e<u&&++S<b;){var n=w[S];n.x=a*(c()+.5)>>1,n.y=g*(c()+.5)>>1,W0t(m,n,w,S),n.hasText&&v(y,n,k)&&(x.push(n),k?d.hasImage||G0t(k,n):k=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}d._tags=x,d._bounds=k}return C(),d},d.createMask=function(e){var n=document.createElement("canvas"),r=t[0],i=t[1];if(r&&i){var o=r>>5,a=Y0t((r>>5)*i);n.width=r,n.height=i;var c=n.getContext("2d");c.drawImage(e,0,0,e.width,e.height,0,0,r,i);for(var l=c.getImageData(0,0,r,i).data,u=0;u<i;u++)for(var s=0;s<r;s++){var f=o*u+(s>>5),h=u*r+s<<2,p=l[h]>=250&&l[h+1]>=250&&l[h+2]>=250?1<<31-s%32:0;a[f]|=p}d.board=a,d.hasImage=!0}},d.timeInterval=function(t){u=null==t?1/0:t},d.words=function(t){l=t},d.size=function(e){t=[+e[0],+e[1]]},d.font=function(t){e=K0t(t)},d.fontWeight=function(t){r=K0t(t)},d.rotate=function(t){i=K0t(t)},d.spiral=function(t){a=J0t[t]||t},d.fontSize=function(t){n=K0t(t)},d.padding=function(t){o=K0t(t)},d.random=function(t){c=K0t(t)},d}();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach((function(t){(0,tOt.UM)(e[t])||n[t](e[t])})),n.words(t),e.imageMask&&n.createMask(e.imageMask);var r=n.start(),i=r._tags;i.forEach((function(t){t.x+=e.size[0]/2,t.y+=e.size[1]/2}));var o=e.size,a=o[0],c=o[1];return i.push({text:"",value:0,x:0,y:0,opacity:0}),i.push({text:"",value:0,x:a,y:c,opacity:0}),i}(t,e=(0,tOt.f0)({},Z0t,e))}var j0t=Math.PI/180,I0t=64,R0t=2048;function L0t(t){return t.text}function N0t(){return"serif"}function B0t(){return"normal"}function z0t(t){return t.value}function U0t(){return 90*~~(2*Math.random())}function H0t(){return 1}function W0t(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,(I0t<<5)/o,R0t/o);var a=0,c=0,l=0,u=n.length;for(--r;++r<u;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;var s=i.measureText(e.text+"m").width*o,f=e.size<<1;if(e.rotate){var h=Math.sin(e.rotate*j0t),d=Math.cos(e.rotate*j0t),p=s*d,v=s*h,g=f*d,m=f*h;s=Math.max(Math.abs(p+m),Math.abs(p-m))+31>>5<<5,f=~~Math.max(Math.abs(v+g),Math.abs(v-g))}else s=s+31>>5<<5;if(f>l&&(l=f),a+s>=I0t<<5&&(a=0,c+=l,l=0),c+f>=R0t)break;i.translate((a+(s>>1))/o,(c+(f>>1))/o),e.rotate&&i.rotate(e.rotate*j0t),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=s,e.height=f,e.xoff=a,e.yoff=c,e.x1=s>>1,e.y1=f>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,a+=s}for(var y=i.getImageData(0,0,(I0t<<5)/o,R0t/o).data,b=[];--r>=0;)if((e=n[r]).hasText){for(var x=(s=e.width)>>5,w=(f=e.y1-e.y0,0);w<f*x;w++)b[w]=0;if(null==(a=e.xoff))return;c=e.yoff;for(var S=0,k=-1,C=0;C<f;C++){for(w=0;w<s;w++){var O=x*C+(w>>5),E=y[(c+C)*(I0t<<5)+(a+w)<<2]?1<<31-w%32:0;b[O]|=E,S|=E}S?k=C:(e.y0++,f--,C--,c++)}e.y1=e.y0+k,e.sprite=b.slice(0,(e.y1-e.y0)*x)}}}function V0t(t,e,n){n>>=5;for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),c=127&a,l=32-c,u=t.y1-t.y0,s=(t.y+t.y0)*n+(a>>5),f=0;f<u;f++){r=0;for(var h=0;h<=o;h++)if((r<<l|(h<o?(r=i[f*o+h])>>>c:0))&e[s+h])return!0;s+=n}return!1}function G0t(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function X0t(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function q0t(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function Y0t(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function $0t(){return document.createElement("canvas")}function K0t(t){return(0,tOt.mf)(t)?t:function(){return t}}var J0t={archimedean:q0t,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}};function Q0t(t){var e=t.options,n=t.chart,r=n,i=r.width,o=r.height,a=r.padding,c=r.appendPadding,l=r.ele,u=e.data,s=e.imageMask,f=e.wordField,h=e.weightField,d=e.colorField,p=e.wordStyle,v=e.timeInterval,g=e.random,m=e.spiral,y=e.autoFit,b=void 0===y||y,x=e.placementStrategy;if(!u||!u.length)return[];var w=p.fontFamily,S=p.fontWeight,k=p.padding,C=p.fontSize,O=function(t,e){return t.map((function(t){return t[e]})).filter((function(t){return"number"==typeof t&&!isNaN(t)}))}(u,h),E=[r1t(O),i1t(O)],M=u.map((function(t){return{text:t[f],value:t[h],color:t[d],datum:t}})),A={imageMask:s,font:w,fontSize:e1t(C,E),fontWeight:S,size:t1t({width:i,height:o,padding:a,appendPadding:c,autoFit:b,container:l}),padding:k,timeInterval:v,random:g,spiral:m,rotate:n1t(e)};if((0,tOt.mf)(x)){var P=M.map((function(t,e,r){return(0,QCt.pi)((0,QCt.pi)((0,QCt.pi)({},t),{hasText:!!t.text,font:K0t(A.font)(t,e,r),weight:K0t(A.fontWeight)(t,e,r),rotate:K0t(A.rotate)(t,e,r),size:K0t(A.fontSize)(t,e,r),style:"normal"}),x.call(n,t,e,r))}));return P.push({text:"",value:0,x:0,y:0,opacity:0}),P.push({text:"",value:0,x:A.size[0],y:A.size[1],opacity:0}),P}return F0t(M,A)}function t1t(t){var e=t.width,n=t.height,r=t.container,i=t.autoFit,o=t.padding,a=t.appendPadding;if(i){var c=ZUt(r);e=c.width,n=c.height}e=e||400,n=n||400;var l=function(t){var e=BUt(t.padding),n=BUt(t.appendPadding),r=e[0]+n[0],i=e[1]+n[1],o=e[2]+n[2],a=e[3]+n[3];return[r,i,o,a]}({padding:o,appendPadding:a}),u=l[0],s=l[1],f=l[2];return[e-(l[3]+s),n-(u+f)]}function e1t(t,e){if((0,tOt.mf)(t))return t;if((0,tOt.kJ)(t)){var n=t[0],r=t[1];if(!e)return function(){return(r+n)/2};var i=e[0],o=e[1];return o===i?function(){return(r+n)/2}:function(t){var e=t.value;return(r-n)/(o-i)*(e-i)+n}}return function(){return t}}function n1t(t){var e=function(t){var e=t.wordStyle.rotationSteps;e<1&&(wUt(mUt.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),e=1);return{rotation:t.wordStyle.rotation,rotationSteps:e}}(t),n=e.rotation,r=e.rotationSteps;if(!(0,tOt.kJ)(n))return n;var i=n[0],o=n[1],a=1===r?0:(o-i)/(r-1);return function(){return o===i?o:Math.floor(Math.random()*r)*a}}function r1t(t){return Math.min.apply(Math,t)}function i1t(t){return Math.max.apply(Math,t)}function o1t(t){var e=t.chart,n=t.options,r=n.colorField,i=n.color,o=Q0t(t);return e.data(o),NHt(TUt({},t,{options:{xField:"x",yField:"y",seriesField:r&&D0t,rawFields:(0,tOt.mf)(i)&&(0,QCt.ev)((0,QCt.ev)([],(0,tOt.U2)(n,"rawFields",[]),!0),["datum"],!1),point:{color:i,shape:"word-cloud"}}})).ext.geometry.label(!1),e.coordinate().reflect("y"),e.axis(!1),t}function a1t(t){return FUt(kHt({x:{nice:!1},y:{nice:!1}}))(t)}function c1t(t){var e=t.chart,n=t.options,r=n.legend,i=n.colorField;return!1===r?e.legend(!1):i&&e.legend(D0t,r),t}function l1t(t){FUt(o1t,a1t,gHt,c1t,mHt,yHt,bHt,xHt)(t)}function u1t(t){return{fontSize:t.data.size,text:t.data.text,textAlign:"center",fontFamily:t.data.font,fontWeight:t.data.weight,fill:t.color||t.defaultStyle.stroke,textBaseline:"alphabetic"}}JZt("point","word-cloud",{draw:function(t,e){var n=t.x,r=t.y,i=e.addShape("text",{attrs:(0,QCt.pi)((0,QCt.pi)({},u1t(t)),{x:n,y:r})}),o=t.data.rotate;return"number"==typeof o&&IFt.rotate(i,o*Math.PI/180),i}});(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="word-cloud",e}(0,QCt.ZT)(e,t),e.getDefaultOptions=function(){return T0t},e.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(Q0t({chart:this.chart,options:this.options}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){var e=this;return new Promise((function(n){var r=e.options.imageMask;if(!r)return t.prototype.render.call(e),void n();var i,o=function(r){e.options=(0,QCt.pi)((0,QCt.pi)({},e.options),{imageMask:r||null}),t.prototype.render.call(e),n()};(i=r,new Promise((function(t,e){if(i instanceof HTMLImageElement)t(i);else{if((0,tOt.HD)(i)){var n=new Image;return n.crossOrigin="anonymous",n.src=i,n.onload=function(){t(n)},void(n.onerror=function(){wUt(mUt.ERROR,!1,"image %s load failed !!!",i),e()})}wUt(mUt.WARN,void 0===i,"The type of imageMask option must be String or HTMLImageElement."),e()}}))).then(o).catch(o)}))},e.prototype.getSchemaAdaptor=function(){return l1t},e.prototype.triggerResize=function(){var e=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout((function(){t.prototype.triggerResize.call(e)})))}})(VHt),function(t){function e(e,n,r,i){var o=t.call(this,e,TUt({},i,n))||this;return o.type="g2-plot",o.defaultOptions=i,o.adaptor=r,o}(0,QCt.ZT)(e,t),e.prototype.getDefaultOptions=function(){return this.defaultOptions},e.prototype.getSchemaAdaptor=function(){return this.adaptor}}(VHt);PHt("en-US",{locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}}),PHt("zh-CN",{locale:"zh-CN",general:{increase:"增加",decrease:"减少",root:"初始"},statistic:{total:"总计"},conversionTag:{label:"转化率"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"总计"}});var s1t,f1t=function(){return f1t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},f1t.apply(this,arguments)},h1t=f1t({},_t),d1t=h1t.version,p1t=h1t.render;h1t.unmountComponentAtNode;try{Number((d1t||"").split(".")[0])>=18&&(s1t=h1t.createRoot)}catch(F2t){}function v1t(t){var e=h1t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&"object"==typeof e&&(e.usingClientEntryPoint=t)}var g1t="__rc_react_root__";function m1t(t,e){s1t?function(t,e){v1t(!0);var n=e[g1t]||s1t(e);v1t(!1),n.render(t),e[g1t]=n}(t,e):function(t,e){p1t(t,e)}(t,e)}var y1t=new Map,b1t=function(t,e,n){var r=document.createElement("div");return"tooltip"===e&&(r.setAttribute("data-uuid",n),y1t.has(n)?r=y1t.get(n):y1t.set(n,r),r.className="g2-tooltip"),m1t(t,r),r},x1t=function(t,e){return{}.toString.call(t)==="[object ".concat(e,"]")},w1t=function t(e){return e&&"object"==typeof e?(Array.isArray(e)?n=e.map((function(e){return t(e)})):(n={},Object.keys(e).forEach((function(r){return n[r]=t(e[r])}))),n):e;var n},S1t=function(t,e){for(var n=t,r=0;r<e.length;r+=1){if(!(null==n?void 0:n[e[r]])){n=void 0;break}n=n[e[r]]}return n},k1t=function(){return k1t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},k1t.apply(this,arguments)},C1t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function O1t(t,e){var n=(0,Z.useRef)(),r=(0,Z.useRef)(),i=(0,Z.useRef)(null),o=e.onReady,a=e.onEvent,c=function(t,e,n,r){var i=S1t(t,e);!function(t,e,n){if(!t)return t;var r=t;e.forEach((function(t,i){i<e.length-1?r=r[t]:r[t]=n}))}(t,e,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=x1t(i,"Function")?i.apply(void 0,t):i;return x1t(o,"String")||x1t(o,"Number")||x1t(o,"HTMLDivElement")?o:b1t(o,n,r)}))},l=function(){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}));S1t(e,["statistic","content","customHtml"])&&c(e,["statistic","content","customHtml"]),S1t(e,["statistic","title","customHtml"])&&c(e,["statistic","title","customHtml"]),"object"==typeof e.tooltip&&(S1t(e,["tooltip","container"])&&c(e,["tooltip","container"],"tooltip",t),S1t(e,["tooltip","customContent"])&&c(e,["tooltip","customContent"],"tooltip",t))};return(0,Z.useEffect)((function(){if(n.current&&!(0,tOt.Xy)(r.current,e)){var t=!1;if(r.current){var i=r.current,o=(i.data,i.value,i.percent,C1t(i,["data","value","percent"])),a=(e.data,e.value,e.percent,C1t(e,["data","value","percent"]));t=(0,tOt.Xy)(o,a)}if(r.current=w1t(e),t&&"Mix"!==(0,tOt.U2)(e,"chartType")){var c="data",u=Object.keys(e);["percent"].forEach((function(t){u.includes(t)&&(c=t)})),n.current.changeData((null==e?void 0:e[c])||[]),n.current.render()}else l(),n.current.update(e)}}),[e]),(0,Z.useEffect)((function(){if(!i.current)return function(){return null};r.current||(r.current=w1t(e)),l();var c=new t(i.current,k1t({},e));c.toDataURL=function(t,e){return function(t,e){var r;return void 0===t&&(t="image/png"),null===(r=n.current)||void 0===r?void 0:r.chart.canvas.cfg.el.toDataURL(t,e)}(t,e)},c.downloadImage=function(t,e,r){return function(t,e,r){var i;void 0===t&&(t="download"),void 0===e&&(e="image/png");var o=t;-1===t.indexOf(".")&&(o="".concat(t,".").concat(e.split("/")[1]));var a=null===(i=n.current)||void 0===i?void 0:i.chart.canvas.cfg.el.toDataURL(e,r),c=document.createElement("a");return c.href=a,c.download=o,document.body.appendChild(c),c.click(),document.body.removeChild(c),c=null,o}(t,e,r)},c.render(),n.current=function(t){if(!t)return t;var e={};for(var n in t)e[n]=t[n];return e}(c),o&&o(c);var u=function(t){a&&a(c,t)};return c.on("*",u),function(){n.current&&(n.current.destroy(),n.current.off("*",u),n.current=void 0)}}),[]),{chart:n,container:i}}var E1t=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M1t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hasError:!1},e.renderError=function(t){var n=e.props.errorTemplate;return"function"==typeof n?n(t):n||Z.createElement("h5",null,"组件出错了，请核查后重试： ",t.message)},e}return E1t(e,t),e.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},e.getDerivedStateFromProps=function(t,e){return e.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},e.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):Z.createElement(Z.Fragment,null,this.props.children)},e}(Z.Component),A1t=M1t,P1t=function(){return P1t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},P1t.apply(this,arguments)};var _1t=function(t){var e=t.animate,n=t.backgroundColor,r=t.backgroundOpacity,i=t.baseUrl,o=t.children,a=t.foregroundColor,c=t.foregroundOpacity,l=t.gradientRatio,u=t.uniqueKey,s=t.interval,f=t.rtl,h=t.speed,d=t.style,p=t.title,v=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),g=u||Math.random().toString(36).substring(6),m=g+"-diff",y=g+"-animated-diff",b=g+"-aria",x=f?{transform:"scaleX(-1)"}:null,w="0; "+s+"; 1",S=h+"s";return(0,Z.createElement)("svg",P1t({"aria-labelledby":b,role:"img",style:P1t(P1t({},d),x)},v),p?(0,Z.createElement)("title",{id:b},p):null,(0,Z.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+i+"#"+m+")",style:{fill:"url("+i+"#"+y+")"}}),(0,Z.createElement)("defs",{role:"presentation"},(0,Z.createElement)("clipPath",{id:m},o),(0,Z.createElement)("linearGradient",{id:y},(0,Z.createElement)("stop",{offset:"0%",stopColor:n,stopOpacity:r},e&&(0,Z.createElement)("animate",{attributeName:"offset",values:-l+"; "+-l+"; 1",keyTimes:w,dur:S,repeatCount:"indefinite"})),(0,Z.createElement)("stop",{offset:"50%",stopColor:a,stopOpacity:c},e&&(0,Z.createElement)("animate",{attributeName:"offset",values:-l/2+"; "+-l/2+"; "+(1+l/2),keyTimes:w,dur:S,repeatCount:"indefinite"})),(0,Z.createElement)("stop",{offset:"100%",stopColor:n,stopOpacity:r},e&&(0,Z.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+l),keyTimes:w,dur:S,repeatCount:"indefinite"})))))};_1t.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var D1t=function(t){return t.children?(0,Z.createElement)(_1t,P1t({},t)):(0,Z.createElement)(T1t,P1t({},t))},T1t=function(t){return(0,Z.createElement)(D1t,P1t({viewBox:"0 0 476 124"},t),(0,Z.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,Z.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,Z.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,Z.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,Z.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,Z.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},Z1t=D1t,F1t=function(t){var e=t.loadingTemplate,n=t.theme,r=void 0===n?"light":n;return Z.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"dark"===r?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},e||Z.createElement(Z1t,{viewBox:"0 0 400 180",width:200,height:90,speed:1,backgroundColor:"dark"===r?"#262626":"#D9D9D9"},Z.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),Z.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),Z.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),Z.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),Z.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),Z.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),Z.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),Z.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),Z.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),Z.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"})))},j1t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},I1t=(0,Z.forwardRef)((function(t,e){var n=t.chartRef,r=t.style,i=void 0===r?{height:"inherit"}:r,o=t.className,a=t.loading,c=t.loadingTemplate,l=t.errorTemplate,u=j1t(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),s=O1t(V$t,u),f=s.chart,h=s.container;return(0,Z.useEffect)((function(){!function(t,e){t&&((0,tOt.mf)(t)?t(e):t.current=e)}(n,f.current)}),[f.current]),(0,Z.useImperativeHandle)(e,(function(){return{getChart:function(){return f.current}}})),Z.createElement(A1t,{errorTemplate:l},a&&Z.createElement(F1t,{loadingTemplate:c,theme:t.theme}),Z.createElement("div",{className:o,style:i,ref:h}))})),R1t=I1t;function L1t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function N1t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L1t(Object(n),!0).forEach((function(e){(0,B.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L1t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var B1t=function(t){var e={data:t.data.map((function(t){return N1t(N1t({},t),{},{score:t.score/2})})),xField:"dimension",yField:"score",appendPadding:[0,10,0,10],meta:{score:{alias:"score (out of 5)",min:0,nice:!0,formatter:function(t){return Number(t).toFixed(2)}}},xAxis:{tickLine:null},yAxis:{label:!1,grid:{alternateColor:"rgba(0, 0, 0, 0.04)"}},point:{size:2},area:{style:{fillOpacity:.3,fill:"green",stroke:"green"}}};return Z.createElement("div",{className:" "},Z.createElement(R1t,e))},z1t=function(t){var e,n=t.vizData,r=t.setVizData,i=t.vizConfig;e=[];var o=Z.useState(!1),a=o[0],c=o[1],l=Z.useState(!1),u=l[0],s=l[1],f=Z.useState(null),h=(f[0],f[1]),d=Z.useState(e),p=d[0],v=d[1],g="/api",m=Z.useState(0),y=m[0],b=m[1],x=Z.useRef(null);Z.useEffect((function(){v(e),b(0)}),[n]);var w=null==p?void 0:p.map((function(t,e){var n=y===e;return Z.createElement("div",{role:"button",tabIndex:0,onClick:function(){return b(e)},className:"text-primary p-1 px-2 rounded border "+(n?"border-accent  ":" border-transparent"),key:"evaluationsrow"+e},Z.createElement("div",{className:"   "},Z.createElement("div",{className:"flex   gap-3  "},Z.createElement("div",{style:{minWidth:"170px"},className:"  text-md"}," ",function(t){for(var e=[],n=0;n<5;n++)n<t?e.push(Z.createElement(JCt,{key:"starticon"+n,className:"w-4 h-4 text-yellow-500 inline-block"})):e.push(Z.createElement(JCt,{key:"starticon"+n,className:"w-4 h-4 text-gray-300 inline-block"}));return e}(t.score/2)," ",Z.createElement("span",{className:"inline-block ml-2"},t.dimension)),Z.createElement("div",{className:"my-2 flex-1 bg-gray-200 h-1 rounded"},Z.createElement("div",{style:{width:(10*t.score).toFixed(0)+"%",backgroundColor:(0,N.i5)(t.score,1,10)},className:"h-1 rounded"})))))}));return Z.createElement("div",{style:{minHeight:"200px"},className:"text-primary"},Z.createElement("div",{onClick:function(){return function(){h(null),c(!0),v([]),setTimeout((function(){(0,N.kI)(x)}),600);var t={code:n.code,goal:i.goal,textgen_config:i.textgen_config,library:i.library},e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};(0,N.ZV)(g+"/visualize/evaluate",e,(function(t){t&&t.status?(v(t.evaluations),kc.success(t.message),setTimeout((function(){(0,N.kI)(x)}),400)):(kc.error(t.message),h(t)),c(!1)}),(function(t){kc.error(t.message),c(!1),h(t)}))}()},role:"button",className:"px-5 bg-accent duration-300 hover:brightness-110 text-white inline-block  rounded p-2 "+(a?"opacity-50 pointer-events-none":"")+" "},!a&&Z.createElement(rv.Z,{className:"w-5 h-5 mr-1  inline-block"}),a&&Z.createElement(ks.rH,{className:"text-white inline-block"})," Evaluate the chart."),a&&Z.createElement("div",{className:"mt-4"},Z.createElement(ks.rH,{className:"text-accent",subtitle:"fetching evaluations .."}),Z.createElement(Gc,{active:!0,className:"mt-4",paragraph:{rows:12}})),Z.createElement("div",{ref:x,className:"mt-6"},p&&p.length>0&&Z.createElement(Z.Fragment,null,Z.createElement("div",{className:"my-2"},"The visualization has been evaluated across multiple dimensions. Select a dimension to view rationale for the score"," "),Z.createElement("div",{className:" w-full grid md:grid-cols-2 sm:grid-cols-1 gap-3 "},Z.createElement("div",{className:"  w-full"},Z.createElement(B1t,{data:p})),Z.createElement("div",{className:" mt-2  w-full"},Z.createElement("div",{className:"mt-2"}," ",w),Z.createElement("div",{className:"border mt-2 rounded p-2"},Z.createElement("div",{className:"my-2 capitalize"},p[y].dimension," "),Z.createElement("div",{className:"flex"},Z.createElement("div",{style:{fontSize:"50px",color:(0,N.i5)(p[y].score,1,10)},className:"text-accent   mr-2"},(p[y].score/2).toFixed(1),Z.createElement("div",{className:"text-sm text-center -mt-4 text-primary"}," ","out of 5"," ")),Z.createElement("div",null," ",p[y].rationale))))))),p&&p.length>0&&Z.createElement("div",{className:"p-2   text-right"}," ",Z.createElement("div",{onClick:function(){return function(){h(null),s(!0),setTimeout((function(){(0,N.kI)(x)}),600);var t={code:n.code,feedback:p,textgen_config:i.textgen_config,library:i.library,summary:i.summary,goal:i.goal},e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};(0,N.ZV)(g+"/visualize/repair",e,(function(t){t&&t.status?(console.log("Repair data",t),r(t.charts[0]),kc.success(t.message),setTimeout((function(){(0,N.kI)(x)}),400)):(kc.error(t.message),h(t)),s(!1)}),(function(t){kc.error(t.message),s(!1),h(t)}))}()},role:"button",className:"px-5 bg-accent duration-300 hover:brightness-110 text-white inline-block  rounded p-2 "+(u?"opacity-50 pointer-events-none":"")+" "},!u&&Z.createElement(Z.Fragment,null," ",Z.createElement(XCt.Z,{className:"w-5 h-5 mr-1  inline-block"})," ","Auto Repair Chart."),u&&Z.createElement(Z.Fragment,null,Z.createElement(ks.rH,{className:"text-white inline-block"}),"Repairing Chart .."," ")," ")))},U1t=function(t){var e=t.vizData,n=(t.setVizData,t.vizConfig),r=Z.useState(!1),i=r[0],o=r[1],a=Z.useState(null),c=(a[0],a[1]),l=Z.useState([]),u=l[0],s=l[1],f=Z.useRef(null);Z.useEffect((function(){s([])}),[e]);var h=null==u?void 0:u.map((function(t,e){var n="accessibility"===t.section;return Z.createElement("div",{className:"mb-4",key:"recommendationsrow"+e},Z.createElement("div",{className:"font-semibold text-lg"}," ",t.section),Z.createElement("div",{className:"flex gap-4"},Z.createElement("div",{className:(n?"":" w-1/2")+" "},Z.createElement("img",{src:"data:image/png;base64,"+t.raster})),!n&&Z.createElement("div",{className:"w-1/2"},Z.createElement(Cs.d,{code:""+t.code,language:"python",wrapLines:!0}))))}));return Z.createElement("div",{className:"text-primary"},Z.createElement("div",{onClick:function(){return function(){c(null),o(!0),s([]),setTimeout((function(){(0,N.kI)(f)}),600);var t=Object.assign({},n.textgen_config);t.n=3,t.temperature=.6;var r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e.code,library:n.library,summary:n.summary,textgen_config:t})};(0,N.ZV)("/api/visualize/recommend",r,(function(t){t&&t.status?(console.log("Recomendation data",t),s(t.charts),kc.success(t.message),setTimeout((function(){(0,N.kI)(f)}),400)):(kc.error(t.message),c(t)),o(!1)}),(function(t){kc.error(t.message),o(!1),c(t)}))}()},role:"button",className:"px-5 bg-accent duration-300 hover:brightness-110 text-white inline-block  rounded p-2 "+(i?"opacity-50 pointer-events-none":"")+" "},!i&&Z.createElement(nv.Z,{className:"w-5 h-5 mr-1  inline-block"}),i&&Z.createElement(ks.rH,{className:"text-white inline-block"})," Generate Recommendations"),i&&Z.createElement("div",{className:"mt-4"},Z.createElement(ks.rH,{className:"text-accent",subtitle:"loading recommendations .."}),Z.createElement(Gc,{active:!0,className:"mt-4",paragraph:{rows:12}})),Z.createElement("div",{ref:f,className:"mt-4"},h))},H1t=function(t){var e,n=t.vizspec,r=t.config,i=r.goal,o="/api",a=Z.useState(!1),c=a[0],l=a[1],u=Z.useState(null),s=u[0],f=u[1],h=Z.useState([]),d=h[0],p=h[1],v=Z.useRef(null),g=Z.useRef(null),m=Z.useState(n),y=m[0],b=m[1],x=y.spec,w=y.raster;x&&(delete x.config,x.width=300,x.height=320,x.actions=!1,x.data.url.includes("/api")||(x.data.url=o+x.data.url),null!==(e=x.title)&&void 0!==e&&e.subtitle&&delete x.title.subtitle);var S=d.map((function(t,e){return Z.createElement("div",{className:"",key:"commandsrow"+e},Z.createElement("span",{className:"text-xs"},t))})),k=[{key:"1",label:Z.createElement("div",null," ",Z.createElement(Qp,{className:"inline-block h-4 mr-2"}),"Refine"),children:Z.createElement("div",{className:"text-primary",style:{minHeight:"300px"}},Z.createElement("div",{className:"text-sm text-primary mb-2"},"Modify Chart with Natural Language commands."),Z.createElement("div",{className:"relative mt-2 bg-secondary rounded-b-none rounded p-2 "+(c?"pointer-event-none opacity-75":"")+" "},Z.createElement("input",{ref:v,onKeyDown:function(t){var e;"Enter"===t.key&&function(t){f(null),l(!0);var e=Object.assign([],d);e.push(t);var i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({summary:r.summary,instructions:e,code:n.code,library:r.library,textgen_config:r.textgen_config})};(0,N.ZV)(o+"/visualize/edit",i,(function(t){var n;t&&t.status?(b(t.charts[0]),kc.success(t.message),(null===(n=v.current)||void 0===n?void 0:n.value)&&(v.current.value=""),p(e)):(kc.error(t.message),f(t)),l(!1)}),(function(t){kc.error(t.message),l(!1),f(t)}))}((null===(e=v.current)||void 0===e?void 0:e.value)||"")},className:"bg-white w-full text-gray-600 p-2 rounded",placeholder:"Change x axis label to Meters per Second",type:"input"}),c&&Z.createElement("span",{className:"absolute left-4 top-4 text-accent"}," ",Z.createElement(ks.rH,{className:""})),Z.createElement("div",{className:"text-sm text-orange-400 mt-1"},null==s?void 0:s.message)),Z.createElement("div",{className:"text-xs p-2 border border-t-0 rounded border-secondary rounded-t-none"},d&&d.length>0&&Z.createElement("div",{className:"text-right"},Z.createElement("div",{role:"button",onClick:function(){p([])},className:"text-right border inline-block p-1 rounded hover:border-accent hover:text-accent duration-300"}," ",Z.createElement(ev,{className:"w-5 h-5 inline-block"})," Clear Chat History"," ")),S))},{key:"2",label:Z.createElement("div",null," ",Z.createElement(nv.Z,{className:"inline-block h-4 mr-2"}),"Explain"),children:Z.createElement(Z.Fragment,null,Z.createElement("div",{className:"text-sm text-primary mb-2"},"Use the explain visualization button below to generate an explanation for the chart."),Z.createElement(GCt,{vizData:y,vizConfig:r}))},{key:"3",label:Z.createElement("div",null," ",Z.createElement(rv.Z,{className:"inline-block h-4 mr-2"}),"Evaluate"),children:Z.createElement(Z.Fragment,null,Z.createElement("div",{className:"text-sm text-primary mb-2"},"Use the evaluate visualization button below to generate self-evaluation scores for the chart."),Z.createElement(z1t,{vizData:y,setVizData:b,vizConfig:r}))},{key:"4",label:Z.createElement("div",null," ",Z.createElement(Ps.Z,{className:"inline-block h-4 mr-2"}),"Recommend!"),children:Z.createElement(Z.Fragment,null,Z.createElement("div",{className:"text-sm text-primary mb-2"},"Generate similar charts."),Z.createElement(U1t,{vizData:y,setVizData:b,vizConfig:r}))}];return Z.createElement("div",{className:"text-primary  ",ref:g},Z.createElement("div",{className:"mb-4 w-full  "},Z.createElement("div",{className:"text-lg font-semibold"},null==i?void 0:i.question),Z.createElement("span",{className:"text-sm"},null==i?void 0:i.rationale)," ",(null==i?void 0:i.visualization)&&Z.createElement("div",{className:"text-sm text-accent"},null==i?void 0:i.visualization)),Z.createElement("div",{className:"md:flex gap-4   w-full"},x&&Z.createElement("div",{className:" bg-white rounded p-2  "},Z.createElement(BCt,{spec:x,actions:!1})),w&&Z.createElement(UCt,{raster:w,library:r.library,goal:r.goal}),Z.createElement("div",{className:"flex-1  md:mt-0 mt-4      gap-3 mb-4  "},Z.createElement("div",{className:"  w-full"},Z.createElement("div",{className:"text-xs word-break: break-all text-primary mb-2"},Z.createElement(iv.Z,{className:"h-4 w-4 inline-block mr-1"}),"How was this visualization created? See the specifications and code below."),Z.createElement(VCt,{spec:x,code:y.code,error:y.error,status:y.status})))),Z.createElement(Im,{defaultActiveKey:"1",items:k}))},W1t=function(t){var e=t.vizspecs,n=t.vizConfig;return Z.createElement("div",{className:" mt-4  "},Z.createElement(Kp,{locale:{emptyText:Z.createElement(Qs,{description:"No experiments found"})},dataSource:e,renderItem:function(t,e){return Z.createElement(H1t,{vizspec:t,config:n})},pagination:{pageSize:1,size:"small",hideOnSinglePage:!0}}))};function V1t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function G1t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V1t(Object(n),!0).forEach((function(e){(0,B.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V1t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var X1t=function(t){var e,n=t.config,r=n.vizConfig,i=n.setVizConfig,o=Z.useState(null),a=o[0],c=o[1],l=Z.useState(null),u=(l[0],l[1]),s=Z.useState(!1),f=s[0],h=s[1],d=Z.useRef(null),p=Z.useRef(null);Z.useEffect((function(){var t;d.current&&(d.current.value=(null===(t=r.goal)||void 0===t?void 0:t.question)||"");r.summary&&r.goal}),[r.goal]),Z.useEffect((function(){r.summary&&r.goal&&(setTimeout((function(){(0,N.kI)(p)}),200),v(r))}),[r.library,r.goal]);var v=function(t){u(null),c(null),h(!0);var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({summary:t.summary,goal:t.goal,library:r.library,textgen_config:r.textgen_config})};(0,N.ZV)("/api/visualize",e,(function(t){t&&t.status?(c(t.charts),kc.success(t.message),setTimeout((function(){(0,N.kI)(p)}),600)):(kc.error(t.message),u(t)),h(!1)}),(function(t){u(t),kc.error(t.message),h(!1)}))};return Z.createElement("div",{className:" mt-10"},r.summary&&Z.createElement(Z.Fragment,null,Z.createElement("div",{className:"font-semibold text-xl  mb-2 text-secopndary"},Z.createElement(js.Z,{className:"inline-block h-5"})," Visualization Generation"),Z.createElement("div",{className:" my-2 text-secondary text-xs"},"Select a goal above or describe a new visualization goal to generate a visualization."),Z.createElement("div",{className:(f?" ":"")+" border border-secondary rounded p-3 flex gap-2"},Z.createElement("input",{className:" w-full p-3 text-gray-700 flex-1 rounded border border-secondary inline-block  "+(f?"brightness-90 pointer-events-none":""),placeholder:"Enter Prompt",type:"text",defaultValue:null===(e=r.goal)||void 0===e?void 0:e.question,ref:d,onKeyDown:function(t){var e,n;"Enter"===t.key&&d.current&&!f&&i(G1t(G1t({},r),{},{goal:{index:0,question:null===(e=d.current)||void 0===e?void 0:e.value,visualization:null===(n=d.current)||void 0===n?void 0:n.value,rationale:" "}}))}}),Z.createElement(ks.Cw,{onClick:function(){var t,e;d.current&&i(G1t(G1t({},r),{},{goal:{index:0,question:null===(t=d.current)||void 0===t?void 0:t.value,visualization:null===(e=d.current)||void 0===e?void 0:e.value,rationale:" "}}))}},Z.createElement("div",{className:"   flex relative"},f&&Z.createElement("div",{className:"inline-block   "},Z.createElement(Rs,{className:"relative -pb-2  animate-spin  inline-flex rounded-full h-7 w-7"})),!f&&Z.createElement("span",{className:"inline-block "}," ",Z.createElement(Ns,{className:"inline-block h-5 mr-2 -mt-1"}),"Generate"))," "))),Z.createElement("div",{ref:p},f&&Z.createElement(Z.Fragment,null,Z.createElement(ks.Ff,null,Z.createElement(Z.Fragment,null," Working on generating interesting visualizations")),Z.createElement(Gc,{active:!0,className:"mt-4",paragraph:{rows:12}})),r.summary&&r.goal&&Z.createElement("div",{className:"mt-4"},a&&a.length>0&&Z.createElement("div",{className:"mt-4  "},Z.createElement(W1t,{vizspecs:a,vizConfig:r}))),a&&0===a.length&&Z.createElement("div",{className:"mt-4 p-2 rounded border-accent border"}," ",Z.createElement(L,{className:"inline-block h-5 mr-2"}),"No visualizations generated"," ")))};function q1t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Y1t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q1t(Object(n),!0).forEach((function(e){(0,B.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q1t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var $1t=function(t){var e=t.config,n=e.vizConfig,r=e.setVizConfig,i=(e.error,e.setError),o="/api",a=Z.useState(!1),c=a[0],l=a[1],u=Z.useState(!1),s=u[0],f=u[1],h=Z.useState(null),d=h[0],p=h[1],v=Z.useRef(null),g=Z.useRef(null),m=va.Dragger;Z.useEffect((function(){n.summary&&(b(n.summary),setTimeout((function(){(0,N.kI)(v)}),700))}),[n.summary]);var y=function(){i(null);var t=Object.assign({},n);t.goal=null,t.summary=null,r(t)},b=function(t){var e=o+"/goal";i(null),l(!0);var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({summary:t,n:5,textgen_config:n.textgen_config})};(0,N.ZV)(e,a,(function(t){t&&t.status?(kc.success(t.message),r(Y1t(Y1t({},n),{},{goal:t.data[0]})),p(t.data)):kc.error(t.message),l(!1)}),(function(t){console.log(t),i(t),kc.error(t.message),l(!1)}))},x={name:"file",multiple:!1,maxCount:1,beforeUpload:function(t){return function(t){y();var e=new FormData;e.append("file",t,t.name);var a=o+"/summarize";f(!0),fetch(a,{method:"POST",body:e}).then((function(t){return t.json()})).then((function(t){t.status?(i(null),f(!1),r(Y1t(Y1t({},n),{},{summary:t.summary,goal:null}))):(i({status:!1,message:t.message}),f(!1))})).catch((function(t){f(!1),console.log(t),i({status:!1,message:t+""})}))}(t),!1},onChange:function(t){var e=t.file.status;"done"===e?kc.success(t.file.name+" file uploaded successfully."):"error"===e&&kc.error(t.file.name+" file upload failed.")},onDrop:function(t){console.log("Dropped files",t.dataTransfer.files)}};return Z.createElement("div",{className:""},Z.createElement("div",{className:"mb-2 "},Z.createElement("div",{className:" md:pb-2   mb-6 "},Z.createElement("div",{className:"mb-2 "},Z.createElement("span",{className:"font-semibold "},Z.createElement(U,{className:"inline-block h-5"})," Ready?")," ",Z.createElement("span",{className:"text-sm "},"Upload a file to begin.")," "),Z.createElement(m,Object.assign({className:" "},x),Z.createElement("p",{className:"ant-upload-drag-icon  flex justify-center"},Z.createElement(W,{className:"h-10"})),Z.createElement("p",{className:"px-2 ant-upload-text"},"Click or drag file to this area to upload"),Z.createElement("p",{className:"px-2 ant-upload-hint"},"Upload .json or .csv files to generate a visualization."))),Z.createElement(As,{config:{setLoadingSummary:f,resetStates:y,vizConfig:n,setVizConfig:r,setError:i}}),s&&Z.createElement("div",{className:"my-2 mt-6 text-xs"}," ",Z.createElement("span",{className:"text-accent inline-block mr-2"}," ",Z.createElement(Xc.Z,{icon:"loading",size:5}))," ","Uploading data, generating summary .."," ",Z.createElement(Gc,{active:!0,className:"mt-4",paragraph:{rows:12}})),Z.createElement(Os,{summaryConfig:{vizConfig:n,setVizConfig:r,loadingSummary:s}}),Z.createElement("div",{ref:v}),Z.createElement("div",{className:"mt-10 mb-32"},c&&Z.createElement("div",{className:"my-2 text-xs"}," ",Z.createElement("span",{className:"text-accent inline-block mr-2"}," ",Z.createElement(Xc.Z,{icon:"loading",size:5}))," ","Generating data exploration goals for the data .."," ",Z.createElement(Gc,{active:!0,className:"mt-4",paragraph:{rows:12}})),Z.createElement("div",{ref:g},Z.createElement(Fs,{config:{goals:d,vizConfig:n,setVizConfig:r,loadingGoals:c}})),d&&Z.createElement(X1t,{config:{vizConfig:n,setVizConfig:r}}))))},K1t=["title","titleId"];var J1t=Z.forwardRef((function(t,e){var n=t.title,r=t.titleId,i=(0,I.Z)(t,K1t);return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:e,"aria-labelledby":r},i),n?Z.createElement("title",{id:r},n):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 13.5V3.75m0 9.75a1.5 1.5 0 010 3m0-3a1.5 1.5 0 000 3m0 3.75V16.5m12-3V3.75m0 9.75a1.5 1.5 0 010 3m0-3a1.5 1.5 0 000 3m0 3.75V16.5m-6-9V3.75m0 3.75a1.5 1.5 0 010 3m0-3a1.5 1.5 0 000 3m0 9.75V10.5"}))})),Q1t=Z.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0});function t2t(t,e,n){return(t-e)/(n-e)}function e2t(t,e,n,r){var i=t2t(e,n,r),o={};switch(t){case"rtl":o.right="".concat(100*i,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(100*i,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(100*i,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(100*i,"%"),o.transform="translateX(-50%)"}return o}function n2t(t,e){return Array.isArray(t)?t[e]:t}var r2t=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],i2t=Z.forwardRef((function(t,e){var n,r,i=t.prefixCls,o=t.value,a=t.valueIndex,c=t.onStartMove,l=t.style,u=t.render,s=t.dragging,f=t.onOffsetChange,h=(0,rt.Z)(t,r2t),d=Z.useContext(Q1t),p=d.min,v=d.max,g=d.direction,m=d.disabled,y=d.keyboard,b=d.range,x=d.tabIndex,w=d.ariaLabelForHandle,S=d.ariaLabelledByForHandle,k=d.ariaValueTextFormatterForHandle,C="".concat(i,"-handle"),O=function(t){m||c(t,a)},E=e2t(g,o,p,v),M=Z.createElement("div",(0,J.Z)({ref:e,className:K()(C,(n={},(0,B.Z)(n,"".concat(C,"-").concat(a+1),b),(0,B.Z)(n,"".concat(C,"-dragging"),s),n)),style:(0,lt.Z)((0,lt.Z)({},E),l),onMouseDown:O,onTouchStart:O,onKeyDown:function(t){if(!m&&y){var e=null;switch(t.which||t.keyCode){case Ya.Z.LEFT:e="ltr"===g||"btt"===g?-1:1;break;case Ya.Z.RIGHT:e="ltr"===g||"btt"===g?1:-1;break;case Ya.Z.UP:e="ttb"!==g?1:-1;break;case Ya.Z.DOWN:e="ttb"!==g?-1:1;break;case Ya.Z.HOME:e="min";break;case Ya.Z.END:e="max";break;case Ya.Z.PAGE_UP:e=2;break;case Ya.Z.PAGE_DOWN:e=-2}null!==e&&(t.preventDefault(),f(e,a))}},tabIndex:m?null:n2t(x,a),role:"slider","aria-valuemin":p,"aria-valuemax":v,"aria-valuenow":o,"aria-disabled":m,"aria-label":n2t(w,a),"aria-labelledby":n2t(S,a),"aria-valuetext":null===(r=n2t(k,a))||void 0===r?void 0:r(o)},h));return u&&(M=u(M,{index:a,prefixCls:i,value:o,dragging:s})),M}));var o2t=i2t,a2t=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],c2t=Z.forwardRef((function(t,e){var n=t.prefixCls,r=t.style,i=t.onStartMove,o=t.onOffsetChange,a=t.values,c=t.handleRender,l=t.draggingIndex,u=(0,rt.Z)(t,a2t),s=Z.useRef({});return Z.useImperativeHandle(e,(function(){return{focus:function(t){var e;null===(e=s.current[t])||void 0===e||e.focus()}}})),Z.createElement(Z.Fragment,null,a.map((function(t,e){return Z.createElement(o2t,(0,J.Z)({ref:function(t){t?s.current[e]=t:delete s.current[e]},dragging:l===e,prefixCls:n,style:n2t(r,e),key:e,value:t,valueIndex:e,onStartMove:i,onOffsetChange:o,render:c},u))})))}));var l2t=c2t;function u2t(t){var e="touches"in t?t.touches[0]:t;return{pageX:e.pageX,pageY:e.pageY}}function s2t(t){var e=t.prefixCls,n=t.style,r=t.start,i=t.end,o=t.index,a=t.onStartMove,c=Z.useContext(Q1t),l=c.direction,u=c.min,s=c.max,f=c.disabled,h=c.range,d="".concat(e,"-track"),p=t2t(r,u,s),v=t2t(i,u,s),g=function(t){!f&&a&&a(t,-1)},m={};switch(l){case"rtl":m.right="".concat(100*p,"%"),m.width="".concat(100*v-100*p,"%");break;case"btt":m.bottom="".concat(100*p,"%"),m.height="".concat(100*v-100*p,"%");break;case"ttb":m.top="".concat(100*p,"%"),m.height="".concat(100*v-100*p,"%");break;default:m.left="".concat(100*p,"%"),m.width="".concat(100*v-100*p,"%")}return Z.createElement("div",{className:K()(d,h&&"".concat(d,"-").concat(o+1)),style:(0,lt.Z)((0,lt.Z)({},m),n),onMouseDown:g,onTouchStart:g})}function f2t(t){var e=t.prefixCls,n=t.style,r=t.values,i=t.startPoint,o=t.onStartMove,a=Z.useContext(Q1t),c=a.included,l=a.range,u=a.min,s=Z.useMemo((function(){if(!l){if(0===r.length)return[];var t=null!=i?i:u,e=r[0];return[{start:Math.min(t,e),end:Math.max(t,e)}]}for(var n=[],o=0;o<r.length-1;o+=1)n.push({start:r[o],end:r[o+1]});return n}),[r,l,i,u]);return c?s.map((function(t,r){var i=t.start,a=t.end;return Z.createElement(s2t,{index:r,prefixCls:e,style:n2t(n,r),start:i,end:a,key:r,onStartMove:o})})):null}function h2t(t){var e=t.prefixCls,n=t.style,r=t.children,i=t.value,o=t.onClick,a=Z.useContext(Q1t),c=a.min,l=a.max,u=a.direction,s=a.includedStart,f=a.includedEnd,h=a.included,d="".concat(e,"-text"),p=e2t(u,i,c,l);return Z.createElement("span",{className:K()(d,(0,B.Z)({},"".concat(d,"-active"),h&&s<=i&&i<=f)),style:(0,lt.Z)((0,lt.Z)({},p),n),onMouseDown:function(t){t.stopPropagation()},onClick:function(){o(i)}},r)}function d2t(t){var e=t.prefixCls,n=t.marks,r=t.onClick,i="".concat(e,"-mark");return n.length?Z.createElement("div",{className:i},n.map((function(t){var e=t.value,n=t.style,o=t.label;return Z.createElement(h2t,{key:e,prefixCls:i,style:n,value:e,onClick:r},o)}))):null}function p2t(t){var e=t.prefixCls,n=t.value,r=t.style,i=t.activeStyle,o=Z.useContext(Q1t),a=o.min,c=o.max,l=o.direction,u=o.included,s=o.includedStart,f=o.includedEnd,h="".concat(e,"-dot"),d=u&&s<=n&&n<=f,p=(0,lt.Z)((0,lt.Z)({},e2t(l,n,a,c)),"function"==typeof r?r(n):r);return d&&(p=(0,lt.Z)((0,lt.Z)({},p),"function"==typeof i?i(n):i)),Z.createElement("span",{className:K()(h,(0,B.Z)({},"".concat(h,"-active"),d)),style:p})}function v2t(t){var e=t.prefixCls,n=t.marks,r=t.dots,i=t.style,o=t.activeStyle,a=Z.useContext(Q1t),c=a.min,l=a.max,u=a.step,s=Z.useMemo((function(){var t=new Set;if(n.forEach((function(e){t.add(e.value)})),r&&null!==u)for(var e=c;e<=l;)t.add(e),e+=u;return Array.from(t)}),[c,l,u,r,n]);return Z.createElement("div",{className:"".concat(e,"-step")},s.map((function(t){return Z.createElement(p2t,{prefixCls:e,key:t,value:t,style:i,activeStyle:o})})))}var g2t=Z.forwardRef((function(t,e){var n,r=t.prefixCls,i=void 0===r?"rc-slider":r,o=t.className,a=t.style,c=t.disabled,l=void 0!==c&&c,u=t.keyboard,s=void 0===u||u,f=t.autoFocus,h=t.onFocus,d=t.onBlur,p=t.min,v=void 0===p?0:p,g=t.max,m=void 0===g?100:g,y=t.step,b=void 0===y?1:y,x=t.value,w=t.defaultValue,S=t.range,k=t.count,C=t.onChange,O=t.onBeforeChange,E=t.onAfterChange,M=t.allowCross,A=void 0===M||M,P=t.pushable,_=void 0!==P&&P,D=t.draggableTrack,T=t.reverse,F=t.vertical,j=t.included,I=void 0===j||j,R=t.startPoint,L=t.trackStyle,N=t.handleStyle,z=t.railStyle,U=t.dotStyle,H=t.activeDotStyle,W=t.marks,V=t.dots,G=t.handleRender,X=t.tabIndex,q=void 0===X?0:X,$=t.ariaLabelForHandle,J=t.ariaLabelledByForHandle,Q=t.ariaValueTextFormatterForHandle,tt=Z.useRef(),et=Z.useRef(),nt=Z.useMemo((function(){return F?T?"ttb":"btt":T?"rtl":"ltr"}),[T,F]),rt=Z.useMemo((function(){return isFinite(v)?v:0}),[v]),ot=Z.useMemo((function(){return isFinite(m)?m:100}),[m]),at=Z.useMemo((function(){return null!==b&&b<=0?1:b}),[b]),ct=Z.useMemo((function(){return!0===_?at:_>=0&&_}),[_,at]),lt=Z.useMemo((function(){return Object.keys(W||{}).map((function(t){var e=W[t],n={value:Number(t)};return e&&"object"===(0,it.Z)(e)&&!Z.isValidElement(e)&&("label"in e||"style"in e)?(n.style=e.style,n.label=e.label):n.label=e,n})).filter((function(t){var e=t.label;return e||"number"==typeof e})).sort((function(t,e){return t.value-e.value}))}),[W]),ut=function(t,e,n,r,i,o){var a=Z.useCallback((function(n){var r=isFinite(n)?n:t;return r=Math.min(e,n),Math.max(t,r)}),[t,e]),c=Z.useCallback((function(r){if(null!==n){var i=t+Math.round((a(r)-t)/n)*n,o=function(t){return(String(t).split(".")[1]||"").length},c=Math.max(o(n),o(e),o(t)),l=Number(i.toFixed(c));return t<=l&&l<=e?l:null}return null}),[n,t,e,a]),l=Z.useCallback((function(i){var o=a(i),l=r.map((function(t){return t.value}));null!==n&&l.push(c(i)),l.push(t,e);var u=l[0],s=e-t;return l.forEach((function(t){var e=Math.abs(o-t);e<=s&&(u=t,s=e)})),u}),[t,e,r,n,a,c]),u=function i(o,a,l){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof a){var s,f=o[l],h=f+a,d=[];r.forEach((function(t){d.push(t.value)})),d.push(t,e),d.push(c(f));var p=a>0?1:-1;"unit"===u?d.push(c(f+p*n)):d.push(c(h)),d=d.filter((function(t){return null!==t})).filter((function(t){return a<0?t<=f:t>=f})),"unit"===u&&(d=d.filter((function(t){return t!==f})));var v="unit"===u?f:h;s=d[0];var g=Math.abs(s-v);if(d.forEach((function(t){var e=Math.abs(t-v);e<g&&(s=t,g=e)})),void 0===s)return a<0?t:e;if("dist"===u)return s;if(Math.abs(a)>1){var m=(0,Y.Z)(o);return m[l]=s,i(m,a-p,l,u)}return s}return"min"===a?t:"max"===a?e:void 0},s=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",i=t[n],o=u(t,e,n,r);return{value:o,changed:o!==i}},f=function(t){return null===o&&0===t||"number"==typeof o&&t<o};return[l,function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=t.map(l),c=a[n],h=u(a,e,n,r);if(a[n]=h,!1===i){var d=o||0;n>0&&a[n-1]!==c&&(a[n]=Math.max(a[n],a[n-1]+d)),n<a.length-1&&a[n+1]!==c&&(a[n]=Math.min(a[n],a[n+1]-d))}else if("number"==typeof o||null===o){for(var p=n+1;p<a.length;p+=1)for(var v=!0;f(a[p]-a[p-1])&&v;){var g=s(a,1,p);a[p]=g.value,v=g.changed}for(var m=n;m>0;m-=1)for(var y=!0;f(a[m]-a[m-1])&&y;){var b=s(a,-1,m-1);a[m-1]=b.value,y=b.changed}for(var x=a.length-1;x>0;x-=1)for(var w=!0;f(a[x]-a[x-1])&&w;){var S=s(a,-1,x-1);a[x-1]=S.value,w=S.changed}for(var k=0;k<a.length-1;k+=1)for(var C=!0;f(a[k+1]-a[k])&&C;){var O=s(a,1,k+1);a[k+1]=O.value,C=O.changed}}return{value:a[n],values:a}}]}(rt,ot,at,lt,A,ct),st=(0,rr.Z)(ut,2),ft=st[0],ht=st[1],dt=(0,At.Z)(w,{value:x}),pt=(0,rr.Z)(dt,2),vt=pt[0],gt=pt[1],mt=Z.useMemo((function(){var t=null==vt?[]:Array.isArray(vt)?vt:[vt],e=(0,rr.Z)(t,1)[0],n=null===vt?[]:[void 0===e?rt:e];if(S){if(n=(0,Y.Z)(t),k||void 0===vt){var r=k>=0?k+1:2;for(n=n.slice(0,r);n.length<r;){var i;n.push(null!==(i=n[n.length-1])&&void 0!==i?i:rt)}}n.sort((function(t,e){return t-e}))}return n.forEach((function(t,e){n[e]=ft(t)})),n}),[vt,S,rt,k,ft]),yt=Z.useRef(mt);yt.current=mt;var bt=function(t){return S?t:t[0]},xt=function(t){var e=(0,Y.Z)(t).sort((function(t,e){return t-e}));C&&!(0,Pa.Z)(e,yt.current,!0)&&C(bt(e)),gt(e)},wt=function(t){if(!l){var e=0,n=ot-rt;mt.forEach((function(r,i){var o=Math.abs(t-r);o<=n&&(n=o,e=i)}));var r=(0,Y.Z)(mt);r[e]=t,S&&!mt.length&&void 0===k&&r.push(t),null==O||O(bt(r)),xt(r),null==E||E(bt(r))}},St=Z.useState(null),kt=(0,rr.Z)(St,2),Ct=kt[0],Ot=kt[1];Z.useEffect((function(){if(null!==Ct){var t=mt.indexOf(Ct);t>=0&&tt.current.focus(t)}Ot(null)}),[Ct]);var Et=Z.useMemo((function(){return(!D||null!==at)&&D}),[D,at]),Mt=function(t,e,n,r,i,o,a,c,l){var u=Z.useState(null),s=(0,rr.Z)(u,2),f=s[0],h=s[1],d=Z.useState(-1),p=(0,rr.Z)(d,2),v=p[0],g=p[1],m=Z.useState(n),y=(0,rr.Z)(m,2),b=y[0],x=y[1],w=Z.useState(n),S=(0,rr.Z)(w,2),k=S[0],C=S[1],O=Z.useRef(null),E=Z.useRef(null);Z.useEffect((function(){-1===v&&x(n)}),[n,v]),Z.useEffect((function(){return function(){document.removeEventListener("mousemove",O.current),document.removeEventListener("mouseup",E.current),document.removeEventListener("touchmove",O.current),document.removeEventListener("touchend",E.current)}}),[]);var M=function(t,e){b.some((function(e,n){return e!==t[n]}))&&(void 0!==e&&h(e),x(t),a(t))},A=function(t,e){if(-1===t){var n=k[0],a=k[k.length-1],c=r-n,u=i-a,s=e*(i-r);s=Math.max(s,c),s=Math.min(s,u);var f=o(n+s);s=f-n;var h=k.map((function(t){return t+s}));M(h)}else{var d=(i-r)*e,p=(0,Y.Z)(b);p[t]=k[t];var v=l(p,d,t,"dist");M(v.values,v.value)}},P=Z.useRef(A);P.current=A;var _=Z.useMemo((function(){var t=(0,Y.Z)(n).sort((function(t,e){return t-e})),e=(0,Y.Z)(b).sort((function(t,e){return t-e}));return t.every((function(t,n){return t===e[n]}))?b:n}),[n,b]);return[v,f,_,function(r,i){r.stopPropagation();var o=n[i];g(i),h(o),C(n);var a=u2t(r),l=a.pageX,u=a.pageY,s=function(n){n.preventDefault();var r,o=u2t(n),a=o.pageX,c=o.pageY,s=a-l,f=c-u,h=t.current.getBoundingClientRect(),d=h.width,p=h.height;switch(e){case"btt":r=-f/p;break;case"ttb":r=f/p;break;case"rtl":r=-s/d;break;default:r=s/d}P.current(i,r)},f=function t(e){e.preventDefault(),document.removeEventListener("mouseup",t),document.removeEventListener("mousemove",s),document.removeEventListener("touchend",t),document.removeEventListener("touchmove",s),O.current=null,E.current=null,g(-1),c()};document.addEventListener("mouseup",f),document.addEventListener("mousemove",s),document.addEventListener("touchend",f),document.addEventListener("touchmove",s),O.current=s,E.current=f}]}(et,nt,mt,rt,ot,ft,xt,(function(){null==E||E(bt(yt.current))}),ht),Pt=(0,rr.Z)(Mt,4),_t=Pt[0],Dt=Pt[1],Tt=Pt[2],Zt=Pt[3],Ft=function(t,e){Zt(t,e),null==O||O(bt(yt.current))},jt=-1!==_t;Z.useEffect((function(){if(!jt){var t=mt.lastIndexOf(Dt);tt.current.focus(t)}}),[jt]);var It=Z.useMemo((function(){return(0,Y.Z)(Tt).sort((function(t,e){return t-e}))}),[Tt]),Rt=Z.useMemo((function(){return S?[It[0],It[It.length-1]]:[rt,It[0]]}),[It,S,rt]),Lt=(0,rr.Z)(Rt,2),Nt=Lt[0],Bt=Lt[1];Z.useImperativeHandle(e,(function(){return{focus:function(){tt.current.focus(0)},blur:function(){var t=document.activeElement;et.current.contains(t)&&(null==t||t.blur())}}})),Z.useEffect((function(){f&&tt.current.focus(0)}),[]);var zt=Z.useMemo((function(){return{min:rt,max:ot,direction:nt,disabled:l,keyboard:s,step:at,included:I,includedStart:Nt,includedEnd:Bt,range:S,tabIndex:q,ariaLabelForHandle:$,ariaLabelledByForHandle:J,ariaValueTextFormatterForHandle:Q}}),[rt,ot,nt,l,s,at,I,Nt,Bt,S,q,$,J,Q]);return Z.createElement(Q1t.Provider,{value:zt},Z.createElement("div",{ref:et,className:K()(i,o,(n={},(0,B.Z)(n,"".concat(i,"-disabled"),l),(0,B.Z)(n,"".concat(i,"-vertical"),F),(0,B.Z)(n,"".concat(i,"-horizontal"),!F),(0,B.Z)(n,"".concat(i,"-with-marks"),lt.length),n)),style:a,onMouseDown:function(t){t.preventDefault();var e,n=et.current.getBoundingClientRect(),r=n.width,i=n.height,o=n.left,a=n.top,c=n.bottom,l=n.right,u=t.clientX,s=t.clientY;switch(nt){case"btt":e=(c-s)/i;break;case"ttb":e=(s-a)/i;break;case"rtl":e=(l-u)/r;break;default:e=(u-o)/r}wt(ft(rt+e*(ot-rt)))}},Z.createElement("div",{className:"".concat(i,"-rail"),style:z}),Z.createElement(f2t,{prefixCls:i,style:L,values:It,startPoint:R,onStartMove:Et?Ft:null}),Z.createElement(v2t,{prefixCls:i,marks:lt,dots:V,style:U,activeStyle:H}),Z.createElement(l2t,{ref:tt,prefixCls:i,style:N,values:Tt,draggingIndex:_t,onStartMove:Ft,onOffsetChange:function(t,e){if(!l){var n=ht(mt,t,e);null==O||O(bt(mt)),xt(n.values),null==E||E(bt(n.values)),Ot(n.value)}},onFocus:h,onBlur:d,handleRender:G}),Z.createElement(d2t,{prefixCls:i,marks:lt,onClick:wt})))}));var m2t=g2t,y2t=Z.forwardRef((function(t,e){var n=t.open,r=(0,Z.useRef)(null),i=(0,Z.useRef)(null);function o(){pe.Z.cancel(i.current),i.current=null}return Z.useEffect((function(){return n?i.current=(0,pe.Z)((function(){var t;null===(t=r.current)||void 0===t||t.forceAlign(),i.current=null})):o(),o}),[n,t.title]),Z.createElement(ko,Object.assign({ref:(0,le.sQ)(r,e)},t))}));var b2t=y2t,x2t=function(t){var e,n,r,i,o=t.componentCls,a=t.antCls,c=t.controlSize,l=t.dotSize,u=t.marginFull,s=t.marginPart,f=t.colorFillContentHover;return(0,V.Z)({},o,Object.assign(Object.assign({},(0,Qe.Wf)(t)),(i={position:"relative",height:c,margin:"".concat(s,"px ").concat(u,"px"),padding:0,cursor:"pointer",touchAction:"none"},(0,V.Z)(i,"&-vertical",{margin:"".concat(u,"px ").concat(s,"px")}),(0,V.Z)(i,"".concat(o,"-rail"),{position:"absolute",backgroundColor:t.railBg,borderRadius:t.borderRadiusXS,transition:"background-color ".concat(t.motionDurationMid)}),(0,V.Z)(i,"".concat(o,"-track"),{position:"absolute",backgroundColor:t.trackBg,borderRadius:t.borderRadiusXS,transition:"background-color ".concat(t.motionDurationMid)}),(0,V.Z)(i,"&:hover",(e={},(0,V.Z)(e,"".concat(o,"-rail"),{backgroundColor:t.railHoverBg}),(0,V.Z)(e,"".concat(o,"-track"),{backgroundColor:t.trackHoverBg}),(0,V.Z)(e,"".concat(o,"-dot"),{borderColor:f}),(0,V.Z)(e,"".concat(o,"-handle::after"),{boxShadow:"0 0 0 ".concat(t.handleLineWidth,"px ").concat(t.colorPrimaryBorderHover)}),(0,V.Z)(e,"".concat(o,"-dot-active"),{borderColor:t.dotActiveBorderColor}),e)),(0,V.Z)(i,"".concat(o,"-handle"),(n={position:"absolute",width:t.handleSize,height:t.handleSize,outline:"none"},(0,V.Z)(n,"".concat(o,"-dragging"),{zIndex:1}),(0,V.Z)(n,"&::before",{content:'""',position:"absolute",insetInlineStart:-t.handleLineWidth,insetBlockStart:-t.handleLineWidth,width:t.handleSize+2*t.handleLineWidth,height:t.handleSize+2*t.handleLineWidth,backgroundColor:"transparent"}),(0,V.Z)(n,"&::after",{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:t.handleSize,height:t.handleSize,backgroundColor:t.colorBgElevated,boxShadow:"0 0 0 ".concat(t.handleLineWidth,"px ").concat(t.handleColor),borderRadius:"50%",cursor:"pointer",transition:"\n            inset-inline-start ".concat(t.motionDurationMid,",\n            inset-block-start ").concat(t.motionDurationMid,",\n            width ").concat(t.motionDurationMid,",\n            height ").concat(t.motionDurationMid,",\n            box-shadow ").concat(t.motionDurationMid,"\n          ")}),(0,V.Z)(n,"&:hover, &:active, &:focus",{"&::before":{insetInlineStart:-((t.handleSizeHover-t.handleSize)/2+t.handleLineWidthHover),insetBlockStart:-((t.handleSizeHover-t.handleSize)/2+t.handleLineWidthHover),width:t.handleSizeHover+2*t.handleLineWidthHover,height:t.handleSizeHover+2*t.handleLineWidthHover},"&::after":{boxShadow:"0 0 0 ".concat(t.handleLineWidthHover,"px ").concat(t.handleActiveColor),width:t.handleSizeHover,height:t.handleSizeHover,insetInlineStart:(t.handleSize-t.handleSizeHover)/2,insetBlockStart:(t.handleSize-t.handleSizeHover)/2}}),n)),(0,V.Z)(i,"".concat(o,"-mark"),{position:"absolute",fontSize:t.fontSize}),(0,V.Z)(i,"".concat(o,"-mark-text"),{position:"absolute",display:"inline-block",color:t.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:t.colorText}}),(0,V.Z)(i,"".concat(o,"-step"),{position:"absolute",background:"transparent",pointerEvents:"none"}),(0,V.Z)(i,"".concat(o,"-dot"),{position:"absolute",width:l,height:l,backgroundColor:t.colorBgElevated,border:"".concat(t.handleLineWidth,"px solid ").concat(t.dotBorderColor),borderRadius:"50%",cursor:"pointer",transition:"border-color ".concat(t.motionDurationSlow),pointerEvents:"auto","&-active":{borderColor:t.dotActiveBorderColor}}),(0,V.Z)(i,"&".concat(o,"-disabled"),(r={cursor:"not-allowed"},(0,V.Z)(r,"".concat(o,"-rail"),{backgroundColor:"".concat(t.railBg," !important")}),(0,V.Z)(r,"".concat(o,"-track"),{backgroundColor:"".concat(t.trackBgDisabled," !important")}),(0,V.Z)(r,"\n          ".concat(o,"-dot\n        "),{backgroundColor:t.colorBgElevated,borderColor:t.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"}),(0,V.Z)(r,"".concat(o,"-handle::after"),{backgroundColor:t.colorBgElevated,cursor:"not-allowed",width:t.handleSize,height:t.handleSize,boxShadow:"0 0 0 ".concat(t.handleLineWidth,"px ").concat(new to.C(t.colorTextDisabled).onBackground(t.colorBgContainer).toHexShortString()),insetInlineStart:0,insetBlockStart:0}),(0,V.Z)(r,"\n          ".concat(o,"-mark-text,\n          ").concat(o,"-dot\n        "),{cursor:"not-allowed !important"}),r)),(0,V.Z)(i,"&-tooltip ".concat(a,"-tooltip-inner"),{minWidth:"unset"}),i)))},w2t=function(t,e){var n,r,i,o,a=t.componentCls,c=t.railSize,l=t.handleSize,u=t.dotSize,s=e?"paddingBlock":"paddingInline",f=e?"width":"height",h=e?"height":"width",d=e?"insetBlockStart":"insetInlineStart",p=e?"top":"insetInlineStart";return o={},(0,V.Z)(o,s,c),(0,V.Z)(o,h,3*c),(0,V.Z)(o,"".concat(a,"-rail"),(n={},(0,V.Z)(n,f,"100%"),(0,V.Z)(n,h,c),n)),(0,V.Z)(o,"".concat(a,"-track"),(0,V.Z)({},h,c)),(0,V.Z)(o,"".concat(a,"-handle"),(0,V.Z)({},d,(3*c-l)/2)),(0,V.Z)(o,"".concat(a,"-mark"),(r={insetInlineStart:0,top:0},(0,V.Z)(r,p,3*c+(e?0:t.marginFull)),(0,V.Z)(r,f,"100%"),r)),(0,V.Z)(o,"".concat(a,"-step"),(i={insetInlineStart:0,top:0},(0,V.Z)(i,p,c),(0,V.Z)(i,f,"100%"),(0,V.Z)(i,h,c),i)),(0,V.Z)(o,"".concat(a,"-dot"),(0,V.Z)({position:"absolute"},d,(c-u)/2)),o},S2t=function(t){var e=t.componentCls,n=t.marginPartWithMark;return(0,V.Z)({},"".concat(e,"-horizontal"),Object.assign(Object.assign({},w2t(t,!0)),(0,V.Z)({},"&".concat(e,"-with-marks"),{marginBottom:n})))},k2t=function(t){var e=t.componentCls;return(0,V.Z)({},"".concat(e,"-vertical"),Object.assign(Object.assign({},w2t(t,!1)),{height:"100%"}))},C2t=(0,se.Z)("Slider",(function(t){var e=(0,nn.TS)(t,{marginPart:(t.controlHeight-t.controlSize)/2,marginFull:t.controlSize/2,marginPartWithMark:t.controlHeightLG-t.controlSize});return[x2t(e),S2t(e),k2t(e)]}),(function(t){var e=t.controlHeightLG/4;return{controlSize:e,railSize:4,handleSize:e,handleSizeHover:t.controlHeightSM/2,dotSize:8,handleLineWidth:t.lineWidth+1,handleLineWidthHover:t.lineWidth+3,railBg:t.colorFillTertiary,railHoverBg:t.colorFillSecondary,trackBg:t.colorPrimaryBorder,trackHoverBg:t.colorPrimaryBorderHover,handleColor:t.colorPrimaryBorder,handleActiveColor:t.colorPrimary,dotBorderColor:t.colorBorderSecondary,dotActiveBorderColor:t.colorPrimaryBorder,trackBgDisabled:t.colorBgContainerDisabled}})),O2t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},E2t=function(t){return"number"==typeof t?t.toString():""},M2t=Z.forwardRef((function(t,e){var n=t.prefixCls,r=t.range,i=t.className,o=t.rootClassName,a=t.style,c=t.disabled,l=t.tooltipPrefixCls,u=t.tipFormatter,s=t.tooltipVisible,f=t.getTooltipPopupContainer,h=t.tooltipPlacement,d=O2t(t,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement"]),p=Z.useContext(Dt.E_),v=p.direction,g=p.slider,m=p.getPrefixCls,y=p.getPopupContainer,b=Z.useContext(Ft),x=null!=c?c:b,w=Z.useState({}),S=(0,G.Z)(w,2),k=S[0],C=S[1],O=function(t,e){C((function(n){return Object.assign(Object.assign({},n),(0,V.Z)({},t,e))}))},E=function(t,e){return t||(e?"rtl"===v?"left":"right":"top")},M=m("slider",n),A=C2t(M),P=(0,G.Z)(A,2),_=P[0],D=P[1],T=K()(i,null==g?void 0:g.className,o,(0,V.Z)({},"".concat(M,"-rtl"),"rtl"===v),D);"rtl"!==v||d.vertical||(d.reverse=!d.reverse);var F=Z.useMemo((function(){return r?"object"==typeof r?[!0,r.draggableTrack]:[!0,!1]:[!1]}),[r]),j=(0,G.Z)(F,2),I=j[0],R=j[1];var L=Object.assign(Object.assign({},null==g?void 0:g.style),a);return _(Z.createElement(m2t,Object.assign({},d,{step:d.step,range:I,draggableTrack:R,className:T,style:L,disabled:x,ref:e,prefixCls:M,handleRender:function(e,n){var r,i,o=n.index,a=n.dragging,c=t.tooltip,d=void 0===c?{}:c,p=t.vertical,v=Object.assign({},d),g=v.open,b=v.placement,x=v.getPopupContainer,w=v.prefixCls,S=v.formatter,C=!!(i=S||null===S?S:u||null===u?u:E2t)&&(k[o]||a),A=null!==(r=null!=g?g:s)&&void 0!==r?r:void 0===g&&C,P=Object.assign(Object.assign({},e.props),{onMouseEnter:function(){return O(o,!0)},onMouseLeave:function(){return O(o,!1)}}),_=m("tooltip",null!=w?w:l);return Z.createElement(b2t,Object.assign({},v,{prefixCls:_,title:i?i(n.value):"",open:A,placement:E(null!=b?b:h,p),key:o,overlayClassName:"".concat(M,"-tooltip"),getPopupContainer:x||f||y}),Z.cloneElement(e,P))}})))}));var A2t=M2t;function P2t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _2t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P2t(Object(n),!0).forEach((function(e){(0,B.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var D2t=function(t){var e,n,r=t.config,i=t.models,o=Z.useState(!1),a=o[0],c=o[1],l=Z.useState([]),u=(l[0],l[1],Z.useState(0)),s=u[0],f=u[1],h=Z.useState(0),d=h[0],p=h[1],v=r.vizConfig,g=r.setVizConfig,m=v.textgen_config,y=Object.keys(i),b=y.map((function(t,e){return{label:t,value:t,key:e}})),x=function(t){return(null==t?void 0:t.models.map((function(t,e){var n=t.name;return t&&t.model&&t.model.parameters&&t.model.parameters.model&&(n=t.model.parameters.model),{label:n,value:n,key:e}})))||[]},w=x(i[y[s]]),S=(null===(e=i[y[s]].models[d])||void 0===e||e.max_tokens,function(t){var e=t.title,n=t.description,r=t.value,i=t.control,o=t.className;return Z.createElement("div",{className:""+o},Z.createElement("div",null,Z.createElement("span",{className:"text-primary inline-block"},e," "),Z.createElement("span",{className:"text-xs ml-1 text-accent -mt-2 inline-block"},r)),Z.createElement("div",{className:"text-secondary text-xs"}," ",n," "),i)});return Z.createElement("div",{className:"text-secondary rounded p"},Z.createElement(Ss,{width:800,title:Z.createElement("span",null,Z.createElement(J1t,{className:"h-4 text-accent inline-block mr-2 -mt-1"}),"Generation Settings"),open:a,onCancel:function(){c(!1)},onOk:function(){c(!1)}},Z.createElement("div",{className:"flex gap-3 "},Z.createElement("div",{className:"w-1/2"},Z.createElement(S,{title:"Model Provider",description:"Model provider e.g. openai, huggingface etc",value:m.provider,control:Z.createElement(rp,{labelInValue:!0,className:"mt-2 w-full",defaultValue:{label:m.provider,value:m.provider||"openai",key:y.indexOf(m.provider||"openai")},onChange:function(t){g(_2t(_2t({},v),{},{textgen_config:_2t(_2t({},m),{},{provider:t.value,model:x(i[t.value])[0].value,max_tokens:null})})),f(t.key),console.log("selected model",t)},options:b})}),Z.createElement(S,{title:"Model",className:"mt-2",description:"The model to use for generation.",value:m.model,control:Z.createElement(rp,{labelInValue:!0,className:"mt-2 w-full",defaultValue:{label:m.model,value:m.model||x(i[y[s]])[0].value,key:d},onChange:function(t){g(_2t(_2t({},v),{},{textgen_config:_2t(_2t({},m),{},{model:t.value})})),p(t.key)},options:w})})),Z.createElement("div",{className:"w-1/2"},Z.createElement(S,{title:"Max Tokens",description:"Maximum number of tokens to generate.",value:m.max_tokens,control:Z.createElement(A2t,{min:128,max:(null===(n=i[y[s]].models[d])||void 0===n?void 0:n.max_tokens)||1024,defaultValue:m.max_tokens||0,step:64,onAfterChange:function(t){g(_2t(_2t({},v),{},{textgen_config:_2t(_2t({},m),{},{max_tokens:t})}))}})}),Z.createElement(S,{title:"Temperature",description:"The higher the temperature, the crazier the text.",value:m.temperature,control:Z.createElement(A2t,{min:0,max:1,defaultValue:m.temperature,step:.1,onAfterChange:function(t){g(_2t(_2t({},v),{},{textgen_config:_2t(_2t({},m),{},{temperature:t})}))}})}),Z.createElement(S,{title:"Number Messages",description:"The number of responses to generate.",value:m.n,control:Z.createElement(A2t,{min:1,max:10,defaultValue:m.n,step:1,onAfterChange:function(t){g(_2t(_2t({},v),{},{textgen_config:_2t(_2t({},m),{},{n:t})}))}})}),Z.createElement(S,{title:"Presence Penalty",description:"Number between -2.0 and 2.0. Positive values penalize new tokens based on whether they appear in the text so far, increasing the model's likelihood to talk about new topics.",value:m.presence_penalty,control:Z.createElement(A2t,{min:-2,max:2,defaultValue:m.presence_penalty,step:.1,onAfterChange:function(t){g(_2t(_2t({},v),{},{textgen_config:_2t(_2t({},m),{},{presence_penalty:t})}))}})}),Z.createElement(S,{title:"Frequency Penalty",description:"Number between -2.0 and 2.0. Positive values penalize new tokens based on whether they appear in the text so far, increasing the model's likelihood to talk about new topics.",value:m.frequency_penalty,control:Z.createElement(A2t,{min:-2,max:2,defaultValue:m.frequency_penalty,step:.1,onAfterChange:function(t){g(_2t(_2t({},v),{},{textgen_config:_2t(_2t({},m),{},{frequency_penalty:t})}))}})}))),Z.createElement("p",{className:"mt-4 text-xs text-secondary"}," ","Learn more about OpenAI model parameters"," ",Z.createElement("a",{className:"border-b border-accent hover:text-accent ",target:"_blank",rel:"noopener noreferrer","aria-label":"OpenAI API Docs",href:"https://platform.openai.com/docs/api-reference/chat"},"here"),".")),Z.createElement("div",{className:"mb-3 text-secondary md:flex gap-3 grid"}," ",Z.createElement("div",{className:"mb-4 flex-1"},Z.createElement("div",{className:"text-xs mb-2"}," ","Select a visualization library/grammar"),Z.createElement(rp,{defaultValue:v.library,style:{width:220},onChange:function(t){g(_2t(_2t({},v),{},{library:t}))},options:[{label:"Altair",value:"altair"},{label:"Matplotlib",value:"matplotlib"},{label:"Seaborn",value:"seaborn"},{label:"GGPlot",value:"ggplot"}]})),Z.createElement("div",{className:"  text-right"},Z.createElement(ks.kq,{onClick:function(){c(!0)}},Z.createElement(J1t,{className:"h-4 text-accent inline-block mr-2 -mt-1"}),"Generation Settings"," "),Z.createElement("div",{className:"opacity-80 text-xs mt-2"},"Model: ",Z.createElement("span",{className:"text-accent"}," ",m.model),", n:",Z.createElement("span",{className:"text-accent"}," ",m.n),", number of Temperature:"," ",Z.createElement("span",{className:"text-accent"}," ",m.temperature)," ","..."))))},T2t=function(){var t=Z.useState(!1),e=(t[0],t[1]),n=Z.useState({openai:{name:"OpenAI",models:[{name:"gpt-3.5-turbo-0301",max_tokens:4096}]}}),r=n[0],i=n[1],o=(0,N.$o)("lida_viz_config")||{goal:null,summary:null,library:"seaborn",textgen_config:{temperature:0,n:1,model:"gpt-3.5-turbo-0301",max_tokens:null,provider:"openai"}},a=Z.useRef(null),c=Z.useState(o),l=c[0],u=c[1],s=Z.useState(null),f=(s[0],s[1]),h=Z.useState(null),d=h[0],p=h[1];Z.useEffect((function(){null===l.summary&&((0,N.kI)(a),f(null))}),[l.summary]);return Z.useEffect((function(){p(null),e(!0),(0,N.ZV)("/api/models",{method:"GET",headers:{"Content-Type":"application/json"}},(function(t){t&&t.status?i(t.data):console.log("Error fetching models",t),e(!1)}),(function(t){e(!1),console.log("Error fetching models",t)}))}),[]),Z.createElement("div",{className:""},Z.createElement(D2t,{config:{vizConfig:l,setVizConfig:u},models:r})," ",Z.createElement("div",{ref:a},Z.createElement($1t,{config:{vizConfig:l,setVizConfig:u,error:d,setError:p}})),d&&!d.status&&Z.createElement("div",{className:"mt-6"}," ",Z.createElement("div",{className:"font-semibold  pb-1 mb-2 text-red-400"},Z.createElement(L,{className:"inline-block h-6 w-6 -mt-1"})," An error occurred. Please try again later."),Z.createElement("div",{className:"text-secondpary border-red-400 border rounded bg-secondary p-2 px-3"}," ",d.message,".")))},Z2t=function(t){var e=t.data;return Z.createElement(j.Z,{meta:e.site.siteMetadata,title:"Demo",link:"/demo"},Z.createElement("main",{className:""},Z.createElement("div",{className:"mb-6"},Z.createElement("div",null,"Lida provides a conversational interface for automatic generation of"," ",Z.createElement("span",{className:"border-b border-accent"},"grammar-agnostic")," ","visualizations (and infographics) from data!."," ")),Z.createElement(T2t,null)))}},3931:function(t,e,n){var r=n(36251).default;function i(){"use strict";t.exports=i=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",s=c.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(D){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),c=new A(r||[]);return a(o,"_invoke",{value:C(t,n,c)}),o}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=h;var p={};function v(){}function g(){}function m(){}var y={};f(y,l,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(P([])));x&&x!==n&&o.call(x,l)&&(y=x);var w=m.prototype=v.prototype=Object.create(y);function S(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,a,c,l){var u=d(t[i],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==r(f)&&o.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,l)}),(function(t){n("throw",t,c,l)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return n("throw",t,c,l)}))}l(u.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function C(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return _()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function P(t){if(t){var e=t[l];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:_}}function _(){return{value:void 0,done:!0}}return g.prototype=m,a(w,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:g,configurable:!0}),g.displayName=f(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,f(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},S(k.prototype),f(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(h(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(w),f(w,s,"Generator"),f(w,l,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},59371:function(t,e,n){var r=n(3931)();t.exports=r;try{regeneratorRuntime=r}catch(i){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}}]);
//# sourceMappingURL=component---src-pages-demo-tsx-54fd6da10fa870d8d843.js.map